{"version":3,"sources":["kendo.spreadsheet.js"],"names":["f","define","$","parseFloat","parseInt","parseColor","color","nothrow","m","ret","_Color","toLowerCase","namedColorRegexp","exec","_RGB","Color","namedColors","match","_Bytes","Error","hex","n","width","pad","toString","length","hue2rgb","p","q","t","i","_HSV","_HSL","value","re","processor","parts","channels","this","formats","arguments","resolveColor","process","r","g","b","normalizeByte","prototype","toHex","padDigit","charAt","substr","replace","isNaN","brightness","round","Math","percBrightness","sqrt","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","hasOwnProperty","push","RegExp","join","kendo","Class","extend","toHSV","toRGB","toBytes","toCss","toCssRgba","rgb","a","toFixed","toDisplay","support","browser","msie","version","equals","c","diff","c2","NaN","c1","pow","clone","init","h","s","min","max","v","delta","toHSL","d","l","floor","fromBytes","fromRGB","fromHSV","fromHSL","window","jQuery","amd","a1","a2","a3","undefined","triggerEvent","self","type","_value","trigger","relative","array","element","pos","Array","slice","call","indexOf","preventDefault","ev","bind","callback","obj","apply","ui","Widget","KEYS","keys","BACKGROUNDCOLOR","ITEMSELECTEDCLASS","SIMPLEPALETTE","WEBPALETTE","APPLY_CANCEL","cancel","NS","CLICK_NS","KEYDOWN_NS","isIE8","ColorSelector","options","ariaId","that","fn","_tabIndex","attr","_ariaId","_standalone","_triggerSelect","_triggerChange","name","events","_updateUI","opacity","enable","wrapper","remove","append","_onEnable","_select","nohooks","prev","destroy","off","find","noop","_selectOnHide","_cancel","ColorPalette","colors","tileSize","height","palette","columns","split","isArray","map","x","_selectedID","guid","addClass","_template","id","on","currentTarget","css","_keydown","test","focus","removeAttr","e","selected","items","current","filter","get","keyCode","LEFT","RIGHT","DOWN","UP","ENTER","ESC","_current","ex","item","removeClass","each","template","FlatColorPicker","_hueElements","_selectedColor","_colorAsText","_sliders","_hsvArea","val","input","autoupdate","setTimeout","end","_getHSV","_applyIEFilter","_hueSlider","_opacitySlider","_hsvRect","_hsvHandle","buttons","preview","messages","track","url","currentStyle","backgroundImage","style","hueChange","opacityChange","kendoSlider","tickPlacement","showButtons","slide","change","data","update","y","offset","dx","left","dy","top","rw","rh","_svChange","hsvRect","hsvHandle","_hsvEvents","UserEvents","global","press","getOffset","location","start","move","handle","prop","shiftKey","hue","ctrlKey","F2","select","rect","handlePosition","position","dontChangeInput","ColorPicker","content","label","accesskey","hide","after","is","appendTo","closest","add","click","open","isDefaultPrevented","toggle","_popup","_selector","innerWrapper","children","arrow","toolIcon","close","ARIATemplate","_getPopup","_isInputTypeColor","el","tagName","formattedValue","_ariaTemplate","key","visible","selectorType","selector","popup","document","body","kendoPopup","anchor","adjustSize","activate","plugin","numChar","colIndex","letter","String","fromCharCode","ref","rowIndex","$ref","filterRowIndex","frozenRows","freezePane","rowSplit","toWidth","px","toHeight","stripFunnyChars","convertColor","$0","$1","substring","toUpperCase","borderStyle","alias","borderSideTemplate","result","size","borderTemplate","border","right","bottom","inflate","rows","mergedCells","sorted","ctx","rowData","rowsByIndex","indexRows","row","index","_source","cells","sortByIndex","fillCells","sort","cell","rowSpan","colSpan","cellIndex","ri","nextRow","cellData","EMPTY_CELL","insertCell","spanCell","insertCellAt","appendCell","startIndex","tmp","borderTop","borderRight","borderBottom","borderLeft","RELS","CORE","APP","CONTENT_TYPES","WORKBOOK","WORKSHEET","WORKBOOK_RELS","WORKSHEET_RELS","SHARED_STRINGS","STYLES","DATE_EPOCH","Date","Worksheet","sharedStrings","styles","borders","_strings","_styles","_borders","relsToXML","hyperlinks","toXML","mergeCells","_readCells","from","to","frozenColumns","colSplit","defaults","showGridLines","_lookupString","indexes","uniqueCount","count","_lookupStyle","json","stringify","inArray","_lookupBorder","j","_cell","column","displayValue","bold","background","italic","underline","fontFamily","fontName","fontSize","format","textAlign","hAlign","verticalAlign","vAlign","wrap","borderId","autoWidth","getTime","getTimezoneOffset","date","MS_PER_MINUTE","MS_PER_DAY","formula","defaultFormats","General","0","0.00","#,##0","#,##0.00","0%","0.00%","0.00E+00","# ?/?","# ??/??","mm-dd-yy","d-mmm-yy","d-mmm","mmm-yy","h:mm AM/PM","h:mm:ss AM/PM","h:mm","h:mm:ss","m/d/yy h:mm","#,##0 ;(#,##0)","#,##0 ;[Red](#,##0)","#,##0.00;(#,##0.00)","#,##0.00;[Red](#,##0.00)","mm:ss","[h]:mm:ss","mmss.0","##0.0E+0","@","[$-404]e/m/d","m/d/yy","t0","t0.00","t#,##0","t#,##0.00","t0%","t0.00%","t# ?/?","t# ??/??","Workbook","_sheets","sheets","proxy","toDataURL","zip","docProps","sheetCount","rels","xl","xlRels","sheetIds","worksheets","sheetRels","idx","sheet","sheetName","relsXml","hasFont","fonts","fills","JSZip","folder","file","creator","lastModifiedBy","created","toJSON","modified","filterNames","title","localSheetId","userNames","names","def","localName","hidden","parseJSON","fontId","fillId","numFmtId","generate","compression","ooxml","ExcelExporter","dataSource","transport","_trimColumns","allColumns","_leafColumns","_prepareColumn","grep","DataSource","constructor","page","allPages","pageSize","total","group","aggregate","_data","_isServerGrouped","create","field","concat","workbook","Deferred","fetch","then","_columns","_rows","_freezePane","_filter","resolve","view","promise","values","dataItem","text","groupHeaderTemplate","groupFooterTemplate","footerTemplate","filterable","depth","_depth","_dataRow","level","li","dataCells","ci","_hierarchical","aggregates","_dataRows","unshift","_footer","dataItems","footer","_isColumnVisible","_visibleColumns","_headerRow","groups","headers","_prependHeaderRows","headerRows","_prepareHeaderRows","parentCell","parentRow","childRow","totalColSpan","_headerDepth","temp","locked","hierarchy","ExcelMixin","proto","excel","saveAsExcel","proxyURL","fileName","exporter","book","saveAs","dataURI","forceProxy","defined","UNDEFINED","precision","power","math","limitValue","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","valueOrDefault","defaultValue","sqr","objectKey","object","hashKey","str","hash","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","isFinite","last","first","second","renderTemplate","useWithBlock","paramName","renderAttr","renderAllAttr","attrs","output","renderStyle","renderSize","renderPos","toHyphens","isTransparent","arabicToRoman","literals",1,10,100,2,20,200,3,30,300,4,40,400,5,50,500,6,60,600,7,70,700,8,80,800,9,90,900,1000,"roman","shift","romanToArabic","digits","memoize","cache","Object","ucs2decode","string","extra","counter","ucs2encode","mergeSort","cmp","merge","ai","bi","deepExtend","PI","Number","MAX_VALUE","now","util","drawing","dataviz","zeroSize","baseline","measureText","measureBox","TextMetrics","measure","loadFonts","promises","font","load","logToConsole","Promise","all","doc","LRUCache","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","defaultMeasureBox","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","encodeBase64","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","ObserversMixin","observers","_observers","addObserver","removeObserver","splice","methodName","event","observer","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","mixins","transform","matrix","Transformation","toMatrix","isFunction","ellipseExtremeAngles","center","rx","ry","extremeX","extremeY","atan2","bboxStartAngle","angle","defineAccessors","fields","capitalized","setAccessor","getAccessor","elipseAngle","swipe","alpha","abs","calculateAngle","cx","cy","cos","sin","normalizeArcParameters","x1","y1","x2","y2","largeArc","cx1","cy1","x21","y21","rx2","ry2","k","yk2","Point","startAngle","endAngle","solveCubic","solveQuadratic","y3","z1","z2","Q","ComplexNumber","b3a","nthRoot","numberSign","multiplyConstant","negate","multiply","isReal","real","PRECISION","toCubicPolynomial","points","calculateCurveAt","t1","curveIntersectionsCount","point","bbox","rayIntersection","intersectsRay","polynomial","roots","bottomRight","lineIntersectionsCount","intersects","minX","maxX","minY","maxY","inRange","lineIntersection","p0","p1","p2","p3","s1x","s2x","s1y","s2y","nx","ny","tolerance","closeOrLess","isOutOfEndPoint","endPoint","controlPoint","rotatedPoint","transformCopy","rotate","hasRootsInRange","rootField","range","intersection","squareRoot","Size","Rect","Circle","Arc","Matrix","PI_DIV_2","other","origin","translate","translateWith","scale","scaleX","scaleY","scaleCopy","transformation","mx","distanceTo","toArray","doRound","separator","arg0","arg1","pt","minPoint","maxPoint","ZERO","setOrigin","setSize","getOrigin","getSize","topLeft","topRight","bottomLeft","tl","tr","br","bl","fromPoints","expand","expandCopy","containsPoint","_isOnPath","rectOuter","rectInner","union","intersect","radius","setCenter","setRadius","getCenter","pointAt","_pointAt","currentPointX","currentPointY","currentPoint","extremeAngles","inCircle","pointDistance","radiusX","radiusY","anticlockwise","MAX_INTERVAL","radian","curvePoints","nextAngle","dir","currentAngle","interval","_arcInterval","intervalAngle","subIntervalsCount","ceil","subIntervalAngle","_intervalCurvePoints","cp1","cp2","arc","currentAngleX","currentAngleY","oldStart","p1Derivative","_derivativeAt","p2Derivative","inAngleRange","distance","angleRad","pointRadius","startPoint","arcParameters","multiplyCopy","invert","det","unit","IDENTITY","_matrix","_optionsChange","img","cNumber","addConstant","nthR","geometry","eventCoordinates","touch","pageX","clientX","pageY","clientY","BaseNode","OptionsStore","SurfaceFactory","SurfaceTooltip","outerWidth","_outerWidth","outerHeight","_outerHeight","TOOLTIP_TEMPLATE","TOOLTIP_CLOSE_TEMPLATE","Surface","_click","_handler","_mouseenter","_mouseleave","_mousemove","_visual","Group","_enableTracking","tooltip","draw","clear","hideTooltip","_tooltip","exportVisual","_resize","eventTarget","node","domNode","initialTouch","target","_kendoNode","parent","srcElement","showTooltip","shape","show","suspendTracking","_suspendedTracking","resumeTracking","surface","originalEvent","Popup","_elementOffset","paddingLeft","paddingTop","_surfacePoint","coord","childNodes","observe","insertAt","removeSelf","invalidate","childrenChange","action","prefix","member","_wrap","getter","set","composite","_set","path","_clear","setter","_items","register","order","preferred","navigator","userAgent","_tooltipOptions","animation","copyAnchorStyles","collision","_openPopupHandler","_openPopup","_bindEvents","showOn","autoHide","hideDelay","showAfter","_showHandler","_showEvent","_surfaceLeaveHandler","_surfaceLeave","_mouseleaveHandler","_mousemoveHandler","_hideClick","unbind","clearTimeout","_timeout","shared","_tooltipShape","_updateContent","html","_position","elementSize","tooltipOffset","surfaceOffset","_offset","_show","_showTimeout","delay","_autoHide","_measure","_closeButton","prependTo","_popupRelatedTarget","relatedTarget","DASH_ARRAYS","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","GRADIENT","IDENTITY_MATRIX_HASH","Paintable","fill","stroke","newFill","nodeType","Traversable","childrenField","traverse","child","Measurable","strokeWidth","combinedMatrix","currentTransform","matrixHash","_bboxCache","_matrixHash","_bbox","elementsBoundingBox","elements","applyTransform","boundingBox","elementBoundingBox","rawBBox","elementsClippedBoundingBox","clippedBBox","defineGeometryAccessors","geometryAccessor","fieldName","definePointAccessors","pointAccessor","defineOptionsAccessors","optionsAccessor","generateDefinitionId","defId","align","alignment","alignElements","stack","stackElements","getStackElements","vStack","wrapElements","vWrap","axis","otherAxis","sizeField","startElement","elementIdx","stacks","getStacks","translateToPoint","fit","rectSize","maxSize","stackSize","addElementToStack","stackAxis","previousBBox","alignStart","START","END","transofrm","ElementsArray","Text","GeometryElementsArray","Segment","Path","MultiPath","Image","GradientStop","StopsArray","Gradient","LinearGradient","RadialGradient","Layout","pop","HORIZONTAL","Element","clip","parentTransform","parentMatrix","elementTransform","elementMatrix","_clippedBBox","_hasFill","_containsPoint","_hasStroke","_splice","_change","_add","_remove","howMany","_clearObserver","_setObserver","_reparent","insert","removeAt","newParent","metrics","_geometry","toPath","moveTo","curveTo","controlIn","controlOut","bboxTo","toSegment","segmentAnchor","toSegmentAnchor","_curveBoundingBox","_lineBoundingBox","extremesX","_curveExtremesFor","extremesY","xLimits","yLimits","extremes","_curveExtremes","_calculateCurveAt","x3","x4","t2","_intersectionsTo","segment","intersectionsCount","_isOnCurveTo","endSegment","p4","rotation","rotatedPoints","_isOnLineTo","_isOnPathTo","isOnPath","segments","lineJoin","lineTo","lastSegment","_addArcSegments","arcTo","closed","previous","segmentBox","fromRect","fromArc","paths","src","_rect","arg","stop","stops","_createStops","_userSpace","userSpace","addStop","removeStop","_radius","_fallbackFill","fallbackFill","_defaults","_fieldMap","alignContent","justifyContent","alignItems","spacing","orientation","lineSpacing","_initMap","fieldMap","groupsSizeField","groupAxis","groupsAxis","reflow","groupOptions","groupsSize","groupStart","groupOrigin","elementOrigin","elementStart","groupBox","groupIdx","scaledStart","scaledSize","newStart","_initGroups","lineSize","bboxes","_newGroup","addGroup","_addToGroup","parseParameters","parameters","SPLIT_REGEX","number","toLineParamaters","isVertical","insertPosition","reflectionPoint","quadraticToCubicControlPoints","third","trim","SEGMENT_REGEX","MOVE","CLOSE","PathParser","parse","previousCommand","multiPath","params","closePath","command","isRelative","ShapeMap","lastControlIn","cubicControlPoints","zIndexComparer","_zIndex","LEVEL_STEP","MAX_LEVEL","QuadRoot","shapes","_quadNode","pointShapes","QuadNode","inBounds","nodeRect","nodeBottomRight","inserted","_initChildren","halfWidth","halfHeight","ShapesQuadTree","ROOT_SIZE","initRoots","rootMap","root","rootElements","pointShape","sectorRoot","assignZindex","levelWeight","zIndex","parents","bboxChange","_insertShape","elementsArray","_insert","rootSize","sectors","getSectors","inRoot","bottomX","bottomY","alignToScreen","ctm","getScreenCTM","baseUrl","base","getElementsByTagName","href","hashIndex","refUrl","exportGroup","exportRoot","svg","RootNode","SVG_NS","render","exportSVG","raw","isDefinition","decodeEntities","_element","innerHTML","textContent","innerText","DefinitionMap","BUTT","NONE","SOLID","SPACE","TRANSFORM","_root","renderSVG","_rootElement","firstElementChild","attachTo","resize","viewBox","setAttribute","visual","Node","definitions","clearDefinitions","childNode","nodeMap","createDefinitions","domElement","container","createElement","firstChild","insertBefore","setElement","childElement","nodes","renderChildren","updateDefinition","allAttr","allCss","removeAttribute","mapTransform","renderTransform","transformChange","mapStyle","cursor","renderOpacity","definition","hasDefinitions","definitionChange","renderDefinitions","mapDefinitions","defs","DefinitionNode","definitionMap","addDefinitions","removeDefinitions","createDefinition","ClipNode","LinearGradientNode","RadialGradientNode","addDefinition","mapItem","removeDefinition","GroupNode","PathNode","renderData","mapFill","mapStroke","attributeMap","fill.opacity","stroke.color","stroke.width","stroke.opacity","printPath","segmentType","currentType","printPoints","segmentStart","segmentEnd","renderLinecap","dashType","renderDashType","renderStroke","dashArray","lineCap","renderFill","ArcNode","MultiPathNode","CircleNode","TextNode","encode","htmlEncode","setY","renderContent","ImageNode","mapPosition","mapSource","renderPosition","renderSource","GradientStopNode","renderOffset","GradientNode","loadStops","stopNode","mapCoordinates","renderCoordinates","mapSpace","RectNode","testFragment","testContainer","hasParser","DOMParser","namespaceURI","parser","chartDoc","parseFromString","importedDoc","adoptNode","documentElement","implementation","hasFeature","_exportGroup","exportImage","cors","display","image","always","addGradientStops","gradient","addColorStop","FRAME_DELAY","canvas","_searchTree","defer","rootElement","loadingStates","loading","when","done","_invalidate","reject","fail","_mouseTrackHandler","_trackMouse","currentShape","_currentShape","initClip","clearClip","setClip","beginPath","renderPoints","setTransform","loadElements","setOpacity","globalAlpha","renderTo","save","restore","getContext","invalidateHandler","throttle","animationFrame","clearRect","setLineDash","setLineCap","setLineJoin","setFill","setStroke","hasFill","setGradientFill","fillStyle","createLinearGradient","createRadialGradient","strokeStyle","lineWidth","mozDash","webkitLineDash","seg","prevSeg","prevOut","bezierCurveTo","fillText","strokeText","onLoad","onError","crossOrigin","complete","onload","onerror","state","drawImage","enableVML","namespaces","kvml","stylesheet","styleSheets","createStyleSheet","addRule","createElementVML","className","COORDINATE_MULTIPLE","fillField","stopColor","baseColor","baseOpacity","blendColors","overlay","overlayColor","blendChannel","EMPTY_CLIP","COORDINATE_SIZE","TRANSFORM_PRECISION","empty","attachReference","combinedTransform","currentOpacity","setStyle","mapOpacityTo","multiplier","ClipObserver","ObserverNode","clipRect","clipBBox","_attachTo","frag","createDocumentFragment","refreshTransform","refreshOpacity","StrokeNode","FillNode","mapGradient","mapFillColor","mapLinearGradient","supportVML","mapRadialGradient","addColors","focusx","focusy","stopColors","colorsField","color2","TransformNode","refresh","transformOrigin","ShapeNode","createFillNode","createTransformNode","setCoordsize","PathDataNode","setPathData","pathData","createDataNode","MultiPathDataNode","CircleTransformNode","originX","originY","diameter","ArcDataNode","TextPathDataNode","TextPathNode","setString","ImagePathDataNode","ImageFillNode","setSrc","sx","sy","ax","ay","rawbbox","rawcenter","fillOrigin","fillSize","RectDataNode","vml","getXY","thing","drawDOM","doOne","getBoundingClientRect","nodeInfo","_clipbox","geo","_stackingContext","_avoidLinks","avoidLinks","renderElement","makeTemplate","cloneNodes","$el","$clone","nextSibling","handlePageBreaks","forceBreak","pageWidth","pageHeight","margin","doPageBreak","next","whenImagesAreActuallyLoaded","pages","splitElement","copy","makePage","forEach","pageNum","totalPages","cacheImages","keepTogether","jqel","adjust","tag","isFirst","fall","getComputedStyle","bottomPadding","getPropertyValue","bottomBorder","saveAdjust","breakAtElement","fallsOnMargin","splitText","firstInParent","table","colgroup","thead","grid","gridHead","repeatHeaders","querySelector","createRange","setStartBefore","setEndBefore","extractContents","boxSizing","padding","overflow","pageClassName","available","len","nextnode","selectNodeContents","findEOP","setEnd","endOffset","ownerDocument","_destructive","paddingRight","beforePageBreak","pdf","defineFont","getFontFaces","forcePageBreak","hasPaperSize","paperSize","paperOptions","getPaperOptions","hasMargin","multiPage","_ignoreMargin","progress","canceled","doStylesheet","ss","rules","cssRules","addRules","findFonts","rule","splitProperty","reduce","getFontURL","cssText","styleSheet","family","getCounter","getAllCounters","getPrototypeOf","reverse","incCounter","inc","resetCounter","doCounters","pending","images","querySelectorAll","IMAGE_CACHE","urls","dive","parseBackgroundImage","bg","alphaNumeral","pushNodeInfo","decoration","createsStackingContext","popNodeInfo","updateClipbox","emptyClipbox","cb","pseudoElt","webkit","mozilla","opera","pleaseSetPropertyValue","important","setProperty","getBorder","side","saveStyle","func","getBorderRadius","sanitizeRadius","getContentBox","innerBox","wt","wr","wb","wl","getTransform","radiansToDegrees","parseAngle","num","setClipping","clipPath","addArcToPath","adjustBorderRadiusForBox","rTL","rTR","rBR","rBL","tl_x","tl_y","tr_x","tr_y","br_x","br_y","bl_x","bl_y","elementRoundBox","bt","bb","pr","pb","pl","roundBox","rTL0","rTR0","rBR0","rBL0","formatCounter","romanNumeral","evalPseudoElementContent","displayCounter","getAttribute","getCssText","_renderWithPseudoElements","pseudo","kind","place","psel","KENDO_PSEUDO_ELEMENT","fake","saveClass","_renderElement","adjustBoxes","boxes","tableBorderLeft","tableBorderTop","tableBox","firstCell","firstCellBox","drawEdge","Wtop","Wleft","Wright","rl","rr","drawRoundCorner","edge","drawBackground","_pdfLink","backgroundColor","drawOneBackground","backgroundRepeat","backgroundPosition","backgroundOrigin","backgroundSize","drawBackgroundImage","img_width","img_height","renderBG","rewX","rewY","repeatX","aspect_ratio","orgBox","gradientRenderer","drawBullet","_drawBullet","bullet","listStylePosition","elementIndex","listStyleType","lineHeight","disc","circle","square","drawOneBox","isLast","inv","shouldDrawLeft","shouldDrawRight","innerbox","getClientRects","clipit","isFormField","maybeRenderWidget","renderContents","pxlen","scaledAngle","implicit","atan","percent","console","log","widget","widgetInstance","exportDOMVisual","renderImage","zIndexSort","sa","sb","za","zb","pa","getSelectedOption","selectedOptions","selectedIndex","renderCheckbox","checked","renderFormField","option","whiteSpace","multiple","scrollLeft","scrollTop","blocks","floats","inline","positioned","floating","renderText","actuallyGetRangeBoundingRect","rectangles","chrome","Infinity","prevLineBottom","doChunk","found","cc","code","indent","origStart","search","setStart","isJustified","findEOL","eol","estimateLineLength","startOffset","drawText","getFontHeight","TextRect","decorate","line","ypos","textOverflow","saveTextOverflow","groupInStackingContext","main","_dom_zIndex","counterIncrement","visibility","counterReset","mmul","b1","d1","e1","f1","b2","d2","e2","f2","_pdfRect","skip_ws","tok_whitespace","read","token","read_stop","tok_length","tok_percent","read_linear_gradient","propName","to1","to2","tok_popen","tok_angle","tok_comma","tok_keyword","tok_pclose","read_url","tok_content","tok","orig","cache1","tok_linear_gradient","tok_url","cache2","looking_at","in_paren","in_string","Animation","anim","duration","easing","setup","step","play","finish","abort","loop","wallTime","time","easingPos","_stopped","AnimationFactory","makeOutput","out","PDFValue","beforeRender","renderArray","isDate","renderDate","writeString","write","PDFDictionary","indentLevel","BinaryStream","writeData","withIndent","NL","stream","wrapObject","renderValue","renderFull","getOption","PAPER_SIZE","a4","unitsToPoints","PDFDocument","defval","catalog","pageTree","objcount","objects","attach","FONTS","IMAGES","GRAD_COL_FUNCTIONS","GRAD_OPC_FUNCTIONS","GRAD_COL","GRAD_OPC","PDFCatalog","PDFPageTree","setPages","addPage","props","contentWidth","contentHeight","PDFStream","Contents","Parent","MediaBox","PDFPage","_content","xrefOffset","zeropad","Root","Info","Producer","PDFString","Title","Author","Subject","Keywords","Creator","CreationDate","loadBinary","cont","error","req","XMLHttpRequest","HAS_TYPED_ARRAYS","responseType","status","Uint8Array","response","VBArray","responseBody","send","loadFont","FONT_CACHE","TTFFont","loadImage","_load","_onload","_onerror","reader","imgdata","hasAlpha","rawbytes","blob","FileReader","PDFJpegImage","URL","revokeObjectURL","bloburl","readAsArrayBuffer","getImageData","writeByte","PDFRawImage","writeBase64","xhr","createObjectURL","manyLoader","loadOne","ch","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","mm2pt","mm","cm2pt","cm","in2pt","inch","in","defclass","Ctor","Base","_","PDFName_cache","PDFName","asStream","Type","Subtype","Width","Height","BitsPerComponent","ColorSpace","Filter","_resourceName","RESOURCE_COUNTER","mask","SMask","makeHash","cacheColorGradientFunction","r1","g1","r2","g2","FunctionType","Domain","Range","N","C0","C1","cacheOpacityGradientFunction","makeGradientFunctions","assemble","funcs","Functions","Bounds","offsets","Encode","cur","prevColor","curColor","opacities","cacheColorGradient","isRadial","coords","shading","ShadingType","Coords","Function","Extend","cacheOpacityGradient","AIS","CA","ca","S","G","FormType","BBox","CS","I","Resources","ExtGState","a0","Shading","s0","cacheGradient","eof","readByte","ensure","readShort","writeShort","w","readShort_","writeShort_","readLong","writeLong","readLong_","writeLong_","readFixed","writeFixed","readFixed_","writeFixed_","times","readString","buffer","bytes","skip","nbytes","saveExcursion","base64","atob","BASE64","decode","unquote","parseFontDef","fontdef","variant","mkFamily","FONT_MAPPINGS","fontAlias","isIdentityMatrix","PDFHexString","PDFStandardFont","PDFFont","PDFToUnicodeCmap","keyStr","a5","a6","a7","a8","a9","a10","b0","b3","b4","b5","b6","b7","b8","b9","b10","c0","c3","c4","c5","c6","c7","c8","c9","c10","executive","folio","legal","tabloid","Times-Roman","Times-Bold","Times-Italic","Times-BoldItalic","Helvetica","Helvetica-Bold","Helvetica-Oblique","Helvetica-BoldOblique","Courier","Courier-Bold","Courier-Oblique","Courier-BoldOblique","Symbol","ZapfDingbats","loadImages","getFont","getImage","getOpacityGS","forStroke","gs","_opacityGSCache","dict","txt","esc","escape","compress","pako","deflate","Length","pagesObj","Pages","Kids","Count","pageObj","BaseFont","encodeText","head","Encoding","_pdf","_font","_sub","makeSubset","psName","xMin","yMin","xMax","yMax","italicAngle","post","ascent","descent","lineGap","capHeight","os2","xHeight","stemV","familyClass","isSerif","isScript","flags","isFixedPitch","getTextWidth","glyphId","codeMap","cmap","widthOfGlyph","descendant","unimap","unimapStream","sub","fontStream","Length1","descriptor","FontName","FontBBox","Flags","StemV","ItalicAngle","Ascent","Descent","CapHeight","XHeight","FontFile2","ncid2ogid","firstChar","lastChar","charWidths","chunk","gid","CIDSystemInfo","Registry","Ordering","Supplement","FontDescriptor","FirstChar","LastChar","DW","W","CIDToGIDMap","_makeCidToGidMap","DescendantFonts","subset","ToUnicode","cidToGidMap","unicode","_rcount","_textMode","_fontResources","_gsResources","_xResources","_patResources","_shResources","_opacity","_annotations","_fontSize","_contextStack","ProcSet","Font","XObject","Pattern","Annots","_out","beginText","endText","_requireTextMode","_requireFont","setFont","setTextLeading","setTextRenderingMode","mode","showText","requestedWidth","outputWidth","showTextNL","addLink","uri","ll","_toPage","ur","Border","A","URI","setStrokeColor","setFillOpacity","setStrokeOpacity","setFillColor","sname","oname","setDashPattern","dashPhase","setLineWidth","setMitterLimit","mitterLimit","_context","bezier","bezier1","bezier2","ellipse","_X","_Y","nop","clipStroke","closeStroke","fillStroke","comment","serif","serif|bold","serif|italic","serif|bold|italic","sans-serif","sans-serif|bold","sans-serif|italic","sans-serif|bold|italic","monospace","monospace|bold","monospace|italic","monospace|bold|italic","zapfdingbats","zapfdingbats|bold","zapfdingbats|italic","zapfdingbats|bold|italic","Document","TEXT_RENDERING_MODE","fillAndStroke","invisible","fillAndClip","strokeAndClip","fillStrokeClip","sortedKeys","Directory","tables","scalerType","tableCount","searchRange","entrySelector","rangeShift","checksum","deftable","methods","rawData","nextSubsetTag","subsetTag","Subfont","unicodes","ogid2ngid","ngid2ogid","nextGid","numFonts","contents","HeadTable","LocaTable","HheaTable","MaxpTable","HmtxTable","GlyfTable","NameTable","PostTable","CmapTable","OS2Table","PDF","readTable","directoryLength","headOffset","tableData","sum","adjustment","maxpow2","LN2","revision","checkSumAdjustment","magicNumber","unitsPerEm","macStyle","lowestRecPPEM","fontDirectionHint","indexToLocFormat","glyphDataFormat","offsetOf","lengthOf","needsLongFormat","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","metricDataFormat","numOfLongHorMetrics","ids","numGlyphs","maxPoints","maxContours","maxComponentPoints","maxComponentContours","maxZones","maxTwilightPoints","maxStorage","maxFunctionDefs","maxInstructionDefs","maxStackElements","maxSizeOfInstructions","maxComponentElements","maxComponentDepth","glyphIds","hhea","lsbCount","advance","lsb","maxp","leftSideBearings","forGlyph","SimpleGlyph","CompoundGlyph","idOffsets","MORE_COMPONENTS","ARG_1_AND_2_ARE_WORDS","WE_HAVE_A_TWO_BY_TWO","WE_HAVE_AN_X_AND_Y_SCALE","WE_HAVE_A_SCALE","compound","old2new","glyphFor","loca","numberOfContours","glyph","glyphs","oldIds","NameEntry","platformID","platformSpecificID","languageID","nameID","stringOffset","nameRecords","strings","rec","postscriptEntry","postscriptName","strTable","list","strCount","POSTSCRIPT_GLYPHS","numberOfGlyphs","limit","underlinePosition","underlineThickness","minMemType42","maxMemType42","minMemType1","maxMemType1","glyphNameIndex","mapping","CmapEntry","segCount","endCode","startCode","idDelta","idRangeOffset","ngroups","endCharCode","glyphCode","language","renderCharmap","new_gid","charcode","segCountX2","deltas","rangeOffsets","startGlyph","codes","startCodes","endCodes","averageCharWidth","weightClass","widthClass","ySubscriptXSize","ySubscriptYSize","ySubscriptXOffset","ySubscriptYOffset","ySuperscriptXSize","ySuperscriptYSize","ySuperscriptXOffset","ySuperscriptYOffset","yStrikeoutSize","yStrikeoutPosition","panose","charRange","vendorID","selection","firstCharIndex","lastCharIndex","winAscent","winDescent","codePageRange","defaultChar","breakChar","maxContext","use","old_gid","glyphsFor","glyf","new_gid_ids","old_gid_ids","hmtx","OS/2","directory","cid","doIt","drawPage","addMargin","optimize","landscape","drawElement","producer","author","subject","keywords","dispatch","toBlob","Blob","filename","safari","dataURL","handlers","handler","_pdfDebug","setStrokeOptions","setFillOptions","drawPath","drawMultiPath","drawCircle","drawArc","drawGroup","drawRect","DASH_PATTERNS","LINE_CAP","LINE_JOIN","_drawPath","shouldDraw","maybeGradient","maybeFillStroke","maybeDrawRect","isRect","sz","exportPDF","newShape","changed","optArray","opt","withClipping","saveclipbox","clipbox","savematrix","inClipbox","currentBox","dashDot","longDash","longDashDot","longDashDotDot","solid","butt","miter","bevel","toStream","PDFMixin","saveAsPDF","_drawPDF","_drawPDFShadow","args","proxyTarget","err","pageNumber","notify","settings","drawOptions","shadow","before","UndoRedoStack","Observable","currentCommandIndex","undo","canUndo","redo","canRedo","CODE","UCS2","callbacks","readChar","croak","msg","readWhile","pred","readAsciiWhile","STRING","skipWhitespace","isWhitespace","eat","isDigit","isHexDigit","isNameStart","isName","xmlComment","END_COMMENT","xmlTag","QUESTION_MARK","xmlDecl","START_COMMENT","xmlName","xmlAttrs","END_SHORT_TAG","GREATER_THAN","xmlContent","END_TAG","START_CDATA","END_CDATA","LESS_THAN","AMPERSAND","xmlEntity","xmlString","quote","QUOTE","APOSTROPHE","SHARP","LOWERCASE_X","UPPERCASE_X","ENTITIES","SEMICOLON","END_DECLARATION","$tag","EQUAL","what","arg2","exit","EXIT","amp","lt","gt","quot","apos","nbsp","parseXML","copyToClipboard","textarea","execCommand","Command","TargetValueCommand","PropertyChangeCommand","ApplyFilterCommand","DeleteCommand","AddCommand","NameCommand","spreadsheet","_workbook","_property","property","_state","_setRange","_range","setState","getState","_forEachCell","_ref","toRangeRef","_target","ColumnWidthCommand","columnWidth","RowHeightCommand","rowHeight","HyperlinkCommand","_link","link","_prevLink","_hasSetValue","GridLinesChangeCommand","skipHiddenCells","ClearContentCommand","clearContent","EditCommand","rejectState","validationState","message","reason","_adjustRowHeight","_getValidationState","calc","ParseError","TextWrapCommand","forEachRow","_rowHeight","AdjustDecimalsCommand","_decimals","decimals","formatting","batch","forEachCell","col","adjustDecimals","BorderChangeCommand","_type","_style","noBorders","allBorders","leftBorder","leftColumn","rightBorder","rightColumn","topBorder","topRow","bottomRow","outsideBorders","insideBorders","insideHorizontalBorders","insideVerticalBorders","MergeCellCommand","activeCell","unmerge","horizontally","vertically","forEachColumn","FreezePanesCommand","_topLeft","panes","unfreeze","PasteCommand","_clipboard","clipboard","activeSheet","pasteRef","canPaste","menuInvoked","paste","pasteOnMerged","AdjustRowHeightCommand","ToolbarPasteCommand","_view","CopyCommand","canCopy","multiSelection","ToolbarCopyCommand","CutCommand","cut","AutoFillCommand","_origin","fillFrom","FillError","ToolbarCutCommand","FilterCommand","hasFilter","intersectingMerged","SortCommand","ascending","expandRange","_sheetRef","clearFilter","filterRule","exists","valueFilter","ValueFilter","customFilter","CustomFilter","eq","ClearFilterCommand","HideLineCommand","setAxisState","getAxisState","axisManager","hideSelectedRows","hideSelectedColumns","UnHideLineCommand","unhideSelectedRows","unhideSelectedColumns","DeleteRowCommand","deleteSelectedRows","DeleteColumnCommand","deleteSelectedColumns","AddColumnCommand","addColumnLeft","addColumnRight","AddRowCommand","canAddRow","addRowAbove","addRowBelow","EditValidationCommand","validation","OpenCommand","cannotUndo","fromFile","SaveAsCommand","extension","_name","nameDefinition","recalc","DefineNameCommand","defineName","DeleteNameCommand","undefineName","classNames","FormulaBar","formulaInput","FormulaInput","isOpenParen","isCloseParen","isMatchingParen","touches","begin","knownFunction","runtime","FUNCS","isEqualToken","tok1","tok2","ns","KEY_NAMES","PRIVATE_FORMULA_CHECK","listWrapper",27,37,39,35,36,32,"autoScale","_highlightedRefs","_staticTokens","_formulaSource","_formulaList","_keyup","_blur","_input","_focus","_paste","filterOperator","scalePadding","minLength","enableEditing","toggleClass","getPos","lookup","lookupNode","nodeValue","div","sel","getSelection","focusNode","focusOffset","anchorNode","anchorOffset","collapsed","setPos","differ","startContainer","endContainer","currentRange","eiv","getRangeAt","removeAllRanges","addRange","home","formulaSource","StaticList","insertAfter","autoBind","selectable","_formulaListChange","dataValueField","activeToken","completion","tokenCtx","_tokenContext","_mute","nextToken","_replaceAt","_focusId","_isFormula","_navigated","_move","_keyDownTimeout","_syntaxHighlight","focusFirst","_focusTimeout","clipboardData","getData","focusNext","focusPrev","focusLast","TAB","PAGEUP","PAGEDOWN","tokens","tokenize","_sync","_editorToSync","isActive","_textContainer","computedStyles","getComputedStyles","_span","_cellTooltip","toggleTooltip","_activeElement","operator","rectangle","canInsertRef","isKeyboardAction","_canInsertRef","afterPoint","canReplace","canInsertBetween","strictMode","refAtPoint","simplify","newValue","rest","syncWith","iehandler","eventName","highlightedRefs","refClasses","Pane","series","refIndex","parens","active","cls","colorClass","_setStaticTokens","insertNewline","Mac","isAlphaNum","keyName","EventListener",13,38,33,34,46,113,"platform","_handlers","_observer","keyDownProxy","keyDown","mouseProxy","mouse","threshold","_pressLocation","handleEvent","rightClick","which","button","catchAllHandler","eventKey","mod","metaKey","altKey","passThrough","skew","NilNode","RangeTreeNode","heir","intersecting","ranges","tree","RangeTree","RangeList","Iterator","SparseRangeList","findrange","firstRange","lastRange","rangeValue","rangeStart","rangeEnd","expandedValues","rangeIndex","sortedIndices","valueComparer","indices","comparer","sourceStart","sourceEnd","targetStart","iterator","unique","at","lastRangeStart","ValueRange","toExcelFormat","Property","JsonProperty","ValueProperty","dst","JSON","validations","dateToNumber","culture","calendar","patterns","PropertyBag","specs","sortable","serializable","depends","cellCount","properties","lists","spec","fromJSON","si","iterators","forEachProperty","ALL_PROPERTIES","columnName","displaySheet","displayRef","rel","aa","Ref","NULL","NameRef","CellRef","RangeRef","UnionRef","hasSheet","_hasSheet","setSheet","absolute","print","isCell","toRow","toColumn","rangeAt","nextRangeIndex","previousRangeIndex","reference","refs1","refs2","single","refs","replaceAt","forEachColumnIndex","forEachAxisIndex","forEachRowIndex","method","valid","renameSheet","oldSheetName","newSheetName","trow","tcol","arow","acol","forRow","endSheet","normalize","_containsRange","_containsCell","contains","some","_intersectRange","a_left","a_top","a_right","a_bottom","b_left","b_top","b_right","b_bottom","rr1","rc1","rr2","rc2","changes","relTL","relBR","collapse","toCell","startRow","endRow","startCol","endCol","topLeftRow","topLeftCol","bottomRightRow","bottomRightCol","cols","u","theRef","newRefs","NULLREF","SHEETREF","FIRSTREF","AutoFillCalculator","_grid","rectIsVertical","startRect","endRect","autoFillDest","quadrant","pivot","opposite","cornerResult","expanding","lower","further","EdgeNavigator","SheetNavigator","rangeGetter","prevLeft","prevVisible","nextRight","nextVisible","nextLeft","prevRight","boundary","_sheet","autoFillCalculator","colEdge","columnRange","rowEdge","rowRange","_viewPortHeight","unionWithMerged","leftCol","rightCol","selectionIncludesMergedCells","_mergedCells","setSelectionValue","selectAll","addToExisting","refForMode","rowRef","colRef","startSelection","startAutoFill","completeSelection","selectForContextMenu","modifySelection","scrollInto","newSelection","direction","determineDirection","viewPortHeight","originalSelection","currentOriginalSelectionRange","prevPage","nextPage","firstVisible","lastVisible","updateCurrentSelectionRange","moveActiveCell","originalActiveCell","navigateInSelection","currentNavigationRange","selTopLeft","selBottomRight","nextNavigationRange","previousNavigationRange","shouldSkip","singleCellSelection","extendSelection","resizeAutoFill","isMerged","forEachMergedCell","merged","hint","_autoFillOrigin","dest","punch","_previewFillFrom","updateAutoFill","currentSelectionRange","leftMode","rightMode","topMode","bottomMode","originalSelect","selectionRangeIndex","bottomCol","AxisManager","forEachSelectedColumn","layout","forEachSelectedRow","includesHiddenColumns","includesHidden","includesHiddenRows","selectionIncludesHiddenColumns","selectionIncludesHiddenRows","deleteColumn","deleteRow","hasRight","hasLeft","hideColumn","_count","isHiddenColumn","hasBottom","hasTop","hideRow","isHiddenRow","unhideColumn","unhideRow","insertColumn","rowCount","canInsertRow","insertRow","newState","foreign","origRef","setStateData","getSourceRef","stripStyle","borderObject","cellState","parseHTML","td","rowspan","colspan","blankCell","address","parseTSV","Clipboard","iframe","_external","_uid","external","isExternal","intersectsMerged","plain","destination","originActiveCell","rowDelta","colDelta","_isInternal","triggerChange","contentWindow","internalHTML","internalPlain","partition","predicate","looksLikeANumber","getTextHeight","font-size","word-break","white-space","PROPERTIES","complement","skipHiddenRows","skipHiddenCols","_normalize","noTrigger","_get","_resizedRef","_border","_collapsedBorder","collapsedBorderTop","collapsedBorderRight","collapsedBorderBottom","collapsedBorderLeft","existingFormat","compile","editorChange","isInEditMode","numberToDate","__","_validation","_merge","mergedRef","vi","_properties","setProp","propValue","clearAll","contentsOnly","formatOnly","clearFormat","isSortable","_sortBy","isFilterable","clearFilters","_filterBy","propertyName","dr","dc","maxHeight","cellRange","totalWidth","hasValue","flag","CalcError","argmax","compileArgumentChecks","functionName","comp","allowError","arrayArgs","cond","force","canBeArrayArg","hasArrayArgs","typeCheck","forced","haveForced","forceNum","roundFloatErrors","maybeRoundFloatErrors","withErrorHandling","makeSyncFunction","check","doit","xargs","arrays","makeAsyncFunction","makeCallback","defineFunction","kendoSpreadsheetArgs","argsAsync","dateToJulianDays","julianDaysToDate","jd","year","month","day","ord","ORDINAL_ADD_DAYS","isLeapYear","yr","daysInYear","daysInMonth","mo","DAYS_IN_MONTH","unpackDate","serial","BASE_DATE","packDate","unpackTime","ms","hours","minutes","seconds","frac","MS_IN_DAY","MS_IN_HOUR","MS_IN_MIN","milliseconds","serialToDate","packTime","hh","dateToSerial","getHours","getMinutes","getSeconds","getMilliseconds","getFullYear","getMonth","getDate","parseDate","binaryCompare","exports","Context","Formula","NUMBER_OR_ZERO","ARGS_NUMERIC","ARGS_ANYVALUE","resolveCells","_resolve","asMatrix","onFormula","context","formulas","getRefCells","cellValues","getRefData","fetchName","nameValue","ValidationFormulaContext","fname","bool","isRange","hiddenInfo","includeEmpty","eachRow","eachCol","mapRow","mapCol","transpose","va","vb","adds","sign","determinant","C","L","inverse","imax","augment","printer","absrefs","onReady","forceRefs","lcsheet","parentContext","reset","affectedSheet","operation","formulaRow","formulaCol","formulaSheet","formulaMoves","newFormulaRow","newFormulaCol","co","th","comatrix","thmatrix","elmatrix","defineAlias","kendoSpreadsheetAliases","compileValidation","validationHandler","parsedFromDate","parsedToDate","dataType","fromIsListValue","TRANSPOSE_FORMAT","DATE_FORMAT","fromIsDateValue","parseFormula","toIsDateValue","validationComparers","custom","comparerType","valueToCompare","toValue","to_value","allowNulls","from_value","_getListData","Validation","showButton","tooltipMessageTemplate","tooltipTitleTemplate","messageTemplate","titleTemplate","_formatMessages","fromFormula","toFormula","_setMessages","tooltipTitle","tooltipMessage","cube","_getOptions","compareValue","compareFormat","getValue","calculateFromCallBack","greaterThan","lessThan","between","equalTo","notEqualTo","greaterThanOrEqualTo","lessThanOrEqualTo","notBetween","Selection","Sheet","_activeCell","currentOriginalNavigationRange","expanded","changeActiveCell","_reinit","columnCount","headerHeight","headerWidth","Axis","_frozenRows","_frozenColumns","_suspendChanges","_showGridLines","_gridLinesColor","Grid","_sorter","Sorter","_viewSelection","_editSelection","_formulaSelections","_selectionState","_inEdit","_navigator","_axisManager","_sheetName","accessor","_field","suspendChanges","setDataSource","dataSourceBinder","SheetDataSourceBinder","columnIndex","unhide","_copyRange","sourceRangeRef","targetRef","nextRefTopLeft","nextRefBottomRight","nextIndex","nextBottomIndex","targetIndex","_adjustReferences","_forFormulas","_forValidations","adjustNames","nextRef","isEnabledRow","isEnabledColumn","gridLinesColor","numRows","numColumns","parseReference","forEachFilterHeader","columnRef","startCellIndex","endCellIndex","startResizing","initialPosition","_initialPosition","_resizeInProgress","_autoFillInProgress","_autoFillDest","_autoFillPunch","_autoFillHint","_autoFillDirection","autoFillRef","autoFillPunch","autoFillInProgress","resizingInProgress","completeResizing","hintPosition","resizeHintPosition","resizeHandlePosition","_resizeHandlePosition","_resizeHintPosition","removeResizeHandle","positionResizeHandle","_selectionInProgress","operatingRange","selectionInProgress","expandedRef","selectionState","isAxis","trims","activeCellSelection","selectedHeaders","allCols","allRows","maxRow","maxCol","rowSelection","colSelection","rowState","colState","isInEdit","_setFormulaSelections","_viewActiveCell","positions","viewSelection","_sort","activeCellRef","_compileFormula","_compileValidation","_refreshFilter","_refresh","cellRefIndex","resetFormulas","resetValidations","revalidate","cellRef","_copyValuesInRange","suspended","sortBy","prepare","matches","filterColumn","filterRef","_clearFilter","ALL_REASONS","currentRef","DOT","EMPTYCHAR","sheetsBarClassNames","SheetsBar","sheetsBarWrapper","sheetsBarSheetsWrapper","sheetsBarActive","sheetsBarInactive","sheetsBarAdd","sheetsBarRemove","sheetsBarItems","sheetsBarEditor","sheetsBarScrollable","sheetsBarNext","sheetsBarPrev","sheetsBarKItem","sheetsBarKActive","sheetsBarKTextbox","sheetsBarKLink","sheetsBarKIcon","sheetsBarKFontIcon","sheetsBarKButton","sheetsBarKButtonBare","sheetsBarKArrowW","sheetsBarKArrowE","sheetsBarKReset","sheetsBarKIconX","sheetsBarKSprite","sheetsBarKIconPlus","sheetsBarHintWrapper","sheetsBarKResetItems","_tree","dom","Tree","_addButton","_createSheetsWrapper","_toggleScrollEvents","_createSortable","_sortable","_onSheetReorderStart","_onSheetReorderEnd","_onSheetRemove","_onSheetSelect","_createEditor","_onAddSelect","scrollable","_editor","_renderSheets","_selectedIndex","_onEditorKeydown","_onEditorBlur","_destroyEditor","_onSheetRename","renderSheets","wrapperOffsetWidth","sheetsGroupScrollWidth","sheetsWrapper","scrollPrevButton","scrollNextButton","gapWidth","addButton","addButtonWidth","scrollPrevButtonWidth","sheetsGroup","scrollNextButtonRight","_isRtl","isRtl","_renderHtml","_scrollableAllowed","_sheetsWrapper","_sheetsGroup","marginLeft","scrollWidth","_scrollableModeActive","_nowScrollingSheets","marginRight","_toggleScrollButtons","ul","_scrollSheetsByDelta","renderScrollButtons","isSelectedSheet","elementContent","deleteIcon","sheetElements","maxlength","baseButtonClass","childrenElements","Sortable","ignore","draggable","oldIndex","newIndex","removedSheetName","selectedSheetText","_scrollSheetsToItem","isAddButton","sheetIndex","currentScrollOffset","itemWidth","itemOffset","sheetsGroupWidth","sheetsGroupPadding","itemPosition","animate","scrLeft","getcol","getrow","noThrow","OUT","TokenStream","addReference","allowEOF","peek","parseExpression","commas","maybeBinary","maybeIntersect","parseAtom","parseSymbol","upper","TRUE","FALSE","parseFuncall","fixReference","exp","parseArray","op","maybePercent","my_prec","his_prec","OPERATORS","ast","parseNameDefinition","defAST","nameRef","makeFormula","makePrinter","prec","withParens","needParens","parenthesize","makeClosure","toCPS","cps","cpsRef","cpsAtom","cpsUnary","cpsBinary","cpsFunc","cpsLambda","cpsMatrix","cpsNameRef","makeContinuation","cpsIf","thenK","gensym","elseK","vars","cpsAnd","cpsOr","isMatrix","GENSYM","js","jsArray","FORMULA_CACHE","identity","readNext","ahead","refRange3D","refCell3D","refSheetRange","refSheetCell","refRange","refCell","funcall","forEditor","fixCell","space","addPos","RawTokenStream","InputStream","startToken","endToken","isIdStart","isId","isOpChar","isPunc","readNumber","has_dot","symbol","getRC","negative","readSymbol","lookingAt","readEscaped","readSheetName","readOperator","readPunc","EOF","forward","escaped","getNumberRegexp","comma","NUMBER_FORMAT_RX","repeat","FORMAT_PARSERS","registerFormatParser","ops","numberFormat","currency","rxnum","rxcur","suffix","has_currency","readExcel","deferred","readWorkbook","readStrings","relationships","readRelationships","theme","readTheme","byType","readStyles","enter","relId","dim","SEL_SHEET","byId","sheetDimensions","SEL_VIEW","activeTab","integer","SEL_DEFINED_NAME","vbProcedure","recalcSheets","loadSheets","ready","insertSheet","queueSheet","readSheet","defaultColWidth","toColWidth","defaultRowHeight","toRowHeight","SEL_ROW","maximumDigitWidth","fraction","pts","formulaRange","nCols","prevCellRef","relsFile","styleIndex","acRef","SEL_CELL","applyStyle","SEL_MERGE","SEL_COL","ht","SEL_SELECTION","SEL_PANE","xSplit","ySplit","SEL_SHEET_VIEW","SEL_HYPERLINK","leave","SEL_VALUE","SEL_STRING","SEL_FORMULA","setFormat","formatCode","setBorder","BORDER_WIDTHS","shouldSet","applyName","xf","inlineStyles","xfId","namedStyles","numFmts","DEFAULT_FORMATS","part","files","asUint8Array","SEL_SHARED_STRING","SEL_TEXT","entries","Id","Target","getXf","addBool","pivotButton","quotePrefix","getColor","themeColor","tint","toCSSColor","indexed","INDEXED_COLORS","colorScheme","SEL_NUM_FMT","SEL_FONT","SEL_FILL","patternType","SEL_BORDER","SEL_NAMED_STYLE","SEL_INLINE_STYLE","horizontal","vertical","wrapText","swap","scheme","SEL_SCHEME_SYSCLR","SEL_SCHEME_RGBCLR","none","thin","medium","dashed","dotted","thick","double","hair","mediumDashed","mediumDashDot","dashDotDot","mediumDashDotDot","slantDashDot",11,12,14,15,16,17,18,19,21,22,45,47,48,49,"_readSheet","_readStrings","_readStyles","_readTheme","_readWorkbook","sheetParamsFromJSON","or","_sheetsSearchCache","undoRedoStack","_onUndoRedo","FormulaContext","_validationContext","_names","_sheetChange","_sheetCommandRequest","_inputForRef","execute","commandOptions","editActiveCell","sheetByName","moveSheetToIndex","toIndex","fromIndex","sheetSelection","insertIndex","getUniqueSheetName","sheetNameSuffix","sheetByIndex","forEachName","nameref","removeSheet","newSheet","_clearSheets","nameForRef","area","fsheet","frow","fcol","states","currentFormula","_formulaContextRefresh","toActionSelector","selectors","alphaNumRegExp","ACTIONS","ENTRY_ACTIONS","CONTAINER_EVENTS","CLIPBOARD_EVENTS","EDITOR_EVENTS","FORMULABAR_EVENTS","FORMULAINPUT_EVENTS","SELECTION_MODES","COMPOSITE_UNAVAILABLE_ACTION_SELECTORS","UNHIDE_ACTION_SELECTORS","ACTION_KEYS","SHIFT_ACTION_KEYS","ENTRY_ACTION_KEYS","Controller","up","down","ctrl+left","ctrl+right","ctrl+up","ctrl+down","ctrl+home","ctrl+end","pageup","pagedown","tab","shift+tab","shift+enter","delete","backspace","shift+:alphanum",":alphanum","ctrl+:alphanum","alt+ctrl+:alphanum",":edit","wheel","*+mousedown","contextmenu","*+mousedrag","*+mouseup","*+dblclick","mousemove","*+pageup","*+pagedown","mouseup","*+cut","*+paste","*+copy","alt+enter","rowheader","columnheader","topcorner","autofill","clipboardElement","cellContextMenu","rowHeaderContextMenu","colHeaderContextMenu","scroller","tabstrip","sheetsbar","nameEditor","onNameEditorEnter","onNameEditorCancel","onNameEditorSelect","onNameEditorDelete","editor","onEditorChange","onEditorActivate","onEditorDeactivate","onEditorUpdate","onScroll","listener","_enableEditorEvents","onSheetBarSelect","onSheetBarReorder","onSheetBarRename","onSheetBarRemove","onContextMenuSelect","onCommandRequest","onDialogRequest","keyListener","barKeyListener","barElement","inputKeyListener","cellElement","_execute","closeHandler","editorClose","enableEditor","_lastCommandRequest","showError","openDialog","_activeTooltip","clientHeight","isEditorDisabled","onWheel","deltaX","deltaY","deltaMode","scrollWith","onAction","onPageUp","scrollDown","onPageDown","onEntryAction","shouldPrevent","disabled","activeCellRectangle","onShiftAction","appendSelection","onMouseMove","objectAt","onMouseDown","pane","originFrame","onEditorEsc","openCustomEditor","_selectionMode","deactivate","openFilterMenu","onContextMenu","menu","isComposite","showUnhide","showUnmerge","prevent","constrainResize","resizeHandle","onMouseDrag","frame","startAutoScroll","selectToLocation","onMouseUp","stopAutoScroll","activeEditor","onDblClick","onCut","detach","clipBoardValue","onPaste","hasHTML","hasPlainText","DOMStringList","types","onCopy","scrollRight","coordinates","cellLocation","lastKnownCellLocation","autoScroll","_autoScrollTarget","boundaries","scrollStep","finalLocation","viewObject","_scrollInterval","setInterval","clearInterval","filterMenu","createFilterMenu","openFor","onEditorBarFocus","onEditorCellFocus","resetEditorValue","onEditorBlur","isFiltered","onEditorAction","onEditorShiftAction","deactivateEditor","viewEditor","isEditorDeactivateBound","one","focusLastActive","enableClipboard","executeRequest","executeCommand","executeDialog","additionalOptions","pdfExport","excelExport","selectElementContents","cellBefore","trs","cellAbove","prevRow","cellBorder","asURL","drawCell","collection","hBorders","vBorders","showGrid","maybeLink","textDecoration","defaultBorder","shouldDrawCell","fontStyle","fontWeight","wordBreak","__dataType","paneClassNames","addCell","sibling","borderRightColor","borderBottomColor","borderLeftColor","borderTopColor","within","RESIZE_HANDLE_WIDTH","viewClassNames","HtmlTable","CELL_CONTEXT_MENU","ROW_HEADER_CONTEXT_MENU","COL_HEADER_CONTEXT_MENU","VIEW_CONTENTS","View","fixedContainer","editContainer","viewSize","cellEditor","barEditor","topCorner","filterHeadersWrapper","filterRange","filterButton","filterButtonActive","horizontalResize","verticalResize","icon","iconFilterDefault","sheetsBar","errors","openUnsupported","shiftingNonblankCells","filterRangeContainingMerges","sortRangeContainingMerges","validationError","tabs","_height","_width","addColumn","addRow","toDomTree","ContextMenu","contextMenuConfig","scrollbar","_chrome","_dialogs","_formulaInput","clipboardContents","SheetEditor","_sheetsbar","clientWidth","isClipboardDeactivated","tabstripHeight","formulaBarHeight","formulaBar","sheetsBarHeight","quickAccessAdjust","NameEditor","toolbar","_tabstrip","TabStrip","dataTextField","dataContentField","toolbarOptions","_executeCommand","cellRectangle","_rectangle","boundingRectangle","isColumnResizer","handleWidth","_headerWidth","isRowResizer","_headerHeight","isFilterIcon","theGrid","frozen","filterIconRect","isAutoFill","isEditButton","ed","activeCellCustomEditor","selecting","paneAt","containingPane","refreshTools","totalHeight","_pane","_destroyFilterMenu","_filterMenu","FilterMenu","selectClipBoardContents","scrollIntoView","willScroll","scrollBoundaries","scrollBottom","_destroyDialog","edit","dialog","dialogs","dialogOptions","errorMessages","registered","sender","_filterMenuColumn","resizeDirection","renderResizeHint","renderClipboardContents","resizeHint","resizeHintVertical","resizeHintHandle","resizeHintMarker","selectionView","primaryMergedCells","secondaryMergedCells","rangeDimensions","mergedCell","vaxis","haxis","rowHeader","columnHeader","mergedCellsWrapper","selectionWrapper","autoFillWrapper","columnResizeHandle","rowResizeHandle","selectionHighlight","isVisible","paneClasses","_currentView","_currentRect","_selectedHeaders","renderSelection","renderAutoFill","renderEditorSelection","renderFilterHeaders","hasRowHeader","rowOffset","headerClassName","hasColumnHeader","columnOffset","renderResizeHandle","itemSelection","allHeaders","doLayout","forScreen","xCoords","borderColor","yCoords","hb","BUTTON_SIZE","BUTTON_OFFSET","Rectangle","filtered","classes","_addDiv","selections","activeCellClasses","selectionClasses","activeFormulaColor","_activeFormulaColor","_directionClasses","_addTable","cssClass","autoFillRectangle","toDiv","btn","activeFormulaSelection","colorClasses","cellClasses","mergedCellLeft","mergedCellTop","EDITORS","registerEditor","kendoCalendar","getKendoCalendar","getKendoPopup","setOptions","Calendar","disableDates","kendoStaticList","getKendoStaticList","PaneGrid","PaneAxis","rangeRef","headerSize","hasHeader","paneSegment","_viewSize","widthCompensation","heightCompensation","_hidden","scrollBarSize","firstHidden","lastHidden","endIndex","startSegment","lastPage","_pixelValues","_axis","_start","quarter","sameYear","today","setFullYear","sameMonth","firstDayOfMonth","setMonth","sameWeek","firstWeek","secondWeek","dayOfWeek","_values","_dates","_blanks","blanks","dates","_logic","logic","criteria","_criteria","expression","Query","filterExpr","filters","_matches","criterionValue","criterionType","valueType","TopFilter","DynamicFilter","_predicate","_average","aboveAverage","belowAverage","tomorrow","addDays","isToday","yesterday","nextWeek","thisWeek","lastWeek","nextMonth","thisMonth","lastMonth","nextQuarter","thisQuarter","lastQuarter","nextYear","thisYear","lastYear","yearToDate","cultures","months","_lists","ascendingComparer","descendingComparer","typeA","typeB","localeCompare","maybeColor","RX_COLORS","maybeCondition","RX_CONDITION","readFormat","maybeFraction","sep","decimal","decimalPart","am","pm","readSection","sections","haveConditional","sec","printSection","printToken","fmt","padLeft","adjusted","restart","compileFormatPart","checkComma","scaleCount","hasDate","hasTime","hasAmpm","percentCount","separeThousands","declen","intFormat","decFormat","condition","preamble","CACHE","TEXT","calendars","standard","days","namesAbbr","ampm","fraclen","eltime","formatInt","iv","chf","formatDec","span","textAndColor","_cosh","_sinh","_tanh","_gcd","_lcm","forIFS","chunks","parseCriteria","COL","_avg","numbers","_var_sp","divisor","avg","_stdev_sp","_percentrank","exc","nlt","ngt","_covariance","_percentile","rank","_percentile_inc","_percentile_exc","fetchValuesForAggregate","opt_ignore_hidden_rows","opt_ignore_errors","opt_use_aggregates","fetchValues","_binom_dist","cumulative","_combinations","weeksInYear","_days_360","Hyperlink","numericPredicate","descending","ARGS_COUNTIFS","ARGS_SUMIFS","ARGS_SUMIF","ARGS_PERCENTRANK","_fact","AGGREGATE_FUNCS","RX_NON_PRINTABLE","mult","prod","coef","seen","m1","sumRange","nth","res","discard","bins","asc","variance","stddev","significance","fact","funcId","ignoreHidden","s2","approx","resultCol","areanum","colRange","resultRow","fw","dow","wk","holidays","random","rom","radix","minLen","dec","noCommas","newText","oldText","valueIfError","makeComparator","lc","compLT","compLTE","compGT","compGTE","compNE","compEQ","RXCACHE","ERF","an","f_abs","ERFC","GAMMALN","cof","ser","GAMMA","pi","BETALN","BETA","gamma_inc","g_series","g_contfrac","ap","gln","MAX_IT","EPS","FP_MIN","aj","bj","GAMMA_DIST","GAMMA_INV","M","ab","NORM_S_DIST","NORM_S_INV","plow","phigh","NORM_DIST","NORM_INV","betastd_pdf","betastd_cdf","beta_lentz","m2","del","qab","qap","qam","betastd_inv","BETADIST","BETA_DIST","cdf","BETA_INV","chisq_left","cds","chisq_right","chisq_left_inv","chisq_right_inv","chisq_test","obsv","expect","eij","expon","poisson","lnf","Fdist","Fdist_right","Finv_right","Finv","_mean","me","_var_sq","Ftest","arr1","arr2","n1","n2","va1","va2","fisher","fisherinv","Tdist","Tdist_right","Tdist_2tail","Tdist_inv","Tdist_2tail_inv","Tdist_test","gr1","gr2","tail","t_st","df","md","v1","v2","u1","u2","q1","q2","confidence_t","confidence_norm","gauss","z","phi","lognorm_dist","lognorm_inv","prob","x_","p_","lw","slope","y_","my","intercept","pearson","s1","s3","rsq","steyx","forecast","_mat_mean","Mat","_mat_devsq","mean","sq","linest","Y","X","konst","stats","Xt","B","line_1","Y1","y_y1","mp","SSreg","SSresid","line_5","R2","degfre","err_est","line_3","F_sta","line_4","SCP","line_2","logest","trend","growth","new_X","root_newton","guess","max_it","eps","f_d","FV","rate","nper","pmt","pv","h1","h2","PV","fv","PMT","NPER","RATE","xfd","IPMT","per","ipmt","PPMT","CUMPRINC","tn","ts","te","monthlyPayment","remainingBalanceAtStart","remainingBalanceAtEnd","CUMIPMT","cip","NPV","flows","npv","IRR","npv1","EFFECT","nominal_rate","npery","NOMINAL","effect_rate","XNPV","XIRR","ISPMT","DB","cost","salvage","life","period","db","DDB","factor","prior","dep","SLN","SYD","VDB","no_switch","_getGDA","gda","oldValue","interest","_interVDB","life1","term","remValue","intEnd","lia","vdb","nowLia","intStart","_edate","_daysBetween","basis","_borderCoupons","settlement","maturity","freq","sett","periods","_borderCoupons_fw","COUPDAYBS","frequency","COUPDAYS","settl","matur","COUPDAYSNC","COUPPCD","COUPNCD","COUPNUM","mat","ACCRINTM","issue","par","year_days","ACCRINT","_numCoupons","annual","brace","prev1","next1","nrc","accr","DISC","redemption","INTRATE","investment","RECEIVED","discount","PRICE","yld","beg_settl","settl_end","beg_end","den","yf","PRICEDISC","dsm","COUPS_ARGS","ac","withPreventDefault","BORDER_TYPES","BORDER_PALETTE_MESSAGES","ColorChooser","BorderPalette","borderPalette","customColor","_resetButton","_colorPalette","_customColorPalette","_customColorButton","resetButton","resetColor","customColorButton","colorPalette","flatColorPicker","class","kendoColorPalette","viewModel","kendoWindow","resizable","maximizable","modal","kendoFlatColorPicker","observable","_borderTypePalette","_borderColorPalette","colorChooser","_colorChange","ToolBar","MESSAGES","defaultTools","toolDefaults","SpreadsheetToolBar","DropDownTool","PopupTool","OverflowDialogButton","ColorPickerButton","FONT_SIZES","DEFAULT_FONT_SIZE","FontSize","FontSizeButton","FONT_FAMILIES","DEFAULT_FONT_FAMILY","FontFamily","FontFamilyButton","Format","FormatButton","BorderChangeTool","BorderChangeButton","AlignmentTool","AlignmentButton","MergeTool","MergeButton","FreezeTool","FreezeButton","Sort","SortButton","FilterButton","Open","alignmentButtons","justtifyLeft","justifyCenter","justifyRight","justifyFull","alignTop","alignMiddle","alignBottom","colorPicker","formatTypes","automatic","financial","dateTime","moreFormats","formatDecreaseDecimal","formatIncreaseDecimal","freeze","freezeButtons","freezePanes","freezeRows","freezeColumns","mergeButtons","mergeHorizontally","mergeVertically","quickAccess","exportAs","toggleGridlines","sortAsc","sortDesc","sortButtons","sortSheetAsc","sortSheetDesc","sortRangeAsc","sortRangeDesc","textColor","textWrap","hyperlink","iconClass","dialogName","togglable","formatCells","_expandTools","tools","toolbarName","handleClick","_addSeparators","expandTool","toolName","isPlainObject","spriteCssClass","typeDefaults","splitButton","tool","attributes","menuButtons","commandType","setToggle","_tools","_getItem","instance","Item","dropDownList","kendoDropDownList","addUidAttr","addOverflowAttr","_open","data-command","data-property","listWidth","ddl","_listWidth","popupName","registerComponent","ToolBarButton","_dialogName","OverflowButton","iconName","comboBox","kendoComboBox","_valueChange","clearButton","fontSizes","sizes","defaultSize","fontFamilies","defaultFont","_revertTitle","dataValuePrimitive","valueTemplate","sample","_borderPalette","_action","_commandPalette","_title","_reset","_quickAccessButtons","toolbars","contentElements","_toolbar","quickAccessToolBar","buttonTemplate","tabGroup","uniqueBy","basicErrorDialog","MessageDialog","messageId","ObservableObject","registry","SpreadsheetDialog","FormatCellsViewModel","FormatCellsDialog","ValidationErrorDialog","FontFamilyDialog","FontSizeDialog","BordersDialog","ColorPickerDialog","CustomColorDialog","AlignmentDialog","MergeDialog","FreezeDialog","ValidationViewModel","ValidationDialog","ExportAsDialog","UseKeyboardDialog","HyperlinkDialog","retry","revert","okText","formatCellsDialog","categories","fontFamilyDialog","fontSizeDialog","bordersDialog","alignmentDialog","mergeDialog","freezeDialog","validationDialog","hintMessage","hintTitle","any","comparers","comparerMessages","labels","onInvalidData","rejectInput","showWarning","showHint","ignoreBlank","showListButton","showCalendarButton","placeholders","typeTitle","typeMessage","exportAsDialog","saveAsType","exportArea","margins","guidelines","modifyMergedDialog","errorMessage","rangeDisabledDialog","incompatibleRangesDialog","noFillDirectionDialog","duplicateSheetNameDialog","overflowDialog","useKeyboardDialog","forCopy","forCut","forPaste","unsupportedSelectionDialog","linkDialog","removeLink","dialogClass","autoFocus","_dialog","_onDialogClose","_onDialogActivate","_onDialogDeactivate","useCategory","category","formatCurrency","currencies","allFormats","useFirstFormat","info","_currency","iso","convert","categoryFilter","pattern","abbr","defaultOptions","_generateFormats","calendarPatterns","currenciesFrom","numberFormats","dateFormats","currencyFilter","roleSelector","description","_list","_colorPicker","ValidationCellsViewModel","criterion","setHintMessageTemplate","shouldBuild","buildMessages","hintTitleTemplate","hintMessageTemplate","setComparers","defaultHintTitle","text_comparers","defaultComparers","defaultHintMessage","isAny","showToForNumber","showTo","showToForDate","isText","isList","isCustom","showRemove","fromValidationObject","useCustomMessages","toValidationObject","errorTemplate","validatable","Validator","validateOnBlur","validate","fileFormats","fitWidth","areas","paperSizes","hCenter","vCenter","model","stopPropagation","o","_normalizeColumns","_dataSource","_header","_boundRowsCount","_sheetChangeHandler","_sheetDeleteRowHandler","_sheetDeleteRow","_sheetInsertRowHandler","_sheetInsertRow","getters","_skipRebind","record","valueIndex","colValueIndex","_changeHandler","getterIdx","distinctValues","query","itemVisible","anyVisibleChildren","hasVisibleChildren","HierarchicalDataSource","uncheckAll","hasChildren","flattenOperators","operators","FILTERMENU_MESSAGES","Details","templates","FilterMenuViewModel","FilterMenuController","details","detailsSummary","detailsContent","iconCollapse","iconExpand","iconSearch","textbox","filterByCondition","filterByValue","valuesTreeViewWrapper","actionButtons","_summary","_toggle","_icon","_container","fx","sortAscending","sortDescending","addToCurrent","operatorNone","and","doesnotcontain","startswith","endswith","neq","gte","lte","binders","spreadsheetFilterValue","Binder","bindings","binding","menuItem","valuesChange","valuesDataSource","lastIndexOf","appendToSearch","valueSelect","hasActiveSearch","filterValues","operatorChange","isNone","isString","valuesTree","filterType","topValue","filterForColumn","allFilters","columnFilters","_filterInit","_filterByCondition","_filterByValue","_actionButtons","valuesTreeView","_active","activeFilter","kendoMenu","_appendTemplate","compiledTemplate","_detailToggle","not","isExpanded","activeContainer","hasClass","notEqual","oldRect","newRect","barInput","cellInput","_triggerUpdate","lastActive","activeElement","inputType","linearRegression","findSeries","findStep","forEachSeries","formatType","getType","lst","findStringList","stringLists","strl","ERR_INCOMPATIBLE","ERR_NO_DIRECTION","srcRange","srcIdx","destRange","CLASS_NAMES","success","combo","ignoreCase","_on_listChange","noDataTemplate","getKendoComboBox","_on_keyDown","_on_focus","_deleteItem","_prevValue","distributeCoords","heights","curr","getMergedCells","primary","secondary","scaleFactor","boxWidth","boxHeight","rowHeights","colWidths","nonEmpty","relrow","relcol","cw","emptyCells","orlast","normalOrder","drawLayout","endbottom","endright","GUIDELINE_WIDTH","ncols","nrows","r2d2","vtrans","rect_left","rect_top","rect_width","rect_height","makeFontDef","lines","text_height","paraBreak","htrans","text_width","lineBreak","paper","Spreadsheet","_controller","_autoRefresh","_bindWorkbookEvents","_resizeHandler","_workbookChange","autoRefresh","_workbookExcelExport","_workbookExcelImport","_initProgress","kendoProgressBar","chunkCount","_workbookPdfExport"],"mappings":"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","file":"kendo.spreadsheet.min.js","sourcesContent":["/** \n * Kendo UI v2016.3.1118 (http://www.telerik.com/kendo-ui)                                                                                                                                              \n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \n *                                                                                                                                                                                                      \n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.color', ['kendo.core'], f);\n}(function () {\n    var __meta__ = {\n        id: 'color',\n        name: 'Color utils',\n        category: 'framework',\n        advanced: true,\n        description: 'Color utilities used across components',\n        depends: ['core']\n    };\n    (function ($, parseFloat, parseInt) {\n        var Color = function (value) {\n            var color = this, formats = Color.formats, re, processor, parts, i, channels;\n            if (arguments.length === 1) {\n                value = color.resolveColor(value);\n                for (i = 0; i < formats.length; i++) {\n                    re = formats[i].re;\n                    processor = formats[i].process;\n                    parts = re.exec(value);\n                    if (parts) {\n                        channels = processor(parts);\n                        color.r = channels[0];\n                        color.g = channels[1];\n                        color.b = channels[2];\n                    }\n                }\n            } else {\n                color.r = arguments[0];\n                color.g = arguments[1];\n                color.b = arguments[2];\n            }\n            color.r = color.normalizeByte(color.r);\n            color.g = color.normalizeByte(color.g);\n            color.b = color.normalizeByte(color.b);\n        };\n        Color.prototype = {\n            toHex: function () {\n                var color = this, pad = color.padDigit, r = color.r.toString(16), g = color.g.toString(16), b = color.b.toString(16);\n                return '#' + pad(r) + pad(g) + pad(b);\n            },\n            resolveColor: function (value) {\n                value = value || 'black';\n                if (value.charAt(0) == '#') {\n                    value = value.substr(1, 6);\n                }\n                value = value.replace(/ /g, '');\n                value = value.toLowerCase();\n                value = Color.namedColors[value] || value;\n                return value;\n            },\n            normalizeByte: function (value) {\n                return value < 0 || isNaN(value) ? 0 : value > 255 ? 255 : value;\n            },\n            padDigit: function (value) {\n                return value.length === 1 ? '0' + value : value;\n            },\n            brightness: function (value) {\n                var color = this, round = Math.round;\n                color.r = round(color.normalizeByte(color.r * value));\n                color.g = round(color.normalizeByte(color.g * value));\n                color.b = round(color.normalizeByte(color.b * value));\n                return color;\n            },\n            percBrightness: function () {\n                var color = this;\n                return Math.sqrt(0.241 * color.r * color.r + 0.691 * color.g * color.g + 0.068 * color.b * color.b);\n            }\n        };\n        Color.formats = [\n            {\n                re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n                process: function (parts) {\n                    return [\n                        parseInt(parts[1], 10),\n                        parseInt(parts[2], 10),\n                        parseInt(parts[3], 10)\n                    ];\n                }\n            },\n            {\n                re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n                process: function (parts) {\n                    return [\n                        parseInt(parts[1], 16),\n                        parseInt(parts[2], 16),\n                        parseInt(parts[3], 16)\n                    ];\n                }\n            },\n            {\n                re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n                process: function (parts) {\n                    return [\n                        parseInt(parts[1] + parts[1], 16),\n                        parseInt(parts[2] + parts[2], 16),\n                        parseInt(parts[3] + parts[3], 16)\n                    ];\n                }\n            }\n        ];\n        Color.namedColors = {\n            aliceblue: 'f0f8ff',\n            antiquewhite: 'faebd7',\n            aqua: '00ffff',\n            aquamarine: '7fffd4',\n            azure: 'f0ffff',\n            beige: 'f5f5dc',\n            bisque: 'ffe4c4',\n            black: '000000',\n            blanchedalmond: 'ffebcd',\n            blue: '0000ff',\n            blueviolet: '8a2be2',\n            brown: 'a52a2a',\n            burlywood: 'deb887',\n            cadetblue: '5f9ea0',\n            chartreuse: '7fff00',\n            chocolate: 'd2691e',\n            coral: 'ff7f50',\n            cornflowerblue: '6495ed',\n            cornsilk: 'fff8dc',\n            crimson: 'dc143c',\n            cyan: '00ffff',\n            darkblue: '00008b',\n            darkcyan: '008b8b',\n            darkgoldenrod: 'b8860b',\n            darkgray: 'a9a9a9',\n            darkgrey: 'a9a9a9',\n            darkgreen: '006400',\n            darkkhaki: 'bdb76b',\n            darkmagenta: '8b008b',\n            darkolivegreen: '556b2f',\n            darkorange: 'ff8c00',\n            darkorchid: '9932cc',\n            darkred: '8b0000',\n            darksalmon: 'e9967a',\n            darkseagreen: '8fbc8f',\n            darkslateblue: '483d8b',\n            darkslategray: '2f4f4f',\n            darkslategrey: '2f4f4f',\n            darkturquoise: '00ced1',\n            darkviolet: '9400d3',\n            deeppink: 'ff1493',\n            deepskyblue: '00bfff',\n            dimgray: '696969',\n            dimgrey: '696969',\n            dodgerblue: '1e90ff',\n            firebrick: 'b22222',\n            floralwhite: 'fffaf0',\n            forestgreen: '228b22',\n            fuchsia: 'ff00ff',\n            gainsboro: 'dcdcdc',\n            ghostwhite: 'f8f8ff',\n            gold: 'ffd700',\n            goldenrod: 'daa520',\n            gray: '808080',\n            grey: '808080',\n            green: '008000',\n            greenyellow: 'adff2f',\n            honeydew: 'f0fff0',\n            hotpink: 'ff69b4',\n            indianred: 'cd5c5c',\n            indigo: '4b0082',\n            ivory: 'fffff0',\n            khaki: 'f0e68c',\n            lavender: 'e6e6fa',\n            lavenderblush: 'fff0f5',\n            lawngreen: '7cfc00',\n            lemonchiffon: 'fffacd',\n            lightblue: 'add8e6',\n            lightcoral: 'f08080',\n            lightcyan: 'e0ffff',\n            lightgoldenrodyellow: 'fafad2',\n            lightgray: 'd3d3d3',\n            lightgrey: 'd3d3d3',\n            lightgreen: '90ee90',\n            lightpink: 'ffb6c1',\n            lightsalmon: 'ffa07a',\n            lightseagreen: '20b2aa',\n            lightskyblue: '87cefa',\n            lightslategray: '778899',\n            lightslategrey: '778899',\n            lightsteelblue: 'b0c4de',\n            lightyellow: 'ffffe0',\n            lime: '00ff00',\n            limegreen: '32cd32',\n            linen: 'faf0e6',\n            magenta: 'ff00ff',\n            maroon: '800000',\n            mediumaquamarine: '66cdaa',\n            mediumblue: '0000cd',\n            mediumorchid: 'ba55d3',\n            mediumpurple: '9370d8',\n            mediumseagreen: '3cb371',\n            mediumslateblue: '7b68ee',\n            mediumspringgreen: '00fa9a',\n            mediumturquoise: '48d1cc',\n            mediumvioletred: 'c71585',\n            midnightblue: '191970',\n            mintcream: 'f5fffa',\n            mistyrose: 'ffe4e1',\n            moccasin: 'ffe4b5',\n            navajowhite: 'ffdead',\n            navy: '000080',\n            oldlace: 'fdf5e6',\n            olive: '808000',\n            olivedrab: '6b8e23',\n            orange: 'ffa500',\n            orangered: 'ff4500',\n            orchid: 'da70d6',\n            palegoldenrod: 'eee8aa',\n            palegreen: '98fb98',\n            paleturquoise: 'afeeee',\n            palevioletred: 'd87093',\n            papayawhip: 'ffefd5',\n            peachpuff: 'ffdab9',\n            peru: 'cd853f',\n            pink: 'ffc0cb',\n            plum: 'dda0dd',\n            powderblue: 'b0e0e6',\n            purple: '800080',\n            red: 'ff0000',\n            rosybrown: 'bc8f8f',\n            royalblue: '4169e1',\n            saddlebrown: '8b4513',\n            salmon: 'fa8072',\n            sandybrown: 'f4a460',\n            seagreen: '2e8b57',\n            seashell: 'fff5ee',\n            sienna: 'a0522d',\n            silver: 'c0c0c0',\n            skyblue: '87ceeb',\n            slateblue: '6a5acd',\n            slategray: '708090',\n            slategrey: '708090',\n            snow: 'fffafa',\n            springgreen: '00ff7f',\n            steelblue: '4682b4',\n            tan: 'd2b48c',\n            teal: '008080',\n            thistle: 'd8bfd8',\n            tomato: 'ff6347',\n            turquoise: '40e0d0',\n            violet: 'ee82ee',\n            wheat: 'f5deb3',\n            white: 'ffffff',\n            whitesmoke: 'f5f5f5',\n            yellow: 'ffff00',\n            yellowgreen: '9acd32'\n        };\n        var namedColorRegexp = ['transparent'];\n        for (var i in Color.namedColors) {\n            if (Color.namedColors.hasOwnProperty(i)) {\n                namedColorRegexp.push(i);\n            }\n        }\n        namedColorRegexp = new RegExp('^(' + namedColorRegexp.join('|') + ')(\\\\W|$)', 'i');\n        function parseColor(color, nothrow) {\n            var m, ret;\n            if (color == null || color == 'none') {\n                return null;\n            }\n            if (color instanceof _Color) {\n                return color;\n            }\n            color = color.toLowerCase();\n            if (m = namedColorRegexp.exec(color)) {\n                if (m[1] == 'transparent') {\n                    color = new _RGB(1, 1, 1, 0);\n                } else {\n                    color = parseColor(Color.namedColors[m[1]], nothrow);\n                }\n                color.match = [m[1]];\n                return color;\n            }\n            if (m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color)) {\n                ret = new _Bytes(parseInt(m[1], 16), parseInt(m[2], 16), parseInt(m[3], 16), 1);\n            } else if (m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color)) {\n                ret = new _Bytes(parseInt(m[1] + m[1], 16), parseInt(m[2] + m[2], 16), parseInt(m[3] + m[3], 16), 1);\n            } else if (m = /^rgb\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/.exec(color)) {\n                ret = new _Bytes(parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10), 1);\n            } else if (m = /^rgba\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color)) {\n                ret = new _Bytes(parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10), parseFloat(m[4]));\n            } else if (m = /^rgb\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*\\)/.exec(color)) {\n                ret = new _RGB(parseFloat(m[1]) / 100, parseFloat(m[2]) / 100, parseFloat(m[3]) / 100, 1);\n            } else if (m = /^rgba\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color)) {\n                ret = new _RGB(parseFloat(m[1]) / 100, parseFloat(m[2]) / 100, parseFloat(m[3]) / 100, parseFloat(m[4]));\n            }\n            if (ret) {\n                ret.match = m;\n            } else if (!nothrow) {\n                throw new Error('Cannot parse color: ' + color);\n            }\n            return ret;\n        }\n        function hex(n, width, pad) {\n            if (!pad) {\n                pad = '0';\n            }\n            n = n.toString(16);\n            while (width > n.length) {\n                n = '0' + n;\n            }\n            return n;\n        }\n        function hue2rgb(p, q, t) {\n            if (t < 0) {\n                t += 1;\n            }\n            if (t > 1) {\n                t -= 1;\n            }\n            if (t < 1 / 6) {\n                return p + (q - p) * 6 * t;\n            }\n            if (t < 1 / 2) {\n                return q;\n            }\n            if (t < 2 / 3) {\n                return p + (q - p) * (2 / 3 - t) * 6;\n            }\n            return p;\n        }\n        var _Color = kendo.Class.extend({\n            toHSV: function () {\n                return this;\n            },\n            toRGB: function () {\n                return this;\n            },\n            toHex: function () {\n                return this.toBytes().toHex();\n            },\n            toBytes: function () {\n                return this;\n            },\n            toCss: function () {\n                return '#' + this.toHex();\n            },\n            toCssRgba: function () {\n                var rgb = this.toBytes();\n                return 'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', ' + parseFloat((+this.a).toFixed(3)) + ')';\n            },\n            toDisplay: function () {\n                if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n                    return this.toCss();\n                }\n                return this.toCssRgba();\n            },\n            equals: function (c) {\n                return c === this || c !== null && this.toCssRgba() == parseColor(c).toCssRgba();\n            },\n            diff: function (c2) {\n                if (c2 == null) {\n                    return NaN;\n                }\n                var c1 = this.toBytes();\n                c2 = c2.toBytes();\n                return Math.sqrt(Math.pow((c1.r - c2.r) * 0.3, 2) + Math.pow((c1.g - c2.g) * 0.59, 2) + Math.pow((c1.b - c2.b) * 0.11, 2));\n            },\n            clone: function () {\n                var c = this.toBytes();\n                if (c === this) {\n                    c = new _Bytes(c.r, c.g, c.b, c.a);\n                }\n                return c;\n            }\n        });\n        var _RGB = _Color.extend({\n            init: function (r, g, b, a) {\n                this.r = r;\n                this.g = g;\n                this.b = b;\n                this.a = a;\n            },\n            toHSV: function () {\n                var min, max, delta, h, s, v;\n                var r = this.r, g = this.g, b = this.b;\n                min = Math.min(r, g, b);\n                max = Math.max(r, g, b);\n                v = max;\n                delta = max - min;\n                if (delta === 0) {\n                    return new _HSV(0, 0, v, this.a);\n                }\n                if (max !== 0) {\n                    s = delta / max;\n                    if (r == max) {\n                        h = (g - b) / delta;\n                    } else if (g == max) {\n                        h = 2 + (b - r) / delta;\n                    } else {\n                        h = 4 + (r - g) / delta;\n                    }\n                    h *= 60;\n                    if (h < 0) {\n                        h += 360;\n                    }\n                } else {\n                    s = 0;\n                    h = -1;\n                }\n                return new _HSV(h, s, v, this.a);\n            },\n            toHSL: function () {\n                var r = this.r, g = this.g, b = this.b;\n                var max = Math.max(r, g, b), min = Math.min(r, g, b);\n                var h, s, l = (max + min) / 2;\n                if (max == min) {\n                    h = s = 0;\n                } else {\n                    var d = max - min;\n                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n                    switch (max) {\n                    case r:\n                        h = (g - b) / d + (g < b ? 6 : 0);\n                        break;\n                    case g:\n                        h = (b - r) / d + 2;\n                        break;\n                    case b:\n                        h = (r - g) / d + 4;\n                        break;\n                    }\n                    h *= 60;\n                    s *= 100;\n                    l *= 100;\n                }\n                return new _HSL(h, s, l, this.a);\n            },\n            toBytes: function () {\n                return new _Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);\n            }\n        });\n        var _Bytes = _RGB.extend({\n            init: function (r, g, b, a) {\n                this.r = Math.round(r);\n                this.g = Math.round(g);\n                this.b = Math.round(b);\n                this.a = a;\n            },\n            toRGB: function () {\n                return new _RGB(this.r / 255, this.g / 255, this.b / 255, this.a);\n            },\n            toHSV: function () {\n                return this.toRGB().toHSV();\n            },\n            toHSL: function () {\n                return this.toRGB().toHSL();\n            },\n            toHex: function () {\n                return hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);\n            },\n            toBytes: function () {\n                return this;\n            }\n        });\n        var _HSV = _Color.extend({\n            init: function (h, s, v, a) {\n                this.h = h;\n                this.s = s;\n                this.v = v;\n                this.a = a;\n            },\n            toRGB: function () {\n                var h = this.h, s = this.s, v = this.v;\n                var i, r, g, b, f, p, q, t;\n                if (s === 0) {\n                    r = g = b = v;\n                } else {\n                    h /= 60;\n                    i = Math.floor(h);\n                    f = h - i;\n                    p = v * (1 - s);\n                    q = v * (1 - s * f);\n                    t = v * (1 - s * (1 - f));\n                    switch (i) {\n                    case 0:\n                        r = v;\n                        g = t;\n                        b = p;\n                        break;\n                    case 1:\n                        r = q;\n                        g = v;\n                        b = p;\n                        break;\n                    case 2:\n                        r = p;\n                        g = v;\n                        b = t;\n                        break;\n                    case 3:\n                        r = p;\n                        g = q;\n                        b = v;\n                        break;\n                    case 4:\n                        r = t;\n                        g = p;\n                        b = v;\n                        break;\n                    default:\n                        r = v;\n                        g = p;\n                        b = q;\n                        break;\n                    }\n                }\n                return new _RGB(r, g, b, this.a);\n            },\n            toHSL: function () {\n                return this.toRGB().toHSL();\n            },\n            toBytes: function () {\n                return this.toRGB().toBytes();\n            }\n        });\n        var _HSL = _Color.extend({\n            init: function (h, s, l, a) {\n                this.h = h;\n                this.s = s;\n                this.l = l;\n                this.a = a;\n            },\n            toRGB: function () {\n                var h = this.h, s = this.s, l = this.l;\n                var r, g, b;\n                if (s === 0) {\n                    r = g = b = l;\n                } else {\n                    h /= 360;\n                    s /= 100;\n                    l /= 100;\n                    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n                    var p = 2 * l - q;\n                    r = hue2rgb(p, q, h + 1 / 3);\n                    g = hue2rgb(p, q, h);\n                    b = hue2rgb(p, q, h - 1 / 3);\n                }\n                return new _RGB(r, g, b, this.a);\n            },\n            toHSV: function () {\n                return this.toRGB().toHSV();\n            },\n            toBytes: function () {\n                return this.toRGB().toBytes();\n            }\n        });\n        Color.fromBytes = function (r, g, b, a) {\n            return new _Bytes(r, g, b, a != null ? a : 1);\n        };\n        Color.fromRGB = function (r, g, b, a) {\n            return new _RGB(r, g, b, a != null ? a : 1);\n        };\n        Color.fromHSV = function (h, s, v, a) {\n            return new _HSV(h, s, v, a != null ? a : 1);\n        };\n        Color.fromHSL = function (h, s, l, a) {\n            return new _HSL(h, s, l, a != null ? a : 1);\n        };\n        kendo.Color = Color;\n        kendo.parseColor = parseColor;\n    }(window.kendo.jQuery, parseFloat, parseInt));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n/** \n * Kendo UI v2016.3.1118 (http://www.telerik.com/kendo-ui)                                                                                                                                              \n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \n *                                                                                                                                                                                                      \n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.colorpicker', [\n        'kendo.core',\n        'kendo.color',\n        'kendo.popup',\n        'kendo.slider',\n        'kendo.userevents'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'colorpicker',\n        name: 'Color tools',\n        category: 'web',\n        description: 'Color selection widgets',\n        depends: [\n            'core',\n            'color',\n            'popup',\n            'slider',\n            'userevents'\n        ]\n    };\n    (function ($, parseInt, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Widget = ui.Widget, parseColor = kendo.parseColor, Color = kendo.Color, KEYS = kendo.keys, BACKGROUNDCOLOR = 'background-color', ITEMSELECTEDCLASS = 'k-state-selected', SIMPLEPALETTE = '000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7', WEBPALETTE = 'FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000', APPLY_CANCEL = {\n                apply: 'Apply',\n                cancel: 'Cancel'\n            }, NS = '.kendoColorTools', CLICK_NS = 'click' + NS, KEYDOWN_NS = 'keydown' + NS, browser = kendo.support.browser, isIE8 = browser.msie && browser.version < 9;\n        var ColorSelector = Widget.extend({\n            init: function (element, options) {\n                var that = this, ariaId;\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n                that._value = options.value = parseColor(options.value);\n                that._tabIndex = element.attr('tabIndex') || 0;\n                ariaId = that._ariaId = options.ariaId;\n                if (ariaId) {\n                    element.attr('aria-labelledby', ariaId);\n                }\n                if (options._standalone) {\n                    that._triggerSelect = that._triggerChange;\n                }\n            },\n            options: {\n                name: 'ColorSelector',\n                value: null,\n                _standalone: true\n            },\n            events: [\n                'change',\n                'select',\n                'cancel'\n            ],\n            color: function (value) {\n                if (value !== undefined) {\n                    this._value = parseColor(value);\n                    this._updateUI(this._value);\n                }\n                return this._value;\n            },\n            value: function (color) {\n                color = this.color(color);\n                if (color) {\n                    if (this.options.opacity) {\n                        color = color.toCssRgba();\n                    } else {\n                        color = color.toCss();\n                    }\n                }\n                return color || null;\n            },\n            enable: function (enable) {\n                if (arguments.length === 0) {\n                    enable = true;\n                }\n                $('.k-disabled-overlay', this.wrapper).remove();\n                if (!enable) {\n                    this.wrapper.append('<div class=\\'k-disabled-overlay\\'></div>');\n                }\n                this._onEnable(enable);\n            },\n            _select: function (color, nohooks) {\n                var prev = this._value;\n                color = this.color(color);\n                if (!nohooks) {\n                    this.element.trigger('change');\n                    if (!color.equals(prev)) {\n                        this.trigger('change', { value: this.value() });\n                    } else if (!this._standalone) {\n                        this.trigger('cancel');\n                    }\n                }\n            },\n            _triggerSelect: function (color) {\n                triggerEvent(this, 'select', color);\n            },\n            _triggerChange: function (color) {\n                triggerEvent(this, 'change', color);\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element.off(NS);\n                }\n                if (this.wrapper) {\n                    this.wrapper.off(NS).find('*').off(NS);\n                }\n                this.wrapper = null;\n                Widget.fn.destroy.call(this);\n            },\n            _updateUI: $.noop,\n            _selectOnHide: function () {\n                return null;\n            },\n            _cancel: function () {\n                this.trigger('cancel');\n            }\n        });\n        function triggerEvent(self, type, color) {\n            color = parseColor(color);\n            if (color && !color.equals(self.color())) {\n                if (type == 'change') {\n                    self._value = color;\n                }\n                if (color.a != 1) {\n                    color = color.toCssRgba();\n                } else {\n                    color = color.toCss();\n                }\n                self.trigger(type, { value: color });\n            }\n        }\n        var ColorPalette = ColorSelector.extend({\n            init: function (element, options) {\n                var that = this;\n                ColorSelector.fn.init.call(that, element, options);\n                element = that.wrapper = that.element;\n                options = that.options;\n                var colors = options.palette;\n                if (colors == 'websafe') {\n                    colors = WEBPALETTE;\n                    options.columns = 18;\n                } else if (colors == 'basic') {\n                    colors = SIMPLEPALETTE;\n                }\n                if (typeof colors == 'string') {\n                    colors = colors.split(',');\n                }\n                if ($.isArray(colors)) {\n                    colors = $.map(colors, function (x) {\n                        return parseColor(x);\n                    });\n                }\n                that._selectedID = (options.ariaId || kendo.guid()) + '_selected';\n                element.addClass('k-widget k-colorpalette').attr('role', 'grid').attr('aria-readonly', 'true').append($(that._template({\n                    colors: colors,\n                    columns: options.columns,\n                    tileSize: options.tileSize,\n                    value: that._value,\n                    id: options.ariaId\n                }))).on(CLICK_NS, '.k-item', function (ev) {\n                    that._select($(ev.currentTarget).css(BACKGROUNDCOLOR));\n                }).attr('tabIndex', that._tabIndex).on(KEYDOWN_NS, bind(that._keydown, that));\n                var tileSize = options.tileSize, width, height;\n                if (tileSize) {\n                    if (/number|string/.test(typeof tileSize)) {\n                        width = height = parseFloat(tileSize);\n                    } else if (typeof tileSize == 'object') {\n                        width = parseFloat(tileSize.width);\n                        height = parseFloat(tileSize.height);\n                    } else {\n                        throw new Error('Unsupported value for the \\'tileSize\\' argument');\n                    }\n                    element.find('.k-item').css({\n                        width: width,\n                        height: height\n                    });\n                }\n            },\n            focus: function () {\n                this.wrapper.focus();\n            },\n            options: {\n                name: 'ColorPalette',\n                columns: 10,\n                tileSize: null,\n                palette: 'basic'\n            },\n            _onEnable: function (enable) {\n                if (enable) {\n                    this.wrapper.attr('tabIndex', this._tabIndex);\n                } else {\n                    this.wrapper.removeAttr('tabIndex');\n                }\n            },\n            _keydown: function (e) {\n                var selected, wrapper = this.wrapper, items = wrapper.find('.k-item'), current = items.filter('.' + ITEMSELECTEDCLASS).get(0), keyCode = e.keyCode;\n                if (keyCode == KEYS.LEFT) {\n                    selected = relative(items, current, -1);\n                } else if (keyCode == KEYS.RIGHT) {\n                    selected = relative(items, current, 1);\n                } else if (keyCode == KEYS.DOWN) {\n                    selected = relative(items, current, this.options.columns);\n                } else if (keyCode == KEYS.UP) {\n                    selected = relative(items, current, -this.options.columns);\n                } else if (keyCode == KEYS.ENTER) {\n                    preventDefault(e);\n                    if (current) {\n                        this._select($(current).css(BACKGROUNDCOLOR));\n                    }\n                } else if (keyCode == KEYS.ESC) {\n                    this._cancel();\n                }\n                if (selected) {\n                    preventDefault(e);\n                    this._current(selected);\n                    try {\n                        var color = parseColor(selected.css(BACKGROUNDCOLOR));\n                        this._triggerSelect(color);\n                    } catch (ex) {\n                    }\n                }\n            },\n            _current: function (item) {\n                this.wrapper.find('.' + ITEMSELECTEDCLASS).removeClass(ITEMSELECTEDCLASS).attr('aria-selected', false).removeAttr('id');\n                $(item).addClass(ITEMSELECTEDCLASS).attr('aria-selected', true).attr('id', this._selectedID);\n                this.element.removeAttr('aria-activedescendant').attr('aria-activedescendant', this._selectedID);\n            },\n            _updateUI: function (color) {\n                var item = null;\n                this.wrapper.find('.k-item').each(function () {\n                    var c = parseColor($(this).css(BACKGROUNDCOLOR));\n                    if (c && c.equals(color)) {\n                        item = this;\n                        return false;\n                    }\n                });\n                this._current(item);\n            },\n            _template: kendo.template('<table class=\"k-palette k-reset\" role=\"presentation\"><tr role=\"row\">' + '# for (var i = 0; i < colors.length; ++i) { #' + '# var selected = colors[i].equals(value); #' + '# if (i && i % columns == 0) { # </tr><tr role=\"row\"> # } #' + '<td role=\"gridcell\" unselectable=\"on\" style=\"background-color:#= colors[i].toCss() #\"' + '#= selected ? \" aria-selected=true\" : \"\" # ' + '#=(id && i === 0) ? \"id=\\\\\"\"+id+\"\\\\\" \" : \"\" # ' + 'class=\"k-item#= selected ? \" ' + ITEMSELECTEDCLASS + '\" : \"\" #\" ' + 'aria-label=\"#= colors[i].toCss() #\"></td>' + '# } #' + '</tr></table>')\n        });\n        var FlatColorPicker = ColorSelector.extend({\n            init: function (element, options) {\n                var that = this;\n                ColorSelector.fn.init.call(that, element, options);\n                options = that.options;\n                element = that.element;\n                that.wrapper = element.addClass('k-widget k-flatcolorpicker').append(that._template(options));\n                that._hueElements = $('.k-hsv-rectangle, .k-transparency-slider .k-slider-track', element);\n                that._selectedColor = $('.k-selected-color-display', element);\n                that._colorAsText = $('input.k-color-value', element);\n                that._sliders();\n                that._hsvArea();\n                that._updateUI(that._value || parseColor('#f00'));\n                element.find('input.k-color-value').on(KEYDOWN_NS, function (ev) {\n                    var input = this;\n                    if (ev.keyCode == KEYS.ENTER) {\n                        try {\n                            var color = parseColor(input.value);\n                            var val = that.color();\n                            that._select(color, color.equals(val));\n                        } catch (ex) {\n                            $(input).addClass('k-state-error');\n                        }\n                    } else if (that.options.autoupdate) {\n                        setTimeout(function () {\n                            var color = parseColor(input.value, true);\n                            if (color) {\n                                that._updateUI(color, true);\n                            }\n                        }, 10);\n                    }\n                }).end().on(CLICK_NS, '.k-controls button.apply', function () {\n                    that._select(that._getHSV());\n                }).on(CLICK_NS, '.k-controls button.cancel', function () {\n                    that._updateUI(that.color());\n                    that._cancel();\n                });\n                if (isIE8) {\n                    that._applyIEFilter();\n                }\n            },\n            destroy: function () {\n                this._hueSlider.destroy();\n                if (this._opacitySlider) {\n                    this._opacitySlider.destroy();\n                }\n                this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle = this._hueElements = this._selectedColor = this._colorAsText = null;\n                ColorSelector.fn.destroy.call(this);\n            },\n            options: {\n                name: 'FlatColorPicker',\n                opacity: false,\n                buttons: false,\n                input: true,\n                preview: true,\n                autoupdate: true,\n                messages: APPLY_CANCEL\n            },\n            _applyIEFilter: function () {\n                var track = this.element.find('.k-hue-slider .k-slider-track')[0], url = track.currentStyle.backgroundImage;\n                url = url.replace(/^url\\([\\'\\\"]?|[\\'\\\"]?\\)$/g, '');\n                track.style.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'' + url + '\\', sizingMethod=\\'scale\\')';\n            },\n            _sliders: function () {\n                var that = this, element = that.element;\n                function hueChange(e) {\n                    that._updateUI(that._getHSV(e.value, null, null, null));\n                }\n                that._hueSlider = element.find('.k-hue-slider').kendoSlider({\n                    min: 0,\n                    max: 360,\n                    tickPlacement: 'none',\n                    showButtons: false,\n                    slide: hueChange,\n                    change: hueChange\n                }).data('kendoSlider');\n                function opacityChange(e) {\n                    that._updateUI(that._getHSV(null, null, null, e.value / 100));\n                }\n                that._opacitySlider = element.find('.k-transparency-slider').kendoSlider({\n                    min: 0,\n                    max: 100,\n                    tickPlacement: 'none',\n                    showButtons: false,\n                    slide: opacityChange,\n                    change: opacityChange\n                }).data('kendoSlider');\n            },\n            _hsvArea: function () {\n                var that = this, element = that.element, hsvRect = element.find('.k-hsv-rectangle'), hsvHandle = hsvRect.find('.k-draghandle').attr('tabIndex', 0).on(KEYDOWN_NS, bind(that._keydown, that));\n                function update(x, y) {\n                    var offset = this.offset, dx = x - offset.left, dy = y - offset.top, rw = this.width, rh = this.height;\n                    dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                    dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                    that._svChange(dx / rw, 1 - dy / rh);\n                }\n                that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                    global: true,\n                    press: function (e) {\n                        this.offset = kendo.getOffset(hsvRect);\n                        this.width = hsvRect.width();\n                        this.height = hsvRect.height();\n                        hsvHandle.focus();\n                        update.call(this, e.x.location, e.y.location);\n                    },\n                    start: function () {\n                        hsvRect.addClass('k-dragging');\n                        hsvHandle.focus();\n                    },\n                    move: function (e) {\n                        e.preventDefault();\n                        update.call(this, e.x.location, e.y.location);\n                    },\n                    end: function () {\n                        hsvRect.removeClass('k-dragging');\n                    }\n                });\n                that._hsvRect = hsvRect;\n                that._hsvHandle = hsvHandle;\n            },\n            _onEnable: function (enable) {\n                this._hueSlider.enable(enable);\n                if (this._opacitySlider) {\n                    this._opacitySlider.enable(enable);\n                }\n                this.wrapper.find('input').attr('disabled', !enable);\n                var handle = this._hsvRect.find('.k-draghandle');\n                if (enable) {\n                    handle.attr('tabIndex', this._tabIndex);\n                } else {\n                    handle.removeAttr('tabIndex');\n                }\n            },\n            _keydown: function (ev) {\n                var that = this;\n                function move(prop, d) {\n                    var c = that._getHSV();\n                    c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                    if (c[prop] < 0) {\n                        c[prop] = 0;\n                    }\n                    if (c[prop] > 1) {\n                        c[prop] = 1;\n                    }\n                    that._updateUI(c);\n                    preventDefault(ev);\n                }\n                function hue(d) {\n                    var c = that._getHSV();\n                    c.h += d * (ev.shiftKey ? 1 : 5);\n                    if (c.h < 0) {\n                        c.h = 0;\n                    }\n                    if (c.h > 359) {\n                        c.h = 359;\n                    }\n                    that._updateUI(c);\n                    preventDefault(ev);\n                }\n                switch (ev.keyCode) {\n                case KEYS.LEFT:\n                    if (ev.ctrlKey) {\n                        hue(-1);\n                    } else {\n                        move('s', -1);\n                    }\n                    break;\n                case KEYS.RIGHT:\n                    if (ev.ctrlKey) {\n                        hue(1);\n                    } else {\n                        move('s', 1);\n                    }\n                    break;\n                case KEYS.UP:\n                    move(ev.ctrlKey && that._opacitySlider ? 'a' : 'v', 1);\n                    break;\n                case KEYS.DOWN:\n                    move(ev.ctrlKey && that._opacitySlider ? 'a' : 'v', -1);\n                    break;\n                case KEYS.ENTER:\n                    that._select(that._getHSV());\n                    break;\n                case KEYS.F2:\n                    that.wrapper.find('input.k-color-value').focus().select();\n                    break;\n                case KEYS.ESC:\n                    that._cancel();\n                    break;\n                }\n            },\n            focus: function () {\n                this._hsvHandle.focus();\n            },\n            _getHSV: function (h, s, v, a) {\n                var rect = this._hsvRect, width = rect.width(), height = rect.height(), handlePosition = this._hsvHandle.position();\n                if (h == null) {\n                    h = this._hueSlider.value();\n                }\n                if (s == null) {\n                    s = handlePosition.left / width;\n                }\n                if (v == null) {\n                    v = 1 - handlePosition.top / height;\n                }\n                if (a == null) {\n                    a = this._opacitySlider ? this._opacitySlider.value() / 100 : 1;\n                }\n                return Color.fromHSV(h, s, v, a);\n            },\n            _svChange: function (s, v) {\n                var color = this._getHSV(null, s, v, null);\n                this._updateUI(color);\n            },\n            _updateUI: function (color, dontChangeInput) {\n                var that = this, rect = that._hsvRect;\n                if (!color) {\n                    return;\n                }\n                this._colorAsText.removeClass('k-state-error');\n                that._selectedColor.css(BACKGROUNDCOLOR, color.toDisplay());\n                if (!dontChangeInput) {\n                    that._colorAsText.val(that._opacitySlider ? color.toCssRgba() : color.toCss());\n                }\n                that._triggerSelect(color);\n                color = color.toHSV();\n                that._hsvHandle.css({\n                    left: color.s * rect.width() + 'px',\n                    top: (1 - color.v) * rect.height() + 'px'\n                });\n                that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._hueSlider.value(color.h);\n                if (that._opacitySlider) {\n                    that._opacitySlider.value(100 * color.a);\n                }\n            },\n            _selectOnHide: function () {\n                return this.options.buttons ? null : this._getHSV();\n            },\n            _template: kendo.template('# if (preview) { #' + '<div class=\"k-selected-color\"><div class=\"k-selected-color-display\"><input class=\"k-color-value\" #= !data.input ? \\'style=\"visibility: hidden;\"\\' : \"\" #></div></div>' + '# } #' + '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"></div><div class=\"k-draghandle\"></div></div>' + '<input class=\"k-hue-slider\" />' + '# if (opacity) { #' + '<input class=\"k-transparency-slider\" />' + '# } #' + '# if (buttons) { #' + '<div unselectable=\"on\" class=\"k-controls\"><button class=\"k-button k-primary apply\">#: messages.apply #</button> <button class=\"k-button cancel\">#: messages.cancel #</button></div>' + '# } #')\n        });\n        function relative(array, element, delta) {\n            array = Array.prototype.slice.call(array);\n            var n = array.length;\n            var pos = array.indexOf(element);\n            if (pos < 0) {\n                return delta < 0 ? array[n - 1] : array[0];\n            }\n            pos += delta;\n            if (pos < 0) {\n                pos += n;\n            } else {\n                pos %= n;\n            }\n            return array[pos];\n        }\n        var ColorPicker = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                element = that.element;\n                var value = element.attr('value') || element.val();\n                if (value) {\n                    value = parseColor(value, true);\n                } else {\n                    value = parseColor(options.value, true);\n                }\n                that._value = options.value = value;\n                var content = that.wrapper = $(that._template(options));\n                element.hide().after(content);\n                if (element.is('input')) {\n                    element.appendTo(content);\n                    var label = element.closest('label');\n                    var id = element.attr('id');\n                    if (id) {\n                        label = label.add('label[for=\"' + id + '\"]');\n                    }\n                    label.click(function (ev) {\n                        that.open();\n                        ev.preventDefault();\n                    });\n                }\n                that._tabIndex = element.attr('tabIndex') || 0;\n                that.enable(!element.attr('disabled'));\n                var accesskey = element.attr('accesskey');\n                if (accesskey) {\n                    element.attr('accesskey', null);\n                    content.attr('accesskey', accesskey);\n                }\n                that.bind('activate', function (ev) {\n                    if (!ev.isDefaultPrevented()) {\n                        that.toggle();\n                    }\n                });\n                that._updateUI(value);\n            },\n            destroy: function () {\n                this.wrapper.off(NS).find('*').off(NS);\n                if (this._popup) {\n                    this._selector.destroy();\n                    this._popup.destroy();\n                }\n                this._selector = this._popup = this.wrapper = null;\n                Widget.fn.destroy.call(this);\n            },\n            enable: function (enable) {\n                var that = this, wrapper = that.wrapper, innerWrapper = wrapper.children('.k-picker-wrap'), arrow = innerWrapper.find('.k-select');\n                if (arguments.length === 0) {\n                    enable = true;\n                }\n                that.element.attr('disabled', !enable);\n                wrapper.attr('aria-disabled', !enable);\n                arrow.off(NS).on('mousedown' + NS, preventDefault);\n                wrapper.addClass('k-state-disabled').removeAttr('tabIndex').add('*', wrapper).off(NS);\n                if (enable) {\n                    wrapper.removeClass('k-state-disabled').attr('tabIndex', that._tabIndex).on('mouseenter' + NS, function () {\n                        innerWrapper.addClass('k-state-hover');\n                    }).on('mouseleave' + NS, function () {\n                        innerWrapper.removeClass('k-state-hover');\n                    }).on('focus' + NS, function () {\n                        innerWrapper.addClass('k-state-focused');\n                    }).on('blur' + NS, function () {\n                        innerWrapper.removeClass('k-state-focused');\n                    }).on(KEYDOWN_NS, bind(that._keydown, that)).on(CLICK_NS, '.k-select', bind(that.toggle, that)).on(CLICK_NS, that.options.toolIcon ? '.k-tool-icon' : '.k-selected-color', function () {\n                        that.trigger('activate');\n                    });\n                } else {\n                    that.close();\n                }\n            },\n            _template: kendo.template('<span role=\"textbox\" aria-haspopup=\"true\" class=\"k-widget k-colorpicker k-header\">' + '<span class=\"k-picker-wrap k-state-default\">' + '# if (toolIcon) { #' + '<span class=\"k-tool-icon #= toolIcon #\">' + '<span class=\"k-selected-color\"></span>' + '</span>' + '# } else { #' + '<span class=\"k-selected-color\"></span>' + '# } #' + '<span class=\"k-select\" unselectable=\"on\" aria-label=\"select\">' + '<span class=\"k-icon k-i-arrow-s\"></span>' + '</span>' + '</span>' + '</span>'),\n            options: {\n                name: 'ColorPicker',\n                palette: null,\n                columns: 10,\n                toolIcon: null,\n                value: null,\n                messages: APPLY_CANCEL,\n                opacity: false,\n                buttons: true,\n                preview: true,\n                ARIATemplate: 'Current selected color is #=data || \"\"#'\n            },\n            events: [\n                'activate',\n                'change',\n                'select',\n                'open',\n                'close'\n            ],\n            open: function () {\n                if (!this.element.prop('disabled')) {\n                    this._getPopup().open();\n                }\n            },\n            close: function () {\n                this._getPopup().close();\n            },\n            toggle: function () {\n                if (!this.element.prop('disabled')) {\n                    this._getPopup().toggle();\n                }\n            },\n            color: ColorSelector.fn.color,\n            value: ColorSelector.fn.value,\n            _select: ColorSelector.fn._select,\n            _triggerSelect: ColorSelector.fn._triggerSelect,\n            _isInputTypeColor: function () {\n                var el = this.element[0];\n                return /^input$/i.test(el.tagName) && /^color$/i.test(el.type);\n            },\n            _updateUI: function (value) {\n                var formattedValue = '';\n                if (value) {\n                    if (this._isInputTypeColor() || value.a == 1) {\n                        formattedValue = value.toCss();\n                    } else {\n                        formattedValue = value.toCssRgba();\n                    }\n                    this.element.val(formattedValue);\n                }\n                if (!this._ariaTemplate) {\n                    this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                }\n                this.wrapper.attr('aria-label', this._ariaTemplate(formattedValue));\n                this._triggerSelect(value);\n                this.wrapper.find('.k-selected-color').css(BACKGROUNDCOLOR, value ? value.toDisplay() : 'transparent');\n            },\n            _keydown: function (ev) {\n                var key = ev.keyCode;\n                if (this._getPopup().visible()) {\n                    if (key == KEYS.ESC) {\n                        this._selector._cancel();\n                    } else {\n                        this._selector._keydown(ev);\n                    }\n                    preventDefault(ev);\n                } else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                    this.open();\n                    preventDefault(ev);\n                }\n            },\n            _getPopup: function () {\n                var that = this, popup = that._popup;\n                if (!popup) {\n                    var options = that.options;\n                    var selectorType;\n                    if (options.palette) {\n                        selectorType = ColorPalette;\n                    } else {\n                        selectorType = FlatColorPicker;\n                    }\n                    options._standalone = false;\n                    delete options.select;\n                    delete options.change;\n                    delete options.cancel;\n                    var id = kendo.guid();\n                    var selector = that._selector = new selectorType($('<div id=\"' + id + '\"/>').appendTo(document.body), options);\n                    that.wrapper.attr('aria-owns', id);\n                    that._popup = popup = selector.wrapper.kendoPopup({\n                        anchor: that.wrapper,\n                        adjustSize: {\n                            width: 5,\n                            height: 0\n                        }\n                    }).data('kendoPopup');\n                    selector.bind({\n                        select: function (ev) {\n                            that._updateUI(parseColor(ev.value));\n                        },\n                        change: function () {\n                            that._select(selector.color());\n                            that.close();\n                        },\n                        cancel: function () {\n                            that.close();\n                        }\n                    });\n                    popup.bind({\n                        close: function (ev) {\n                            if (that.trigger('close')) {\n                                ev.preventDefault();\n                                return;\n                            }\n                            that.wrapper.children('.k-picker-wrap').removeClass('k-state-focused');\n                            var color = selector._selectOnHide();\n                            if (!color) {\n                                setTimeout(function () {\n                                    if (that.wrapper) {\n                                        that.wrapper.focus();\n                                    }\n                                });\n                                that._updateUI(that.color());\n                            } else {\n                                that._select(color);\n                            }\n                        },\n                        open: function (ev) {\n                            if (that.trigger('open')) {\n                                ev.preventDefault();\n                            } else {\n                                that.wrapper.children('.k-picker-wrap').addClass('k-state-focused');\n                            }\n                        },\n                        activate: function () {\n                            selector._select(that.color(), true);\n                            selector.focus();\n                            that.wrapper.children('.k-picker-wrap').addClass('k-state-focused');\n                        }\n                    });\n                }\n                return popup;\n            }\n        });\n        function preventDefault(ev) {\n            ev.preventDefault();\n        }\n        function bind(callback, obj) {\n            return function () {\n                return callback.apply(obj, arguments);\n            };\n        }\n        ui.plugin(ColorPalette);\n        ui.plugin(FlatColorPicker);\n        ui.plugin(ColorPicker);\n    }(jQuery, parseInt));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n/** \n * Kendo UI v2016.3.1118 (http://www.telerik.com/kendo-ui)                                                                                                                                              \n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \n *                                                                                                                                                                                                      \n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.ooxml', ['kendo.core'], f);\n}(function () {\n    var __meta__ = {\n        id: 'ooxml',\n        name: 'XLSX generation',\n        category: 'framework',\n        advanced: true,\n        depends: ['core']\n    };\n    (function ($, kendo) {\n        var RELS = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' + '<Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\"/>' + '<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\"/>' + '<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\"/>' + '</Relationships>';\n        var CORE = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<cp:coreProperties xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\" ' + 'xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\" ' + 'xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">' + '<dc:creator>${creator}</dc:creator>' + '<cp:lastModifiedBy>${lastModifiedBy}</cp:lastModifiedBy>' + '<dcterms:created xsi:type=\"dcterms:W3CDTF\">${created}</dcterms:created>' + '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">${modified}</dcterms:modified>' + '</cp:coreProperties>');\n        var APP = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\" xmlns:vt=\"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes\">' + '<Application>Microsoft Excel</Application>' + '<DocSecurity>0</DocSecurity>' + '<ScaleCrop>false</ScaleCrop>' + '<HeadingPairs>' + '<vt:vector size=\"2\" baseType=\"variant\">' + '<vt:variant>' + '<vt:lpstr>Worksheets</vt:lpstr>' + '</vt:variant>' + '<vt:variant>' + '<vt:i4>${sheets.length}</vt:i4>' + '</vt:variant>' + '</vt:vector>' + '</HeadingPairs>' + '<TitlesOfParts>' + '<vt:vector size=\"${sheets.length}\" baseType=\"lpstr\">' + '# for (var idx = 0; idx < sheets.length; idx++) { #' + '# if (sheets[idx].options.title) { #' + '<vt:lpstr>${sheets[idx].options.title}</vt:lpstr>' + '# } else { #' + '<vt:lpstr>Sheet${idx+1}</vt:lpstr>' + '# } #' + '# } #' + '</vt:vector>' + '</TitlesOfParts>' + '<LinksUpToDate>false</LinksUpToDate>' + '<SharedDoc>false</SharedDoc>' + '<HyperlinksChanged>false</HyperlinksChanged>' + '<AppVersion>14.0300</AppVersion>' + '</Properties>');\n        var CONTENT_TYPES = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">' + '<Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" />' + '<Default Extension=\"xml\" ContentType=\"application/xml\" />' + '<Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" />' + '<Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\"/>' + '<Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\"/>' + '# for (var idx = 1; idx <= count; idx++) { #' + '<Override PartName=\"/xl/worksheets/sheet${idx}.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />' + '# } #' + '<Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\" />' + '<Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\" />' + '</Types>');\n        var WORKBOOK = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\">' + '<fileVersion appName=\"xl\" lastEdited=\"5\" lowestEdited=\"5\" rupBuild=\"9303\" />' + '<workbookPr defaultThemeVersion=\"124226\" />' + '<bookViews>' + '<workbookView xWindow=\"240\" yWindow=\"45\" windowWidth=\"18195\" windowHeight=\"7995\" />' + '</bookViews>' + '<sheets>' + '# for (var idx = 0; idx < sheets.length; idx++) { #' + '# var options = sheets[idx].options; #' + '# var name = options.name || options.title #' + '# if (name) { #' + '<sheet name=\"${name}\" sheetId=\"${idx+1}\" r:id=\"rId${idx+1}\" />' + '# } else { #' + '<sheet name=\"Sheet${idx+1}\" sheetId=\"${idx+1}\" r:id=\"rId${idx+1}\" />' + '# } #' + '# } #' + '</sheets>' + '# if (filterNames.length || userNames.length) { #' + '<definedNames>' + ' # for (var di = 0; di < filterNames.length; di++) { #' + '<definedName name=\"_xlnm._FilterDatabase\" hidden=\"1\" localSheetId=\"${filterNames[di].localSheetId}\">' + '${filterNames[di].name}!$${filterNames[di].from}:$${filterNames[di].to}' + '</definedName>' + ' # } #' + ' # for (var i = 0; i < userNames.length; ++i) { #' + '<definedName name=\"${userNames[i].name}\" hidden=\"${userNames[i].hidden ? 1 : 0}\"' + ' # if (userNames[i].localSheetId != null) { # localSheetId=\"${userNames[i].localSheetId}\" # } #' + '>${userNames[i].value}</definedName>' + ' # } #' + '</definedNames>' + '# } #' + '<calcPr fullCalcOnLoad=\"1\" calcId=\"145621\" />' + '</workbook>');\n        var WORKSHEET = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" mc:Ignorable=\"x14ac\">' + '<dimension ref=\"A1\" />' + '<sheetViews>' + '<sheetView #if(index==0) {# tabSelected=\"1\" #}# workbookViewId=\"0\" #if (showGridLines === false) {# showGridLines=\"0\" #}#>' + '# if (frozenRows || frozenColumns) { #' + '<pane state=\"frozen\"' + '# if (frozenColumns) { #' + ' xSplit=\"${frozenColumns}\"' + '# } #' + '# if (frozenRows) { #' + ' ySplit=\"${frozenRows}\"' + '# } #' + ' topLeftCell=\"${String.fromCharCode(65 + (frozenColumns || 0))}${(frozenRows || 0)+1}\"' + '/>' + '# } #' + '</sheetView>' + '</sheetViews>' + '<sheetFormatPr x14ac:dyDescent=\"0.25\" defaultRowHeight=\"#= defaults.rowHeight ? defaults.rowHeight * 0.75 : 15 #\" ' + '# if (defaults.columnWidth) { # defaultColWidth=\"#= kendo.ooxml.toWidth(defaults.columnWidth) #\" # } #' + ' />' + '# if (columns && columns.length > 0) { #' + '<cols>' + '# for (var ci = 0; ci < columns.length; ci++) { #' + '# var column = columns[ci]; #' + '# var columnIndex = typeof column.index === \"number\" ? column.index + 1 : (ci + 1); #' + '# if (column.width === 0) { #' + '<col min=\"${columnIndex}\" max=\"${columnIndex}\" hidden=\"1\" customWidth=\"1\" />' + '# } else if (column.width) { #' + '<col min=\"${columnIndex}\" max=\"${columnIndex}\" customWidth=\"1\"' + '# if (column.autoWidth) { #' + ' width=\"${((column.width*7+5)/7*256)/256}\" bestFit=\"1\"' + '# } else { #' + ' width=\"#= kendo.ooxml.toWidth(column.width) #\" ' + '# } #' + '/>' + '# } #' + '# } #' + '</cols>' + '# } #' + '<sheetData>' + '# for (var ri = 0; ri < data.length; ri++) { #' + '# var row = data[ri]; #' + '# var rowIndex = typeof row.index === \"number\" ? row.index + 1 : (ri + 1); #' + '<row r=\"${rowIndex}\" x14ac:dyDescent=\"0.25\" ' + '# if (row.height) { # ht=\"#= kendo.ooxml.toHeight(row.height) #\" customHeight=\"1\" # } #' + ' >' + '# for (var ci = 0; ci < row.data.length; ci++) { #' + '# var cell = row.data[ci];#' + '<c r=\"#=cell.ref#\"# if (cell.style) { # s=\"#=cell.style#\" # } ## if (cell.type) { # t=\"#=cell.type#\"# } #>' + '# if (cell.formula != null) { #' + '<f>${cell.formula}</f>' + '# } #' + '# if (cell.value != null) { #' + '<v>${cell.value}</v>' + '# } #' + '</c>' + '# } #' + '</row>' + '# } #' + '</sheetData>' + '# if (hyperlinks.length) { #' + '<hyperlinks>' + '# for (var hi = 0; hi < hyperlinks.length; hi++) { #' + '<hyperlink ref=\"${hyperlinks[hi].ref}\" r:id=\"rId${hi}\"/>' + '# } #' + '</hyperlinks>' + '# } #' + '# if (filter) { #' + '<autoFilter ref=\"${filter.from}:${filter.to}\"/>' + '# } #' + '# if (mergeCells.length) { #' + '<mergeCells count=\"${mergeCells.length}\">' + '# for (var ci = 0; ci < mergeCells.length; ci++) { #' + '<mergeCell ref=\"${mergeCells[ci]}\"/>' + '# } #' + '</mergeCells>' + '# } #' + '<pageMargins left=\"0.7\" right=\"0.7\" top=\"0.75\" bottom=\"0.75\" header=\"0.3\" footer=\"0.3\" />' + '</worksheet>');\n        var WORKBOOK_RELS = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' + '# for (var idx = 1; idx <= count; idx++) { #' + '<Relationship Id=\"rId${idx}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet${idx}.xml\" />' + '# } #' + '<Relationship Id=\"rId${count+1}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\" />' + '<Relationship Id=\"rId${count+2}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />' + '</Relationships>');\n        var WORKSHEET_RELS = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' + '# for (var i = 0; i < hyperlinks.length; i++) { #' + '<Relationship Id=\"rId${i}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"${hyperlinks[i].target}\" TargetMode=\"External\" />' + '# } #' + '</Relationships>');\n        var SHARED_STRINGS = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n' + '<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"${count}\" uniqueCount=\"${uniqueCount}\">' + '# for (var index in indexes) { #' + '<si><t>${index.substring(1)}</t></si>' + '# } #' + '</sst>');\n        var STYLES = kendo.template('<?xml version=\"1.0\" encoding=\"UTF-8\"?>' + '<styleSheet' + ' xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"' + ' xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"' + ' mc:Ignorable=\"x14ac\"' + ' xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">' + '<numFmts count=\"${formats.length}\">' + '# for (var fi = 0; fi < formats.length; fi++) { #' + '# var format = formats[fi]; #' + '<numFmt formatCode=\"${format.format}\" numFmtId=\"${165+fi}\" />' + '# } #' + '</numFmts>' + '<fonts count=\"${fonts.length+1}\" x14ac:knownFonts=\"1\">' + '<font>' + '<sz val=\"11\" />' + '<color theme=\"1\" />' + '<name val=\"Calibri\" />' + '<family val=\"2\" />' + '<scheme val=\"minor\" />' + '</font>' + '# for (var fi = 0; fi < fonts.length; fi++) { #' + '# var font = fonts[fi]; #' + '<font>' + '# if (font.fontSize) { #' + '<sz val=\"${font.fontSize}\" />' + '# } else { #' + '<sz val=\"11\" />' + '# } #' + '# if (font.bold) { #' + '<b/>' + '# } #' + '# if (font.italic) { #' + '<i/>' + '# } #' + '# if (font.underline) { #' + '<u/>' + '# } #' + '# if (font.color) { #' + '<color rgb=\"${font.color}\" />' + '# } else { #' + '<color theme=\"1\" />' + '# } #' + '# if (font.fontFamily) { #' + '<name val=\"${font.fontFamily}\" />' + '<family val=\"2\" />' + '# } else { #' + '<name val=\"Calibri\" />' + '<family val=\"2\" />' + '<scheme val=\"minor\" />' + '# } #' + '</font>' + '# } #' + '</fonts>' + '<fills count=\"${fills.length+2}\">' + '<fill><patternFill patternType=\"none\"/></fill>' + '<fill><patternFill patternType=\"gray125\"/></fill>' + '# for (var fi = 0; fi < fills.length; fi++) { #' + '# var fill = fills[fi]; #' + '# if (fill.background) { #' + '<fill>' + '<patternFill patternType=\"solid\">' + '<fgColor rgb=\"${fill.background}\"/>' + '</patternFill>' + '</fill>' + '# } #' + '# } #' + '</fills>' + '<borders count=\"${borders.length+1}\">' + '<border><left/><right/><top/><bottom/><diagonal/></border>' + '# for (var bi = 0; bi < borders.length; bi++) { #' + '#= kendo.ooxml.borderTemplate(borders[bi]) #' + '# } #' + '</borders>' + '<cellStyleXfs count=\"1\">' + '<xf borderId=\"0\" fillId=\"0\" fontId=\"0\" />' + '</cellStyleXfs>' + '<cellXfs count=\"${styles.length+1}\">' + '<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\"/>' + '# for (var si = 0; si < styles.length; si++) { #' + '# var style = styles[si]; #' + '<xf xfId=\"0\"' + '# if (style.fontId) { #' + ' fontId=\"${style.fontId}\" applyFont=\"1\"' + '# } #' + '# if (style.fillId) { #' + ' fillId=\"${style.fillId}\" applyFill=\"1\"' + '# } #' + '# if (style.numFmtId) { #' + ' numFmtId=\"${style.numFmtId}\" applyNumberFormat=\"1\"' + '# } #' + '# if (style.textAlign || style.verticalAlign || style.wrap) { #' + ' applyAlignment=\"1\"' + '# } #' + '# if (style.borderId) { #' + ' borderId=\"${style.borderId}\" applyBorder=\"1\"' + '# } #' + '>' + '# if (style.textAlign || style.verticalAlign || style.wrap) { #' + '<alignment' + '# if (style.textAlign) { #' + ' horizontal=\"${style.textAlign}\"' + '# } #' + '# if (style.verticalAlign) { #' + ' vertical=\"${style.verticalAlign}\"' + '# } #' + '# if (style.wrap) { #' + ' wrapText=\"1\"' + '# } #' + '/>' + '# } #' + '</xf>' + '# } #' + '</cellXfs>' + '<cellStyles count=\"1\">' + '<cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\"/>' + '</cellStyles>' + '<dxfs count=\"0\" />' + '<tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium2\" defaultPivotStyle=\"PivotStyleMedium9\" />' + '</styleSheet>');\n        function numChar(colIndex) {\n            var letter = Math.floor(colIndex / 26) - 1;\n            return (letter >= 0 ? numChar(letter) : '') + String.fromCharCode(65 + colIndex % 26);\n        }\n        function ref(rowIndex, colIndex) {\n            return numChar(colIndex) + (rowIndex + 1);\n        }\n        function $ref(rowIndex, colIndex) {\n            return numChar(colIndex) + '$' + (rowIndex + 1);\n        }\n        function filterRowIndex(options) {\n            var frozenRows = options.frozenRows || (options.freezePane || {}).rowSplit || 1;\n            return frozenRows - 1;\n        }\n        function toWidth(px) {\n            return (px / 7 * 100 + 0.5) / 100;\n        }\n        function toHeight(px) {\n            return px * 0.75;\n        }\n        function stripFunnyChars(value) {\n            return (value + '').replace(/[\\x00-\\x08]/g, '').replace(/\\n/g, '\\r\\n');\n        }\n        var DATE_EPOCH = new Date(1900, 0, 0);\n        var Worksheet = kendo.Class.extend({\n            init: function (options, sharedStrings, styles, borders) {\n                this.options = options;\n                this._strings = sharedStrings;\n                this._styles = styles;\n                this._borders = borders;\n            },\n            relsToXML: function () {\n                var hyperlinks = this.options.hyperlinks || [];\n                if (!hyperlinks.length) {\n                    return '';\n                }\n                return WORKSHEET_RELS({ hyperlinks: hyperlinks });\n            },\n            toXML: function (index) {\n                var mergeCells = this.options.mergedCells || [];\n                var rows = this.options.rows || [];\n                var data = inflate(rows, mergeCells);\n                this._readCells(data);\n                var filter = this.options.filter;\n                if (filter && typeof filter.from === 'number' && typeof filter.to === 'number') {\n                    filter = {\n                        from: ref(filterRowIndex(this.options), filter.from),\n                        to: ref(filterRowIndex(this.options), filter.to)\n                    };\n                }\n                var freezePane = this.options.freezePane || {};\n                return WORKSHEET({\n                    frozenColumns: this.options.frozenColumns || freezePane.colSplit,\n                    frozenRows: this.options.frozenRows || freezePane.rowSplit,\n                    columns: this.options.columns,\n                    defaults: this.options.defaults || {},\n                    data: data,\n                    index: index,\n                    mergeCells: mergeCells,\n                    filter: filter,\n                    showGridLines: this.options.showGridLines,\n                    hyperlinks: this.options.hyperlinks || []\n                });\n            },\n            _lookupString: function (value) {\n                var key = '$' + value;\n                var index = this._strings.indexes[key];\n                if (index !== undefined) {\n                    value = index;\n                } else {\n                    value = this._strings.indexes[key] = this._strings.uniqueCount;\n                    this._strings.uniqueCount++;\n                }\n                this._strings.count++;\n                return value;\n            },\n            _lookupStyle: function (style) {\n                var json = kendo.stringify(style);\n                if (json == '{}') {\n                    return 0;\n                }\n                var index = $.inArray(json, this._styles);\n                if (index < 0) {\n                    index = this._styles.push(json) - 1;\n                }\n                return index + 1;\n            },\n            _lookupBorder: function (border) {\n                var json = kendo.stringify(border);\n                if (json == '{}') {\n                    return;\n                }\n                var index = $.inArray(json, this._borders);\n                if (index < 0) {\n                    index = this._borders.push(json) - 1;\n                }\n                return index + 1;\n            },\n            _readCells: function (rowData) {\n                for (var i = 0; i < rowData.length; i++) {\n                    var row = rowData[i];\n                    var cells = row.cells;\n                    row.data = [];\n                    for (var j = 0; j < cells.length; j++) {\n                        var cellData = this._cell(cells[j], row.index, j);\n                        if (cellData) {\n                            row.data.push(cellData);\n                        }\n                    }\n                }\n            },\n            _cell: function (data, rowIndex, cellIndex) {\n                if (!data || data === EMPTY_CELL) {\n                    return null;\n                }\n                var value = data.value;\n                var border = {};\n                if (data.borderLeft) {\n                    border.left = data.borderLeft;\n                }\n                if (data.borderRight) {\n                    border.right = data.borderRight;\n                }\n                if (data.borderTop) {\n                    border.top = data.borderTop;\n                }\n                if (data.borderBottom) {\n                    border.bottom = data.borderBottom;\n                }\n                border = this._lookupBorder(border);\n                var style = {\n                    bold: data.bold,\n                    color: data.color,\n                    background: data.background,\n                    italic: data.italic,\n                    underline: data.underline,\n                    fontFamily: data.fontFamily || data.fontName,\n                    fontSize: data.fontSize,\n                    format: data.format,\n                    textAlign: data.textAlign || data.hAlign,\n                    verticalAlign: data.verticalAlign || data.vAlign,\n                    wrap: data.wrap,\n                    borderId: border\n                };\n                var columns = this.options.columns || [];\n                var column = columns[cellIndex];\n                var type = typeof value;\n                if (column && column.autoWidth) {\n                    var displayValue = value;\n                    if (type === 'number') {\n                        displayValue = kendo.toString(value, data.format);\n                    }\n                    column.width = Math.max(column.width || 0, (displayValue + '').length);\n                }\n                if (type === 'string') {\n                    value = stripFunnyChars(value);\n                    value = this._lookupString(value);\n                    type = 's';\n                } else if (type === 'number') {\n                    type = 'n';\n                } else if (type === 'boolean') {\n                    type = 'b';\n                    value = +value;\n                } else if (value && value.getTime) {\n                    type = null;\n                    var offset = (value.getTimezoneOffset() - DATE_EPOCH.getTimezoneOffset()) * kendo.date.MS_PER_MINUTE;\n                    value = (value - DATE_EPOCH - offset) / kendo.date.MS_PER_DAY + 1;\n                    if (!style.format) {\n                        style.format = 'mm-dd-yy';\n                    }\n                } else {\n                    type = null;\n                    value = null;\n                }\n                style = this._lookupStyle(style);\n                return {\n                    value: value,\n                    formula: data.formula,\n                    type: type,\n                    style: style,\n                    ref: ref(rowIndex, cellIndex)\n                };\n            }\n        });\n        var defaultFormats = {\n            'General': 0,\n            '0': 1,\n            '0.00': 2,\n            '#,##0': 3,\n            '#,##0.00': 4,\n            '0%': 9,\n            '0.00%': 10,\n            '0.00E+00': 11,\n            '# ?/?': 12,\n            '# ??/??': 13,\n            'mm-dd-yy': 14,\n            'd-mmm-yy': 15,\n            'd-mmm': 16,\n            'mmm-yy': 17,\n            'h:mm AM/PM': 18,\n            'h:mm:ss AM/PM': 19,\n            'h:mm': 20,\n            'h:mm:ss': 21,\n            'm/d/yy h:mm': 22,\n            '#,##0 ;(#,##0)': 37,\n            '#,##0 ;[Red](#,##0)': 38,\n            '#,##0.00;(#,##0.00)': 39,\n            '#,##0.00;[Red](#,##0.00)': 40,\n            'mm:ss': 45,\n            '[h]:mm:ss': 46,\n            'mmss.0': 47,\n            '##0.0E+0': 48,\n            '@': 49,\n            '[$-404]e/m/d': 27,\n            'm/d/yy': 30,\n            't0': 59,\n            't0.00': 60,\n            't#,##0': 61,\n            't#,##0.00': 62,\n            't0%': 67,\n            't0.00%': 68,\n            't# ?/?': 69,\n            't# ??/??': 70\n        };\n        function convertColor(color) {\n            if (color.length < 6) {\n                color = color.replace(/(\\w)/g, function ($0, $1) {\n                    return $1 + $1;\n                });\n            }\n            color = color.substring(1).toUpperCase();\n            if (color.length < 8) {\n                color = 'FF' + color;\n            }\n            return color;\n        }\n        var Workbook = kendo.Class.extend({\n            init: function (options) {\n                this.options = options || {};\n                this._strings = {\n                    indexes: {},\n                    count: 0,\n                    uniqueCount: 0\n                };\n                this._styles = [];\n                this._borders = [];\n                this._sheets = $.map(this.options.sheets || [], $.proxy(function (options) {\n                    options.defaults = this.options;\n                    return new Worksheet(options, this._strings, this._styles, this._borders);\n                }, this));\n            },\n            toDataURL: function () {\n                if (typeof JSZip === 'undefined') {\n                    throw new Error('JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.');\n                }\n                var zip = new JSZip();\n                var docProps = zip.folder('docProps');\n                docProps.file('core.xml', CORE({\n                    creator: this.options.creator || 'Kendo UI',\n                    lastModifiedBy: this.options.creator || 'Kendo UI',\n                    created: this.options.date || new Date().toJSON(),\n                    modified: this.options.date || new Date().toJSON()\n                }));\n                var sheetCount = this._sheets.length;\n                docProps.file('app.xml', APP({ sheets: this._sheets }));\n                var rels = zip.folder('_rels');\n                rels.file('.rels', RELS);\n                var xl = zip.folder('xl');\n                var xlRels = xl.folder('_rels');\n                xlRels.file('workbook.xml.rels', WORKBOOK_RELS({ count: sheetCount }));\n                var sheetIds = {};\n                xl.file('workbook.xml', WORKBOOK({\n                    sheets: this._sheets,\n                    filterNames: $.map(this._sheets, function (sheet, index) {\n                        var options = sheet.options;\n                        var sheetName = options.name || options.title || 'Sheet' + (index + 1);\n                        sheetIds[sheetName.toLowerCase()] = index;\n                        var filter = options.filter;\n                        if (filter && typeof filter.from !== 'undefined' && typeof filter.to !== 'undefined') {\n                            return {\n                                localSheetId: index,\n                                name: sheetName,\n                                from: $ref(filterRowIndex(options), filter.from),\n                                to: $ref(filterRowIndex(options), filter.to)\n                            };\n                        }\n                    }),\n                    userNames: $.map(this.options.names || [], function (def) {\n                        return {\n                            name: def.localName,\n                            localSheetId: def.sheet ? sheetIds[def.sheet.toLowerCase()] : null,\n                            value: def.value,\n                            hidden: def.hidden\n                        };\n                    })\n                }));\n                var worksheets = xl.folder('worksheets');\n                var sheetRels = worksheets.folder('_rels');\n                for (var idx = 0; idx < sheetCount; idx++) {\n                    var sheet = this._sheets[idx];\n                    var sheetName = kendo.format('sheet{0}.xml', idx + 1);\n                    var relsXml = sheet.relsToXML();\n                    if (relsXml) {\n                        sheetRels.file(sheetName + '.rels', relsXml);\n                    }\n                    worksheets.file(sheetName, sheet.toXML(idx));\n                }\n                var borders = $.map(this._borders, $.parseJSON);\n                var styles = $.map(this._styles, $.parseJSON);\n                var hasFont = function (style) {\n                    return style.underline || style.bold || style.italic || style.color || style.fontFamily || style.fontSize;\n                };\n                var fonts = $.map(styles, function (style) {\n                    if (style.color) {\n                        style.color = convertColor(style.color);\n                    }\n                    if (hasFont(style)) {\n                        return style;\n                    }\n                });\n                var formats = $.map(styles, function (style) {\n                    if (style.format && defaultFormats[style.format] === undefined) {\n                        return style;\n                    }\n                });\n                var fills = $.map(styles, function (style) {\n                    if (style.background) {\n                        style.background = convertColor(style.background);\n                        return style;\n                    }\n                });\n                xl.file('styles.xml', STYLES({\n                    fonts: fonts,\n                    fills: fills,\n                    formats: formats,\n                    borders: borders,\n                    styles: $.map(styles, function (style) {\n                        var result = {};\n                        if (hasFont(style)) {\n                            result.fontId = $.inArray(style, fonts) + 1;\n                        }\n                        if (style.background) {\n                            result.fillId = $.inArray(style, fills) + 2;\n                        }\n                        result.textAlign = style.textAlign;\n                        result.verticalAlign = style.verticalAlign;\n                        result.wrap = style.wrap;\n                        result.borderId = style.borderId;\n                        if (style.format) {\n                            if (defaultFormats[style.format] !== undefined) {\n                                result.numFmtId = defaultFormats[style.format];\n                            } else {\n                                result.numFmtId = 165 + $.inArray(style, formats);\n                            }\n                        }\n                        return result;\n                    })\n                }));\n                xl.file('sharedStrings.xml', SHARED_STRINGS(this._strings));\n                zip.file('[Content_Types].xml', CONTENT_TYPES({ count: sheetCount }));\n                return 'data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,' + zip.generate({ compression: 'DEFLATE' });\n            }\n        });\n        function borderStyle(width) {\n            var alias = 'thin';\n            if (width === 2) {\n                alias = 'medium';\n            } else if (width === 3) {\n                alias = 'thick';\n            }\n            return alias;\n        }\n        function borderSideTemplate(name, style) {\n            var result = '';\n            if (style) {\n                result += '<' + name + ' style=\"' + borderStyle(style.size) + '\">';\n                if (style.color) {\n                    result += '<color rgb=\"' + convertColor(style.color) + '\"/>';\n                }\n                result += '</' + name + '>';\n            }\n            return result;\n        }\n        function borderTemplate(border) {\n            return '<border>' + borderSideTemplate('left', border.left) + borderSideTemplate('right', border.right) + borderSideTemplate('top', border.top) + borderSideTemplate('bottom', border.bottom) + '</border>';\n        }\n        var EMPTY_CELL = {};\n        function inflate(rows, mergedCells) {\n            var rowData = [];\n            var rowsByIndex = [];\n            indexRows(rows, function (row, index) {\n                var data = {\n                    _source: row,\n                    index: index,\n                    height: row.height,\n                    cells: []\n                };\n                rowData.push(data);\n                rowsByIndex[index] = data;\n            });\n            var sorted = sortByIndex(rowData).slice(0);\n            var ctx = {\n                rowData: rowData,\n                rowsByIndex: rowsByIndex,\n                mergedCells: mergedCells\n            };\n            for (var i = 0; i < sorted.length; i++) {\n                fillCells(sorted[i], ctx);\n                delete sorted[i]._source;\n            }\n            return sortByIndex(rowData);\n        }\n        function indexRows(rows, callback) {\n            for (var i = 0; i < rows.length; i++) {\n                var row = rows[i];\n                if (!row) {\n                    continue;\n                }\n                var index = row.index;\n                if (typeof index !== 'number') {\n                    index = i;\n                }\n                callback(row, index);\n            }\n        }\n        function sortByIndex(items) {\n            return items.sort(function (a, b) {\n                return a.index - b.index;\n            });\n        }\n        function fillCells(data, ctx) {\n            var row = data._source;\n            var rowIndex = data.index;\n            var cells = row.cells;\n            var cellData = data.cells;\n            if (!cells) {\n                return;\n            }\n            for (var i = 0; i < cells.length; i++) {\n                var cell = cells[i] || EMPTY_CELL;\n                var rowSpan = cell.rowSpan || 1;\n                var colSpan = cell.colSpan || 1;\n                var cellIndex = insertCell(cellData, cell);\n                spanCell(cell, cellData, cellIndex, colSpan);\n                if (rowSpan > 1 || colSpan > 1) {\n                    ctx.mergedCells.push(ref(rowIndex, cellIndex) + ':' + ref(rowIndex + rowSpan - 1, cellIndex + colSpan - 1));\n                }\n                if (rowSpan > 1) {\n                    for (var ri = rowIndex + 1; ri < rowIndex + rowSpan; ri++) {\n                        var nextRow = ctx.rowsByIndex[ri];\n                        if (!nextRow) {\n                            nextRow = ctx.rowsByIndex[ri] = {\n                                index: ri,\n                                cells: []\n                            };\n                            ctx.rowData.push(nextRow);\n                        }\n                        spanCell(cell, nextRow.cells, cellIndex - 1, colSpan + 1);\n                    }\n                }\n            }\n        }\n        function insertCell(data, cell) {\n            var index;\n            if (typeof cell.index === 'number') {\n                index = cell.index;\n                insertCellAt(data, cell, cell.index);\n            } else {\n                index = appendCell(data, cell);\n            }\n            return index;\n        }\n        function insertCellAt(data, cell, index) {\n            data[index] = cell;\n        }\n        function appendCell(data, cell) {\n            var index = data.length;\n            for (var i = 0; i < data.length + 1; i++) {\n                if (!data[i]) {\n                    data[i] = cell;\n                    index = i;\n                    break;\n                }\n            }\n            return index;\n        }\n        function spanCell(cell, row, startIndex, colSpan) {\n            for (var i = 1; i < colSpan; i++) {\n                var tmp = {\n                    borderTop: cell.borderTop,\n                    borderRight: cell.borderRight,\n                    borderBottom: cell.borderBottom,\n                    borderLeft: cell.borderLeft\n                };\n                insertCellAt(row, tmp, startIndex + i);\n            }\n        }\n        kendo.ooxml = {\n            Workbook: Workbook,\n            Worksheet: Worksheet,\n            toWidth: toWidth,\n            toHeight: toHeight,\n            borderTemplate: borderTemplate\n        };\n    }(kendo.jQuery, kendo));\n    return kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n/** \n * Kendo UI v2016.3.1118 (http://www.telerik.com/kendo-ui)                                                                                                                                              \n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \n *                                                                                                                                                                                                      \n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.excel', [\n        'kendo.core',\n        'kendo.data',\n        'kendo.ooxml'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'excel',\n        name: 'Excel export',\n        category: 'framework',\n        advanced: true,\n        mixin: true,\n        depends: [\n            'data',\n            'ooxml'\n        ]\n    };\n    (function ($, kendo) {\n        kendo.ExcelExporter = kendo.Class.extend({\n            init: function (options) {\n                options.columns = this._trimColumns(options.columns || []);\n                this.allColumns = $.map(this._leafColumns(options.columns || []), this._prepareColumn);\n                this.columns = $.grep(this.allColumns, function (column) {\n                    return !column.hidden;\n                });\n                this.options = options;\n                var dataSource = options.dataSource;\n                if (dataSource instanceof kendo.data.DataSource) {\n                    this.dataSource = new dataSource.constructor($.extend({}, dataSource.options, {\n                        page: options.allPages ? 0 : dataSource.page(),\n                        filter: dataSource.filter(),\n                        pageSize: options.allPages ? dataSource.total() : dataSource.pageSize(),\n                        sort: dataSource.sort(),\n                        group: dataSource.group(),\n                        aggregate: dataSource.aggregate()\n                    }));\n                    var data = dataSource.data();\n                    if (data.length > 0) {\n                        this.dataSource._data = data;\n                        var transport = this.dataSource.transport;\n                        if (dataSource._isServerGrouped() && transport.options && transport.options.data) {\n                            transport.options.data = null;\n                        }\n                    }\n                } else {\n                    this.dataSource = kendo.data.DataSource.create(dataSource);\n                }\n            },\n            _trimColumns: function (columns) {\n                var that = this;\n                return $.grep(columns, function (column) {\n                    var result = !!column.field;\n                    if (!result && column.columns) {\n                        result = that._trimColumns(column.columns).length > 0;\n                    }\n                    return result;\n                });\n            },\n            _leafColumns: function (columns) {\n                var result = [];\n                for (var idx = 0; idx < columns.length; idx++) {\n                    if (!columns[idx].columns) {\n                        result.push(columns[idx]);\n                        continue;\n                    }\n                    result = result.concat(this._leafColumns(columns[idx].columns));\n                }\n                return result;\n            },\n            workbook: function () {\n                return $.Deferred($.proxy(function (d) {\n                    this.dataSource.fetch().then($.proxy(function () {\n                        var workbook = {\n                            sheets: [{\n                                    columns: this._columns(),\n                                    rows: this._rows(),\n                                    freezePane: this._freezePane(),\n                                    filter: this._filter()\n                                }]\n                        };\n                        d.resolve(workbook, this.dataSource.view());\n                    }, this));\n                }, this)).promise();\n            },\n            _prepareColumn: function (column) {\n                if (!column.field) {\n                    return;\n                }\n                var value = function (dataItem) {\n                    return dataItem.get(column.field);\n                };\n                var values = null;\n                if (column.values) {\n                    values = {};\n                    $.each(column.values, function () {\n                        values[this.value] = this.text;\n                    });\n                    value = function (dataItem) {\n                        return values[dataItem.get(column.field)];\n                    };\n                }\n                return $.extend({}, column, {\n                    value: value,\n                    values: values,\n                    groupHeaderTemplate: kendo.template(column.groupHeaderTemplate || '#= title #: #= value #'),\n                    groupFooterTemplate: column.groupFooterTemplate ? kendo.template(column.groupFooterTemplate) : null,\n                    footerTemplate: column.footerTemplate ? kendo.template(column.footerTemplate) : null\n                });\n            },\n            _filter: function () {\n                if (!this.options.filterable) {\n                    return null;\n                }\n                var depth = this._depth();\n                return {\n                    from: depth,\n                    to: depth + this.columns.length - 1\n                };\n            },\n            _dataRow: function (dataItem, level, depth) {\n                if (this._hierarchical()) {\n                    level = this.dataSource.level(dataItem) + 1;\n                }\n                var cells = [];\n                for (var li = 0; li < level; li++) {\n                    cells[li] = {\n                        background: '#dfdfdf',\n                        color: '#333'\n                    };\n                }\n                if (depth && dataItem.items) {\n                    var column = $.grep(this.allColumns, function (column) {\n                        return column.field == dataItem.field;\n                    })[0];\n                    var title = column && column.title ? column.title : dataItem.field;\n                    var template = column ? column.groupHeaderTemplate : null;\n                    var value = title + ': ' + dataItem.value;\n                    var group = $.extend({\n                        title: title,\n                        field: dataItem.field,\n                        value: column && column.values ? column.values[dataItem.value] : dataItem.value,\n                        aggregates: dataItem.aggregates\n                    }, dataItem.aggregates[dataItem.field]);\n                    if (template) {\n                        value = template(group);\n                    }\n                    cells.push({\n                        value: value,\n                        background: '#dfdfdf',\n                        color: '#333',\n                        colSpan: this.columns.length + depth - level\n                    });\n                    var rows = this._dataRows(dataItem.items, level + 1);\n                    rows.unshift({\n                        type: 'group-header',\n                        cells: cells\n                    });\n                    return rows.concat(this._footer(dataItem));\n                } else {\n                    var dataCells = [];\n                    for (var ci = 0; ci < this.columns.length; ci++) {\n                        dataCells[ci] = this._cell(dataItem, this.columns[ci]);\n                    }\n                    if (this._hierarchical()) {\n                        dataCells[0].colSpan = depth - level + 1;\n                    }\n                    return [{\n                            type: 'data',\n                            cells: cells.concat(dataCells)\n                        }];\n                }\n            },\n            _dataRows: function (dataItems, level) {\n                var depth = this._depth();\n                var rows = [];\n                for (var i = 0; i < dataItems.length; i++) {\n                    rows.push.apply(rows, this._dataRow(dataItems[i], level, depth));\n                }\n                return rows;\n            },\n            _footer: function (dataItem) {\n                var rows = [];\n                var footer = false;\n                var cells = $.map(this.columns, $.proxy(function (column) {\n                    if (column.groupFooterTemplate) {\n                        footer = true;\n                        return {\n                            background: '#dfdfdf',\n                            color: '#333',\n                            value: column.groupFooterTemplate($.extend({}, this.dataSource.aggregates(), dataItem.aggregates, dataItem.aggregates[column.field]))\n                        };\n                    } else {\n                        return {\n                            background: '#dfdfdf',\n                            color: '#333'\n                        };\n                    }\n                }, this));\n                if (footer) {\n                    rows.push({\n                        type: 'group-footer',\n                        cells: $.map(new Array(this.dataSource.group().length), function () {\n                            return {\n                                background: '#dfdfdf',\n                                color: '#333'\n                            };\n                        }).concat(cells)\n                    });\n                }\n                return rows;\n            },\n            _isColumnVisible: function (column) {\n                return this._visibleColumns([column]).length > 0 && (column.field || column.columns);\n            },\n            _visibleColumns: function (columns) {\n                var that = this;\n                return $.grep(columns, function (column) {\n                    var result = !column.hidden;\n                    if (result && column.columns) {\n                        result = that._visibleColumns(column.columns).length > 0;\n                    }\n                    return result;\n                });\n            },\n            _headerRow: function (row, groups) {\n                var headers = $.map(row.cells, function (cell) {\n                    return {\n                        background: '#7a7a7a',\n                        color: '#fff',\n                        value: cell.title,\n                        colSpan: cell.colSpan > 1 ? cell.colSpan : 1,\n                        rowSpan: row.rowSpan > 1 && !cell.colSpan ? row.rowSpan : 1\n                    };\n                });\n                if (this._hierarchical()) {\n                    headers[0].colSpan = this._depth() + 1;\n                }\n                return {\n                    type: 'header',\n                    cells: $.map(new Array(groups.length), function () {\n                        return {\n                            background: '#7a7a7a',\n                            color: '#fff'\n                        };\n                    }).concat(headers)\n                };\n            },\n            _prependHeaderRows: function (rows) {\n                var groups = this.dataSource.group();\n                var headerRows = [{\n                        rowSpan: 1,\n                        cells: [],\n                        index: 0\n                    }];\n                this._prepareHeaderRows(headerRows, this.options.columns);\n                for (var idx = headerRows.length - 1; idx >= 0; idx--) {\n                    rows.unshift(this._headerRow(headerRows[idx], groups));\n                }\n            },\n            _prepareHeaderRows: function (rows, columns, parentCell, parentRow) {\n                var row = parentRow || rows[rows.length - 1];\n                var childRow = rows[row.index + 1];\n                var totalColSpan = 0;\n                var column;\n                var cell;\n                for (var idx = 0; idx < columns.length; idx++) {\n                    column = columns[idx];\n                    if (this._isColumnVisible(column)) {\n                        cell = {\n                            title: column.title || column.field,\n                            colSpan: 0\n                        };\n                        row.cells.push(cell);\n                        if (column.columns && column.columns.length) {\n                            if (!childRow) {\n                                childRow = {\n                                    rowSpan: 0,\n                                    cells: [],\n                                    index: rows.length\n                                };\n                                rows.push(childRow);\n                            }\n                            cell.colSpan = this._trimColumns(this._visibleColumns(column.columns)).length;\n                            this._prepareHeaderRows(rows, column.columns, cell, childRow);\n                            totalColSpan += cell.colSpan - 1;\n                            row.rowSpan = rows.length - row.index;\n                        }\n                    }\n                }\n                if (parentCell) {\n                    parentCell.colSpan += totalColSpan;\n                }\n            },\n            _rows: function () {\n                var groups = this.dataSource.group();\n                var rows = this._dataRows(this.dataSource.view(), 0);\n                if (this.columns.length) {\n                    this._prependHeaderRows(rows);\n                    var footer = false;\n                    var cells = $.map(this.columns, $.proxy(function (column) {\n                        if (column.footerTemplate) {\n                            footer = true;\n                            var aggregates = this.dataSource.aggregates();\n                            return {\n                                background: '#dfdfdf',\n                                color: '#333',\n                                value: column.footerTemplate($.extend({}, aggregates, aggregates[column.field]))\n                            };\n                        } else {\n                            return {\n                                background: '#dfdfdf',\n                                color: '#333'\n                            };\n                        }\n                    }, this));\n                    if (footer) {\n                        rows.push({\n                            type: 'footer',\n                            cells: $.map(new Array(groups.length), function () {\n                                return {\n                                    background: '#dfdfdf',\n                                    color: '#333'\n                                };\n                            }).concat(cells)\n                        });\n                    }\n                }\n                return rows;\n            },\n            _headerDepth: function (columns) {\n                var result = 1;\n                var max = 0;\n                for (var idx = 0; idx < columns.length; idx++) {\n                    if (columns[idx].columns) {\n                        var temp = this._headerDepth(columns[idx].columns);\n                        if (temp > max) {\n                            max = temp;\n                        }\n                    }\n                }\n                return result + max;\n            },\n            _freezePane: function () {\n                var columns = this._visibleColumns(this.options.columns || []);\n                var colSplit = this._visibleColumns(this._trimColumns(this._leafColumns($.grep(columns, function (column) {\n                    return column.locked;\n                })))).length;\n                return {\n                    rowSplit: this._headerDepth(columns),\n                    colSplit: colSplit ? colSplit + this.dataSource.group().length : 0\n                };\n            },\n            _cell: function (dataItem, column) {\n                return { value: column.value(dataItem) };\n            },\n            _hierarchical: function () {\n                return this.options.hierarchy && this.dataSource.level;\n            },\n            _depth: function () {\n                var dataSource = this.dataSource;\n                var depth = 0;\n                var view, i, level;\n                if (this._hierarchical()) {\n                    view = dataSource.view();\n                    for (i = 0; i < view.length; i++) {\n                        level = dataSource.level(view[i]);\n                        if (level > depth) {\n                            depth = level;\n                        }\n                    }\n                    depth++;\n                } else {\n                    depth = dataSource.group().length;\n                }\n                return depth;\n            },\n            _columns: function () {\n                var depth = this._depth();\n                var columns = $.map(new Array(depth), function () {\n                    return { width: 20 };\n                });\n                return columns.concat($.map(this.columns, function (column) {\n                    return {\n                        width: parseInt(column.width, 10),\n                        autoWidth: column.width ? false : true\n                    };\n                }));\n            }\n        });\n        kendo.ExcelMixin = {\n            extend: function (proto) {\n                proto.events.push('excelExport');\n                proto.options.excel = $.extend(proto.options.excel, this.options);\n                proto.saveAsExcel = this.saveAsExcel;\n            },\n            options: {\n                proxyURL: '',\n                allPages: false,\n                filterable: false,\n                fileName: 'Export.xlsx'\n            },\n            saveAsExcel: function () {\n                var excel = this.options.excel || {};\n                var exporter = new kendo.ExcelExporter({\n                    columns: this.columns,\n                    dataSource: this.dataSource,\n                    allPages: excel.allPages,\n                    filterable: excel.filterable,\n                    hierarchy: excel.hierarchy\n                });\n                exporter.workbook().then($.proxy(function (book, data) {\n                    if (!this.trigger('excelExport', {\n                            workbook: book,\n                            data: data\n                        })) {\n                        var workbook = new kendo.ooxml.Workbook(book);\n                        kendo.saveAs({\n                            dataURI: workbook.toDataURL(),\n                            fileName: book.fileName || excel.fileName,\n                            proxyURL: excel.proxyURL,\n                            forceProxy: excel.forceProxy\n                        });\n                    }\n                }, this));\n            }\n        };\n    }(kendo.jQuery, kendo));\n    return kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n/** \n * Kendo UI v2016.3.1118 (http://www.telerik.com/kendo-ui)                                                                                                                                              \n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \n *                                                                                                                                                                                                      \n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/geometry', [\n        'util/main',\n        'mixins/observers'\n    ], f);\n}(function () {\n    (function () {\n        var math = Math, pow = math.pow, kendo = window.kendo, Class = kendo.Class, deepExtend = kendo.deepExtend, ObserversMixin = kendo.mixins.ObserversMixin, util = kendo.util, defined = util.defined, rad = util.rad, deg = util.deg, round = util.round;\n        var PI_DIV_2 = math.PI / 2, MIN_NUM = util.MIN_NUM, MAX_NUM = util.MAX_NUM, PRECISION = 10;\n        var Point = Class.extend({\n            init: function (x, y) {\n                this.x = x || 0;\n                this.y = y || 0;\n            },\n            equals: function (other) {\n                return other && other.x === this.x && other.y === this.y;\n            },\n            clone: function () {\n                return new Point(this.x, this.y);\n            },\n            rotate: function (angle, origin) {\n                return this.transform(transform().rotate(angle, origin));\n            },\n            translate: function (x, y) {\n                this.x += x;\n                this.y += y;\n                this.geometryChange();\n                return this;\n            },\n            translateWith: function (point) {\n                return this.translate(point.x, point.y);\n            },\n            move: function (x, y) {\n                this.x = this.y = 0;\n                return this.translate(x, y);\n            },\n            scale: function (scaleX, scaleY) {\n                if (!defined(scaleY)) {\n                    scaleY = scaleX;\n                }\n                this.x *= scaleX;\n                this.y *= scaleY;\n                this.geometryChange();\n                return this;\n            },\n            scaleCopy: function (scaleX, scaleY) {\n                return this.clone().scale(scaleX, scaleY);\n            },\n            transform: function (transformation) {\n                var mx = toMatrix(transformation), x = this.x, y = this.y;\n                this.x = mx.a * x + mx.c * y + mx.e;\n                this.y = mx.b * x + mx.d * y + mx.f;\n                this.geometryChange();\n                return this;\n            },\n            transformCopy: function (transformation) {\n                var point = this.clone();\n                if (transformation) {\n                    point.transform(transformation);\n                }\n                return point;\n            },\n            distanceTo: function (point) {\n                var dx = this.x - point.x;\n                var dy = this.y - point.y;\n                return math.sqrt(dx * dx + dy * dy);\n            },\n            round: function (digits) {\n                this.x = round(this.x, digits);\n                this.y = round(this.y, digits);\n                this.geometryChange();\n                return this;\n            },\n            toArray: function (digits) {\n                var doRound = defined(digits);\n                var x = doRound ? round(this.x, digits) : this.x;\n                var y = doRound ? round(this.y, digits) : this.y;\n                return [\n                    x,\n                    y\n                ];\n            }\n        });\n        defineAccessors(Point.fn, [\n            'x',\n            'y'\n        ]);\n        deepExtend(Point.fn, ObserversMixin);\n        Point.fn.toString = function (digits, separator) {\n            var x = this.x, y = this.y;\n            if (defined(digits)) {\n                x = round(x, digits);\n                y = round(y, digits);\n            }\n            separator = separator || ' ';\n            return x + separator + y;\n        };\n        Point.create = function (arg0, arg1) {\n            if (defined(arg0)) {\n                if (arg0 instanceof Point) {\n                    return arg0;\n                } else if (arguments.length === 1 && arg0.length === 2) {\n                    return new Point(arg0[0], arg0[1]);\n                } else {\n                    return new Point(arg0, arg1);\n                }\n            }\n        };\n        Point.min = function () {\n            var minX = util.MAX_NUM;\n            var minY = util.MAX_NUM;\n            for (var i = 0; i < arguments.length; i++) {\n                var pt = arguments[i];\n                minX = math.min(pt.x, minX);\n                minY = math.min(pt.y, minY);\n            }\n            return new Point(minX, minY);\n        };\n        Point.max = function () {\n            var maxX = util.MIN_NUM;\n            var maxY = util.MIN_NUM;\n            for (var i = 0; i < arguments.length; i++) {\n                var pt = arguments[i];\n                maxX = math.max(pt.x, maxX);\n                maxY = math.max(pt.y, maxY);\n            }\n            return new Point(maxX, maxY);\n        };\n        Point.minPoint = function () {\n            return new Point(MIN_NUM, MIN_NUM);\n        };\n        Point.maxPoint = function () {\n            return new Point(MAX_NUM, MAX_NUM);\n        };\n        Point.ZERO = new Point(0, 0);\n        var Size = Class.extend({\n            init: function (width, height) {\n                this.width = width || 0;\n                this.height = height || 0;\n            },\n            equals: function (other) {\n                return other && other.width === this.width && other.height === this.height;\n            },\n            clone: function () {\n                return new Size(this.width, this.height);\n            },\n            toArray: function (digits) {\n                var doRound = defined(digits);\n                var width = doRound ? round(this.width, digits) : this.width;\n                var height = doRound ? round(this.height, digits) : this.height;\n                return [\n                    width,\n                    height\n                ];\n            }\n        });\n        defineAccessors(Size.fn, [\n            'width',\n            'height'\n        ]);\n        deepExtend(Size.fn, ObserversMixin);\n        Size.create = function (arg0, arg1) {\n            if (defined(arg0)) {\n                if (arg0 instanceof Size) {\n                    return arg0;\n                } else if (arguments.length === 1 && arg0.length === 2) {\n                    return new Size(arg0[0], arg0[1]);\n                } else {\n                    return new Size(arg0, arg1);\n                }\n            }\n        };\n        Size.ZERO = new Size(0, 0);\n        var Rect = Class.extend({\n            init: function (origin, size) {\n                this.setOrigin(origin || new Point());\n                this.setSize(size || new Size());\n            },\n            clone: function () {\n                return new Rect(this.origin.clone(), this.size.clone());\n            },\n            equals: function (other) {\n                return other && other.origin.equals(this.origin) && other.size.equals(this.size);\n            },\n            setOrigin: function (value) {\n                this._observerField('origin', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getOrigin: function () {\n                return this.origin;\n            },\n            setSize: function (value) {\n                this._observerField('size', Size.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getSize: function () {\n                return this.size;\n            },\n            width: function () {\n                return this.size.width;\n            },\n            height: function () {\n                return this.size.height;\n            },\n            topLeft: function () {\n                return this.origin.clone();\n            },\n            bottomRight: function () {\n                return this.origin.clone().translate(this.width(), this.height());\n            },\n            topRight: function () {\n                return this.origin.clone().translate(this.width(), 0);\n            },\n            bottomLeft: function () {\n                return this.origin.clone().translate(0, this.height());\n            },\n            center: function () {\n                return this.origin.clone().translate(this.width() / 2, this.height() / 2);\n            },\n            bbox: function (matrix) {\n                var tl = this.topLeft().transformCopy(matrix);\n                var tr = this.topRight().transformCopy(matrix);\n                var br = this.bottomRight().transformCopy(matrix);\n                var bl = this.bottomLeft().transformCopy(matrix);\n                return Rect.fromPoints(tl, tr, br, bl);\n            },\n            transformCopy: function (m) {\n                return Rect.fromPoints(this.topLeft().transform(m), this.bottomRight().transform(m));\n            },\n            expand: function (x, y) {\n                if (!defined(y)) {\n                    y = x;\n                }\n                this.size.width += 2 * x;\n                this.size.height += 2 * y;\n                this.origin.translate(-x, -y);\n                return this;\n            },\n            expandCopy: function (x, y) {\n                return this.clone().expand(x, y);\n            },\n            containsPoint: function (point) {\n                var origin = this.origin;\n                var bottomRight = this.bottomRight();\n                return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);\n            },\n            _isOnPath: function (point, width) {\n                var rectOuter = this.expandCopy(width, width);\n                var rectInner = this.expandCopy(-width, -width);\n                return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);\n            }\n        });\n        deepExtend(Rect.fn, ObserversMixin);\n        Rect.fromPoints = function () {\n            var topLeft = Point.min.apply(this, arguments);\n            var bottomRight = Point.max.apply(this, arguments);\n            var size = new Size(bottomRight.x - topLeft.x, bottomRight.y - topLeft.y);\n            return new Rect(topLeft, size);\n        };\n        Rect.union = function (a, b) {\n            return Rect.fromPoints(Point.min(a.topLeft(), b.topLeft()), Point.max(a.bottomRight(), b.bottomRight()));\n        };\n        Rect.intersect = function (a, b) {\n            a = {\n                left: a.topLeft().x,\n                top: a.topLeft().y,\n                right: a.bottomRight().x,\n                bottom: a.bottomRight().y\n            };\n            b = {\n                left: b.topLeft().x,\n                top: b.topLeft().y,\n                right: b.bottomRight().x,\n                bottom: b.bottomRight().y\n            };\n            if (a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom) {\n                return Rect.fromPoints(new Point(math.max(a.left, b.left), math.max(a.top, b.top)), new Point(math.min(a.right, b.right), math.min(a.bottom, b.bottom)));\n            }\n        };\n        var Circle = Class.extend({\n            init: function (center, radius) {\n                this.setCenter(center || new Point());\n                this.setRadius(radius || 0);\n            },\n            setCenter: function (value) {\n                this._observerField('center', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getCenter: function () {\n                return this.center;\n            },\n            equals: function (other) {\n                return other && other.center.equals(this.center) && other.radius === this.radius;\n            },\n            clone: function () {\n                return new Circle(this.center.clone(), this.radius);\n            },\n            pointAt: function (angle) {\n                return this._pointAt(rad(angle));\n            },\n            bbox: function (matrix) {\n                var minPoint = Point.maxPoint();\n                var maxPoint = Point.minPoint();\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);\n                for (var i = 0; i < 4; i++) {\n                    var currentPointX = this._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);\n                    var currentPointY = this._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);\n                    var currentPoint = new Point(currentPointX.x, currentPointY.y);\n                    minPoint = Point.min(minPoint, currentPoint);\n                    maxPoint = Point.max(maxPoint, currentPoint);\n                }\n                return Rect.fromPoints(minPoint, maxPoint);\n            },\n            _pointAt: function (angle) {\n                var c = this.center;\n                var r = this.radius;\n                return new Point(c.x - r * math.cos(angle), c.y - r * math.sin(angle));\n            },\n            containsPoint: function (point) {\n                var center = this.center;\n                var inCircle = math.pow(point.x - center.x, 2) + math.pow(point.y - center.y, 2) <= math.pow(this.radius, 2);\n                return inCircle;\n            },\n            _isOnPath: function (point, width) {\n                var center = this.center;\n                var radius = this.radius;\n                var pointDistance = center.distanceTo(point);\n                return radius - width <= pointDistance && pointDistance <= radius + width;\n            }\n        });\n        defineAccessors(Circle.fn, ['radius']);\n        deepExtend(Circle.fn, ObserversMixin);\n        var Arc = Class.extend({\n            init: function (center, options) {\n                this.setCenter(center || new Point());\n                options = options || {};\n                this.radiusX = options.radiusX;\n                this.radiusY = options.radiusY || options.radiusX;\n                this.startAngle = options.startAngle;\n                this.endAngle = options.endAngle;\n                this.anticlockwise = options.anticlockwise || false;\n            },\n            clone: function () {\n                return new Arc(this.center, {\n                    radiusX: this.radiusX,\n                    radiusY: this.radiusY,\n                    startAngle: this.startAngle,\n                    endAngle: this.endAngle,\n                    anticlockwise: this.anticlockwise\n                });\n            },\n            setCenter: function (value) {\n                this._observerField('center', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getCenter: function () {\n                return this.center;\n            },\n            MAX_INTERVAL: 45,\n            pointAt: function (angle) {\n                var center = this.center;\n                var radian = rad(angle);\n                return new Point(center.x + this.radiusX * math.cos(radian), center.y + this.radiusY * math.sin(radian));\n            },\n            curvePoints: function () {\n                var startAngle = this.startAngle;\n                var dir = this.anticlockwise ? -1 : 1;\n                var curvePoints = [this.pointAt(startAngle)];\n                var currentAngle = startAngle;\n                var interval = this._arcInterval();\n                var intervalAngle = interval.endAngle - interval.startAngle;\n                var subIntervalsCount = math.ceil(intervalAngle / this.MAX_INTERVAL);\n                var subIntervalAngle = intervalAngle / subIntervalsCount;\n                for (var i = 1; i <= subIntervalsCount; i++) {\n                    var nextAngle = currentAngle + dir * subIntervalAngle;\n                    var points = this._intervalCurvePoints(currentAngle, nextAngle);\n                    curvePoints.push(points.cp1, points.cp2, points.p2);\n                    currentAngle = nextAngle;\n                }\n                return curvePoints;\n            },\n            bbox: function (matrix) {\n                var arc = this;\n                var interval = arc._arcInterval();\n                var startAngle = interval.startAngle;\n                var endAngle = interval.endAngle;\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);\n                var extremeX = deg(extremeAngles.x);\n                var extremeY = deg(extremeAngles.y);\n                var currentPoint = arc.pointAt(startAngle).transformCopy(matrix);\n                var endPoint = arc.pointAt(endAngle).transformCopy(matrix);\n                var minPoint = Point.min(currentPoint, endPoint);\n                var maxPoint = Point.max(currentPoint, endPoint);\n                var currentAngleX = bboxStartAngle(extremeX, startAngle);\n                var currentAngleY = bboxStartAngle(extremeY, startAngle);\n                while (currentAngleX < endAngle || currentAngleY < endAngle) {\n                    var currentPointX;\n                    if (currentAngleX < endAngle) {\n                        currentPointX = arc.pointAt(currentAngleX).transformCopy(matrix);\n                        currentAngleX += 90;\n                    }\n                    var currentPointY;\n                    if (currentAngleY < endAngle) {\n                        currentPointY = arc.pointAt(currentAngleY).transformCopy(matrix);\n                        currentAngleY += 90;\n                    }\n                    currentPoint = new Point(currentPointX.x, currentPointY.y);\n                    minPoint = Point.min(minPoint, currentPoint);\n                    maxPoint = Point.max(maxPoint, currentPoint);\n                }\n                return Rect.fromPoints(minPoint, maxPoint);\n            },\n            _arcInterval: function () {\n                var startAngle = this.startAngle;\n                var endAngle = this.endAngle;\n                var anticlockwise = this.anticlockwise;\n                if (anticlockwise) {\n                    var oldStart = startAngle;\n                    startAngle = endAngle;\n                    endAngle = oldStart;\n                }\n                if (startAngle > endAngle || anticlockwise && startAngle === endAngle) {\n                    endAngle += 360;\n                }\n                return {\n                    startAngle: startAngle,\n                    endAngle: endAngle\n                };\n            },\n            _intervalCurvePoints: function (startAngle, endAngle) {\n                var arc = this;\n                var p1 = arc.pointAt(startAngle);\n                var p2 = arc.pointAt(endAngle);\n                var p1Derivative = arc._derivativeAt(startAngle);\n                var p2Derivative = arc._derivativeAt(endAngle);\n                var t = (rad(endAngle) - rad(startAngle)) / 3;\n                var cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);\n                var cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);\n                return {\n                    p1: p1,\n                    cp1: cp1,\n                    cp2: cp2,\n                    p2: p2\n                };\n            },\n            _derivativeAt: function (angle) {\n                var arc = this;\n                var radian = rad(angle);\n                return new Point(-arc.radiusX * math.sin(radian), arc.radiusY * math.cos(radian));\n            },\n            containsPoint: function (point) {\n                var interval = this._arcInterval();\n                var intervalAngle = interval.endAngle - interval.startAngle;\n                var center = this.center;\n                var distance = center.distanceTo(point);\n                var angleRad = math.atan2(point.y - center.y, point.x - center.x);\n                var pointRadius = this.radiusX * this.radiusY / math.sqrt(math.pow(this.radiusX, 2) * math.pow(math.sin(angleRad), 2) + math.pow(this.radiusY, 2) * math.pow(math.cos(angleRad), 2));\n                var startPoint = this.pointAt(this.startAngle).round(PRECISION);\n                var endPoint = this.pointAt(this.endAngle).round(PRECISION);\n                var intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);\n                var containsPoint;\n                if (intervalAngle < 180) {\n                    containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);\n                } else {\n                    var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n                    if (angle != 360) {\n                        angle = (360 + angle) % 360;\n                    }\n                    var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n                    containsPoint = inAngleRange && closeOrLess(distance, pointRadius) || !inAngleRange && (!intersection || intersection.equals(point));\n                }\n                return containsPoint;\n            },\n            _isOnPath: function (point, width) {\n                var interval = this._arcInterval();\n                var center = this.center;\n                var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n                if (angle != 360) {\n                    angle = (360 + angle) % 360;\n                }\n                var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n                return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;\n            }\n        });\n        defineAccessors(Arc.fn, [\n            'radiusX',\n            'radiusY',\n            'startAngle',\n            'endAngle',\n            'anticlockwise'\n        ]);\n        deepExtend(Arc.fn, ObserversMixin);\n        Arc.fromPoints = function (start, end, rx, ry, largeArc, swipe) {\n            var arcParameters = normalizeArcParameters(start.x, start.y, end.x, end.y, rx, ry, largeArc, swipe);\n            return new Arc(arcParameters.center, {\n                startAngle: arcParameters.startAngle,\n                endAngle: arcParameters.endAngle,\n                radiusX: rx,\n                radiusY: ry,\n                anticlockwise: swipe === 0\n            });\n        };\n        var Matrix = Class.extend({\n            init: function (a, b, c, d, e, f) {\n                this.a = a || 0;\n                this.b = b || 0;\n                this.c = c || 0;\n                this.d = d || 0;\n                this.e = e || 0;\n                this.f = f || 0;\n            },\n            multiplyCopy: function (m) {\n                return new Matrix(this.a * m.a + this.c * m.b, this.b * m.a + this.d * m.b, this.a * m.c + this.c * m.d, this.b * m.c + this.d * m.d, this.a * m.e + this.c * m.f + this.e, this.b * m.e + this.d * m.f + this.f);\n            },\n            invert: function () {\n                var a = this.a, b = this.b;\n                var d = this.c, e = this.d;\n                var g = this.e, h = this.f;\n                var det = a * e - b * d;\n                if (det === 0) {\n                    return null;\n                }\n                return new Matrix(e / det, -b / det, -d / det, a / det, (d * h - e * g) / det, (b * g - a * h) / det);\n            },\n            clone: function () {\n                return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n            },\n            equals: function (other) {\n                if (!other) {\n                    return false;\n                }\n                return this.a === other.a && this.b === other.b && this.c === other.c && this.d === other.d && this.e === other.e && this.f === other.f;\n            },\n            round: function (precision) {\n                this.a = round(this.a, precision);\n                this.b = round(this.b, precision);\n                this.c = round(this.c, precision);\n                this.d = round(this.d, precision);\n                this.e = round(this.e, precision);\n                this.f = round(this.f, precision);\n                return this;\n            },\n            toArray: function (precision) {\n                var arr = [\n                    this.a,\n                    this.b,\n                    this.c,\n                    this.d,\n                    this.e,\n                    this.f\n                ];\n                if (defined(precision)) {\n                    for (var i = 0; i < arr.length; i++) {\n                        arr[i] = round(arr[i], precision);\n                    }\n                }\n                return arr;\n            }\n        });\n        Matrix.fn.toString = function (precision, separator) {\n            return this.toArray(precision).join(separator || ',');\n        };\n        Matrix.translate = function (x, y) {\n            return new Matrix(1, 0, 0, 1, x, y);\n        };\n        Matrix.unit = function () {\n            return new Matrix(1, 0, 0, 1, 0, 0);\n        };\n        Matrix.rotate = function (angle, x, y) {\n            var m = new Matrix();\n            m.a = math.cos(rad(angle));\n            m.b = math.sin(rad(angle));\n            m.c = -m.b;\n            m.d = m.a;\n            m.e = x - x * m.a + y * m.b || 0;\n            m.f = y - y * m.a - x * m.b || 0;\n            return m;\n        };\n        Matrix.scale = function (scaleX, scaleY) {\n            return new Matrix(scaleX, 0, 0, scaleY, 0, 0);\n        };\n        Matrix.IDENTITY = Matrix.unit();\n        var Transformation = Class.extend({\n            init: function (matrix) {\n                this._matrix = matrix || Matrix.unit();\n            },\n            clone: function () {\n                return new Transformation(this._matrix.clone());\n            },\n            equals: function (other) {\n                return other && other._matrix.equals(this._matrix);\n            },\n            _optionsChange: function () {\n                this.optionsChange({\n                    field: 'transform',\n                    value: this\n                });\n            },\n            translate: function (x, y) {\n                this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));\n                this._optionsChange();\n                return this;\n            },\n            scale: function (scaleX, scaleY, origin) {\n                if (!defined(scaleY)) {\n                    scaleY = scaleX;\n                }\n                if (origin) {\n                    origin = Point.create(origin);\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(origin.x, origin.y));\n                }\n                this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));\n                if (origin) {\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(-origin.x, -origin.y));\n                }\n                this._optionsChange();\n                return this;\n            },\n            rotate: function (angle, origin) {\n                origin = Point.create(origin) || Point.ZERO;\n                this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, origin.x, origin.y));\n                this._optionsChange();\n                return this;\n            },\n            multiply: function (transformation) {\n                var matrix = toMatrix(transformation);\n                this._matrix = this._matrix.multiplyCopy(matrix);\n                this._optionsChange();\n                return this;\n            },\n            matrix: function (matrix) {\n                if (matrix) {\n                    this._matrix = matrix;\n                    this._optionsChange();\n                    return this;\n                } else {\n                    return this._matrix;\n                }\n            }\n        });\n        deepExtend(Transformation.fn, ObserversMixin);\n        function transform(matrix) {\n            if (matrix === null) {\n                return null;\n            }\n            if (matrix instanceof Transformation) {\n                return matrix;\n            }\n            return new Transformation(matrix);\n        }\n        function toMatrix(value) {\n            if (value && kendo.isFunction(value.matrix)) {\n                return value.matrix();\n            }\n            return value;\n        }\n        function ellipseExtremeAngles(center, rx, ry, matrix) {\n            var extremeX = 0, extremeY = 0;\n            if (matrix) {\n                extremeX = math.atan2(matrix.c * ry, matrix.a * rx);\n                if (matrix.b !== 0) {\n                    extremeY = math.atan2(matrix.d * ry, matrix.b * rx);\n                }\n            }\n            return {\n                x: extremeX,\n                y: extremeY\n            };\n        }\n        function bboxStartAngle(angle, start) {\n            while (angle < start) {\n                angle += 90;\n            }\n            return angle;\n        }\n        function defineAccessors(fn, fields) {\n            for (var i = 0; i < fields.length; i++) {\n                var name = fields[i];\n                var capitalized = name.charAt(0).toUpperCase() + name.substring(1, name.length);\n                fn['set' + capitalized] = setAccessor(name);\n                fn['get' + capitalized] = getAccessor(name);\n            }\n        }\n        function setAccessor(field) {\n            return function (value) {\n                if (this[field] !== value) {\n                    this[field] = value;\n                    this.geometryChange();\n                }\n                return this;\n            };\n        }\n        function getAccessor(field) {\n            return function () {\n                return this[field];\n            };\n        }\n        function elipseAngle(start, end, swipe) {\n            if (start > end) {\n                end += 360;\n            }\n            var alpha = math.abs(end - start);\n            if (!swipe) {\n                alpha = 360 - alpha;\n            }\n            return alpha;\n        }\n        function calculateAngle(cx, cy, rx, ry, x, y) {\n            var cos = round((x - cx) / rx, 3);\n            var sin = round((y - cy) / ry, 3);\n            return round(deg(math.atan2(sin, cos)));\n        }\n        function normalizeArcParameters(x1, y1, x2, y2, rx, ry, largeArc, swipe) {\n            var cx, cy;\n            var cx1, cy1;\n            var a, b, c, sqrt;\n            if (y1 !== y2) {\n                var x21 = x2 - x1;\n                var y21 = y2 - y1;\n                var rx2 = pow(rx, 2), ry2 = pow(ry, 2);\n                var k = (ry2 * x21 * (x1 + x2) + rx2 * y21 * (y1 + y2)) / (2 * rx2 * y21);\n                var yk2 = k - y2;\n                var l = -(x21 * ry2) / (rx2 * y21);\n                a = 1 / rx2 + pow(l, 2) / ry2;\n                b = 2 * (l * yk2 / ry2 - x2 / rx2);\n                c = pow(x2, 2) / rx2 + pow(yk2, 2) / ry2 - 1;\n                sqrt = math.sqrt(pow(b, 2) - 4 * a * c);\n                cx = (-b - sqrt) / (2 * a);\n                cy = k + l * cx;\n                cx1 = (-b + sqrt) / (2 * a);\n                cy1 = k + l * cx1;\n            } else if (x1 !== x2) {\n                b = -2 * y2;\n                c = pow((x2 - x1) * ry / (2 * rx), 2) + pow(y2, 2) - pow(ry, 2);\n                sqrt = math.sqrt(pow(b, 2) - 4 * c);\n                cx = cx1 = (x1 + x2) / 2;\n                cy = (-b - sqrt) / 2;\n                cy1 = (-b + sqrt) / 2;\n            } else {\n                return false;\n            }\n            var start = calculateAngle(cx, cy, rx, ry, x1, y1);\n            var end = calculateAngle(cx, cy, rx, ry, x2, y2);\n            var alpha = elipseAngle(start, end, swipe);\n            if (largeArc && alpha <= 180 || !largeArc && alpha > 180) {\n                cx = cx1;\n                cy = cy1;\n                start = calculateAngle(cx, cy, rx, ry, x1, y1);\n                end = calculateAngle(cx, cy, rx, ry, x2, y2);\n            }\n            return {\n                center: new Point(cx, cy),\n                startAngle: start,\n                endAngle: end\n            };\n        }\n        var ComplexNumber = function (real, img) {\n            this.real = real || 0;\n            this.img = img || 0;\n        };\n        ComplexNumber.fn = ComplexNumber.prototype = {\n            add: function (cNumber) {\n                return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));\n            },\n            addConstant: function (value) {\n                return new ComplexNumber(this.real + value, this.img);\n            },\n            negate: function () {\n                return new ComplexNumber(-this.real, -this.img);\n            },\n            multiply: function (cNumber) {\n                return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img, this.real * cNumber.img + this.img * cNumber.real);\n            },\n            multiplyConstant: function (value) {\n                return new ComplexNumber(this.real * value, this.img * value);\n            },\n            nthRoot: function (n) {\n                var rad = math.atan2(this.img, this.real), r = math.sqrt(math.pow(this.img, 2) + math.pow(this.real, 2)), nthR = math.pow(r, 1 / n);\n                return new ComplexNumber(nthR * math.cos(rad / n), nthR * math.sin(rad / n));\n            },\n            equals: function (cNumber) {\n                return this.real === cNumber.real && this.img === cNumber.img;\n            },\n            isReal: function () {\n                return this.img === 0;\n            }\n        };\n        function solveCubic(a, b, c, d) {\n            if (a === 0) {\n                return solveQuadratic(b, c, d);\n            }\n            var p = (3 * a * c - math.pow(b, 2)) / (3 * math.pow(a, 2)), q = (2 * math.pow(b, 3) - 9 * a * b * c + 27 * math.pow(a, 2) * d) / (27 * math.pow(a, 3)), Q = math.pow(p / 3, 3) + math.pow(q / 2, 2), i = new ComplexNumber(0, 1), b3a = -b / (3 * a), x1, x2, y1, y2, y3, result = [], z1, z2;\n            if (Q < 0) {\n                x1 = new ComplexNumber(-q / 2, math.sqrt(-Q)).nthRoot(3);\n                x2 = new ComplexNumber(-q / 2, -math.sqrt(-Q)).nthRoot(3);\n            } else {\n                x1 = -q / 2 + math.sqrt(Q);\n                x1 = new ComplexNumber(numberSign(x1) * math.pow(math.abs(x1), 1 / 3));\n                x2 = -q / 2 - math.sqrt(Q);\n                x2 = new ComplexNumber(numberSign(x2) * math.pow(math.abs(x2), 1 / 3));\n            }\n            y1 = x1.add(x2);\n            z1 = x1.add(x2).multiplyConstant(-1 / 2);\n            z2 = x1.add(x2.negate()).multiplyConstant(math.sqrt(3) / 2);\n            y2 = z1.add(i.multiply(z2));\n            y3 = z1.add(i.negate().multiply(z2));\n            if (y1.isReal()) {\n                result.push(round(y1.real + b3a, PRECISION));\n            }\n            if (y2.isReal()) {\n                result.push(round(y2.real + b3a, PRECISION));\n            }\n            if (y3.isReal()) {\n                result.push(round(y3.real + b3a, PRECISION));\n            }\n            return result;\n        }\n        function toCubicPolynomial(points, field) {\n            return [\n                -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],\n                3 * (points[0][field] - 2 * points[1][field] + points[2][field]),\n                3 * (-points[0][field] + points[1][field]),\n                points[0][field]\n            ];\n        }\n        function calculateCurveAt(t, field, points) {\n            var t1 = 1 - t;\n            return math.pow(t1, 3) * points[0][field] + 3 * math.pow(t1, 2) * t * points[1][field] + 3 * math.pow(t, 2) * t1 * points[2][field] + math.pow(t, 3) * points[3][field];\n        }\n        function curveIntersectionsCount(points, point, bbox) {\n            var polynomial = toCubicPolynomial(points, 'x');\n            var roots = solveCubic(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n            var count = 0;\n            var rayIntersection;\n            var intersectsRay;\n            for (var i = 0; i < roots.length; i++) {\n                rayIntersection = calculateCurveAt(roots[i], 'y', points);\n                intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n                if (intersectsRay && ((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x || 0 < roots[i] && roots[i] < 1)) {\n                    count++;\n                }\n            }\n            return count;\n        }\n        function lineIntersectionsCount(a, b, point) {\n            var intersects;\n            if (a.x != b.x) {\n                var minX = math.min(a.x, b.x), maxX = math.max(a.x, b.x), minY = math.min(a.y, b.y), maxY = math.max(a.y, b.y), inRange = minX <= point.x && point.x < maxX;\n                if (minY == maxY) {\n                    intersects = point.y <= minY && inRange;\n                } else {\n                    intersects = inRange && (maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x) / (maxX - minX) + minY - point.y >= 0;\n                }\n            }\n            return intersects ? 1 : 0;\n        }\n        function lineIntersection(p0, p1, p2, p3) {\n            var s1x = p1.x - p0.x;\n            var s2x = p3.x - p2.x;\n            var s1y = p1.y - p0.y;\n            var s2y = p3.y - p2.y;\n            var nx = p0.x - p2.x;\n            var ny = p0.y - p2.y;\n            var d = s1x * s2y - s2x * s1y;\n            var s = (s1x * ny - s1y * nx) / d;\n            var t = (s2x * ny - s2y * nx) / d;\n            if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n                return new Point(p0.x + t * s1x, p0.y + t * s1y);\n            }\n        }\n        function close(a, b, tolerance) {\n            return round(math.abs(a - b), tolerance || PRECISION) === 0;\n        }\n        function closeOrLess(a, b, tolerance) {\n            return a < b || close(a, b, tolerance);\n        }\n        function numberSign(x) {\n            return x < 0 ? -1 : 1;\n        }\n        function isOutOfEndPoint(endPoint, controlPoint, point) {\n            var angle = util.deg(math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));\n            var rotatedPoint = point.transformCopy(transform().rotate(-angle, endPoint));\n            return rotatedPoint.x < endPoint.x;\n        }\n        function hasRootsInRange(points, point, field, rootField, range) {\n            var polynomial = toCubicPolynomial(points, rootField);\n            var roots = solveCubic(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);\n            var intersection;\n            for (var idx = 0; idx < roots.length; idx++) {\n                if (0 <= roots[idx] && roots[idx] <= 1) {\n                    intersection = calculateCurveAt(roots[idx], field, points);\n                    if (math.abs(intersection - point[field]) <= range) {\n                        return true;\n                    }\n                }\n            }\n        }\n        function solveQuadratic(a, b, c) {\n            var squareRoot = math.sqrt(math.pow(b, 2) - 4 * a * c);\n            return [\n                (-b + squareRoot) / (2 * a),\n                (-b - squareRoot) / (2 * a)\n            ];\n        }\n        deepExtend(kendo, {\n            geometry: {\n                Arc: Arc,\n                Circle: Circle,\n                curveIntersectionsCount: curveIntersectionsCount,\n                lineIntersectionsCount: lineIntersectionsCount,\n                Matrix: Matrix,\n                Point: Point,\n                Rect: Rect,\n                Size: Size,\n                Transformation: Transformation,\n                transform: transform,\n                toMatrix: toMatrix,\n                isOutOfEndPoint: isOutOfEndPoint,\n                hasRootsInRange: hasRootsInRange\n            }\n        });\n        kendo.dataviz.geometry = kendo.geometry;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/core', [\n        'drawing/geometry',\n        'kendo.popup'\n    ], f);\n}(function () {\n    (function ($) {\n        var noop = $.noop, toString = Object.prototype.toString, kendo = window.kendo, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, Class = kendo.Class, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, limitValue = util.limitValue, g = kendo.geometry, proxy = $.proxy, NS = '.kendo', TOOLTIP_TEMPLATE = '<div class=\"k-tooltip\">' + '<div class=\"k-tooltip-content\"></div>' + '</div>', TOOLTIP_CLOSE_TEMPLATE = '<div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\">close</a></div>';\n        var Surface = Widget.extend({\n            init: function (element, options) {\n                this.options = deepExtend({}, this.options, options);\n                Widget.fn.init.call(this, element, this.options);\n                this._click = this._handler('click');\n                this._mouseenter = this._handler('mouseenter');\n                this._mouseleave = this._handler('mouseleave');\n                this._mousemove = this._handler('mousemove');\n                this._visual = new kendo.drawing.Group();\n                if (this.options.width) {\n                    this.element.css('width', this.options.width);\n                }\n                if (this.options.height) {\n                    this.element.css('height', this.options.height);\n                }\n                this._enableTracking();\n            },\n            options: {\n                name: 'Surface',\n                tooltip: {}\n            },\n            events: [\n                'click',\n                'mouseenter',\n                'mouseleave',\n                'mousemove',\n                'resize',\n                'tooltipOpen',\n                'tooltipClose'\n            ],\n            draw: function (element) {\n                this._visual.children.push(element);\n            },\n            clear: function () {\n                this._visual.children = [];\n                this.hideTooltip();\n            },\n            destroy: function () {\n                this._visual = null;\n                if (this._tooltip) {\n                    this._tooltip.destroy();\n                    delete this._tooltip;\n                }\n                Widget.fn.destroy.call(this);\n            },\n            exportVisual: function () {\n                return this._visual;\n            },\n            getSize: function () {\n                return {\n                    width: this.element.width(),\n                    height: this.element.height()\n                };\n            },\n            setSize: function (size) {\n                this.element.css({\n                    width: size.width,\n                    height: size.height\n                });\n                this._size = size;\n                this._resize();\n            },\n            eventTarget: function (e) {\n                var domNode = $(e.touch ? e.touch.initialTouch : e.target);\n                var node;\n                while (!node && domNode.length > 0) {\n                    node = domNode[0]._kendoNode;\n                    if (domNode.is(this.element) || domNode.length === 0) {\n                        break;\n                    }\n                    domNode = domNode.parent();\n                }\n                if (node) {\n                    return node.srcElement;\n                }\n            },\n            showTooltip: function (shape, options) {\n                if (this._tooltip) {\n                    this._tooltip.show(shape, options);\n                }\n            },\n            hideTooltip: function () {\n                if (this._tooltip) {\n                    this._tooltip.hide();\n                }\n            },\n            suspendTracking: function () {\n                this._suspendedTracking = true;\n                this.hideTooltip();\n            },\n            resumeTracking: function () {\n                this._suspendedTracking = false;\n            },\n            _resize: noop,\n            _handler: function (event) {\n                var surface = this;\n                return function (e) {\n                    var node = surface.eventTarget(e);\n                    if (node && !surface._suspendedTracking) {\n                        surface.trigger(event, {\n                            element: node,\n                            originalEvent: e,\n                            type: event\n                        });\n                    }\n                };\n            },\n            _enableTracking: function () {\n                if (kendo.ui.Popup) {\n                    this._tooltip = new SurfaceTooltip(this, this.options.tooltip || {});\n                }\n            },\n            _elementOffset: function () {\n                var element = this.element;\n                var offset = element.offset();\n                var paddingLeft = parseInt(element.css('paddingLeft'), 10);\n                var paddingTop = parseInt(element.css('paddingTop'), 10);\n                return {\n                    left: offset.left + paddingLeft,\n                    top: offset.top + paddingTop\n                };\n            },\n            _surfacePoint: function (event) {\n                var offset = this._elementOffset();\n                var coord = eventCoordinates(event);\n                var x = coord.x - offset.left;\n                var y = coord.y - offset.top;\n                return new g.Point(x, y);\n            }\n        });\n        kendo.ui.plugin(Surface);\n        Surface.create = function (element, options) {\n            return SurfaceFactory.current.create(element, options);\n        };\n        var BaseNode = Class.extend({\n            init: function (srcElement) {\n                this.childNodes = [];\n                this.parent = null;\n                if (srcElement) {\n                    this.srcElement = srcElement;\n                    this.observe();\n                }\n            },\n            destroy: function () {\n                if (this.srcElement) {\n                    this.srcElement.removeObserver(this);\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    this.childNodes[i].destroy();\n                }\n                this.parent = null;\n            },\n            load: noop,\n            observe: function () {\n                if (this.srcElement) {\n                    this.srcElement.addObserver(this);\n                }\n            },\n            append: function (node) {\n                this.childNodes.push(node);\n                node.parent = this;\n            },\n            insertAt: function (node, pos) {\n                this.childNodes.splice(pos, 0, node);\n                node.parent = this;\n            },\n            remove: function (index, count) {\n                var end = index + count;\n                for (var i = index; i < end; i++) {\n                    this.childNodes[i].removeSelf();\n                }\n                this.childNodes.splice(index, count);\n            },\n            removeSelf: function () {\n                this.clear();\n                this.destroy();\n            },\n            clear: function () {\n                this.remove(0, this.childNodes.length);\n            },\n            invalidate: function () {\n                if (this.parent) {\n                    this.parent.invalidate();\n                }\n            },\n            geometryChange: function () {\n                this.invalidate();\n            },\n            optionsChange: function () {\n                this.invalidate();\n            },\n            childrenChange: function (e) {\n                if (e.action === 'add') {\n                    this.load(e.items, e.index);\n                } else if (e.action === 'remove') {\n                    this.remove(e.index, e.items.length);\n                }\n                this.invalidate();\n            }\n        });\n        var OptionsStore = Class.extend({\n            init: function (options, prefix) {\n                var field, member;\n                this.prefix = prefix || '';\n                for (field in options) {\n                    member = options[field];\n                    member = this._wrap(member, field);\n                    this[field] = member;\n                }\n            },\n            get: function (field) {\n                return kendo.getter(field, true)(this);\n            },\n            set: function (field, value) {\n                var current = kendo.getter(field, true)(this);\n                if (current !== value) {\n                    var composite = this._set(field, this._wrap(value, field));\n                    if (!composite) {\n                        this.optionsChange({\n                            field: this.prefix + field,\n                            value: value\n                        });\n                    }\n                }\n            },\n            _set: function (field, value) {\n                var composite = field.indexOf('.') >= 0;\n                if (composite) {\n                    var parts = field.split('.'), path = '', obj;\n                    while (parts.length > 1) {\n                        path += parts.shift();\n                        obj = kendo.getter(path, true)(this);\n                        if (!obj) {\n                            obj = new OptionsStore({}, path + '.');\n                            obj.addObserver(this);\n                            this[path] = obj;\n                        }\n                        if (obj instanceof OptionsStore) {\n                            obj.set(parts.join('.'), value);\n                            return composite;\n                        }\n                        path += '.';\n                    }\n                }\n                this._clear(field);\n                kendo.setter(field)(this, value);\n                return composite;\n            },\n            _clear: function (field) {\n                var current = kendo.getter(field, true)(this);\n                if (current && current.removeObserver) {\n                    current.removeObserver(this);\n                }\n            },\n            _wrap: function (object, field) {\n                var type = toString.call(object);\n                if (object !== null && defined(object) && type === '[object Object]') {\n                    if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n                        object = new OptionsStore(object, this.prefix + field + '.');\n                    }\n                    object.addObserver(this);\n                }\n                return object;\n            }\n        });\n        deepExtend(OptionsStore.fn, kendo.mixins.ObserversMixin);\n        var SurfaceFactory = function () {\n            this._items = [];\n        };\n        SurfaceFactory.prototype = {\n            register: function (name, type, order) {\n                var items = this._items, first = items[0], entry = {\n                        name: name,\n                        type: type,\n                        order: order\n                    };\n                if (!first || order < first.order) {\n                    items.unshift(entry);\n                } else {\n                    items.push(entry);\n                }\n            },\n            create: function (element, options) {\n                var items = this._items, match = items[0];\n                if (options && options.type) {\n                    var preferred = options.type.toLowerCase();\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].name === preferred) {\n                            match = items[i];\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    return new match.type(element, options);\n                }\n                kendo.logToConsole('Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\\n' + '- The browser does not support SVG, VML and Canvas. User agent: ' + navigator.userAgent + '\\n' + '- The Kendo UI scripts are not fully loaded');\n            }\n        };\n        SurfaceFactory.current = new SurfaceFactory();\n        var SurfaceTooltip = Class.extend({\n            init: function (surface, options) {\n                this.element = $(TOOLTIP_TEMPLATE);\n                this.content = this.element.children('.k-tooltip-content');\n                options = options || {};\n                this.options = deepExtend({}, this.options, this._tooltipOptions(options));\n                this.popup = new kendo.ui.Popup(this.element, {\n                    appendTo: options.appendTo,\n                    animation: options.animation,\n                    copyAnchorStyles: false,\n                    collision: 'fit fit'\n                });\n                this._openPopupHandler = $.proxy(this._openPopup, this);\n                this.surface = surface;\n                this._bindEvents();\n            },\n            options: {\n                position: 'top',\n                showOn: 'mouseenter',\n                offset: 7,\n                autoHide: true,\n                hideDelay: 0,\n                showAfter: 100\n            },\n            _bindEvents: function () {\n                this._showHandler = proxy(this._showEvent, this);\n                this._surfaceLeaveHandler = proxy(this._surfaceLeave, this);\n                this._mouseleaveHandler = proxy(this._mouseleave, this);\n                this._mousemoveHandler = proxy(this._mousemove, this);\n                this.surface.bind('click', this._showHandler);\n                this.surface.bind('mouseenter', this._showHandler);\n                this.surface.bind('mouseleave', this._mouseleaveHandler);\n                this.surface.bind('mousemove', this._mousemoveHandler);\n                this.surface.element.on('mouseleave' + NS, this._surfaceLeaveHandler);\n                this.element.on('click' + NS, '.k-tooltip-button', proxy(this._hideClick, this));\n            },\n            destroy: function () {\n                var popup = this.popup;\n                this.surface.unbind('click', this._showHandler);\n                this.surface.unbind('mouseenter', this._showHandler);\n                this.surface.unbind('mouseleave', this._mouseleaveHandler);\n                this.surface.unbind('mousemove', this._mousemoveHandler);\n                this.surface.element.off('mouseleave' + NS, this._surfaceLeaveHandler);\n                this.element.off('click' + NS);\n                if (popup) {\n                    popup.destroy();\n                    delete this.popup;\n                }\n                clearTimeout(this._timeout);\n                delete this.popup;\n                delete this.element;\n                delete this.content;\n                delete this.surface;\n            },\n            _tooltipOptions: function (options) {\n                options = options || {};\n                return {\n                    position: options.position,\n                    showOn: options.showOn,\n                    offset: options.offset,\n                    autoHide: options.autoHide,\n                    width: options.width,\n                    height: options.height,\n                    content: options.content,\n                    shared: options.shared,\n                    hideDelay: options.hideDelay,\n                    showAfter: options.showAfter\n                };\n            },\n            _tooltipShape: function (shape) {\n                while (shape && !shape.options.tooltip) {\n                    shape = shape.parent;\n                }\n                return shape;\n            },\n            _updateContent: function (target, shape, options) {\n                var content = options.content;\n                if (kendo.isFunction(content)) {\n                    content = content({\n                        element: shape,\n                        target: target\n                    });\n                }\n                if (content) {\n                    this.content.html(content);\n                    return true;\n                }\n            },\n            _position: function (shape, options, elementSize, event) {\n                var position = options.position;\n                var tooltipOffset = options.offset || 0;\n                var surface = this.surface;\n                var offset = surface._elementOffset();\n                var size = surface.getSize();\n                var surfaceOffset = surface._offset;\n                var bbox = shape.bbox();\n                var width = elementSize.width;\n                var height = elementSize.height;\n                var left = 0, top = 0;\n                bbox.origin.translate(offset.left, offset.top);\n                if (surfaceOffset) {\n                    bbox.origin.translate(-surfaceOffset.x, -surfaceOffset.y);\n                }\n                if (position == 'cursor' && event) {\n                    var coord = eventCoordinates(event);\n                    left = coord.x - width / 2;\n                    top = coord.y - height - tooltipOffset;\n                } else if (position == 'left') {\n                    left = bbox.origin.x - width - tooltipOffset;\n                    top = bbox.center().y - height / 2;\n                } else if (position == 'right') {\n                    left = bbox.bottomRight().x + tooltipOffset;\n                    top = bbox.center().y - height / 2;\n                } else if (position == 'bottom') {\n                    left = bbox.center().x - width / 2;\n                    top = bbox.bottomRight().y + tooltipOffset;\n                } else {\n                    left = bbox.center().x - width / 2;\n                    top = bbox.origin.y - height - tooltipOffset;\n                }\n                return {\n                    left: limitValue(left, offset.left, offset.left + size.width),\n                    top: limitValue(top, offset.top, offset.top + size.height)\n                };\n            },\n            show: function (shape, options) {\n                this._show(shape, shape, deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip), options));\n            },\n            hide: function () {\n                var current = this._current;\n                delete this._current;\n                clearTimeout(this._showTimeout);\n                if (this.popup.visible() && current && !this.surface.trigger('tooltipClose', {\n                        element: current.shape,\n                        target: current.target,\n                        popup: this.popup\n                    })) {\n                    this.popup.close();\n                }\n            },\n            _hideClick: function (e) {\n                e.preventDefault();\n                this.hide();\n            },\n            _show: function (target, shape, options, event, delay) {\n                var current = this._current;\n                clearTimeout(this._timeout);\n                if (current && (current.shape === shape && options.shared || current.target === target)) {\n                    return;\n                }\n                clearTimeout(this._showTimeout);\n                if (!this.surface.trigger('tooltipOpen', {\n                        element: shape,\n                        target: target,\n                        popup: this.popup\n                    }) && this._updateContent(target, shape, options)) {\n                    this._autoHide(options);\n                    var elementSize = this._measure(options);\n                    var popup = this.popup;\n                    if (popup.visible()) {\n                        popup.close(true);\n                    }\n                    this._current = {\n                        options: options,\n                        elementSize: elementSize,\n                        shape: shape,\n                        target: target,\n                        position: this._position(options.shared ? shape : target, options, elementSize, event)\n                    };\n                    if (delay) {\n                        this._showTimeout = setTimeout(this._openPopupHandler, options.showAfter || 0);\n                    } else {\n                        this._openPopup();\n                    }\n                }\n            },\n            _openPopup: function () {\n                var current = this._current;\n                var position = current.position;\n                this.popup.open(position.left, position.top);\n            },\n            _autoHide: function (options) {\n                if (options.autoHide && this._closeButton) {\n                    this.element.removeClass('k-tooltip-closable');\n                    this._closeButton.remove();\n                    delete this._closeButton;\n                }\n                if (!options.autoHide && !this._closeButton) {\n                    this.element.addClass('k-tooltip-closable');\n                    this._closeButton = $(TOOLTIP_CLOSE_TEMPLATE).prependTo(this.element);\n                }\n            },\n            _showEvent: function (e) {\n                var shape = this._tooltipShape(e.element);\n                if (shape) {\n                    var options = deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip));\n                    if (options && options.showOn == e.type) {\n                        this._show(e.element, shape, options, e.originalEvent, true);\n                    }\n                }\n            },\n            _measure: function (options) {\n                var width, height;\n                this.element.css({\n                    width: 'auto',\n                    height: 'auto'\n                });\n                var visible = this.popup.visible();\n                if (!visible) {\n                    this.popup.wrapper.show();\n                }\n                this.element.css({\n                    width: defined(options.width) ? options.width : 'auto',\n                    height: defined(options.height) ? options.height : 'auto'\n                });\n                width = outerWidth(this.element);\n                height = outerHeight(this.element);\n                if (!visible) {\n                    this.popup.wrapper.hide();\n                }\n                return {\n                    width: width,\n                    height: height\n                };\n            },\n            _mouseleave: function (e) {\n                if (!this._popupRelatedTarget(e.originalEvent)) {\n                    var tooltip = this;\n                    var current = tooltip._current;\n                    if (current && current.options.autoHide) {\n                        tooltip._timeout = setTimeout(function () {\n                            clearTimeout(tooltip._showTimeout);\n                            tooltip.hide();\n                        }, current.options.hideDelay || 0);\n                    }\n                }\n            },\n            _mousemove: function (e) {\n                var current = this._current;\n                if (current && e.element) {\n                    var options = current.options;\n                    if (options.position == 'cursor') {\n                        var position = this._position(e.element, options, current.elementSize, e.originalEvent);\n                        current.position = position;\n                        this.popup.wrapper.css({\n                            left: position.left,\n                            top: position.top\n                        });\n                    }\n                }\n            },\n            _surfaceLeave: function (e) {\n                if (!this._popupRelatedTarget(e)) {\n                    clearTimeout(this._showTimeout);\n                    this.hide();\n                }\n            },\n            _popupRelatedTarget: function (e) {\n                return e.relatedTarget && $(e.relatedTarget).closest(this.popup.wrapper).length;\n            }\n        });\n        function eventCoordinates(event) {\n            var x, y;\n            if (event.touch) {\n                x = event.x.location;\n                y = event.y.location;\n            } else {\n                x = event.pageX || event.clientX || 0;\n                y = event.pageY || event.clientY || 0;\n            }\n            return {\n                x: x,\n                y: y\n            };\n        }\n        deepExtend(kendo, {\n            drawing: {\n                DASH_ARRAYS: {\n                    dot: [\n                        1.5,\n                        3.5\n                    ],\n                    dash: [\n                        4,\n                        3.5\n                    ],\n                    longdash: [\n                        8,\n                        3.5\n                    ],\n                    dashdot: [\n                        3.5,\n                        3.5,\n                        1.5,\n                        3.5\n                    ],\n                    longdashdot: [\n                        8,\n                        3.5,\n                        1.5,\n                        3.5\n                    ],\n                    longdashdotdot: [\n                        8,\n                        3.5,\n                        1.5,\n                        3.5,\n                        1.5,\n                        3.5\n                    ]\n                },\n                Color: kendo.Color,\n                BaseNode: BaseNode,\n                OptionsStore: OptionsStore,\n                Surface: Surface,\n                SurfaceFactory: SurfaceFactory,\n                SurfaceTooltip: SurfaceTooltip\n            }\n        });\n        kendo.dataviz.drawing = kendo.drawing;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/mixins', ['drawing/core'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, defined = kendo.util.defined, g = kendo.geometry;\n        var GRADIENT = 'gradient';\n        var IDENTITY_MATRIX_HASH = g.Matrix.IDENTITY.toString();\n        var Paintable = {\n            extend: function (proto) {\n                proto.fill = this.fill;\n                proto.stroke = this.stroke;\n            },\n            fill: function (color, opacity) {\n                var options = this.options;\n                if (defined(color)) {\n                    if (color && color.nodeType != GRADIENT) {\n                        var newFill = { color: color };\n                        if (defined(opacity)) {\n                            newFill.opacity = opacity;\n                        }\n                        options.set('fill', newFill);\n                    } else {\n                        options.set('fill', color);\n                    }\n                    return this;\n                } else {\n                    return options.get('fill');\n                }\n            },\n            stroke: function (color, width, opacity) {\n                if (defined(color)) {\n                    this.options.set('stroke.color', color);\n                    if (defined(width)) {\n                        this.options.set('stroke.width', width);\n                    }\n                    if (defined(opacity)) {\n                        this.options.set('stroke.opacity', opacity);\n                    }\n                    return this;\n                } else {\n                    return this.options.get('stroke');\n                }\n            }\n        };\n        var Traversable = {\n            extend: function (proto, childrenField) {\n                proto.traverse = function (callback) {\n                    var children = this[childrenField];\n                    for (var i = 0; i < children.length; i++) {\n                        var child = children[i];\n                        if (child.traverse) {\n                            child.traverse(callback);\n                        } else {\n                            callback(child);\n                        }\n                    }\n                    return this;\n                };\n            }\n        };\n        var Measurable = {\n            extend: function (proto) {\n                proto.bbox = this.bbox;\n                proto.geometryChange = this.geometryChange;\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = g.toMatrix(this.currentTransform(transformation));\n                var matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;\n                var bbox;\n                if (this._bboxCache && this._matrixHash == matrixHash) {\n                    bbox = this._bboxCache.clone();\n                } else {\n                    bbox = this._bbox(combinedMatrix);\n                    this._bboxCache = bbox ? bbox.clone() : null;\n                    this._matrixHash = matrixHash;\n                }\n                var strokeWidth = this.options.get('stroke.width');\n                if (strokeWidth && bbox) {\n                    bbox.expand(strokeWidth / 2);\n                }\n                return bbox;\n            },\n            geometryChange: function () {\n                delete this._bboxCache;\n                this.trigger('geometryChange', { element: this });\n            }\n        };\n        deepExtend(kendo.drawing, {\n            mixins: {\n                Paintable: Paintable,\n                Traversable: Traversable,\n                Measurable: Measurable\n            }\n        });\n    }());\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/shapes', [\n        'drawing/core',\n        'drawing/mixins',\n        'util/text-metrics',\n        'mixins/observers'\n    ], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, Class = kendo.Class, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, Size = g.Size, Matrix = g.Matrix, toMatrix = g.toMatrix, drawing = kendo.drawing, OptionsStore = drawing.OptionsStore, math = Math, pow = math.pow, util = kendo.util, append = util.append, arrayLimits = util.arrayLimits, defined = util.defined, last = util.last, valueOrDefault = util.valueOrDefault, ObserversMixin = kendo.mixins.ObserversMixin, inArray = $.inArray, push = [].push, pop = [].pop, splice = [].splice, shift = [].shift, slice = [].slice, unshift = [].unshift, defId = 1, START = 'start', END = 'end', HORIZONTAL = 'horizontal';\n        var Element = Class.extend({\n            nodeType: 'Element',\n            init: function (options) {\n                this._initOptions(options);\n            },\n            _initOptions: function (options) {\n                options = options || {};\n                var transform = options.transform;\n                var clip = options.clip;\n                if (transform) {\n                    options.transform = g.transform(transform);\n                }\n                if (clip && !clip.id) {\n                    clip.id = generateDefinitionId();\n                }\n                this.options = new OptionsStore(options);\n                this.options.addObserver(this);\n            },\n            transform: function (transform) {\n                if (defined(transform)) {\n                    this.options.set('transform', g.transform(transform));\n                } else {\n                    return this.options.get('transform');\n                }\n            },\n            parentTransform: function () {\n                var element = this, transformation, parentMatrix;\n                while (element.parent) {\n                    element = element.parent;\n                    transformation = element.transform();\n                    if (transformation) {\n                        parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n                    }\n                }\n                if (parentMatrix) {\n                    return g.transform(parentMatrix);\n                }\n            },\n            currentTransform: function (parentTransform) {\n                var elementTransform = this.transform(), elementMatrix = toMatrix(elementTransform), parentMatrix, combinedMatrix;\n                if (!defined(parentTransform)) {\n                    parentTransform = this.parentTransform();\n                }\n                parentMatrix = toMatrix(parentTransform);\n                if (elementMatrix && parentMatrix) {\n                    combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n                } else {\n                    combinedMatrix = elementMatrix || parentMatrix;\n                }\n                if (combinedMatrix) {\n                    return g.transform(combinedMatrix);\n                }\n            },\n            visible: function (visible) {\n                if (defined(visible)) {\n                    this.options.set('visible', visible);\n                    return this;\n                } else {\n                    return this.options.get('visible') !== false;\n                }\n            },\n            clip: function (clip) {\n                var options = this.options;\n                if (defined(clip)) {\n                    if (clip && !clip.id) {\n                        clip.id = generateDefinitionId();\n                    }\n                    options.set('clip', clip);\n                    return this;\n                } else {\n                    return options.get('clip');\n                }\n            },\n            opacity: function (value) {\n                if (defined(value)) {\n                    this.options.set('opacity', value);\n                    return this;\n                } else {\n                    return valueOrDefault(this.options.get('opacity'), 1);\n                }\n            },\n            clippedBBox: function (transformation) {\n                var box = this._clippedBBox(transformation);\n                if (box) {\n                    var clip = this.clip();\n                    return clip ? g.Rect.intersect(box, clip.bbox(transformation)) : box;\n                }\n            },\n            containsPoint: function (point, parentTransform) {\n                if (this.visible()) {\n                    var transform = this.currentTransform(parentTransform);\n                    if (transform) {\n                        point = point.transformCopy(transform.matrix().invert());\n                    }\n                    return this._hasFill() && this._containsPoint(point) || this._isOnPath && this._hasStroke() && this._isOnPath(point);\n                }\n                return false;\n            },\n            _hasFill: function () {\n                var fill = this.options.fill;\n                return fill && !util.isTransparent(fill.color);\n            },\n            _hasStroke: function () {\n                var stroke = this.options.stroke;\n                return stroke && stroke.width > 0 && !util.isTransparent(stroke.color);\n            },\n            _clippedBBox: function (transformation) {\n                return this.bbox(transformation);\n            }\n        });\n        deepExtend(Element.fn, ObserversMixin);\n        var ElementsArray = Class.extend({\n            init: function (array) {\n                array = array || [];\n                this.length = 0;\n                this._splice(0, array.length, array);\n            },\n            elements: function (elements) {\n                if (elements) {\n                    this._splice(0, this.length, elements);\n                    this._change();\n                    return this;\n                } else {\n                    return this.slice(0);\n                }\n            },\n            push: function () {\n                var elements = arguments;\n                var result = push.apply(this, elements);\n                this._add(elements);\n                return result;\n            },\n            slice: slice,\n            pop: function () {\n                var length = this.length;\n                var result = pop.apply(this);\n                if (length) {\n                    this._remove([result]);\n                }\n                return result;\n            },\n            splice: function (index, howMany) {\n                var elements = slice.call(arguments, 2);\n                var result = this._splice(index, howMany, elements);\n                this._change();\n                return result;\n            },\n            shift: function () {\n                var length = this.length;\n                var result = shift.apply(this);\n                if (length) {\n                    this._remove([result]);\n                }\n                return result;\n            },\n            unshift: function () {\n                var elements = arguments;\n                var result = unshift.apply(this, elements);\n                this._add(elements);\n                return result;\n            },\n            indexOf: function (element) {\n                var that = this;\n                var idx;\n                var length;\n                for (idx = 0, length = that.length; idx < length; idx++) {\n                    if (that[idx] === element) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _splice: function (index, howMany, elements) {\n                var result = splice.apply(this, [\n                    index,\n                    howMany\n                ].concat(elements));\n                this._clearObserver(result);\n                this._setObserver(elements);\n                return result;\n            },\n            _add: function (elements) {\n                this._setObserver(elements);\n                this._change();\n            },\n            _remove: function (elements) {\n                this._clearObserver(elements);\n                this._change();\n            },\n            _setObserver: function (elements) {\n                for (var idx = 0; idx < elements.length; idx++) {\n                    elements[idx].addObserver(this);\n                }\n            },\n            _clearObserver: function (elements) {\n                for (var idx = 0; idx < elements.length; idx++) {\n                    elements[idx].removeObserver(this);\n                }\n            },\n            _change: function () {\n            }\n        });\n        deepExtend(ElementsArray.fn, ObserversMixin);\n        var Group = Element.extend({\n            nodeType: 'Group',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.children = [];\n            },\n            childrenChange: function (action, items, index) {\n                this.trigger('childrenChange', {\n                    action: action,\n                    items: items,\n                    index: index\n                });\n            },\n            append: function () {\n                append(this.children, arguments);\n                this._reparent(arguments, this);\n                this.childrenChange('add', arguments);\n                return this;\n            },\n            insert: function (index, element) {\n                this.children.splice(index, 0, element);\n                element.parent = this;\n                this.childrenChange('add', [element], index);\n                return this;\n            },\n            insertAt: function (element, index) {\n                return this.insert(index, element);\n            },\n            remove: function (element) {\n                var index = inArray(element, this.children);\n                if (index >= 0) {\n                    this.children.splice(index, 1);\n                    element.parent = null;\n                    this.childrenChange('remove', [element], index);\n                }\n                return this;\n            },\n            removeAt: function (index) {\n                if (0 <= index && index < this.children.length) {\n                    var element = this.children[index];\n                    this.children.splice(index, 1);\n                    element.parent = null;\n                    this.childrenChange('remove', [element], index);\n                }\n                return this;\n            },\n            clear: function () {\n                var items = this.children;\n                this.children = [];\n                this._reparent(items, null);\n                this.childrenChange('remove', items, 0);\n                return this;\n            },\n            bbox: function (transformation) {\n                return elementsBoundingBox(this.children, true, this.currentTransform(transformation));\n            },\n            rawBBox: function () {\n                return elementsBoundingBox(this.children, false);\n            },\n            _clippedBBox: function (transformation) {\n                return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));\n            },\n            currentTransform: function (transformation) {\n                return Element.fn.currentTransform.call(this, transformation) || null;\n            },\n            containsPoint: function (point, parentTransform) {\n                if (this.visible()) {\n                    var children = this.children;\n                    var transform = this.currentTransform(parentTransform);\n                    for (var idx = 0; idx < children.length; idx++) {\n                        if (children[idx].containsPoint(point, transform)) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            },\n            _reparent: function (elements, newParent) {\n                for (var i = 0; i < elements.length; i++) {\n                    var child = elements[i];\n                    var parent = child.parent;\n                    if (parent && parent != this && parent.remove) {\n                        parent.remove(child);\n                    }\n                    child.parent = newParent;\n                }\n            }\n        });\n        drawing.mixins.Traversable.extend(Group.fn, 'children');\n        var Text = Element.extend({\n            nodeType: 'Text',\n            init: function (content, position, options) {\n                Element.fn.init.call(this, options);\n                this.content(content);\n                this.position(position || new g.Point());\n                if (!this.options.font) {\n                    this.options.font = '12px sans-serif';\n                }\n                if (!defined(this.options.fill)) {\n                    this.fill('#000');\n                }\n            },\n            content: function (value) {\n                if (defined(value)) {\n                    this.options.set('content', value);\n                    return this;\n                } else {\n                    return this.options.get('content');\n                }\n            },\n            measure: function () {\n                var metrics = util.measureText(this.content(), { font: this.options.get('font') });\n                return metrics;\n            },\n            rect: function () {\n                var size = this.measure();\n                var pos = this.position().clone();\n                return new g.Rect(pos, [\n                    size.width,\n                    size.height\n                ]);\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                return this.rect().bbox(combinedMatrix);\n            },\n            rawBBox: function () {\n                return this.rect().bbox();\n            },\n            _containsPoint: function (point) {\n                return this.rect().containsPoint(point);\n            }\n        });\n        drawing.mixins.Paintable.extend(Text.fn);\n        definePointAccessors(Text.fn, ['position']);\n        var Circle = Element.extend({\n            nodeType: 'Circle',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Circle());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this._geometry.bbox();\n            },\n            _containsPoint: function (point) {\n                return this.geometry().containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Circle.fn);\n        drawing.mixins.Measurable.extend(Circle.fn);\n        defineGeometryAccessors(Circle.fn, ['geometry']);\n        var Arc = Element.extend({\n            nodeType: 'Arc',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Arc());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this.geometry().bbox();\n            },\n            toPath: function () {\n                var path = new Path();\n                var curvePoints = this.geometry().curvePoints();\n                if (curvePoints.length > 0) {\n                    path.moveTo(curvePoints[0].x, curvePoints[0].y);\n                    for (var i = 1; i < curvePoints.length; i += 3) {\n                        path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n                    }\n                }\n                return path;\n            },\n            _containsPoint: function (point) {\n                return this.geometry().containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Arc.fn);\n        drawing.mixins.Measurable.extend(Arc.fn);\n        defineGeometryAccessors(Arc.fn, ['geometry']);\n        var GeometryElementsArray = ElementsArray.extend({\n            _change: function () {\n                this.geometryChange();\n            }\n        });\n        var Segment = Class.extend({\n            init: function (anchor, controlIn, controlOut) {\n                this.anchor(anchor || new Point());\n                this.controlIn(controlIn);\n                this.controlOut(controlOut);\n            },\n            bboxTo: function (toSegment, matrix) {\n                var rect;\n                var segmentAnchor = this.anchor().transformCopy(matrix);\n                var toSegmentAnchor = toSegment.anchor().transformCopy(matrix);\n                if (this.controlOut() && toSegment.controlIn()) {\n                    rect = this._curveBoundingBox(segmentAnchor, this.controlOut().transformCopy(matrix), toSegment.controlIn().transformCopy(matrix), toSegmentAnchor);\n                } else {\n                    rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);\n                }\n                return rect;\n            },\n            _lineBoundingBox: function (p1, p2) {\n                return g.Rect.fromPoints(p1, p2);\n            },\n            _curveBoundingBox: function (p1, cp1, cp2, p2) {\n                var points = [\n                        p1,\n                        cp1,\n                        cp2,\n                        p2\n                    ], extremesX = this._curveExtremesFor(points, 'x'), extremesY = this._curveExtremesFor(points, 'y'), xLimits = arrayLimits([\n                        extremesX.min,\n                        extremesX.max,\n                        p1.x,\n                        p2.x\n                    ]), yLimits = arrayLimits([\n                        extremesY.min,\n                        extremesY.max,\n                        p1.y,\n                        p2.y\n                    ]);\n                return g.Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));\n            },\n            _curveExtremesFor: function (points, field) {\n                var extremes = this._curveExtremes(points[0][field], points[1][field], points[2][field], points[3][field]);\n                return {\n                    min: this._calculateCurveAt(extremes.min, field, points),\n                    max: this._calculateCurveAt(extremes.max, field, points)\n                };\n            },\n            _calculateCurveAt: function (t, field, points) {\n                var t1 = 1 - t;\n                return pow(t1, 3) * points[0][field] + 3 * pow(t1, 2) * t * points[1][field] + 3 * pow(t, 2) * t1 * points[2][field] + pow(t, 3) * points[3][field];\n            },\n            _curveExtremes: function (x1, x2, x3, x4) {\n                var a = x1 - 3 * x2 + 3 * x3 - x4;\n                var b = -2 * (x1 - 2 * x2 + x3);\n                var c = x1 - x2;\n                var sqrt = math.sqrt(b * b - 4 * a * c);\n                var t1 = 0;\n                var t2 = 1;\n                if (a === 0) {\n                    if (b !== 0) {\n                        t1 = t2 = -c / b;\n                    }\n                } else if (!isNaN(sqrt)) {\n                    t1 = (-b + sqrt) / (2 * a);\n                    t2 = (-b - sqrt) / (2 * a);\n                }\n                var min = math.max(math.min(t1, t2), 0);\n                if (min < 0 || min > 1) {\n                    min = 0;\n                }\n                var max = math.min(math.max(t1, t2), 1);\n                if (max > 1 || max < 0) {\n                    max = 1;\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            _intersectionsTo: function (segment, point) {\n                var intersectionsCount;\n                if (this.controlOut() && segment.controlIn()) {\n                    intersectionsCount = g.curveIntersectionsCount([\n                        this.anchor(),\n                        this.controlOut(),\n                        segment.controlIn(),\n                        segment.anchor()\n                    ], point, this.bboxTo(segment));\n                } else {\n                    intersectionsCount = g.lineIntersectionsCount(this.anchor(), segment.anchor(), point);\n                }\n                return intersectionsCount;\n            },\n            _isOnCurveTo: function (segment, point, width, endSegment) {\n                var bbox = this.bboxTo(segment).expand(width, width);\n                if (bbox.containsPoint(point)) {\n                    var p1 = this.anchor();\n                    var p2 = this.controlOut();\n                    var p3 = segment.controlIn();\n                    var p4 = segment.anchor();\n                    if (endSegment == 'start' && p1.distanceTo(point) <= width) {\n                        return !g.isOutOfEndPoint(p1, p2, point);\n                    } else if (endSegment == 'end' && p4.distanceTo(point) <= width) {\n                        return !g.isOutOfEndPoint(p4, p3, point);\n                    }\n                    var hasRootsInRange = g.hasRootsInRange;\n                    var points = [\n                        p1,\n                        p2,\n                        p3,\n                        p4\n                    ];\n                    if (hasRootsInRange(points, point, 'x', 'y', width) || hasRootsInRange(points, point, 'y', 'x', width)) {\n                        return true;\n                    }\n                    var rotation = g.transform().rotate(45, point);\n                    var rotatedPoints = [\n                        p1.transformCopy(rotation),\n                        p2.transformCopy(rotation),\n                        p3.transformCopy(rotation),\n                        p4.transformCopy(rotation)\n                    ];\n                    return hasRootsInRange(rotatedPoints, point, 'x', 'y', width) || hasRootsInRange(rotatedPoints, point, 'y', 'x', width);\n                }\n            },\n            _isOnLineTo: function (segment, point, width) {\n                var p1 = this.anchor();\n                var p2 = segment.anchor();\n                var angle = util.deg(math.atan2(p2.y - p1.y, p2.x - p1.x));\n                var rect = new g.Rect([\n                    p1.x,\n                    p1.y - width / 2\n                ], [\n                    p1.distanceTo(p2),\n                    width\n                ]);\n                return rect.containsPoint(point.transformCopy(g.transform().rotate(-angle, p1)));\n            },\n            _isOnPathTo: function (segment, point, width, endSegment) {\n                var isOnPath;\n                if (this.controlOut() && segment.controlIn()) {\n                    isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);\n                } else {\n                    isOnPath = this._isOnLineTo(segment, point, width);\n                }\n                return isOnPath;\n            }\n        });\n        definePointAccessors(Segment.fn, [\n            'anchor',\n            'controlIn',\n            'controlOut'\n        ]);\n        deepExtend(Segment.fn, ObserversMixin);\n        var Path = Element.extend({\n            nodeType: 'Path',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.segments = new GeometryElementsArray();\n                this.segments.addObserver(this);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                    if (!defined(this.options.stroke.lineJoin)) {\n                        this.options.set('stroke.lineJoin', 'miter');\n                    }\n                }\n            },\n            moveTo: function (x, y) {\n                this.suspend();\n                this.segments.elements([]);\n                this.resume();\n                this.lineTo(x, y);\n                return this;\n            },\n            lineTo: function (x, y) {\n                var point = defined(y) ? new Point(x, y) : x, segment = new Segment(point);\n                this.segments.push(segment);\n                return this;\n            },\n            curveTo: function (controlOut, controlIn, point) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var segment = new Segment(point, controlIn);\n                    this.suspend();\n                    lastSegment.controlOut(controlOut);\n                    this.resume();\n                    this.segments.push(segment);\n                }\n                return this;\n            },\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var anchor = lastSegment.anchor();\n                    var start = util.rad(startAngle);\n                    var center = new Point(anchor.x - radiusX * math.cos(start), anchor.y - radiusY * math.sin(start));\n                    var arc = new g.Arc(center, {\n                        startAngle: startAngle,\n                        endAngle: endAngle,\n                        radiusX: radiusX,\n                        radiusY: radiusY,\n                        anticlockwise: anticlockwise\n                    });\n                    this._addArcSegments(arc);\n                }\n                return this;\n            },\n            arcTo: function (end, rx, ry, largeArc, swipe) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var anchor = lastSegment.anchor();\n                    var arc = g.Arc.fromPoints(anchor, end, rx, ry, largeArc, swipe);\n                    this._addArcSegments(arc);\n                }\n                return this;\n            },\n            _addArcSegments: function (arc) {\n                this.suspend();\n                var curvePoints = arc.curvePoints();\n                for (var i = 1; i < curvePoints.length; i += 3) {\n                    this.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n                }\n                this.resume();\n                this.geometryChange();\n            },\n            close: function () {\n                this.options.closed = true;\n                this.geometryChange();\n                return this;\n            },\n            rawBBox: function () {\n                return this._bbox();\n            },\n            _containsPoint: function (point) {\n                var segments = this.segments;\n                var length = segments.length;\n                var intersectionsCount = 0;\n                var previous, current;\n                for (var idx = 1; idx < length; idx++) {\n                    previous = segments[idx - 1];\n                    current = segments[idx];\n                    intersectionsCount += previous._intersectionsTo(current, point);\n                }\n                if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {\n                    intersectionsCount += g.lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point);\n                }\n                return intersectionsCount % 2 !== 0;\n            },\n            _isOnPath: function (point, width) {\n                var segments = this.segments;\n                var length = segments.length;\n                width = width || this.options.stroke.width;\n                if (length > 1) {\n                    if (segments[0]._isOnPathTo(segments[1], point, width, 'start')) {\n                        return true;\n                    }\n                    for (var idx = 2; idx <= length - 2; idx++) {\n                        if (segments[idx - 1]._isOnPathTo(segments[idx], point, width)) {\n                            return true;\n                        }\n                    }\n                    if (segments[length - 2]._isOnPathTo(segments[length - 1], point, width, 'end')) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _bbox: function (matrix) {\n                var segments = this.segments;\n                var length = segments.length;\n                var boundingBox;\n                if (length === 1) {\n                    var anchor = segments[0].anchor().transformCopy(matrix);\n                    boundingBox = new g.Rect(anchor, Size.ZERO);\n                } else if (length > 0) {\n                    for (var i = 1; i < length; i++) {\n                        var segmentBox = segments[i - 1].bboxTo(segments[i], matrix);\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, segmentBox);\n                        } else {\n                            boundingBox = segmentBox;\n                        }\n                    }\n                }\n                return boundingBox;\n            }\n        });\n        drawing.mixins.Paintable.extend(Path.fn);\n        drawing.mixins.Measurable.extend(Path.fn);\n        Path.fromRect = function (rect, options) {\n            return new Path(options).moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\n        };\n        Path.fromPoints = function (points, options) {\n            if (points) {\n                var path = new Path(options);\n                for (var i = 0; i < points.length; i++) {\n                    var pt = Point.create(points[i]);\n                    if (pt) {\n                        if (i === 0) {\n                            path.moveTo(pt);\n                        } else {\n                            path.lineTo(pt);\n                        }\n                    }\n                }\n                return path;\n            }\n        };\n        Path.fromArc = function (arc, options) {\n            var path = new Path(options);\n            var startAngle = arc.startAngle;\n            var start = arc.pointAt(startAngle);\n            path.moveTo(start.x, start.y);\n            path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);\n            return path;\n        };\n        var MultiPath = Element.extend({\n            nodeType: 'MultiPath',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.paths = new GeometryElementsArray();\n                this.paths.addObserver(this);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            moveTo: function (x, y) {\n                var path = new Path();\n                path.moveTo(x, y);\n                this.paths.push(path);\n                return this;\n            },\n            lineTo: function (x, y) {\n                if (this.paths.length > 0) {\n                    last(this.paths).lineTo(x, y);\n                }\n                return this;\n            },\n            curveTo: function (controlOut, controlIn, point) {\n                if (this.paths.length > 0) {\n                    last(this.paths).curveTo(controlOut, controlIn, point);\n                }\n                return this;\n            },\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n                if (this.paths.length > 0) {\n                    last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);\n                }\n                return this;\n            },\n            arcTo: function (end, rx, ry, largeArc, swipe) {\n                if (this.paths.length > 0) {\n                    last(this.paths).arcTo(end, rx, ry, largeArc, swipe);\n                }\n                return this;\n            },\n            close: function () {\n                if (this.paths.length > 0) {\n                    last(this.paths).close();\n                }\n                return this;\n            },\n            _bbox: function (matrix) {\n                return elementsBoundingBox(this.paths, true, matrix);\n            },\n            rawBBox: function () {\n                return elementsBoundingBox(this.paths, false);\n            },\n            _containsPoint: function (point) {\n                var paths = this.paths;\n                for (var idx = 0; idx < paths.length; idx++) {\n                    if (paths[idx]._containsPoint(point)) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _isOnPath: function (point) {\n                var paths = this.paths;\n                var width = this.options.stroke.width;\n                for (var idx = 0; idx < paths.length; idx++) {\n                    if (paths[idx]._isOnPath(point, width)) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _clippedBBox: function (transformation) {\n                return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));\n            }\n        });\n        drawing.mixins.Paintable.extend(MultiPath.fn);\n        drawing.mixins.Measurable.extend(MultiPath.fn);\n        var Image = Element.extend({\n            nodeType: 'Image',\n            init: function (src, rect, options) {\n                Element.fn.init.call(this, options);\n                this.src(src);\n                this.rect(rect || new g.Rect());\n            },\n            src: function (value) {\n                if (defined(value)) {\n                    this.options.set('src', value);\n                    return this;\n                } else {\n                    return this.options.get('src');\n                }\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                return this._rect.bbox(combinedMatrix);\n            },\n            rawBBox: function () {\n                return this._rect.bbox();\n            },\n            _containsPoint: function (point) {\n                return this._rect.containsPoint(point);\n            },\n            _hasFill: function () {\n                return this.src();\n            }\n        });\n        defineGeometryAccessors(Image.fn, ['rect']);\n        var GradientStop = Class.extend({\n            init: function (offset, color, opacity) {\n                this.options = new OptionsStore({\n                    offset: offset,\n                    color: color,\n                    opacity: defined(opacity) ? opacity : 1\n                });\n                this.options.addObserver(this);\n            }\n        });\n        defineOptionsAccessors(GradientStop.fn, [\n            'offset',\n            'color',\n            'opacity'\n        ]);\n        deepExtend(GradientStop.fn, ObserversMixin);\n        GradientStop.create = function (arg) {\n            if (defined(arg)) {\n                var stop;\n                if (arg instanceof GradientStop) {\n                    stop = arg;\n                } else if (arg.length > 1) {\n                    stop = new GradientStop(arg[0], arg[1], arg[2]);\n                } else {\n                    stop = new GradientStop(arg.offset, arg.color, arg.opacity);\n                }\n                return stop;\n            }\n        };\n        var StopsArray = ElementsArray.extend({\n            _change: function () {\n                this.optionsChange({ field: 'stops' });\n            }\n        });\n        var Gradient = Class.extend({\n            nodeType: 'gradient',\n            init: function (options) {\n                this.stops = new StopsArray(this._createStops(options.stops));\n                this.stops.addObserver(this);\n                this._userSpace = options.userSpace;\n                this.id = generateDefinitionId();\n            },\n            userSpace: function (value) {\n                if (defined(value)) {\n                    this._userSpace = value;\n                    this.optionsChange();\n                    return this;\n                } else {\n                    return this._userSpace;\n                }\n            },\n            _createStops: function (stops) {\n                var result = [];\n                var idx;\n                stops = stops || [];\n                for (idx = 0; idx < stops.length; idx++) {\n                    result.push(GradientStop.create(stops[idx]));\n                }\n                return result;\n            },\n            addStop: function (offset, color, opacity) {\n                this.stops.push(new GradientStop(offset, color, opacity));\n            },\n            removeStop: function (stop) {\n                var index = this.stops.indexOf(stop);\n                if (index >= 0) {\n                    this.stops.splice(index, 1);\n                }\n            }\n        });\n        deepExtend(Gradient.fn, ObserversMixin, {\n            optionsChange: function (e) {\n                this.trigger('optionsChange', {\n                    field: 'gradient' + (e ? '.' + e.field : ''),\n                    value: this\n                });\n            },\n            geometryChange: function () {\n                this.optionsChange();\n            }\n        });\n        var LinearGradient = Gradient.extend({\n            init: function (options) {\n                options = options || {};\n                Gradient.fn.init.call(this, options);\n                this.start(options.start || new Point());\n                this.end(options.end || new Point(1, 0));\n            }\n        });\n        definePointAccessors(LinearGradient.fn, [\n            'start',\n            'end'\n        ]);\n        var RadialGradient = Gradient.extend({\n            init: function (options) {\n                options = options || {};\n                Gradient.fn.init.call(this, options);\n                this.center(options.center || new Point());\n                this._radius = defined(options.radius) ? options.radius : 1;\n                this._fallbackFill = options.fallbackFill;\n            },\n            radius: function (value) {\n                if (defined(value)) {\n                    this._radius = value;\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this._radius;\n                }\n            },\n            fallbackFill: function (value) {\n                if (defined(value)) {\n                    this._fallbackFill = value;\n                    this.optionsChange();\n                    return this;\n                } else {\n                    return this._fallbackFill;\n                }\n            }\n        });\n        definePointAccessors(RadialGradient.fn, ['center']);\n        var Rect = Element.extend({\n            nodeType: 'Rect',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Rect());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this._geometry.bbox();\n            },\n            _containsPoint: function (point) {\n                return this._geometry.containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Rect.fn);\n        drawing.mixins.Measurable.extend(Rect.fn);\n        defineGeometryAccessors(Rect.fn, ['geometry']);\n        var Layout = Group.extend({\n            init: function (rect, options) {\n                Group.fn.init.call(this, kendo.deepExtend({}, this._defaults, options));\n                this._rect = rect;\n                this._fieldMap = {};\n            },\n            _defaults: {\n                alignContent: START,\n                justifyContent: START,\n                alignItems: START,\n                spacing: 0,\n                orientation: HORIZONTAL,\n                lineSpacing: 0,\n                wrap: true\n            },\n            rect: function (value) {\n                if (value) {\n                    this._rect = value;\n                    return this;\n                } else {\n                    return this._rect;\n                }\n            },\n            _initMap: function () {\n                var options = this.options;\n                var fieldMap = this._fieldMap;\n                if (options.orientation == HORIZONTAL) {\n                    fieldMap.sizeField = 'width';\n                    fieldMap.groupsSizeField = 'height';\n                    fieldMap.groupAxis = 'x';\n                    fieldMap.groupsAxis = 'y';\n                } else {\n                    fieldMap.sizeField = 'height';\n                    fieldMap.groupsSizeField = 'width';\n                    fieldMap.groupAxis = 'y';\n                    fieldMap.groupsAxis = 'x';\n                }\n            },\n            reflow: function () {\n                if (!this._rect || this.children.length === 0) {\n                    return;\n                }\n                this._initMap();\n                if (this.options.transform) {\n                    this.transform(null);\n                }\n                var options = this.options;\n                var fieldMap = this._fieldMap;\n                var rect = this._rect;\n                var groupOptions = this._initGroups();\n                var groups = groupOptions.groups;\n                var groupsSize = groupOptions.groupsSize;\n                var sizeField = fieldMap.sizeField;\n                var groupsSizeField = fieldMap.groupsSizeField;\n                var groupAxis = fieldMap.groupAxis;\n                var groupsAxis = fieldMap.groupsAxis;\n                var groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n                var groupOrigin = new Point();\n                var elementOrigin = new Point();\n                var size = new g.Size();\n                var elementStart, bbox, element, group, groupBox;\n                for (var groupIdx = 0; groupIdx < groups.length; groupIdx++) {\n                    group = groups[groupIdx];\n                    groupOrigin[groupAxis] = elementStart = alignStart(group.size, rect, options.justifyContent, groupAxis, sizeField);\n                    groupOrigin[groupsAxis] = groupStart;\n                    size[sizeField] = group.size;\n                    size[groupsSizeField] = group.lineSize;\n                    groupBox = new g.Rect(groupOrigin, size);\n                    for (var idx = 0; idx < group.bboxes.length; idx++) {\n                        element = group.elements[idx];\n                        bbox = group.bboxes[idx];\n                        elementOrigin[groupAxis] = elementStart;\n                        elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);\n                        translateToPoint(elementOrigin, bbox, element);\n                        elementStart += bbox.size[sizeField] + options.spacing;\n                    }\n                    groupStart += group.lineSize + options.lineSpacing;\n                }\n                if (!options.wrap && group.size > rect.size[sizeField]) {\n                    var scale = rect.size[sizeField] / groupBox.size[sizeField];\n                    var scaledStart = groupBox.topLeft().scale(scale, scale);\n                    var scaledSize = groupBox.size[groupsSizeField] * scale;\n                    var newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n                    var transform = g.transform();\n                    if (groupAxis === 'x') {\n                        transform.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);\n                    } else {\n                        transform.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);\n                    }\n                    transform.scale(scale, scale);\n                    this.transform(transform);\n                }\n            },\n            _initGroups: function () {\n                var options = this.options;\n                var children = this.children;\n                var lineSpacing = options.lineSpacing;\n                var sizeField = this._fieldMap.sizeField;\n                var groupsSize = -lineSpacing;\n                var groups = [];\n                var group = this._newGroup();\n                var addGroup = function () {\n                    groups.push(group);\n                    groupsSize += group.lineSize + lineSpacing;\n                };\n                var bbox, element;\n                for (var idx = 0; idx < children.length; idx++) {\n                    element = children[idx];\n                    bbox = children[idx].clippedBBox();\n                    if (element.visible() && bbox) {\n                        if (options.wrap && group.size + bbox.size[sizeField] + options.spacing > this._rect.size[sizeField]) {\n                            if (group.bboxes.length === 0) {\n                                this._addToGroup(group, bbox, element);\n                                addGroup();\n                                group = this._newGroup();\n                            } else {\n                                addGroup();\n                                group = this._newGroup();\n                                this._addToGroup(group, bbox, element);\n                            }\n                        } else {\n                            this._addToGroup(group, bbox, element);\n                        }\n                    }\n                }\n                if (group.bboxes.length) {\n                    addGroup();\n                }\n                return {\n                    groups: groups,\n                    groupsSize: groupsSize\n                };\n            },\n            _addToGroup: function (group, bbox, element) {\n                group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;\n                group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);\n                group.bboxes.push(bbox);\n                group.elements.push(element);\n            },\n            _newGroup: function () {\n                return {\n                    lineSize: 0,\n                    size: -this.options.spacing,\n                    bboxes: [],\n                    elements: []\n                };\n            }\n        });\n        function elementsBoundingBox(elements, applyTransform, transformation) {\n            var boundingBox;\n            for (var i = 0; i < elements.length; i++) {\n                var element = elements[i];\n                if (element.visible()) {\n                    var elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();\n                    if (elementBoundingBox) {\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, elementBoundingBox);\n                        } else {\n                            boundingBox = elementBoundingBox;\n                        }\n                    }\n                }\n            }\n            return boundingBox;\n        }\n        function elementsClippedBoundingBox(elements, transformation) {\n            var boundingBox;\n            for (var i = 0; i < elements.length; i++) {\n                var element = elements[i];\n                if (element.visible()) {\n                    var elementBoundingBox = element.clippedBBox(transformation);\n                    if (elementBoundingBox) {\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, elementBoundingBox);\n                        } else {\n                            boundingBox = elementBoundingBox;\n                        }\n                    }\n                }\n            }\n            return boundingBox;\n        }\n        function defineGeometryAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = geometryAccessor(names[i]);\n            }\n        }\n        function geometryAccessor(name) {\n            var fieldName = '_' + name;\n            return function (value) {\n                if (defined(value)) {\n                    this._observerField(fieldName, value);\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this[fieldName];\n                }\n            };\n        }\n        function definePointAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = pointAccessor(names[i]);\n            }\n        }\n        function pointAccessor(name) {\n            var fieldName = '_' + name;\n            return function (value) {\n                if (defined(value)) {\n                    this._observerField(fieldName, Point.create(value));\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this[fieldName];\n                }\n            };\n        }\n        function defineOptionsAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = optionsAccessor(names[i]);\n            }\n        }\n        function optionsAccessor(name) {\n            return function (value) {\n                if (defined(value)) {\n                    this.options.set(name, value);\n                    return this;\n                } else {\n                    return this.options.get(name);\n                }\n            };\n        }\n        function generateDefinitionId() {\n            return 'kdef' + defId++;\n        }\n        function align(elements, rect, alignment) {\n            alignElements(elements, rect, alignment, 'x', 'width');\n        }\n        function vAlign(elements, rect, alignment) {\n            alignElements(elements, rect, alignment, 'y', 'height');\n        }\n        function stack(elements) {\n            stackElements(getStackElements(elements), 'x', 'y', 'width');\n        }\n        function vStack(elements) {\n            stackElements(getStackElements(elements), 'y', 'x', 'height');\n        }\n        function wrap(elements, rect) {\n            return wrapElements(elements, rect, 'x', 'y', 'width');\n        }\n        function vWrap(elements, rect) {\n            return wrapElements(elements, rect, 'y', 'x', 'height');\n        }\n        function wrapElements(elements, rect, axis, otherAxis, sizeField) {\n            var result = [];\n            var stacks = getStacks(elements, rect, sizeField);\n            var origin = rect.origin.clone();\n            var startElement;\n            var elementIdx;\n            var stack;\n            var idx;\n            for (idx = 0; idx < stacks.length; idx++) {\n                stack = stacks[idx];\n                startElement = stack[0];\n                origin[otherAxis] = startElement.bbox.origin[otherAxis];\n                translateToPoint(origin, startElement.bbox, startElement.element);\n                startElement.bbox.origin[axis] = origin[axis];\n                stackElements(stack, axis, otherAxis, sizeField);\n                result.push([]);\n                for (elementIdx = 0; elementIdx < stack.length; elementIdx++) {\n                    result[idx].push(stack[elementIdx].element);\n                }\n            }\n            return result;\n        }\n        function fit(element, rect) {\n            var bbox = element.clippedBBox();\n            var elementSize = bbox.size;\n            var rectSize = rect.size;\n            if (rectSize.width < elementSize.width || rectSize.height < elementSize.height) {\n                var scale = math.min(rectSize.width / elementSize.width, rectSize.height / elementSize.height);\n                var transform = element.transform() || g.transform();\n                transform.scale(scale, scale);\n                element.transform(transform);\n            }\n        }\n        function getStacks(elements, rect, sizeField) {\n            var maxSize = rect.size[sizeField];\n            var stackSize = 0;\n            var stacks = [];\n            var stack = [];\n            var element;\n            var size;\n            var bbox;\n            var addElementToStack = function () {\n                stack.push({\n                    element: element,\n                    bbox: bbox\n                });\n            };\n            for (var idx = 0; idx < elements.length; idx++) {\n                element = elements[idx];\n                bbox = element.clippedBBox();\n                if (bbox) {\n                    size = bbox.size[sizeField];\n                    if (stackSize + size > maxSize) {\n                        if (stack.length) {\n                            stacks.push(stack);\n                            stack = [];\n                            addElementToStack();\n                            stackSize = size;\n                        } else {\n                            addElementToStack();\n                            stacks.push(stack);\n                            stack = [];\n                            stackSize = 0;\n                        }\n                    } else {\n                        addElementToStack();\n                        stackSize += size;\n                    }\n                }\n            }\n            if (stack.length) {\n                stacks.push(stack);\n            }\n            return stacks;\n        }\n        function getStackElements(elements) {\n            var stackElements = [];\n            var element;\n            var bbox;\n            for (var idx = 0; idx < elements.length; idx++) {\n                element = elements[idx];\n                bbox = element.clippedBBox();\n                if (bbox) {\n                    stackElements.push({\n                        element: element,\n                        bbox: bbox\n                    });\n                }\n            }\n            return stackElements;\n        }\n        function stackElements(elements, stackAxis, otherAxis, sizeField) {\n            if (elements.length > 1) {\n                var previousBBox = elements[0].bbox;\n                var origin = new Point();\n                var element;\n                var bbox;\n                for (var idx = 1; idx < elements.length; idx++) {\n                    element = elements[idx].element;\n                    bbox = elements[idx].bbox;\n                    origin[stackAxis] = previousBBox.origin[stackAxis] + previousBBox.size[sizeField];\n                    origin[otherAxis] = bbox.origin[otherAxis];\n                    translateToPoint(origin, bbox, element);\n                    bbox.origin[stackAxis] = origin[stackAxis];\n                    previousBBox = bbox;\n                }\n            }\n        }\n        function alignElements(elements, rect, alignment, axis, sizeField) {\n            var bbox, point;\n            alignment = alignment || 'start';\n            for (var idx = 0; idx < elements.length; idx++) {\n                bbox = elements[idx].clippedBBox();\n                if (bbox) {\n                    point = bbox.origin.clone();\n                    point[axis] = alignStart(bbox.size[sizeField], rect, alignment, axis, sizeField);\n                    translateToPoint(point, bbox, elements[idx]);\n                }\n            }\n        }\n        function alignStart(size, rect, align, axis, sizeField) {\n            var start;\n            if (align == START) {\n                start = rect.origin[axis];\n            } else if (align == END) {\n                start = rect.origin[axis] + rect.size[sizeField] - size;\n            } else {\n                start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;\n            }\n            return start;\n        }\n        function translate(x, y, element) {\n            var transofrm = element.transform() || g.transform();\n            var matrix = transofrm.matrix();\n            matrix.e += x;\n            matrix.f += y;\n            transofrm.matrix(matrix);\n            element.transform(transofrm);\n        }\n        function translateToPoint(point, bbox, element) {\n            translate(point.x - bbox.origin.x, point.y - bbox.origin.y, element);\n        }\n        deepExtend(drawing, {\n            align: align,\n            Arc: Arc,\n            Circle: Circle,\n            Element: Element,\n            ElementsArray: ElementsArray,\n            fit: fit,\n            Gradient: Gradient,\n            GradientStop: GradientStop,\n            Group: Group,\n            Image: Image,\n            Layout: Layout,\n            LinearGradient: LinearGradient,\n            MultiPath: MultiPath,\n            Path: Path,\n            RadialGradient: RadialGradient,\n            Rect: Rect,\n            Segment: Segment,\n            stack: stack,\n            Text: Text,\n            vAlign: vAlign,\n            vStack: vStack,\n            vWrap: vWrap,\n            wrap: wrap\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/parser', ['drawing/shapes'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, drawing = kendo.drawing, geometry = kendo.geometry, Class = kendo.Class, Point = geometry.Point, deepExtend = kendo.deepExtend, trim = $.trim, util = kendo.util, last = util.last;\n        var SEGMENT_REGEX = /([a-df-z]{1})([^a-df-z]*)(z)?/gi, SPLIT_REGEX = /[,\\s]?([+\\-]?(?:\\d*\\.\\d+|\\d+)(?:[eE][+\\-]?\\d+)?)/g, MOVE = 'm', CLOSE = 'z';\n        var PathParser = Class.extend({\n            parse: function (str, options) {\n                var multiPath = new drawing.MultiPath(options);\n                var position = new Point();\n                var previousCommand;\n                str.replace(SEGMENT_REGEX, function (match, element, params, closePath) {\n                    var command = element.toLowerCase();\n                    var isRelative = command === element;\n                    var parameters = parseParameters(trim(params));\n                    if (command === MOVE) {\n                        if (isRelative) {\n                            position.x += parameters[0];\n                            position.y += parameters[1];\n                        } else {\n                            position.x = parameters[0];\n                            position.y = parameters[1];\n                        }\n                        multiPath.moveTo(position.x, position.y);\n                        if (parameters.length > 2) {\n                            command = 'l';\n                            parameters.splice(0, 2);\n                        }\n                    }\n                    if (ShapeMap[command]) {\n                        ShapeMap[command](multiPath, {\n                            parameters: parameters,\n                            position: position,\n                            isRelative: isRelative,\n                            previousCommand: previousCommand\n                        });\n                        if (closePath && closePath.toLowerCase() === CLOSE) {\n                            multiPath.close();\n                        }\n                    } else if (command !== MOVE) {\n                        throw new Error('Error while parsing SVG path. Unsupported command: ' + command);\n                    }\n                    previousCommand = command;\n                });\n                return multiPath;\n            }\n        });\n        var ShapeMap = {\n            l: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 2) {\n                    var point = new Point(parameters[i], parameters[i + 1]);\n                    if (options.isRelative) {\n                        point.translateWith(position);\n                    }\n                    path.lineTo(point.x, point.y);\n                    position.x = point.x;\n                    position.y = point.y;\n                }\n            },\n            c: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var controlOut, controlIn, point;\n                for (var i = 0; i < parameters.length; i += 6) {\n                    controlOut = new Point(parameters[i], parameters[i + 1]);\n                    controlIn = new Point(parameters[i + 2], parameters[i + 3]);\n                    point = new Point(parameters[i + 4], parameters[i + 5]);\n                    if (options.isRelative) {\n                        controlIn.translateWith(position);\n                        controlOut.translateWith(position);\n                        point.translateWith(position);\n                    }\n                    path.curveTo(controlOut, controlIn, point);\n                    position.x = point.x;\n                    position.y = point.y;\n                }\n            },\n            v: function (path, options) {\n                var value = options.isRelative ? 0 : options.position.x;\n                toLineParamaters(options.parameters, true, value);\n                this.l(path, options);\n            },\n            h: function (path, options) {\n                var value = options.isRelative ? 0 : options.position.y;\n                toLineParamaters(options.parameters, false, value);\n                this.l(path, options);\n            },\n            a: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 7) {\n                    var radiusX = parameters[i];\n                    var radiusY = parameters[i + 1];\n                    var largeArc = parameters[i + 3];\n                    var swipe = parameters[i + 4];\n                    var endPoint = new Point(parameters[i + 5], parameters[i + 6]);\n                    if (options.isRelative) {\n                        endPoint.translateWith(position);\n                    }\n                    path.arcTo(endPoint, radiusX, radiusY, largeArc, swipe);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            s: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var previousCommand = options.previousCommand;\n                var controlOut, endPoint, controlIn, lastControlIn;\n                if (previousCommand == 's' || previousCommand == 'c') {\n                    lastControlIn = last(last(path.paths).segments).controlIn();\n                }\n                for (var i = 0; i < parameters.length; i += 4) {\n                    controlIn = new Point(parameters[i], parameters[i + 1]);\n                    endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n                    if (options.isRelative) {\n                        controlIn.translateWith(position);\n                        endPoint.translateWith(position);\n                    }\n                    if (lastControlIn) {\n                        controlOut = reflectionPoint(lastControlIn, position);\n                    } else {\n                        controlOut = position.clone();\n                    }\n                    lastControlIn = controlIn;\n                    path.curveTo(controlOut, controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            q: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var cubicControlPoints, endPoint, controlPoint;\n                for (var i = 0; i < parameters.length; i += 4) {\n                    controlPoint = new Point(parameters[i], parameters[i + 1]);\n                    endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n                    if (options.isRelative) {\n                        controlPoint.translateWith(position);\n                        endPoint.translateWith(position);\n                    }\n                    cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            t: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var previousCommand = options.previousCommand;\n                var cubicControlPoints, controlPoint, endPoint;\n                if (previousCommand == 'q' || previousCommand == 't') {\n                    var lastSegment = last(last(path.paths).segments);\n                    controlPoint = lastSegment.controlIn().clone().translateWith(position.scaleCopy(-1 / 3)).scale(3 / 2);\n                }\n                for (var i = 0; i < parameters.length; i += 2) {\n                    endPoint = new Point(parameters[i], parameters[i + 1]);\n                    if (options.isRelative) {\n                        endPoint.translateWith(position);\n                    }\n                    if (controlPoint) {\n                        controlPoint = reflectionPoint(controlPoint, position);\n                    } else {\n                        controlPoint = position.clone();\n                    }\n                    cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            }\n        };\n        function parseParameters(str) {\n            var parameters = [];\n            str.replace(SPLIT_REGEX, function (match, number) {\n                parameters.push(parseFloat(number));\n            });\n            return parameters;\n        }\n        function toLineParamaters(parameters, isVertical, value) {\n            var insertPosition = isVertical ? 0 : 1;\n            for (var i = 0; i < parameters.length; i += 2) {\n                parameters.splice(i + insertPosition, 0, value);\n            }\n        }\n        function reflectionPoint(point, center) {\n            if (point && center) {\n                return center.scaleCopy(2).translate(-point.x, -point.y);\n            }\n        }\n        function quadraticToCubicControlPoints(position, controlPoint, endPoint) {\n            var third = 1 / 3;\n            controlPoint = controlPoint.clone().scale(2 / 3);\n            return {\n                controlOut: controlPoint.clone().translateWith(position.scaleCopy(third)),\n                controlIn: controlPoint.translateWith(endPoint.scaleCopy(third))\n            };\n        }\n        PathParser.current = new PathParser();\n        drawing.Path.parse = function (str, options) {\n            return PathParser.current.parse(str, options);\n        };\n        deepExtend(drawing, { PathParser: PathParser });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/search', ['drawing/shapes'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, drawing = kendo.drawing, geometry = kendo.geometry, Class = kendo.Class, Rect = geometry.Rect, deepExtend = kendo.deepExtend, isArray = $.isArray, inArray = $.inArray, math = Math, LEVEL_STEP = 10000, MAX_LEVEL = 75;\n        var QuadRoot = Class.extend({\n            init: function () {\n                this.shapes = [];\n            },\n            _add: function (shape, bbox) {\n                this.shapes.push({\n                    bbox: bbox,\n                    shape: shape\n                });\n                shape._quadNode = this;\n            },\n            pointShapes: function (point) {\n                var shapes = this.shapes;\n                var length = shapes.length;\n                var result = [];\n                for (var idx = 0; idx < length; idx++) {\n                    if (shapes[idx].bbox.containsPoint(point)) {\n                        result.push(shapes[idx].shape);\n                    }\n                }\n                return result;\n            },\n            insert: function (shape, bbox) {\n                this._add(shape, bbox);\n            },\n            remove: function (shape) {\n                var shapes = this.shapes;\n                var length = shapes.length;\n                for (var idx = 0; idx < length; idx++) {\n                    if (shapes[idx].shape === shape) {\n                        shapes.splice(idx, 1);\n                        break;\n                    }\n                }\n            }\n        });\n        var QuadNode = QuadRoot.extend({\n            init: function (rect) {\n                QuadRoot.fn.init.call(this);\n                this.children = [];\n                this.rect = rect;\n            },\n            inBounds: function (rect) {\n                var nodeRect = this.rect;\n                var nodeBottomRight = nodeRect.bottomRight();\n                var bottomRight = rect.bottomRight();\n                var inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x && bottomRight.y <= nodeBottomRight.y;\n                return inBounds;\n            },\n            pointShapes: function (point) {\n                var children = this.children;\n                var length = children.length;\n                var result = QuadRoot.fn.pointShapes.call(this, point);\n                for (var idx = 0; idx < length; idx++) {\n                    result = result.concat(children[idx].pointShapes(point));\n                }\n                return result;\n            },\n            insert: function (shape, bbox) {\n                var inserted = false;\n                var children = this.children;\n                if (this.inBounds(bbox)) {\n                    if (this.shapes.length < 4) {\n                        this._add(shape, bbox);\n                    } else {\n                        if (!children.length) {\n                            this._initChildren();\n                        }\n                        for (var idx = 0; idx < children.length; idx++) {\n                            if (children[idx].insert(shape, bbox)) {\n                                inserted = true;\n                                break;\n                            }\n                        }\n                        if (!inserted) {\n                            this._add(shape, bbox);\n                        }\n                    }\n                    inserted = true;\n                }\n                return inserted;\n            },\n            _initChildren: function () {\n                var rect = this.rect, children = this.children, center = rect.center(), halfWidth = rect.width() / 2, halfHeight = rect.height() / 2;\n                children.push(new QuadNode(new Rect([\n                    rect.origin.x,\n                    rect.origin.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    center.x,\n                    rect.origin.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    rect.origin.x,\n                    center.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    center.x,\n                    center.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])));\n            }\n        });\n        var ShapesQuadTree = Class.extend({\n            ROOT_SIZE: 1000,\n            init: function () {\n                this.initRoots();\n            },\n            initRoots: function () {\n                this.rootMap = {};\n                this.root = new QuadRoot();\n                this.rootElements = [];\n            },\n            clear: function () {\n                var that = this;\n                var rootElements = that.rootElements;\n                for (var idx = 0; idx < rootElements.length; idx++) {\n                    this.remove(rootElements[idx]);\n                }\n                this.initRoots();\n            },\n            pointShape: function (point) {\n                var size = this.ROOT_SIZE;\n                var result = this.root.pointShapes(point);\n                var sectorRoot = (this.rootMap[math.floor(point.x / size)] || {})[math.floor(point.y / size)];\n                if (sectorRoot) {\n                    result = result.concat(sectorRoot.pointShapes(point));\n                }\n                this.assignZindex(result);\n                result.sort(zIndexComparer);\n                for (var idx = 0; idx < result.length; idx++) {\n                    if (result[idx].containsPoint(point)) {\n                        return result[idx];\n                    }\n                }\n            },\n            assignZindex: function (elements) {\n                var element, levelWeight, zIndex, parents;\n                for (var idx = 0; idx < elements.length; idx++) {\n                    element = elements[idx];\n                    zIndex = 0;\n                    levelWeight = math.pow(LEVEL_STEP, MAX_LEVEL);\n                    parents = [];\n                    while (element) {\n                        parents.push(element);\n                        element = element.parent;\n                    }\n                    while (parents.length) {\n                        element = parents.pop();\n                        zIndex += (inArray(element, element.parent ? element.parent.children : this.rootElements) + 1) * levelWeight;\n                        levelWeight /= LEVEL_STEP;\n                    }\n                    elements[idx]._zIndex = zIndex;\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'transform' || e.field == 'stroke.width') {\n                    this.bboxChange(e.element);\n                }\n            },\n            geometryChange: function (e) {\n                this.bboxChange(e.element);\n            },\n            bboxChange: function (element) {\n                if (element.nodeType === 'Group') {\n                    for (var idx = 0; idx < element.children.length; idx++) {\n                        this.bboxChange(element.children[idx]);\n                    }\n                } else {\n                    if (element._quadNode) {\n                        element._quadNode.remove(element);\n                    }\n                    this._insertShape(element);\n                }\n            },\n            add: function (elements) {\n                var elementsArray = isArray(elements) ? elements.slice(0) : [elements];\n                this.rootElements.push.apply(this.rootElements, elementsArray);\n                this._insert(elementsArray);\n            },\n            childrenChange: function (e) {\n                if (e.action == 'remove') {\n                    for (var idx = 0; idx < e.items.length; idx++) {\n                        this.remove(e.items[idx]);\n                    }\n                } else {\n                    this._insert(Array.prototype.slice.call(e.items, 0));\n                }\n            },\n            _insert: function (elements) {\n                var element;\n                while (elements.length > 0) {\n                    element = elements.pop();\n                    element.addObserver(this);\n                    if (element.nodeType == 'Group') {\n                        elements.push.apply(elements, element.children);\n                    } else {\n                        this._insertShape(element);\n                    }\n                }\n            },\n            _insertShape: function (shape) {\n                var bbox = shape.bbox();\n                if (bbox) {\n                    var rootSize = this.ROOT_SIZE;\n                    var sectors = this.getSectors(bbox);\n                    var x = sectors[0][0];\n                    var y = sectors[1][0];\n                    if (this.inRoot(sectors)) {\n                        this.root.insert(shape, bbox);\n                    } else {\n                        if (!this.rootMap[x]) {\n                            this.rootMap[x] = {};\n                        }\n                        if (!this.rootMap[x][y]) {\n                            this.rootMap[x][y] = new QuadNode(new Rect([\n                                x * rootSize,\n                                y * rootSize\n                            ], [\n                                rootSize,\n                                rootSize\n                            ]));\n                        }\n                        this.rootMap[x][y].insert(shape, bbox);\n                    }\n                }\n            },\n            remove: function (element) {\n                element.removeObserver(this);\n                if (element.nodeType == 'Group') {\n                    var children = element.children;\n                    for (var idx = 0; idx < children.length; idx++) {\n                        this.remove(children[idx]);\n                    }\n                } else if (element._quadNode) {\n                    element._quadNode.remove(element);\n                    delete element._quadNode;\n                }\n            },\n            inRoot: function (sectors) {\n                return sectors[0].length > 1 || sectors[1].length > 1;\n            },\n            getSectors: function (rect) {\n                var rootSize = this.ROOT_SIZE;\n                var bottomRight = rect.bottomRight();\n                var bottomX = math.floor(bottomRight.x / rootSize);\n                var bottomY = math.floor(bottomRight.y / rootSize);\n                var sectors = [\n                    [],\n                    []\n                ];\n                for (var x = math.floor(rect.origin.x / rootSize); x <= bottomX; x++) {\n                    sectors[0].push(x);\n                }\n                for (var y = math.floor(rect.origin.y / rootSize); y <= bottomY; y++) {\n                    sectors[1].push(y);\n                }\n                return sectors;\n            }\n        });\n        function zIndexComparer(x1, x2) {\n            if (x1._zIndex < x2._zIndex) {\n                return 1;\n            }\n            if (x1._zIndex > x2._zIndex) {\n                return -1;\n            }\n            return 0;\n        }\n        deepExtend(drawing, {\n            ShapesQuadTree: ShapesQuadTree,\n            QuadNode: QuadNode\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/svg', [\n        'drawing/shapes',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, deepExtend = kendo.deepExtend, g = kendo.geometry, d = kendo.drawing, BaseNode = d.BaseNode, util = kendo.util, defined = util.defined, isTransparent = util.isTransparent, renderAttr = util.renderAttr, renderAllAttr = util.renderAllAttr, renderTemplate = util.renderTemplate, inArray = $.inArray;\n        var BUTT = 'butt', DASH_ARRAYS = d.DASH_ARRAYS, GRADIENT = 'gradient', NONE = 'none', NS = '.kendo', SOLID = 'solid', SPACE = ' ', SVG_NS = 'http://www.w3.org/2000/svg', TRANSFORM = 'transform', UNDEFINED = 'undefined';\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                this._root = new RootNode(this.options);\n                renderSVG(this.element[0], this._template(this));\n                this._rootElement = this.element[0].firstElementChild;\n                alignToScreen(this._rootElement);\n                this._root.attachTo(this._rootElement);\n                this.element.on('click' + NS, this._click);\n                this.element.on('mouseover' + NS, this._mouseenter);\n                this.element.on('mouseout' + NS, this._mouseleave);\n                this.element.on('mousemove' + NS, this._mousemove);\n                this.resize();\n            },\n            type: 'svg',\n            destroy: function () {\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                    this._rootElement = null;\n                    this.element.off(NS);\n                }\n                d.Surface.fn.destroy.call(this);\n            },\n            translate: function (offset) {\n                var viewBox = kendo.format('{0} {1} {2} {3}', Math.round(offset.x), Math.round(offset.y), this._size.width, this._size.height);\n                this._offset = offset;\n                this._rootElement.setAttribute('viewBox', viewBox);\n            },\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element]);\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n            },\n            svg: function () {\n                return '<?xml version=\\'1.0\\' ?>' + this._template(this);\n            },\n            exportVisual: function () {\n                var visual = this._visual;\n                var offset = this._offset;\n                if (offset) {\n                    var wrap = new d.Group();\n                    wrap.children.push(visual);\n                    wrap.transform(g.transform().translate(-offset.x, -offset.y));\n                    visual = wrap;\n                }\n                return visual;\n            },\n            _resize: function () {\n                if (this._offset) {\n                    this.translate(this._offset);\n                }\n            },\n            _template: renderTemplate('<svg style=\\'width: 100%; height: 100%; overflow: hidden;\\' ' + 'xmlns=\\'' + SVG_NS + '\\' ' + 'xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' ' + 'version=\\'1.1\\'>#= d._root.render() #</svg>')\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                this.definitions = {};\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element._kendoNode = null;\n                    this.element = null;\n                }\n                this.clearDefinitions();\n                BaseNode.fn.destroy.call(this);\n            },\n            load: function (elements, pos) {\n                var node = this, element = node.element, childNode, srcElement, children, i;\n                for (i = 0; i < elements.length; i++) {\n                    srcElement = elements[i];\n                    children = srcElement.children;\n                    childNode = new nodeMap[srcElement.nodeType](srcElement);\n                    if (defined(pos)) {\n                        node.insertAt(childNode, pos);\n                    } else {\n                        node.append(childNode);\n                    }\n                    childNode.createDefinitions();\n                    if (children && children.length > 0) {\n                        childNode.load(children);\n                    }\n                    if (element) {\n                        childNode.attachTo(element, pos);\n                    }\n                }\n            },\n            root: function () {\n                var root = this;\n                while (root.parent) {\n                    root = root.parent;\n                }\n                return root;\n            },\n            attachTo: function (domElement, pos) {\n                var container = doc.createElement('div');\n                renderSVG(container, '<svg xmlns=\\'' + SVG_NS + '\\' version=\\'1.1\\'>' + this.render() + '</svg>');\n                var element = container.firstChild.firstChild;\n                if (element) {\n                    if (defined(pos)) {\n                        domElement.insertBefore(element, domElement.childNodes[pos] || null);\n                    } else {\n                        domElement.appendChild(element);\n                    }\n                    this.setElement(element);\n                }\n            },\n            setElement: function (element) {\n                var nodes = this.childNodes, childElement, i;\n                if (this.element) {\n                    this.element._kendoNode = null;\n                }\n                this.element = element;\n                this.element._kendoNode = this;\n                for (i = 0; i < nodes.length; i++) {\n                    childElement = element.childNodes[i];\n                    nodes[i].setElement(childElement);\n                }\n            },\n            clear: function () {\n                this.clearDefinitions();\n                if (this.element) {\n                    this.element.innerHTML = '';\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    children[i].destroy();\n                }\n                this.childNodes = [];\n            },\n            removeSelf: function () {\n                if (this.element) {\n                    var parentNode = this.element.parentNode;\n                    if (parentNode) {\n                        parentNode.removeChild(this.element);\n                    }\n                    this.element = null;\n                }\n                BaseNode.fn.removeSelf.call(this);\n            },\n            template: renderTemplate('#= d.renderChildren() #'),\n            render: function () {\n                return this.template(this);\n            },\n            renderChildren: function () {\n                var nodes = this.childNodes, output = '', i;\n                for (i = 0; i < nodes.length; i++) {\n                    output += nodes[i].render();\n                }\n                return output;\n            },\n            optionsChange: function (e) {\n                var field = e.field;\n                var value = e.value;\n                if (field === 'visible') {\n                    this.css('display', value ? '' : NONE);\n                } else if (DefinitionMap[field] && isDefinition(field, value)) {\n                    this.updateDefinition(field, value);\n                } else if (field === 'opacity') {\n                    this.attr('opacity', value);\n                }\n                BaseNode.fn.optionsChange.call(this, e);\n            },\n            attr: function (name, value) {\n                if (this.element) {\n                    this.element.setAttribute(name, value);\n                }\n            },\n            allAttr: function (attrs) {\n                for (var i = 0; i < attrs.length; i++) {\n                    this.attr(attrs[i][0], attrs[i][1]);\n                }\n            },\n            css: function (name, value) {\n                if (this.element) {\n                    this.element.style[name] = value;\n                }\n            },\n            allCss: function (styles) {\n                for (var i = 0; i < styles.length; i++) {\n                    this.css(styles[i][0], styles[i][1]);\n                }\n            },\n            removeAttr: function (name) {\n                if (this.element) {\n                    this.element.removeAttribute(name);\n                }\n            },\n            mapTransform: function (transform) {\n                var attrs = [];\n                if (transform) {\n                    attrs.push([\n                        TRANSFORM,\n                        'matrix(' + transform.matrix().toString(6) + ')'\n                    ]);\n                }\n                return attrs;\n            },\n            renderTransform: function () {\n                return renderAllAttr(this.mapTransform(this.srcElement.transform()));\n            },\n            transformChange: function (value) {\n                if (value) {\n                    this.allAttr(this.mapTransform(value));\n                } else {\n                    this.removeAttr(TRANSFORM);\n                }\n            },\n            mapStyle: function () {\n                var options = this.srcElement.options;\n                var style = [[\n                        'cursor',\n                        options.cursor\n                    ]];\n                if (options.visible === false) {\n                    style.push([\n                        'display',\n                        NONE\n                    ]);\n                }\n                return style;\n            },\n            renderStyle: function () {\n                return renderAttr('style', util.renderStyle(this.mapStyle(true)));\n            },\n            renderOpacity: function () {\n                return renderAttr('opacity', this.srcElement.options.opacity);\n            },\n            createDefinitions: function () {\n                var srcElement = this.srcElement;\n                var definitions = this.definitions;\n                var definition, field, options, hasDefinitions;\n                if (srcElement) {\n                    options = srcElement.options;\n                    for (field in DefinitionMap) {\n                        definition = options.get(field);\n                        if (definition && isDefinition(field, definition)) {\n                            definitions[field] = definition;\n                            hasDefinitions = true;\n                        }\n                    }\n                    if (hasDefinitions) {\n                        this.definitionChange({\n                            action: 'add',\n                            definitions: definitions\n                        });\n                    }\n                }\n            },\n            definitionChange: function (e) {\n                if (this.parent) {\n                    this.parent.definitionChange(e);\n                }\n            },\n            updateDefinition: function (type, value) {\n                var definitions = this.definitions;\n                var current = definitions[type];\n                var attr = DefinitionMap[type];\n                var definition = {};\n                if (current) {\n                    definition[type] = current;\n                    this.definitionChange({\n                        action: 'remove',\n                        definitions: definition\n                    });\n                    delete definitions[type];\n                }\n                if (!value) {\n                    if (current) {\n                        this.removeAttr(attr);\n                    }\n                } else {\n                    definition[type] = value;\n                    this.definitionChange({\n                        action: 'add',\n                        definitions: definition\n                    });\n                    definitions[type] = value;\n                    this.attr(attr, refUrl(value.id));\n                }\n            },\n            clearDefinitions: function () {\n                var definitions = this.definitions;\n                var field;\n                for (field in definitions) {\n                    this.definitionChange({\n                        action: 'remove',\n                        definitions: definitions\n                    });\n                    this.definitions = {};\n                    break;\n                }\n            },\n            renderDefinitions: function () {\n                return renderAllAttr(this.mapDefinitions());\n            },\n            mapDefinitions: function () {\n                var definitions = this.definitions;\n                var attrs = [];\n                var field;\n                for (field in definitions) {\n                    attrs.push([\n                        DefinitionMap[field],\n                        refUrl(definitions[field].id)\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var RootNode = Node.extend({\n            init: function (options) {\n                Node.fn.init.call(this);\n                this.options = options;\n                this.defs = new DefinitionNode();\n            },\n            attachTo: function (domElement) {\n                this.element = domElement;\n                this.defs.attachTo(domElement.firstElementChild);\n            },\n            clear: function () {\n                BaseNode.fn.clear.call(this);\n            },\n            template: renderTemplate('#=d.defs.render()##= d.renderChildren() #'),\n            definitionChange: function (e) {\n                this.defs.definitionChange(e);\n            }\n        });\n        var DefinitionNode = Node.extend({\n            init: function () {\n                Node.fn.init.call(this);\n                this.definitionMap = {};\n            },\n            attachTo: function (domElement) {\n                this.element = domElement;\n            },\n            template: renderTemplate('<defs>#= d.renderChildren()#</defs>'),\n            definitionChange: function (e) {\n                var definitions = e.definitions;\n                var action = e.action;\n                if (action == 'add') {\n                    this.addDefinitions(definitions);\n                } else if (action == 'remove') {\n                    this.removeDefinitions(definitions);\n                }\n            },\n            createDefinition: function (type, item) {\n                var nodeType;\n                if (type == 'clip') {\n                    nodeType = ClipNode;\n                } else if (type == 'fill') {\n                    if (item instanceof d.LinearGradient) {\n                        nodeType = LinearGradientNode;\n                    } else if (item instanceof d.RadialGradient) {\n                        nodeType = RadialGradientNode;\n                    }\n                }\n                return new nodeType(item);\n            },\n            addDefinitions: function (definitions) {\n                for (var field in definitions) {\n                    this.addDefinition(field, definitions[field]);\n                }\n            },\n            addDefinition: function (type, srcElement) {\n                var definitionMap = this.definitionMap;\n                var id = srcElement.id;\n                var element = this.element;\n                var node, mapItem;\n                mapItem = definitionMap[id];\n                if (!mapItem) {\n                    node = this.createDefinition(type, srcElement);\n                    definitionMap[id] = {\n                        element: node,\n                        count: 1\n                    };\n                    this.append(node);\n                    if (element) {\n                        node.attachTo(this.element);\n                    }\n                } else {\n                    mapItem.count++;\n                }\n            },\n            removeDefinitions: function (definitions) {\n                for (var field in definitions) {\n                    this.removeDefinition(definitions[field]);\n                }\n            },\n            removeDefinition: function (srcElement) {\n                var definitionMap = this.definitionMap;\n                var id = srcElement.id;\n                var mapItem;\n                mapItem = definitionMap[id];\n                if (mapItem) {\n                    mapItem.count--;\n                    if (mapItem.count === 0) {\n                        this.remove(inArray(mapItem.element, this.childNodes), 1);\n                        delete definitionMap[id];\n                    }\n                }\n            }\n        });\n        var ClipNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this);\n                this.srcElement = srcElement;\n                this.id = srcElement.id;\n                this.load([srcElement]);\n            },\n            template: renderTemplate('<clipPath id=\\'#=d.id#\\'>#= d.renderChildren()#</clipPath>')\n        });\n        var GroupNode = Node.extend({\n            template: renderTemplate('<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>'),\n            optionsChange: function (e) {\n                if (e.field == TRANSFORM) {\n                    this.transformChange(e.value);\n                }\n                Node.fn.optionsChange.call(this, e);\n            }\n        });\n        var PathNode = Node.extend({\n            geometryChange: function () {\n                this.attr('d', this.renderData());\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                switch (e.field) {\n                case 'fill':\n                    if (e.value) {\n                        this.allAttr(this.mapFill(e.value));\n                    } else {\n                        this.removeAttr('fill');\n                    }\n                    break;\n                case 'fill.color':\n                    this.allAttr(this.mapFill({ color: e.value }));\n                    break;\n                case 'stroke':\n                    if (e.value) {\n                        this.allAttr(this.mapStroke(e.value));\n                    } else {\n                        this.removeAttr('stroke');\n                    }\n                    break;\n                case TRANSFORM:\n                    this.transformChange(e.value);\n                    break;\n                default:\n                    var name = this.attributeMap[e.field];\n                    if (name) {\n                        this.attr(name, e.value);\n                    }\n                    break;\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            attributeMap: {\n                'fill.opacity': 'fill-opacity',\n                'stroke.color': 'stroke',\n                'stroke.width': 'stroke-width',\n                'stroke.opacity': 'stroke-opacity'\n            },\n            content: function () {\n                if (this.element) {\n                    this.element.textContent = this.srcElement.content();\n                }\n            },\n            renderData: function () {\n                return this.printPath(this.srcElement);\n            },\n            printPath: function (path) {\n                var segments = path.segments, length = segments.length;\n                if (length > 0) {\n                    var parts = [], output, segmentType, currentType, i;\n                    for (i = 1; i < length; i++) {\n                        segmentType = this.segmentType(segments[i - 1], segments[i]);\n                        if (segmentType !== currentType) {\n                            currentType = segmentType;\n                            parts.push(segmentType);\n                        }\n                        if (segmentType === 'L') {\n                            parts.push(this.printPoints(segments[i].anchor()));\n                        } else {\n                            parts.push(this.printPoints(segments[i - 1].controlOut(), segments[i].controlIn(), segments[i].anchor()));\n                        }\n                    }\n                    output = 'M' + this.printPoints(segments[0].anchor()) + SPACE + parts.join(SPACE);\n                    if (path.options.closed) {\n                        output += 'Z';\n                    }\n                    return output;\n                }\n            },\n            printPoints: function () {\n                var points = arguments, length = points.length, i, result = [];\n                for (i = 0; i < length; i++) {\n                    result.push(points[i].toString(3));\n                }\n                return result.join(SPACE);\n            },\n            segmentType: function (segmentStart, segmentEnd) {\n                return segmentStart.controlOut() && segmentEnd.controlIn() ? 'C' : 'L';\n            },\n            mapStroke: function (stroke) {\n                var attrs = [];\n                if (stroke && !isTransparent(stroke.color)) {\n                    attrs.push([\n                        'stroke',\n                        stroke.color\n                    ]);\n                    attrs.push([\n                        'stroke-width',\n                        stroke.width\n                    ]);\n                    attrs.push([\n                        'stroke-linecap',\n                        this.renderLinecap(stroke)\n                    ]);\n                    attrs.push([\n                        'stroke-linejoin',\n                        stroke.lineJoin\n                    ]);\n                    if (defined(stroke.opacity)) {\n                        attrs.push([\n                            'stroke-opacity',\n                            stroke.opacity\n                        ]);\n                    }\n                    if (defined(stroke.dashType)) {\n                        attrs.push([\n                            'stroke-dasharray',\n                            this.renderDashType(stroke)\n                        ]);\n                    }\n                } else {\n                    attrs.push([\n                        'stroke',\n                        NONE\n                    ]);\n                }\n                return attrs;\n            },\n            renderStroke: function () {\n                return renderAllAttr(this.mapStroke(this.srcElement.options.stroke));\n            },\n            renderDashType: function (stroke) {\n                var width = stroke.width || 1, dashType = stroke.dashType;\n                if (dashType && dashType != SOLID) {\n                    var dashArray = DASH_ARRAYS[dashType.toLowerCase()], result = [], i;\n                    for (i = 0; i < dashArray.length; i++) {\n                        result.push(dashArray[i] * width);\n                    }\n                    return result.join(' ');\n                }\n            },\n            renderLinecap: function (stroke) {\n                var dashType = stroke.dashType, lineCap = stroke.lineCap;\n                return dashType && dashType != SOLID ? BUTT : lineCap;\n            },\n            mapFill: function (fill) {\n                var attrs = [];\n                if (!(fill && fill.nodeType == GRADIENT)) {\n                    if (fill && !isTransparent(fill.color)) {\n                        attrs.push([\n                            'fill',\n                            fill.color\n                        ]);\n                        if (defined(fill.opacity)) {\n                            attrs.push([\n                                'fill-opacity',\n                                fill.opacity\n                            ]);\n                        }\n                    } else {\n                        attrs.push([\n                            'fill',\n                            NONE\n                        ]);\n                    }\n                }\n                return attrs;\n            },\n            renderFill: function () {\n                return renderAllAttr(this.mapFill(this.srcElement.options.fill));\n            },\n            template: renderTemplate('<path #= d.renderStyle() # #= d.renderOpacity() # ' + '#= kendo.util.renderAttr(\\'d\\', d.renderData()) # ' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() #></path>')\n        });\n        var ArcNode = PathNode.extend({\n            renderData: function () {\n                return this.printPath(this.srcElement.toPath());\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            renderData: function () {\n                var paths = this.srcElement.paths;\n                if (paths.length > 0) {\n                    var result = [], i;\n                    for (i = 0; i < paths.length; i++) {\n                        result.push(this.printPath(paths[i]));\n                    }\n                    return result.join(' ');\n                }\n            }\n        });\n        var CircleNode = PathNode.extend({\n            geometryChange: function () {\n                var center = this.center();\n                this.attr('cx', center.x);\n                this.attr('cy', center.y);\n                this.attr('r', this.radius());\n                this.invalidate();\n            },\n            center: function () {\n                return this.srcElement.geometry().center;\n            },\n            radius: function () {\n                return this.srcElement.geometry().radius;\n            },\n            template: renderTemplate('<circle #= d.renderStyle() # #= d.renderOpacity() # ' + 'cx=\\'#= d.center().x #\\' cy=\\'#= d.center().y #\\' ' + 'r=\\'#= d.radius() #\\' ' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() # ></circle>')\n        });\n        var TextNode = PathNode.extend({\n            geometryChange: function () {\n                var pos = this.pos();\n                this.attr('x', pos.x);\n                this.attr('y', pos.y);\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'font') {\n                    this.attr('style', util.renderStyle(this.mapStyle()));\n                    this.geometryChange();\n                } else if (e.field === 'content') {\n                    PathNode.fn.content.call(this, this.srcElement.content());\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            mapStyle: function (encode) {\n                var style = PathNode.fn.mapStyle.call(this, encode);\n                var font = this.srcElement.options.font;\n                if (encode) {\n                    font = kendo.htmlEncode(font);\n                }\n                style.push([\n                    'font',\n                    font\n                ]);\n                return style;\n            },\n            pos: function () {\n                var pos = this.srcElement.position();\n                var size = this.srcElement.measure();\n                return pos.clone().setY(pos.y + size.baseline);\n            },\n            renderContent: function () {\n                var content = this.srcElement.content();\n                content = decodeEntities(content);\n                content = kendo.htmlEncode(content);\n                return content;\n            },\n            template: renderTemplate('<text #= d.renderStyle() # #= d.renderOpacity() # ' + 'x=\\'#= this.pos().x #\\' y=\\'#= this.pos().y #\\' ' + '#= d.renderStroke() # ' + '#= d.renderTransform() # ' + '#= d.renderDefinitions() # ' + '#= d.renderFill() #>#= d.renderContent() #</text>')\n        });\n        var ImageNode = PathNode.extend({\n            geometryChange: function () {\n                this.allAttr(this.mapPosition());\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.allAttr(this.mapSource());\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            mapPosition: function () {\n                var rect = this.srcElement.rect();\n                var tl = rect.topLeft();\n                return [\n                    [\n                        'x',\n                        tl.x\n                    ],\n                    [\n                        'y',\n                        tl.y\n                    ],\n                    [\n                        'width',\n                        rect.width() + 'px'\n                    ],\n                    [\n                        'height',\n                        rect.height() + 'px'\n                    ]\n                ];\n            },\n            renderPosition: function () {\n                return renderAllAttr(this.mapPosition());\n            },\n            mapSource: function (encode) {\n                var src = this.srcElement.src();\n                if (encode) {\n                    src = kendo.htmlEncode(src);\n                }\n                return [[\n                        'xlink:href',\n                        src\n                    ]];\n            },\n            renderSource: function () {\n                return renderAllAttr(this.mapSource(true));\n            },\n            template: renderTemplate('<image preserveAspectRatio=\\'none\\' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # ' + '#= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#>' + '</image>')\n        });\n        var GradientStopNode = Node.extend({\n            template: renderTemplate('<stop #=d.renderOffset()# #=d.renderStyle()# />'),\n            renderOffset: function () {\n                return renderAttr('offset', this.srcElement.offset());\n            },\n            mapStyle: function () {\n                var srcElement = this.srcElement;\n                return [\n                    [\n                        'stop-color',\n                        srcElement.color()\n                    ],\n                    [\n                        'stop-opacity',\n                        srcElement.opacity()\n                    ]\n                ];\n            },\n            optionsChange: function (e) {\n                if (e.field == 'offset') {\n                    this.attr(e.field, e.value);\n                } else if (e.field == 'color' || e.field == 'opacity') {\n                    this.css('stop-' + e.field, e.value);\n                }\n            }\n        });\n        var GradientNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this, srcElement);\n                this.id = srcElement.id;\n                this.loadStops();\n            },\n            loadStops: function () {\n                var srcElement = this.srcElement;\n                var stops = srcElement.stops;\n                var element = this.element;\n                var stopNode;\n                var idx;\n                for (idx = 0; idx < stops.length; idx++) {\n                    stopNode = new GradientStopNode(stops[idx]);\n                    this.append(stopNode);\n                    if (element) {\n                        stopNode.attachTo(element);\n                    }\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'gradient.stops') {\n                    BaseNode.fn.clear.call(this);\n                    this.loadStops();\n                } else if (e.field == GRADIENT) {\n                    this.allAttr(this.mapCoordinates());\n                }\n            },\n            renderCoordinates: function () {\n                return renderAllAttr(this.mapCoordinates());\n            },\n            mapSpace: function () {\n                return [\n                    'gradientUnits',\n                    this.srcElement.userSpace() ? 'userSpaceOnUse' : 'objectBoundingBox'\n                ];\n            }\n        });\n        var LinearGradientNode = GradientNode.extend({\n            template: renderTemplate('<linearGradient id=\\'#=d.id#\\' #=d.renderCoordinates()#>' + '#= d.renderChildren()#' + '</linearGradient>'),\n            mapCoordinates: function () {\n                var srcElement = this.srcElement;\n                var start = srcElement.start();\n                var end = srcElement.end();\n                var attrs = [\n                    [\n                        'x1',\n                        start.x\n                    ],\n                    [\n                        'y1',\n                        start.y\n                    ],\n                    [\n                        'x2',\n                        end.x\n                    ],\n                    [\n                        'y2',\n                        end.y\n                    ],\n                    this.mapSpace()\n                ];\n                return attrs;\n            }\n        });\n        var RadialGradientNode = GradientNode.extend({\n            template: renderTemplate('<radialGradient id=\\'#=d.id#\\' #=d.renderCoordinates()#>' + '#= d.renderChildren()#' + '</radialGradient>'),\n            mapCoordinates: function () {\n                var srcElement = this.srcElement;\n                var center = srcElement.center();\n                var radius = srcElement.radius();\n                var attrs = [\n                    [\n                        'cx',\n                        center.x\n                    ],\n                    [\n                        'cy',\n                        center.y\n                    ],\n                    [\n                        'r',\n                        radius\n                    ],\n                    this.mapSpace()\n                ];\n                return attrs;\n            }\n        });\n        var RectNode = PathNode.extend({\n            geometryChange: function () {\n                var geometry = this.srcElement.geometry();\n                this.attr('x', geometry.origin.x);\n                this.attr('y', geometry.origin.y);\n                this.attr('width', geometry.size.width);\n                this.attr('height', geometry.size.height);\n                this.invalidate();\n            },\n            size: function () {\n                return this.srcElement.geometry().size;\n            },\n            origin: function () {\n                return this.srcElement.geometry().origin;\n            },\n            template: renderTemplate('<rect #= d.renderStyle() # #= d.renderOpacity() # ' + 'x=\\'#= d.origin().x #\\' y=\\'#= d.origin().y #\\' ' + 'width=\\'#= d.size().width #\\' height=\\'#= d.size().height #\\'' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() # />')\n        });\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        var renderSVG = function (container, svg) {\n            container.innerHTML = svg;\n        };\n        (function () {\n            var testFragment = '<svg xmlns=\\'' + SVG_NS + '\\'></svg>', testContainer = doc.createElement('div'), hasParser = typeof DOMParser != UNDEFINED;\n            testContainer.innerHTML = testFragment;\n            if (hasParser && testContainer.firstChild.namespaceURI != SVG_NS) {\n                renderSVG = function (container, svg) {\n                    var parser = new DOMParser(), chartDoc = parser.parseFromString(svg, 'text/xml'), importedDoc = doc.adoptNode(chartDoc.documentElement);\n                    container.innerHTML = '';\n                    container.appendChild(importedDoc);\n                };\n            }\n        }());\n        function alignToScreen(element) {\n            var ctm;\n            try {\n                ctm = element.getScreenCTM ? element.getScreenCTM() : null;\n            } catch (e) {\n            }\n            if (ctm) {\n                var left = -ctm.e % 1, top = -ctm.f % 1, style = element.style;\n                if (left !== 0 || top !== 0) {\n                    style.left = left + 'px';\n                    style.top = top + 'px';\n                }\n            }\n        }\n        function baseUrl() {\n            var base = document.getElementsByTagName('base')[0], url = '', href = document.location.href, hashIndex = href.indexOf('#');\n            if (base && !kendo.support.browser.msie) {\n                if (hashIndex !== -1) {\n                    href = href.substring(0, hashIndex);\n                }\n                url = href;\n            }\n            return url;\n        }\n        function refUrl(id) {\n            return 'url(' + baseUrl() + '#' + id + ')';\n        }\n        function exportGroup(group) {\n            var root = new RootNode();\n            var bbox = group.clippedBBox();\n            if (bbox) {\n                var origin = bbox.getOrigin();\n                var exportRoot = new d.Group();\n                exportRoot.transform(g.transform().translate(-origin.x, -origin.y));\n                exportRoot.children.push(group);\n                group = exportRoot;\n            }\n            root.load([group]);\n            var svg = '<?xml version=\\'1.0\\' ?>' + '<svg xmlns=\\'' + SVG_NS + '\\' ' + 'xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' ' + 'version=\\'1.1\\'>' + root.render() + '</svg>';\n            root.destroy();\n            return svg;\n        }\n        function exportSVG(group, options) {\n            var svg = exportGroup(group);\n            if (!options || !options.raw) {\n                svg = 'data:image/svg+xml;base64,' + util.encodeBase64(svg);\n            }\n            return $.Deferred().resolve(svg).promise();\n        }\n        function isDefinition(type, value) {\n            return type == 'clip' || type == 'fill' && (!value || value.nodeType == GRADIENT);\n        }\n        function decodeEntities(text) {\n            if (!text || !text.indexOf || text.indexOf('&') < 0) {\n                return text;\n            } else {\n                var element = decodeEntities._element;\n                element.innerHTML = text;\n                return element.textContent || element.innerText;\n            }\n        }\n        decodeEntities._element = document.createElement('span');\n        var DefinitionMap = {\n            clip: 'clip-path',\n            fill: 'fill'\n        };\n        kendo.support.svg = function () {\n            return doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1');\n        }();\n        if (kendo.support.svg) {\n            d.SurfaceFactory.current.register('svg', Surface, 10);\n        }\n        deepExtend(d, {\n            exportSVG: exportSVG,\n            svg: {\n                ArcNode: ArcNode,\n                CircleNode: CircleNode,\n                ClipNode: ClipNode,\n                DefinitionNode: DefinitionNode,\n                GradientStopNode: GradientStopNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                LinearGradientNode: LinearGradientNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathNode: PathNode,\n                RadialGradientNode: RadialGradientNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                Surface: Surface,\n                TextNode: TextNode,\n                _exportGroup: exportGroup\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/canvas', [\n        'drawing/search',\n        'kendo.color'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, isTransparent = util.isTransparent, renderTemplate = util.renderTemplate, valueOrDefault = util.valueOrDefault, g = kendo.geometry, d = kendo.drawing, BaseNode = d.BaseNode, proxy = $.proxy;\n        var BUTT = 'butt', DASH_ARRAYS = d.DASH_ARRAYS, FRAME_DELAY = 1000 / 60, SOLID = 'solid', NS = '.kendo';\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                this.element[0].innerHTML = this._template(this);\n                var canvas = this.element[0].firstElementChild;\n                canvas.width = $(element).width();\n                canvas.height = $(element).height();\n                this._rootElement = canvas;\n                this._root = new RootNode(canvas);\n            },\n            destroy: function () {\n                d.Surface.fn.destroy.call(this);\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                }\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                    delete this._searchTree;\n                }\n                this.element.off(NS);\n            },\n            type: 'canvas',\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element], undefined, this.options.cors);\n                if (this._searchTree) {\n                    this._searchTree.add([element]);\n                }\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                }\n            },\n            eventTarget: function (e) {\n                if (this._searchTree) {\n                    var point = this._surfacePoint(e);\n                    var shape = this._searchTree.pointShape(point);\n                    return shape;\n                }\n            },\n            image: function () {\n                var root = this._root;\n                var rootElement = this._rootElement;\n                var loadingStates = [];\n                root.traverse(function (childNode) {\n                    if (childNode.loading) {\n                        loadingStates.push(childNode.loading);\n                    }\n                });\n                var defer = $.Deferred();\n                $.when.apply($, loadingStates).done(function () {\n                    root._invalidate();\n                    try {\n                        var data = rootElement.toDataURL();\n                        defer.resolve(data);\n                    } catch (e) {\n                        defer.reject(e);\n                    }\n                }).fail(function (e) {\n                    defer.reject(e);\n                });\n                return defer.promise();\n            },\n            suspendTracking: function () {\n                d.Surface.fn.suspendTracking.call(this);\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                    delete this._searchTree;\n                }\n            },\n            resumeTracking: function () {\n                d.Surface.fn.resumeTracking.call(this);\n                if (!this._searchTree) {\n                    this._searchTree = new d.ShapesQuadTree();\n                    var childNodes = this._root.childNodes;\n                    var rootElements = [];\n                    for (var idx = 0; idx < childNodes.length; idx++) {\n                        rootElements.push(childNodes[idx].srcElement);\n                    }\n                    this._searchTree.add(rootElements);\n                }\n            },\n            _resize: function () {\n                this._rootElement.width = this._size.width;\n                this._rootElement.height = this._size.height;\n                this._root.invalidate();\n            },\n            _template: renderTemplate('<canvas style=\\'width: 100%; height: 100%;\\'></canvas>'),\n            _enableTracking: function () {\n                this._searchTree = new d.ShapesQuadTree();\n                this._mouseTrackHandler = proxy(this._trackMouse, this);\n                this.element.on('click' + NS, this._mouseTrackHandler);\n                this.element.on('mousemove' + NS, this._mouseTrackHandler);\n                d.Surface.fn._enableTracking.call(this);\n            },\n            _trackMouse: function (e) {\n                if (this._suspendedTracking) {\n                    return;\n                }\n                var shape = this.eventTarget(e);\n                if (e.type != 'click') {\n                    var currentShape = this._currentShape;\n                    if (currentShape && currentShape !== shape) {\n                        this.trigger('mouseleave', {\n                            element: currentShape,\n                            originalEvent: e,\n                            type: 'mouseleave'\n                        });\n                    }\n                    if (shape && currentShape !== shape) {\n                        this.trigger('mouseenter', {\n                            element: shape,\n                            originalEvent: e,\n                            type: 'mouseenter'\n                        });\n                    }\n                    this.trigger('mousemove', {\n                        element: shape,\n                        originalEvent: e,\n                        type: 'mousemove'\n                    });\n                    this._currentShape = shape;\n                } else if (shape) {\n                    this.trigger('click', {\n                        element: shape,\n                        originalEvent: e,\n                        type: 'click'\n                    });\n                }\n            }\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                if (srcElement) {\n                    this.initClip();\n                }\n            },\n            initClip: function () {\n                var clip = this.srcElement.clip();\n                if (clip) {\n                    this.clip = clip;\n                    clip.addObserver(this);\n                }\n            },\n            clear: function () {\n                if (this.srcElement) {\n                    this.srcElement.removeObserver(this);\n                }\n                this.clearClip();\n                BaseNode.fn.clear.call(this);\n            },\n            clearClip: function () {\n                if (this.clip) {\n                    this.clip.removeObserver(this);\n                    delete this.clip;\n                }\n            },\n            setClip: function (ctx) {\n                if (this.clip) {\n                    ctx.beginPath();\n                    PathNode.fn.renderPoints(ctx, this.clip);\n                    ctx.clip();\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'clip') {\n                    this.clearClip();\n                    this.initClip();\n                }\n                BaseNode.fn.optionsChange.call(this, e);\n            },\n            setTransform: function (ctx) {\n                if (this.srcElement) {\n                    var transform = this.srcElement.transform();\n                    if (transform) {\n                        ctx.transform.apply(ctx, transform.matrix().toArray(6));\n                    }\n                }\n            },\n            loadElements: function (elements, pos, cors) {\n                var node = this, childNode, srcElement, children, i;\n                for (i = 0; i < elements.length; i++) {\n                    srcElement = elements[i];\n                    children = srcElement.children;\n                    childNode = new nodeMap[srcElement.nodeType](srcElement, cors);\n                    if (children && children.length > 0) {\n                        childNode.load(children, pos, cors);\n                    }\n                    if (defined(pos)) {\n                        node.insertAt(childNode, pos);\n                    } else {\n                        node.append(childNode);\n                    }\n                }\n            },\n            load: function (elements, pos, cors) {\n                this.loadElements(elements, pos, cors);\n                this.invalidate();\n            },\n            setOpacity: function (ctx) {\n                if (this.srcElement) {\n                    var opacity = this.srcElement.opacity();\n                    if (defined(opacity)) {\n                        this.globalAlpha(ctx, opacity);\n                    }\n                }\n            },\n            globalAlpha: function (ctx, value) {\n                if (value && ctx.globalAlpha) {\n                    value *= ctx.globalAlpha;\n                }\n                ctx.globalAlpha = value;\n            },\n            visible: function () {\n                var src = this.srcElement;\n                return !src || src && src.options.visible !== false;\n            }\n        });\n        var GroupNode = Node.extend({\n            renderTo: function (ctx) {\n                if (!this.visible()) {\n                    return;\n                }\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                var childNodes = this.childNodes;\n                for (var i = 0; i < childNodes.length; i++) {\n                    var child = childNodes[i];\n                    if (child.visible()) {\n                        child.renderTo(ctx);\n                    }\n                }\n                ctx.restore();\n            }\n        });\n        d.mixins.Traversable.extend(GroupNode.fn, 'childNodes');\n        var RootNode = GroupNode.extend({\n            init: function (canvas) {\n                GroupNode.fn.init.call(this);\n                this.canvas = canvas;\n                this.ctx = canvas.getContext('2d');\n                var invalidateHandler = proxy(this._invalidate, this);\n                this.invalidate = kendo.throttle(function () {\n                    kendo.animationFrame(invalidateHandler);\n                }, FRAME_DELAY);\n            },\n            destroy: function () {\n                GroupNode.fn.destroy.call(this);\n                this.canvas = null;\n                this.ctx = null;\n            },\n            load: function (elements, pos, cors) {\n                this.loadElements(elements, pos, cors);\n                this._invalidate();\n            },\n            _invalidate: function () {\n                if (!this.ctx) {\n                    return;\n                }\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.renderTo(this.ctx);\n            }\n        });\n        d.mixins.Traversable.extend(RootNode.fn, 'childNodes');\n        var PathNode = Node.extend({\n            renderTo: function (ctx) {\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                ctx.beginPath();\n                this.renderPoints(ctx, this.srcElement);\n                this.setLineDash(ctx);\n                this.setLineCap(ctx);\n                this.setLineJoin(ctx);\n                this.setFill(ctx);\n                this.setStroke(ctx);\n                ctx.restore();\n            },\n            setFill: function (ctx) {\n                var fill = this.srcElement.options.fill;\n                var hasFill = false;\n                if (fill) {\n                    if (fill.nodeType == 'gradient') {\n                        this.setGradientFill(ctx, fill);\n                        hasFill = true;\n                    } else if (!isTransparent(fill.color)) {\n                        ctx.fillStyle = fill.color;\n                        ctx.save();\n                        this.globalAlpha(ctx, fill.opacity);\n                        ctx.fill();\n                        ctx.restore();\n                        hasFill = true;\n                    }\n                }\n                return hasFill;\n            },\n            setGradientFill: function (ctx, fill) {\n                var bbox = this.srcElement.rawBBox();\n                var gradient;\n                if (fill instanceof d.LinearGradient) {\n                    var start = fill.start();\n                    var end = fill.end();\n                    gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n                } else if (fill instanceof d.RadialGradient) {\n                    var center = fill.center();\n                    gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());\n                }\n                addGradientStops(gradient, fill.stops);\n                ctx.save();\n                if (!fill.userSpace()) {\n                    ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);\n                }\n                ctx.fillStyle = gradient;\n                ctx.fill();\n                ctx.restore();\n            },\n            setStroke: function (ctx) {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {\n                    ctx.strokeStyle = stroke.color;\n                    ctx.lineWidth = valueOrDefault(stroke.width, 1);\n                    ctx.save();\n                    this.globalAlpha(ctx, stroke.opacity);\n                    ctx.stroke();\n                    ctx.restore();\n                    return true;\n                }\n            },\n            dashType: function () {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && stroke.dashType) {\n                    return stroke.dashType.toLowerCase();\n                }\n            },\n            setLineDash: function (ctx) {\n                var dashType = this.dashType();\n                if (dashType && dashType != SOLID) {\n                    var dashArray = DASH_ARRAYS[dashType];\n                    if (ctx.setLineDash) {\n                        ctx.setLineDash(dashArray);\n                    } else {\n                        ctx.mozDash = dashArray;\n                        ctx.webkitLineDash = dashArray;\n                    }\n                }\n            },\n            setLineCap: function (ctx) {\n                var dashType = this.dashType();\n                var stroke = this.srcElement.options.stroke;\n                if (dashType && dashType !== SOLID) {\n                    ctx.lineCap = BUTT;\n                } else if (stroke && stroke.lineCap) {\n                    ctx.lineCap = stroke.lineCap;\n                }\n            },\n            setLineJoin: function (ctx) {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && stroke.lineJoin) {\n                    ctx.lineJoin = stroke.lineJoin;\n                }\n            },\n            renderPoints: function (ctx, path) {\n                var segments = path.segments;\n                if (segments.length === 0) {\n                    return;\n                }\n                var seg = segments[0];\n                var anchor = seg.anchor();\n                ctx.moveTo(anchor.x, anchor.y);\n                for (var i = 1; i < segments.length; i++) {\n                    seg = segments[i];\n                    anchor = seg.anchor();\n                    var prevSeg = segments[i - 1];\n                    var prevOut = prevSeg.controlOut();\n                    var controlIn = seg.controlIn();\n                    if (prevOut && controlIn) {\n                        ctx.bezierCurveTo(prevOut.x, prevOut.y, controlIn.x, controlIn.y, anchor.x, anchor.y);\n                    } else {\n                        ctx.lineTo(anchor.x, anchor.y);\n                    }\n                }\n                if (path.options.closed) {\n                    ctx.closePath();\n                }\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var paths = this.srcElement.paths;\n                for (var i = 0; i < paths.length; i++) {\n                    PathNode.fn.renderPoints(ctx, paths[i]);\n                }\n            }\n        });\n        var CircleNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var geometry = this.srcElement.geometry();\n                var c = geometry.center;\n                var r = geometry.radius;\n                ctx.arc(c.x, c.y, r, 0, Math.PI * 2);\n            }\n        });\n        var ArcNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var path = this.srcElement.toPath();\n                PathNode.fn.renderPoints.call(this, ctx, path);\n            }\n        });\n        var TextNode = PathNode.extend({\n            renderTo: function (ctx) {\n                var text = this.srcElement;\n                var pos = text.position();\n                var size = text.measure();\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                ctx.beginPath();\n                ctx.font = text.options.font;\n                if (this.setFill(ctx)) {\n                    ctx.fillText(text.content(), pos.x, pos.y + size.baseline);\n                }\n                if (this.setStroke(ctx)) {\n                    this.setLineDash(ctx);\n                    ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);\n                }\n                ctx.restore();\n            }\n        });\n        var ImageNode = PathNode.extend({\n            init: function (srcElement, cors) {\n                PathNode.fn.init.call(this, srcElement);\n                this.onLoad = proxy(this.onLoad, this);\n                this.onError = proxy(this.onError, this);\n                this.loading = $.Deferred();\n                var img = this.img = new Image();\n                if (cors && !/^data:/i.test(srcElement.src())) {\n                    img.crossOrigin = cors;\n                }\n                img.src = srcElement.src();\n                if (img.complete) {\n                    this.onLoad();\n                } else {\n                    img.onload = this.onLoad;\n                    img.onerror = this.onError;\n                }\n            },\n            renderTo: function (ctx) {\n                if (this.loading.state() === 'resolved') {\n                    ctx.save();\n                    this.setTransform(ctx);\n                    this.setClip(ctx);\n                    this.drawImage(ctx);\n                    ctx.restore();\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.loading = $.Deferred();\n                    this.img.src = this.srcElement.src();\n                } else {\n                    PathNode.fn.optionsChange.call(this, e);\n                }\n            },\n            onLoad: function () {\n                this.loading.resolve();\n                this.invalidate();\n            },\n            onError: function () {\n                this.loading.reject(new Error('Unable to load image \\'' + this.img.src + '\\'. Check for connectivity and verify CORS headers.'));\n            },\n            drawImage: function (ctx) {\n                var rect = this.srcElement.rect();\n                var tl = rect.topLeft();\n                ctx.drawImage(this.img, tl.x, tl.y, rect.width(), rect.height());\n            }\n        });\n        var RectNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var geometry = this.srcElement.geometry();\n                var origin = geometry.origin;\n                var size = geometry.size;\n                ctx.rect(origin.x, origin.y, size.width, size.height);\n            }\n        });\n        function exportImage(group, options) {\n            var defaults = {\n                width: '800px',\n                height: '600px',\n                cors: 'Anonymous'\n            };\n            var bbox = group.clippedBBox();\n            if (bbox) {\n                var origin = bbox.getOrigin();\n                var exportRoot = new d.Group();\n                exportRoot.transform(g.transform().translate(-origin.x, -origin.y));\n                exportRoot.children.push(group);\n                group = exportRoot;\n                var size = bbox.getSize();\n                defaults.width = size.width + 'px';\n                defaults.height = size.height + 'px';\n            }\n            options = deepExtend(defaults, options);\n            var container = $('<div />').css({\n                display: 'none',\n                width: options.width,\n                height: options.height\n            }).appendTo(document.body);\n            var surface = new Surface(container, options);\n            surface.suspendTracking();\n            surface.draw(group);\n            var promise = surface.image();\n            promise.always(function () {\n                surface.destroy();\n                container.remove();\n            });\n            return promise;\n        }\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        function addGradientStops(gradient, stops) {\n            var color, stop, idx;\n            for (idx = 0; idx < stops.length; idx++) {\n                stop = stops[idx];\n                color = kendo.parseColor(stop.color());\n                color.a *= stop.opacity();\n                gradient.addColorStop(stop.offset(), color.toCssRgba());\n            }\n        }\n        kendo.support.canvas = function () {\n            return !!doc.createElement('canvas').getContext;\n        }();\n        if (kendo.support.canvas) {\n            d.SurfaceFactory.current.register('canvas', Surface, 20);\n        }\n        deepExtend(kendo.drawing, {\n            exportImage: exportImage,\n            canvas: {\n                ArcNode: ArcNode,\n                CircleNode: CircleNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathNode: PathNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                Surface: Surface,\n                TextNode: TextNode\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/vml', [\n        'drawing/shapes',\n        'kendo.color'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, math = Math, atan2 = math.atan2, ceil = math.ceil, sqrt = math.sqrt, kendo = window.kendo, deepExtend = kendo.deepExtend, noop = $.noop, d = kendo.drawing, BaseNode = d.BaseNode, g = kendo.geometry, toMatrix = g.toMatrix, Color = kendo.Color, util = kendo.util, isTransparent = util.isTransparent, defined = util.defined, deg = util.deg, round = util.round, valueOrDefault = util.valueOrDefault;\n        var NONE = 'none', NS = '.kendo', COORDINATE_MULTIPLE = 100, COORDINATE_SIZE = COORDINATE_MULTIPLE * COORDINATE_MULTIPLE, GRADIENT = 'gradient', TRANSFORM_PRECISION = 4;\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                enableVML();\n                this.element.empty();\n                this._root = new RootNode();\n                this._root.attachTo(this.element[0]);\n                this.element.on('click' + NS, this._click);\n                this.element.on('mouseover' + NS, this._mouseenter);\n                this.element.on('mouseout' + NS, this._mouseleave);\n                this.element.on('mousemove' + NS, this._mousemove);\n            },\n            type: 'vml',\n            destroy: function () {\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                    this.element.off(NS);\n                }\n                d.Surface.fn.destroy.call(this);\n            },\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element], undefined, null);\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n            }\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                this.createElement();\n                this.attachReference();\n            },\n            observe: noop,\n            destroy: function () {\n                if (this.element) {\n                    this.element._kendoNode = null;\n                    this.element = null;\n                }\n                BaseNode.fn.destroy.call(this);\n            },\n            clear: function () {\n                if (this.element) {\n                    this.element.innerHTML = '';\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    children[i].destroy();\n                }\n                this.childNodes = [];\n            },\n            removeSelf: function () {\n                if (this.element) {\n                    this.element.parentNode.removeChild(this.element);\n                    this.element = null;\n                }\n                BaseNode.fn.removeSelf.call(this);\n            },\n            createElement: function () {\n                this.element = doc.createElement('div');\n            },\n            attachReference: function () {\n                this.element._kendoNode = this;\n            },\n            load: function (elements, pos, transform, opacity) {\n                opacity = valueOrDefault(opacity, 1);\n                if (this.srcElement) {\n                    opacity *= valueOrDefault(this.srcElement.options.opacity, 1);\n                }\n                for (var i = 0; i < elements.length; i++) {\n                    var srcElement = elements[i];\n                    var children = srcElement.children;\n                    var combinedTransform = srcElement.currentTransform(transform);\n                    var currentOpacity = opacity * valueOrDefault(srcElement.options.opacity, 1);\n                    var childNode = new nodeMap[srcElement.nodeType](srcElement, combinedTransform, currentOpacity);\n                    if (children && children.length > 0) {\n                        childNode.load(children, pos, combinedTransform, opacity);\n                    }\n                    if (defined(pos)) {\n                        this.insertAt(childNode, pos);\n                    } else {\n                        this.append(childNode);\n                    }\n                    childNode.attachTo(this.element, pos);\n                }\n            },\n            attachTo: function (domElement, pos) {\n                if (defined(pos)) {\n                    domElement.insertBefore(this.element, domElement.children[pos] || null);\n                } else {\n                    domElement.appendChild(this.element);\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'visible') {\n                    this.css('display', e.value !== false ? '' : NONE);\n                }\n            },\n            setStyle: function () {\n                this.allCss(this.mapStyle());\n            },\n            mapStyle: function () {\n                var style = [];\n                if (this.srcElement && this.srcElement.options.visible === false) {\n                    style.push([\n                        'display',\n                        NONE\n                    ]);\n                }\n                return style;\n            },\n            mapOpacityTo: function (attrs, multiplier) {\n                var opacity = valueOrDefault(this.opacity, 1);\n                opacity *= valueOrDefault(multiplier, 1);\n                attrs.push([\n                    'opacity',\n                    opacity\n                ]);\n            },\n            attr: function (name, value) {\n                if (this.element) {\n                    this.element[name] = value;\n                }\n            },\n            allAttr: function (attrs) {\n                for (var i = 0; i < attrs.length; i++) {\n                    this.attr(attrs[i][0], attrs[i][1]);\n                }\n            },\n            css: function (name, value) {\n                if (this.element) {\n                    this.element.style[name] = value;\n                }\n            },\n            allCss: function (styles) {\n                for (var i = 0; i < styles.length; i++) {\n                    this.css(styles[i][0], styles[i][1]);\n                }\n            }\n        });\n        var RootNode = Node.extend({\n            createElement: function () {\n                Node.fn.createElement.call(this);\n                this.allCss([\n                    [\n                        'width',\n                        '100%'\n                    ],\n                    [\n                        'height',\n                        '100%'\n                    ],\n                    [\n                        'position',\n                        'relative'\n                    ],\n                    [\n                        'visibility',\n                        'visible'\n                    ]\n                ]);\n            },\n            attachReference: noop\n        });\n        var ClipObserver = kendo.Class.extend({\n            init: function (srcElement, observer) {\n                this.srcElement = srcElement;\n                this.observer = observer;\n                srcElement.addObserver(this);\n            },\n            geometryChange: function () {\n                this.observer.optionsChange({\n                    field: 'clip',\n                    value: this.srcElement\n                });\n            },\n            clear: function () {\n                this.srcElement.removeObserver(this);\n            }\n        });\n        var ObserverNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this, srcElement);\n                if (srcElement) {\n                    this.initClip();\n                }\n            },\n            observe: function () {\n                BaseNode.fn.observe.call(this);\n            },\n            mapStyle: function () {\n                var style = Node.fn.mapStyle.call(this);\n                if (this.srcElement && this.srcElement.clip()) {\n                    style.push([\n                        'clip',\n                        this.clipRect()\n                    ]);\n                }\n                return style;\n            },\n            optionsChange: function (e) {\n                if (e.field == 'clip') {\n                    this.clearClip();\n                    this.initClip();\n                    this.setClip();\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            clear: function () {\n                this.clearClip();\n                Node.fn.clear.call(this);\n            },\n            initClip: function () {\n                if (this.srcElement.clip()) {\n                    this.clip = new ClipObserver(this.srcElement.clip(), this);\n                    this.clip.observer = this;\n                }\n            },\n            clearClip: function () {\n                if (this.clip) {\n                    this.clip.clear();\n                    this.clip = null;\n                    this.css('clip', this.clipRect());\n                }\n            },\n            setClip: function () {\n                if (this.clip) {\n                    this.css('clip', this.clipRect());\n                }\n            },\n            clipRect: function () {\n                var clipRect = EMPTY_CLIP;\n                var clip = this.srcElement.clip();\n                if (clip) {\n                    var bbox = this.clipBBox(clip);\n                    var topLeft = bbox.topLeft();\n                    var bottomRight = bbox.bottomRight();\n                    clipRect = kendo.format('rect({0}px {1}px {2}px {3}px)', topLeft.y, bottomRight.x, bottomRight.y, topLeft.x);\n                }\n                return clipRect;\n            },\n            clipBBox: function (clip) {\n                var topLeft = this.srcElement.rawBBox().topLeft();\n                var clipBBox = clip.rawBBox();\n                clipBBox.origin.translate(-topLeft.x, -topLeft.y);\n                return clipBBox;\n            }\n        });\n        var GroupNode = ObserverNode.extend({\n            createElement: function () {\n                Node.fn.createElement.call(this);\n                this.setStyle();\n            },\n            attachTo: function (domElement, pos) {\n                this.css('display', NONE);\n                Node.fn.attachTo.call(this, domElement, pos);\n                if (this.srcElement.options.visible !== false) {\n                    this.css('display', '');\n                }\n            },\n            _attachTo: function (domElement) {\n                var frag = document.createDocumentFragment();\n                frag.appendChild(this.element);\n                domElement.appendChild(frag);\n            },\n            mapStyle: function () {\n                var style = ObserverNode.fn.mapStyle.call(this);\n                style.push([\n                    'position',\n                    'absolute'\n                ]);\n                style.push([\n                    'white-space',\n                    'nowrap'\n                ]);\n                return style;\n            },\n            optionsChange: function (e) {\n                if (e.field === 'transform') {\n                    this.refreshTransform();\n                }\n                if (e.field === 'opacity') {\n                    this.refreshOpacity();\n                }\n                ObserverNode.fn.optionsChange.call(this, e);\n            },\n            refreshTransform: function (transform) {\n                var currentTransform = this.srcElement.currentTransform(transform), children = this.childNodes, length = children.length, i;\n                this.setClip();\n                for (i = 0; i < length; i++) {\n                    children[i].refreshTransform(currentTransform);\n                }\n            },\n            currentOpacity: function () {\n                var opacity = valueOrDefault(this.srcElement.options.opacity, 1);\n                if (this.parent && this.parent.currentOpacity) {\n                    opacity *= this.parent.currentOpacity();\n                }\n                return opacity;\n            },\n            refreshOpacity: function () {\n                var children = this.childNodes, length = children.length, i;\n                var opacity = this.currentOpacity();\n                for (i = 0; i < length; i++) {\n                    children[i].refreshOpacity(opacity);\n                }\n            },\n            initClip: function () {\n                ObserverNode.fn.initClip.call(this);\n                if (this.clip) {\n                    var bbox = this.clip.srcElement.bbox(this.srcElement.currentTransform());\n                    if (bbox) {\n                        this.css('width', bbox.width() + bbox.origin.x);\n                        this.css('height', bbox.height() + bbox.origin.y);\n                    }\n                }\n            },\n            clipBBox: function (clip) {\n                return clip.bbox(this.srcElement.currentTransform());\n            },\n            clearClip: function () {\n                ObserverNode.fn.clearClip.call(this);\n            }\n        });\n        var StrokeNode = Node.extend({\n            init: function (srcElement, opacity) {\n                this.opacity = opacity;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('stroke');\n                this.setOpacity();\n            },\n            optionsChange: function (e) {\n                if (e.field.indexOf('stroke') === 0) {\n                    this.setStroke();\n                }\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setStroke();\n            },\n            setStroke: function () {\n                this.allAttr(this.mapStroke());\n            },\n            setOpacity: function () {\n                this.setStroke();\n            },\n            mapStroke: function () {\n                var stroke = this.srcElement.options.stroke;\n                var attrs = [];\n                if (stroke && !isTransparent(stroke.color) && stroke.width !== 0) {\n                    attrs.push([\n                        'on',\n                        'true'\n                    ]);\n                    attrs.push([\n                        'color',\n                        stroke.color\n                    ]);\n                    attrs.push([\n                        'weight',\n                        (stroke.width || 1) + 'px'\n                    ]);\n                    this.mapOpacityTo(attrs, stroke.opacity);\n                    if (defined(stroke.dashType)) {\n                        attrs.push([\n                            'dashstyle',\n                            stroke.dashType\n                        ]);\n                    }\n                    if (defined(stroke.lineJoin)) {\n                        attrs.push([\n                            'joinstyle',\n                            stroke.lineJoin\n                        ]);\n                    }\n                    if (defined(stroke.lineCap)) {\n                        var lineCap = stroke.lineCap.toLowerCase();\n                        if (lineCap === 'butt') {\n                            lineCap = lineCap === 'butt' ? 'flat' : lineCap;\n                        }\n                        attrs.push([\n                            'endcap',\n                            lineCap\n                        ]);\n                    }\n                } else {\n                    attrs.push([\n                        'on',\n                        'false'\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var FillNode = Node.extend({\n            init: function (srcElement, transform, opacity) {\n                this.opacity = opacity;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('fill');\n                this.setFill();\n            },\n            optionsChange: function (e) {\n                if (fillField(e.field)) {\n                    this.setFill();\n                }\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setOpacity();\n            },\n            setFill: function () {\n                this.allAttr(this.mapFill());\n            },\n            setOpacity: function () {\n                this.setFill();\n            },\n            attr: function (name, value) {\n                var element = this.element;\n                if (element) {\n                    var fields = name.split('.');\n                    while (fields.length > 1) {\n                        element = element[fields.shift()];\n                    }\n                    element[fields[0]] = value;\n                }\n            },\n            mapFill: function () {\n                var fill = this.srcElement.fill();\n                var attrs = [[\n                        'on',\n                        'false'\n                    ]];\n                if (fill) {\n                    if (fill.nodeType == GRADIENT) {\n                        attrs = this.mapGradient(fill);\n                    } else if (!isTransparent(fill.color)) {\n                        attrs = this.mapFillColor(fill);\n                    }\n                }\n                return attrs;\n            },\n            mapFillColor: function (fill) {\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'color',\n                        fill.color\n                    ]\n                ];\n                this.mapOpacityTo(attrs, fill.opacity);\n                return attrs;\n            },\n            mapGradient: function (fill) {\n                var options = this.srcElement.options;\n                var fallbackFill = options.fallbackFill || fill.fallbackFill && fill.fallbackFill();\n                var attrs;\n                if (fill instanceof d.LinearGradient) {\n                    attrs = this.mapLinearGradient(fill);\n                } else if (fill instanceof d.RadialGradient && fill.supportVML) {\n                    attrs = this.mapRadialGradient(fill);\n                } else if (fallbackFill) {\n                    attrs = this.mapFillColor(fallbackFill);\n                } else {\n                    attrs = [[\n                            'on',\n                            'false'\n                        ]];\n                }\n                return attrs;\n            },\n            mapLinearGradient: function (fill) {\n                var start = fill.start();\n                var end = fill.end();\n                var angle = util.deg(atan2(end.y - start.y, end.x - start.x));\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'type',\n                        GRADIENT\n                    ],\n                    [\n                        'focus',\n                        0\n                    ],\n                    [\n                        'method',\n                        'none'\n                    ],\n                    [\n                        'angle',\n                        270 - angle\n                    ]\n                ];\n                this.addColors(attrs);\n                return attrs;\n            },\n            mapRadialGradient: function (fill) {\n                var bbox = this.srcElement.rawBBox();\n                var center = fill.center();\n                var focusx = (center.x - bbox.origin.x) / bbox.width();\n                var focusy = (center.y - bbox.origin.y) / bbox.height();\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'type',\n                        'gradienttitle'\n                    ],\n                    [\n                        'focus',\n                        '100%'\n                    ],\n                    [\n                        'focusposition',\n                        focusx + ' ' + focusy\n                    ],\n                    [\n                        'method',\n                        'none'\n                    ]\n                ];\n                this.addColors(attrs);\n                return attrs;\n            },\n            addColors: function (attrs) {\n                var options = this.srcElement.options;\n                var opacity = valueOrDefault(this.opacity, 1);\n                var stopColors = [];\n                var stops = options.fill.stops;\n                var baseColor = options.baseColor;\n                var colorsField = this.element.colors ? 'colors.value' : 'colors';\n                var color = stopColor(baseColor, stops[0], opacity);\n                var color2 = stopColor(baseColor, stops[stops.length - 1], opacity);\n                var stop;\n                for (var idx = 0; idx < stops.length; idx++) {\n                    stop = stops[idx];\n                    stopColors.push(math.round(stop.offset() * 100) + '% ' + stopColor(baseColor, stop, opacity));\n                }\n                attrs.push([\n                    colorsField,\n                    stopColors.join(',')\n                ], [\n                    'color',\n                    color\n                ], [\n                    'color2',\n                    color2\n                ]);\n            }\n        });\n        var TransformNode = Node.extend({\n            init: function (srcElement, transform) {\n                this.transform = transform;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('skew');\n                this.setTransform();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'transform') {\n                    this.refresh(this.srcElement.currentTransform());\n                }\n            },\n            refresh: function (transform) {\n                this.transform = transform;\n                this.setTransform();\n            },\n            transformOrigin: function () {\n                return '-0.5,-0.5';\n            },\n            setTransform: function () {\n                this.allAttr(this.mapTransform());\n            },\n            mapTransform: function () {\n                var transform = this.transform;\n                var attrs = [], matrix = toMatrix(transform);\n                if (matrix) {\n                    matrix.round(TRANSFORM_PRECISION);\n                    attrs.push([\n                        'on',\n                        'true'\n                    ], [\n                        'matrix',\n                        [\n                            matrix.a,\n                            matrix.c,\n                            matrix.b,\n                            matrix.d,\n                            0,\n                            0\n                        ].join(',')\n                    ], [\n                        'offset',\n                        matrix.e + 'px,' + matrix.f + 'px'\n                    ], [\n                        'origin',\n                        this.transformOrigin()\n                    ]);\n                } else {\n                    attrs.push([\n                        'on',\n                        'false'\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var ShapeNode = ObserverNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.fill = this.createFillNode(srcElement, transform, opacity);\n                this.stroke = new StrokeNode(srcElement, opacity);\n                this.transform = this.createTransformNode(srcElement, transform);\n                ObserverNode.fn.init.call(this, srcElement);\n            },\n            attachTo: function (domElement, pos) {\n                this.fill.attachTo(this.element);\n                this.stroke.attachTo(this.element);\n                this.transform.attachTo(this.element);\n                Node.fn.attachTo.call(this, domElement, pos);\n            },\n            createFillNode: function (srcElement, transform, opacity) {\n                return new FillNode(srcElement, transform, opacity);\n            },\n            createTransformNode: function (srcElement, transform) {\n                return new TransformNode(srcElement, transform);\n            },\n            createElement: function () {\n                this.element = createElementVML('shape');\n                this.setCoordsize();\n                this.setStyle();\n            },\n            optionsChange: function (e) {\n                if (fillField(e.field)) {\n                    this.fill.optionsChange(e);\n                } else if (e.field.indexOf('stroke') === 0) {\n                    this.stroke.optionsChange(e);\n                } else if (e.field === 'transform') {\n                    this.transform.optionsChange(e);\n                } else if (e.field === 'opacity') {\n                    this.fill.setOpacity();\n                    this.stroke.setOpacity();\n                }\n                ObserverNode.fn.optionsChange.call(this, e);\n            },\n            refreshTransform: function (transform) {\n                this.transform.refresh(this.srcElement.currentTransform(transform));\n            },\n            refreshOpacity: function (opacity) {\n                opacity *= valueOrDefault(this.srcElement.options.opacity, 1);\n                this.fill.refreshOpacity(opacity);\n                this.stroke.refreshOpacity(opacity);\n            },\n            mapStyle: function (width, height) {\n                var styles = ObserverNode.fn.mapStyle.call(this);\n                if (!width || !height) {\n                    width = height = COORDINATE_MULTIPLE;\n                }\n                styles.push([\n                    'position',\n                    'absolute'\n                ], [\n                    'width',\n                    width + 'px'\n                ], [\n                    'height',\n                    height + 'px'\n                ]);\n                var cursor = this.srcElement.options.cursor;\n                if (cursor) {\n                    styles.push([\n                        'cursor',\n                        cursor\n                    ]);\n                }\n                return styles;\n            },\n            setCoordsize: function () {\n                this.allAttr([\n                    [\n                        'coordorigin',\n                        '0 0'\n                    ],\n                    [\n                        'coordsize',\n                        COORDINATE_SIZE + ' ' + COORDINATE_SIZE\n                    ]\n                ]);\n            }\n        });\n        var PathDataNode = Node.extend({\n            createElement: function () {\n                this.element = createElementVML('path');\n                this.setPathData();\n            },\n            geometryChange: function () {\n                this.setPathData();\n            },\n            setPathData: function () {\n                this.attr('v', this.renderData());\n            },\n            renderData: function () {\n                return printPath(this.srcElement);\n            }\n        });\n        var PathNode = ShapeNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.pathData = this.createDataNode(srcElement);\n                ShapeNode.fn.init.call(this, srcElement, transform, opacity);\n            },\n            attachTo: function (domElement, pos) {\n                this.pathData.attachTo(this.element);\n                ShapeNode.fn.attachTo.call(this, domElement, pos);\n            },\n            createDataNode: function (srcElement) {\n                return new PathDataNode(srcElement);\n            },\n            geometryChange: function () {\n                this.pathData.geometryChange();\n                ShapeNode.fn.geometryChange.call(this);\n            }\n        });\n        var MultiPathDataNode = PathDataNode.extend({\n            renderData: function () {\n                var paths = this.srcElement.paths;\n                if (paths.length > 0) {\n                    var result = [], i, open;\n                    for (i = 0; i < paths.length; i++) {\n                        open = i < paths.length - 1;\n                        result.push(printPath(paths[i], open));\n                    }\n                    return result.join(' ');\n                }\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new MultiPathDataNode(srcElement);\n            }\n        });\n        var CircleTransformNode = TransformNode.extend({\n            transformOrigin: function () {\n                var boundingBox = this.srcElement.geometry().bbox(), center = boundingBox.center(), originX = -ceil(center.x) / ceil(boundingBox.width()), originY = -ceil(center.y) / ceil(boundingBox.height());\n                return originX + ',' + originY;\n            }\n        });\n        var CircleNode = ShapeNode.extend({\n            createElement: function () {\n                this.element = createElementVML('oval');\n                this.setStyle();\n            },\n            createTransformNode: function (srcElement, transform) {\n                return new CircleTransformNode(srcElement, transform);\n            },\n            geometryChange: function () {\n                ShapeNode.fn.geometryChange.call(this);\n                this.setStyle();\n                this.refreshTransform();\n            },\n            mapStyle: function () {\n                var geometry = this.srcElement.geometry();\n                var radius = geometry.radius;\n                var center = geometry.center;\n                var diameter = ceil(radius * 2);\n                var styles = ShapeNode.fn.mapStyle.call(this, diameter, diameter);\n                styles.push([\n                    'left',\n                    ceil(center.x - radius) + 'px'\n                ], [\n                    'top',\n                    ceil(center.y - radius) + 'px'\n                ]);\n                return styles;\n            }\n        });\n        var ArcDataNode = PathDataNode.extend({\n            renderData: function () {\n                return printPath(this.srcElement.toPath());\n            }\n        });\n        var ArcNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new ArcDataNode(srcElement);\n            }\n        });\n        var TextPathDataNode = PathDataNode.extend({\n            createElement: function () {\n                PathDataNode.fn.createElement.call(this);\n                this.attr('textpathok', true);\n            },\n            renderData: function () {\n                var rect = this.srcElement.rect();\n                var center = rect.center();\n                return 'm ' + printPoints([new g.Point(rect.topLeft().x, center.y)]) + ' l ' + printPoints([new g.Point(rect.bottomRight().x, center.y)]);\n            }\n        });\n        var TextPathNode = Node.extend({\n            createElement: function () {\n                this.element = createElementVML('textpath');\n                this.attr('on', true);\n                this.attr('fitpath', false);\n                this.setStyle();\n                this.setString();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'content') {\n                    this.setString();\n                } else {\n                    this.setStyle();\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            mapStyle: function () {\n                return [[\n                        'font',\n                        this.srcElement.options.font\n                    ]];\n            },\n            setString: function () {\n                this.attr('string', this.srcElement.content());\n            }\n        });\n        var TextNode = PathNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.path = new TextPathNode(srcElement);\n                PathNode.fn.init.call(this, srcElement, transform, opacity);\n            },\n            createDataNode: function (srcElement) {\n                return new TextPathDataNode(srcElement);\n            },\n            attachTo: function (domElement, pos) {\n                this.path.attachTo(this.element);\n                PathNode.fn.attachTo.call(this, domElement, pos);\n            },\n            optionsChange: function (e) {\n                if (e.field === 'font' || e.field === 'content') {\n                    this.path.optionsChange(e);\n                    this.pathData.geometryChange(e);\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            }\n        });\n        var ImagePathDataNode = PathDataNode.extend({\n            renderData: function () {\n                var rect = this.srcElement.rect();\n                var path = new d.Path().moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\n                return printPath(path);\n            }\n        });\n        var ImageFillNode = TransformNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.opacity = opacity;\n                TransformNode.fn.init.call(this, srcElement, transform);\n            },\n            createElement: function () {\n                this.element = createElementVML('fill');\n                this.attr('type', 'frame');\n                this.attr('rotate', true);\n                this.setOpacity();\n                this.setSrc();\n                this.setTransform();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.setSrc();\n                }\n                TransformNode.fn.optionsChange.call(this, e);\n            },\n            geometryChange: function () {\n                this.refresh();\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setOpacity();\n            },\n            setOpacity: function () {\n                var attrs = [];\n                this.mapOpacityTo(attrs, this.srcElement.options.opacity);\n                this.allAttr(attrs);\n            },\n            setSrc: function () {\n                this.attr('src', this.srcElement.src());\n            },\n            mapTransform: function () {\n                var img = this.srcElement;\n                var rawbbox = img.rawBBox();\n                var rawcenter = rawbbox.center();\n                var fillOrigin = COORDINATE_MULTIPLE / 2;\n                var fillSize = COORDINATE_MULTIPLE;\n                var x;\n                var y;\n                var width = rawbbox.width() / fillSize;\n                var height = rawbbox.height() / fillSize;\n                var angle = 0;\n                var transform = this.transform;\n                if (transform) {\n                    var matrix = toMatrix(transform);\n                    var sx = sqrt(matrix.a * matrix.a + matrix.b * matrix.b);\n                    var sy = sqrt(matrix.c * matrix.c + matrix.d * matrix.d);\n                    width *= sx;\n                    height *= sy;\n                    var ax = deg(atan2(matrix.b, matrix.d));\n                    var ay = deg(atan2(-matrix.c, matrix.a));\n                    angle = (ax + ay) / 2;\n                    if (angle !== 0) {\n                        var center = img.bbox().center();\n                        x = (center.x - fillOrigin) / fillSize;\n                        y = (center.y - fillOrigin) / fillSize;\n                    } else {\n                        x = (rawcenter.x * sx + matrix.e - fillOrigin) / fillSize;\n                        y = (rawcenter.y * sy + matrix.f - fillOrigin) / fillSize;\n                    }\n                } else {\n                    x = (rawcenter.x - fillOrigin) / fillSize;\n                    y = (rawcenter.y - fillOrigin) / fillSize;\n                }\n                width = round(width, TRANSFORM_PRECISION);\n                height = round(height, TRANSFORM_PRECISION);\n                x = round(x, TRANSFORM_PRECISION);\n                y = round(y, TRANSFORM_PRECISION);\n                angle = round(angle, TRANSFORM_PRECISION);\n                return [\n                    [\n                        'size',\n                        width + ',' + height\n                    ],\n                    [\n                        'position',\n                        x + ',' + y\n                    ],\n                    [\n                        'angle',\n                        angle\n                    ]\n                ];\n            }\n        });\n        var ImageNode = PathNode.extend({\n            createFillNode: function (srcElement, transform, opacity) {\n                return new ImageFillNode(srcElement, transform, opacity);\n            },\n            createDataNode: function (srcElement) {\n                return new ImagePathDataNode(srcElement);\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src' || e.field === 'transform') {\n                    this.fill.optionsChange(e);\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            geometryChange: function () {\n                this.fill.geometryChange();\n                PathNode.fn.geometryChange.call(this);\n            },\n            refreshTransform: function (transform) {\n                PathNode.fn.refreshTransform.call(this, transform);\n                this.fill.refresh(this.srcElement.currentTransform(transform));\n            }\n        });\n        var RectDataNode = PathDataNode.extend({\n            renderData: function () {\n                var rect = this.srcElement.geometry();\n                var parts = [\n                    'm',\n                    printPoints([rect.topLeft()]),\n                    'l',\n                    printPoints([\n                        rect.topRight(),\n                        rect.bottomRight(),\n                        rect.bottomLeft()\n                    ]),\n                    'x e'\n                ];\n                return parts.join(' ');\n            }\n        });\n        var RectNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new RectDataNode(srcElement);\n            }\n        });\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        function enableVML() {\n            if (doc.namespaces && !doc.namespaces.kvml) {\n                doc.namespaces.add('kvml', 'urn:schemas-microsoft-com:vml');\n                var stylesheet = doc.styleSheets.length > 30 ? doc.styleSheets[0] : doc.createStyleSheet();\n                stylesheet.addRule('.kvml', 'behavior:url(#default#VML)');\n            }\n        }\n        function createElementVML(type) {\n            var element = doc.createElement('kvml:' + type);\n            element.className = 'kvml';\n            return element;\n        }\n        function printPoints(points) {\n            var length = points.length;\n            var result = [];\n            for (var i = 0; i < length; i++) {\n                result.push(points[i].scaleCopy(COORDINATE_MULTIPLE).toString(0, ','));\n            }\n            return result.join(' ');\n        }\n        function printPath(path, open) {\n            var segments = path.segments, length = segments.length;\n            if (length > 0) {\n                var parts = [], output, type, currentType, i;\n                for (i = 1; i < length; i++) {\n                    type = segmentType(segments[i - 1], segments[i]);\n                    if (type !== currentType) {\n                        currentType = type;\n                        parts.push(type);\n                    }\n                    if (type === 'l') {\n                        parts.push(printPoints([segments[i].anchor()]));\n                    } else {\n                        parts.push(printPoints([\n                            segments[i - 1].controlOut(),\n                            segments[i].controlIn(),\n                            segments[i].anchor()\n                        ]));\n                    }\n                }\n                output = 'm ' + printPoints([segments[0].anchor()]) + ' ' + parts.join(' ');\n                if (path.options.closed) {\n                    output += ' x';\n                }\n                if (open !== true) {\n                    output += ' e';\n                }\n                return output;\n            }\n        }\n        function segmentType(segmentStart, segmentEnd) {\n            return segmentStart.controlOut() && segmentEnd.controlIn() ? 'c' : 'l';\n        }\n        function fillField(field) {\n            return field.indexOf('fill') === 0 || field.indexOf(GRADIENT) === 0;\n        }\n        function stopColor(baseColor, stop, baseOpacity) {\n            var opacity = baseOpacity * valueOrDefault(stop.opacity(), 1);\n            var color;\n            if (baseColor) {\n                color = blendColors(baseColor, stop.color(), opacity);\n            } else {\n                color = blendColors(stop.color(), '#fff', 1 - opacity);\n            }\n            return color;\n        }\n        function blendColors(base, overlay, alpha) {\n            var baseColor = new Color(base), overlayColor = new Color(overlay), r = blendChannel(baseColor.r, overlayColor.r, alpha), g = blendChannel(baseColor.g, overlayColor.g, alpha), b = blendChannel(baseColor.b, overlayColor.b, alpha);\n            return new Color(r, g, b).toHex();\n        }\n        function blendChannel(a, b, alpha) {\n            return math.round(alpha * b + (1 - alpha) * a);\n        }\n        kendo.support.vml = function () {\n            var browser = kendo.support.browser;\n            return browser.msie && browser.version < 9;\n        }();\n        var EMPTY_CLIP = 'inherit';\n        if (kendo.support.browser.msie && kendo.support.browser.version < 8) {\n            EMPTY_CLIP = 'rect(auto auto auto auto)';\n        }\n        if (kendo.support.vml) {\n            d.SurfaceFactory.current.register('vml', Surface, 30);\n        }\n        deepExtend(d, {\n            vml: {\n                ArcDataNode: ArcDataNode,\n                ArcNode: ArcNode,\n                CircleTransformNode: CircleTransformNode,\n                CircleNode: CircleNode,\n                FillNode: FillNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                ImageFillNode: ImageFillNode,\n                ImagePathDataNode: ImagePathDataNode,\n                MultiPathDataNode: MultiPathDataNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathDataNode: PathDataNode,\n                PathNode: PathNode,\n                RectDataNode: RectDataNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                StrokeNode: StrokeNode,\n                Surface: Surface,\n                TextNode: TextNode,\n                TextPathNode: TextPathNode,\n                TextPathDataNode: TextPathDataNode,\n                TransformNode: TransformNode\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/html', [\n        'kendo.color',\n        'drawing/shapes',\n        'util/main',\n        'util/text-metrics'\n    ], f);\n}(function () {\n    (function ($, parseFloat, Math) {\n        'use strict';\n        var drawing = kendo.drawing;\n        var geo = kendo.geometry;\n        var slice = Array.prototype.slice;\n        var browser = kendo.support.browser;\n        var romanNumeral = kendo.util.arabicToRoman;\n        var mergeSort = kendo.util.mergeSort;\n        var KENDO_PSEUDO_ELEMENT = 'KENDO-PSEUDO-ELEMENT';\n        var IMAGE_CACHE = {};\n        var nodeInfo = {};\n        nodeInfo._root = nodeInfo;\n        var TextRect = drawing.Text.extend({\n            nodeType: 'Text',\n            init: function (str, rect, options) {\n                drawing.Text.fn.init.call(this, str, rect.getOrigin(), options);\n                this._pdfRect = rect;\n            },\n            rect: function () {\n                return this._pdfRect;\n            },\n            rawBBox: function () {\n                return this._pdfRect;\n            }\n        });\n        function getXY(thing) {\n            if (typeof thing == 'number') {\n                return {\n                    x: thing,\n                    y: thing\n                };\n            }\n            if (Array.isArray(thing)) {\n                return {\n                    x: thing[0],\n                    y: thing[1]\n                };\n            }\n            return {\n                x: thing.x,\n                y: thing.y\n            };\n        }\n        function drawDOM(element, options) {\n            if (!options) {\n                options = {};\n            }\n            var defer = $.Deferred();\n            element = $(element)[0];\n            if (!element) {\n                return defer.reject('No element to export');\n            }\n            if (typeof window.getComputedStyle != 'function') {\n                throw new Error('window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.');\n            }\n            if (kendo.pdf) {\n                kendo.pdf.defineFont(getFontFaces(element.ownerDocument));\n            }\n            var scale = getXY(options.scale || 1);\n            function doOne(element) {\n                var group = new drawing.Group();\n                var pos = element.getBoundingClientRect();\n                setTransform(group, [\n                    scale.x,\n                    0,\n                    0,\n                    scale.y,\n                    -pos.left * scale.x,\n                    -pos.top * scale.y\n                ]);\n                nodeInfo._clipbox = false;\n                nodeInfo._matrix = geo.Matrix.unit();\n                nodeInfo._stackingContext = {\n                    element: element,\n                    group: group\n                };\n                if (options.avoidLinks === true) {\n                    nodeInfo._avoidLinks = 'a';\n                } else {\n                    nodeInfo._avoidLinks = options.avoidLinks;\n                }\n                $(element).addClass('k-pdf-export');\n                renderElement(element, group);\n                $(element).removeClass('k-pdf-export');\n                return group;\n            }\n            cacheImages(element, function () {\n                var forceBreak = options && options.forcePageBreak;\n                var hasPaperSize = options && options.paperSize && options.paperSize != 'auto';\n                var paperOptions = kendo.pdf.getPaperOptions(function (key, def) {\n                    if (key == 'paperSize') {\n                        return hasPaperSize ? options[key] : 'A4';\n                    }\n                    return key in options ? options[key] : def;\n                });\n                var pageWidth = hasPaperSize && paperOptions.paperSize[0];\n                var pageHeight = hasPaperSize && paperOptions.paperSize[1];\n                var margin = options.margin && paperOptions.margin;\n                var hasMargin = !!margin;\n                if (forceBreak || pageHeight) {\n                    if (!margin) {\n                        margin = {\n                            left: 0,\n                            top: 0,\n                            right: 0,\n                            bottom: 0\n                        };\n                    }\n                    if (pageWidth) {\n                        pageWidth /= scale.x;\n                    }\n                    if (pageHeight) {\n                        pageHeight /= scale.y;\n                    }\n                    margin.left /= scale.x;\n                    margin.right /= scale.x;\n                    margin.top /= scale.y;\n                    margin.bottom /= scale.y;\n                    var group = new drawing.Group({\n                        pdf: {\n                            multiPage: true,\n                            paperSize: hasPaperSize ? paperOptions.paperSize : 'auto',\n                            _ignoreMargin: hasMargin\n                        }\n                    });\n                    handlePageBreaks(function (x) {\n                        if (options.progress) {\n                            var canceled = false, pageNum = 0;\n                            (function next() {\n                                if (pageNum < x.pages.length) {\n                                    var page = doOne(x.pages[pageNum]);\n                                    group.append(page);\n                                    options.progress({\n                                        page: page,\n                                        pageNum: ++pageNum,\n                                        totalPages: x.pages.length,\n                                        cancel: function () {\n                                            canceled = true;\n                                        }\n                                    });\n                                    if (!canceled) {\n                                        setTimeout(next);\n                                    } else {\n                                        x.container.parentNode.removeChild(x.container);\n                                    }\n                                } else {\n                                    x.container.parentNode.removeChild(x.container);\n                                    defer.resolve(group);\n                                }\n                            }());\n                        } else {\n                            x.pages.forEach(function (page) {\n                                group.append(doOne(page));\n                            });\n                            x.container.parentNode.removeChild(x.container);\n                            defer.resolve(group);\n                        }\n                    }, element, forceBreak, pageWidth ? pageWidth - margin.left - margin.right : null, pageHeight ? pageHeight - margin.top - margin.bottom : null, margin, options);\n                } else {\n                    defer.resolve(doOne(element));\n                }\n            });\n            function makeTemplate(template) {\n                if (template != null) {\n                    if (typeof template == 'string') {\n                        template = kendo.template(template.replace(/^\\s+|\\s+$/g, ''));\n                    }\n                    if (typeof template == 'function') {\n                        return function (data) {\n                            var el = template(data);\n                            if (el) {\n                                if (typeof el == 'string') {\n                                    el = el.replace(/^\\s+|\\s+$/g, '');\n                                }\n                                return $(el)[0];\n                            }\n                        };\n                    }\n                    return function () {\n                        return $(template).clone()[0];\n                    };\n                }\n            }\n            function cloneNodes(el) {\n                var clone = el.cloneNode(false);\n                if (el.nodeType == 1) {\n                    var $el = $(el), $clone = $(clone), i;\n                    var data = $el.data();\n                    for (i in data) {\n                        $clone.data(i, data[i]);\n                    }\n                    if (/^canvas$/i.test(el.tagName)) {\n                        clone.getContext('2d').drawImage(el, 0, 0);\n                    } else if (/^input$/i.test(el.tagName)) {\n                        el.removeAttribute('name');\n                    } else {\n                        for (i = el.firstChild; i; i = i.nextSibling) {\n                            clone.appendChild(cloneNodes(i));\n                        }\n                    }\n                }\n                return clone;\n            }\n            function handlePageBreaks(callback, element, forceBreak, pageWidth, pageHeight, margin, options) {\n                var template = makeTemplate(options.template);\n                var doc = element.ownerDocument;\n                var pages = [];\n                var copy = options._destructive ? element : cloneNodes(element);\n                var container = doc.createElement('KENDO-PDF-DOCUMENT');\n                var adjust = 0;\n                $(copy).find('tfoot').each(function () {\n                    this.parentNode.appendChild(this);\n                });\n                $(copy).find('ol').each(function () {\n                    $(this).children().each(function (index) {\n                        this.setAttribute('kendo-split-index', index);\n                    });\n                });\n                $(container).css({\n                    display: 'block',\n                    position: 'absolute',\n                    boxSizing: 'content-box',\n                    left: '-10000px',\n                    top: '-10000px'\n                });\n                if (pageWidth) {\n                    $(container).css({\n                        width: pageWidth,\n                        paddingLeft: margin.left,\n                        paddingRight: margin.right\n                    });\n                    $(copy).css({ overflow: 'hidden' });\n                }\n                element.parentNode.insertBefore(container, element);\n                container.appendChild(copy);\n                if (options.beforePageBreak) {\n                    setTimeout(function () {\n                        options.beforePageBreak(container, doPageBreak);\n                    }, 15);\n                } else {\n                    setTimeout(doPageBreak, 15);\n                }\n                function doPageBreak() {\n                    if (forceBreak != '-' || pageHeight) {\n                        splitElement(copy);\n                    }\n                    var page = makePage();\n                    copy.parentNode.insertBefore(page, copy);\n                    page.appendChild(copy);\n                    if (template) {\n                        var count = pages.length;\n                        pages.forEach(function (page, i) {\n                            var el = template({\n                                element: page,\n                                pageNum: i + 1,\n                                totalPages: pages.length\n                            });\n                            if (el) {\n                                page.appendChild(el);\n                                cacheImages(el, function () {\n                                    if (--count === 0) {\n                                        next();\n                                    }\n                                });\n                            }\n                        });\n                    } else {\n                        next();\n                    }\n                    function next() {\n                        whenImagesAreActuallyLoaded(pages, function () {\n                            callback({\n                                pages: pages,\n                                container: container\n                            });\n                        });\n                    }\n                }\n                function keepTogether(jqel) {\n                    if (options.keepTogether && jqel.is(options.keepTogether) && jqel.height() <= pageHeight - adjust) {\n                        return true;\n                    }\n                    var tag = jqel[0].tagName;\n                    if (/^h[1-6]$/i.test(tag) && jqel.height() >= pageHeight - adjust) {\n                        return false;\n                    }\n                    return jqel.data('kendoChart') || /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])$/i.test(tag);\n                }\n                function splitElement(element) {\n                    var style = getComputedStyle(element);\n                    var bottomPadding = parseFloat(getPropertyValue(style, 'padding-bottom'));\n                    var bottomBorder = parseFloat(getPropertyValue(style, 'border-bottom-width'));\n                    var saveAdjust = adjust;\n                    adjust += bottomPadding + bottomBorder;\n                    var isFirst = true;\n                    for (var el = element.firstChild; el; el = el.nextSibling) {\n                        if (el.nodeType == 1) {\n                            isFirst = false;\n                            var jqel = $(el);\n                            if (jqel.is(forceBreak)) {\n                                breakAtElement(el);\n                                continue;\n                            }\n                            if (!pageHeight) {\n                                splitElement(el);\n                                continue;\n                            }\n                            if (!/^(?:static|relative)$/.test(getPropertyValue(getComputedStyle(el), 'position'))) {\n                                continue;\n                            }\n                            var fall = fallsOnMargin(el);\n                            if (fall == 1) {\n                                breakAtElement(el);\n                            } else if (fall) {\n                                if (keepTogether(jqel)) {\n                                    breakAtElement(el);\n                                } else {\n                                    splitElement(el);\n                                }\n                            } else {\n                                splitElement(el);\n                            }\n                        } else if (el.nodeType == 3 && pageHeight) {\n                            splitText(el, isFirst);\n                            isFirst = false;\n                        }\n                    }\n                    adjust = saveAdjust;\n                }\n                function firstInParent(el) {\n                    var p = el.parentNode, first = p.firstChild;\n                    if (el === first) {\n                        return true;\n                    }\n                    if (el === p.children[0]) {\n                        if (first.nodeType == 7 || first.nodeType == 8) {\n                            return true;\n                        }\n                        if (first.nodeType == 3) {\n                            return !/\\S/.test(first.data);\n                        }\n                    }\n                    return false;\n                }\n                function breakAtElement(el) {\n                    if (el.nodeType == 1 && el !== copy && firstInParent(el)) {\n                        return breakAtElement(el.parentNode);\n                    }\n                    var table, colgroup, thead, grid, gridHead;\n                    table = $(el).closest('table');\n                    colgroup = table.find('colgroup:first');\n                    if (options.repeatHeaders) {\n                        thead = table.find('thead:first');\n                        grid = $(el).closest('.k-grid[data-role=\"grid\"]');\n                        if (grid[0] && grid[0].querySelector('.k-auto-scrollable')) {\n                            gridHead = grid.find('.k-grid-header:first');\n                        }\n                    }\n                    var page = makePage();\n                    var range = doc.createRange();\n                    range.setStartBefore(copy);\n                    range.setEndBefore(el);\n                    page.appendChild(range.extractContents());\n                    copy.parentNode.insertBefore(page, copy);\n                    if (table[0]) {\n                        table = $(el).closest('table');\n                        if (options.repeatHeaders && thead[0]) {\n                            thead.clone().prependTo(table);\n                        }\n                        if (colgroup[0]) {\n                            colgroup.clone().prependTo(table);\n                        }\n                    }\n                    if (options.repeatHeaders && gridHead && gridHead[0]) {\n                        grid = $(el).closest('.k-grid[data-role=\"grid\"]');\n                        if (gridHead[0]) {\n                            gridHead.clone().prependTo(grid);\n                        }\n                    }\n                }\n                function makePage() {\n                    var page = doc.createElement('KENDO-PDF-PAGE');\n                    $(page).css({\n                        display: 'block',\n                        boxSizing: 'content-box',\n                        width: pageWidth || 'auto',\n                        padding: margin.top + 'px ' + margin.right + 'px ' + margin.bottom + 'px ' + margin.left + 'px',\n                        position: 'relative',\n                        height: pageHeight || 'auto',\n                        overflow: pageHeight || pageWidth ? 'hidden' : 'visible',\n                        clear: 'both'\n                    });\n                    if (options && options.pageClassName) {\n                        page.className = options.pageClassName;\n                    }\n                    pages.push(page);\n                    return page;\n                }\n                function fallsOnMargin(thing) {\n                    var box = thing.getBoundingClientRect();\n                    if (box.width === 0 || box.height === 0) {\n                        return 0;\n                    }\n                    var top = copy.getBoundingClientRect().top;\n                    var available = pageHeight - adjust;\n                    return box.height > available ? 3 : box.top - top > available ? 1 : box.bottom - top > available ? 2 : 0;\n                }\n                function splitText(node, isFirst) {\n                    if (!/\\S/.test(node.data)) {\n                        return;\n                    }\n                    var len = node.data.length;\n                    var range = doc.createRange();\n                    range.selectNodeContents(node);\n                    var fall = fallsOnMargin(range);\n                    if (!fall) {\n                        return;\n                    }\n                    var nextnode = node;\n                    if (fall == 1) {\n                        if (isFirst) {\n                            breakAtElement(node.parentNode);\n                        } else {\n                            breakAtElement(node);\n                        }\n                    } else {\n                        (function findEOP(min, pos, max) {\n                            range.setEnd(node, pos);\n                            if (min == pos || pos == max) {\n                                return pos;\n                            }\n                            if (fallsOnMargin(range)) {\n                                return findEOP(min, min + pos >> 1, pos);\n                            } else {\n                                return findEOP(pos, pos + max >> 1, max);\n                            }\n                        }(0, len >> 1, len));\n                        if (!/\\S/.test(range.toString()) && isFirst) {\n                            breakAtElement(node.parentNode);\n                        } else {\n                            nextnode = node.splitText(range.endOffset);\n                            var page = makePage();\n                            range.setStartBefore(copy);\n                            page.appendChild(range.extractContents());\n                            copy.parentNode.insertBefore(page, copy);\n                        }\n                    }\n                    splitText(nextnode);\n                }\n            }\n            return defer.promise();\n        }\n        drawing.drawDOM = drawDOM;\n        drawDOM.getFontFaces = getFontFaces;\n        var parseBackgroundImage = function () {\n            var tok_linear_gradient = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\\s*)\\(/;\n            var tok_percent = /^([-0-9.]+%)/;\n            var tok_length = /^([-0-9.]+px)/;\n            var tok_keyword = /^(left|right|top|bottom|to|center)\\W/;\n            var tok_angle = /^([-0-9.]+(deg|grad|rad|turn))/;\n            var tok_whitespace = /^(\\s+)/;\n            var tok_popen = /^(\\()/;\n            var tok_pclose = /^(\\))/;\n            var tok_comma = /^(,)/;\n            var tok_url = /^(url)\\(/;\n            var tok_content = /^(.*?)\\)/;\n            var cache1 = {}, cache2 = {};\n            function parse(input) {\n                var orig = input;\n                if (hasOwnProperty(cache1, orig)) {\n                    return cache1[orig];\n                }\n                function skip_ws() {\n                    var m = tok_whitespace.exec(input);\n                    if (m) {\n                        input = input.substr(m[1].length);\n                    }\n                }\n                function read(token) {\n                    skip_ws();\n                    var m = token.exec(input);\n                    if (m) {\n                        input = input.substr(m[1].length);\n                        return m[1];\n                    }\n                }\n                function read_stop() {\n                    var color = kendo.parseColor(input, true);\n                    var length, percent;\n                    if (color) {\n                        input = input.substr(color.match[0].length);\n                        color = color.toRGB();\n                        if (!(length = read(tok_length))) {\n                            percent = read(tok_percent);\n                        }\n                        return {\n                            color: color,\n                            length: length,\n                            percent: percent\n                        };\n                    }\n                }\n                function read_linear_gradient(propName) {\n                    var angle;\n                    var to1, to2;\n                    var stops = [];\n                    var reverse = false;\n                    if (read(tok_popen)) {\n                        angle = read(tok_angle);\n                        if (angle) {\n                            angle = parseAngle(angle);\n                            read(tok_comma);\n                        } else {\n                            to1 = read(tok_keyword);\n                            if (to1 == 'to') {\n                                to1 = read(tok_keyword);\n                            } else if (to1 && /^-/.test(propName)) {\n                                reverse = true;\n                            }\n                            to2 = read(tok_keyword);\n                            read(tok_comma);\n                        }\n                        if (/-moz-/.test(propName) && angle == null && to1 == null) {\n                            var x = read(tok_percent), y = read(tok_percent);\n                            reverse = true;\n                            if (x == '0%') {\n                                to1 = 'left';\n                            } else if (x == '100%') {\n                                to1 = 'right';\n                            }\n                            if (y == '0%') {\n                                to2 = 'top';\n                            } else if (y == '100%') {\n                                to2 = 'bottom';\n                            }\n                            read(tok_comma);\n                        }\n                        while (input && !read(tok_pclose)) {\n                            var stop = read_stop();\n                            if (!stop) {\n                                break;\n                            }\n                            stops.push(stop);\n                            read(tok_comma);\n                        }\n                        return {\n                            type: 'linear',\n                            angle: angle,\n                            to: to1 && to2 ? to1 + ' ' + to2 : to1 ? to1 : to2 ? to2 : null,\n                            stops: stops,\n                            reverse: reverse\n                        };\n                    }\n                }\n                function read_url() {\n                    if (read(tok_popen)) {\n                        var url = read(tok_content);\n                        url = url.replace(/^['\"]+|[\"']+$/g, '');\n                        read(tok_pclose);\n                        return {\n                            type: 'url',\n                            url: url\n                        };\n                    }\n                }\n                var tok;\n                if (tok = read(tok_linear_gradient)) {\n                    tok = read_linear_gradient(tok);\n                } else if (tok = read(tok_url)) {\n                    tok = read_url();\n                }\n                return cache1[orig] = tok || { type: 'none' };\n            }\n            return function (input) {\n                if (hasOwnProperty(cache2, input)) {\n                    return cache2[input];\n                }\n                return cache2[input] = splitProperty(input).map(parse);\n            };\n        }();\n        var splitProperty = function () {\n            var cache = {};\n            return function (input, separator) {\n                if (!separator) {\n                    separator = /^\\s*,\\s*/;\n                }\n                var cacheKey = input + separator;\n                if (hasOwnProperty(cache, cacheKey)) {\n                    return cache[cacheKey];\n                }\n                var ret = [];\n                var last = 0, pos = 0;\n                var in_paren = 0;\n                var in_string = false;\n                var m;\n                function looking_at(rx) {\n                    return m = rx.exec(input.substr(pos));\n                }\n                function trim(str) {\n                    return str.replace(/^\\s+|\\s+$/g, '');\n                }\n                while (pos < input.length) {\n                    if (!in_string && looking_at(/^[\\(\\[\\{]/)) {\n                        in_paren++;\n                        pos++;\n                    } else if (!in_string && looking_at(/^[\\)\\]\\}]/)) {\n                        in_paren--;\n                        pos++;\n                    } else if (!in_string && looking_at(/^[\\\"\\']/)) {\n                        in_string = m[0];\n                        pos++;\n                    } else if (in_string == '\\'' && looking_at(/^\\\\\\'/)) {\n                        pos += 2;\n                    } else if (in_string == '\"' && looking_at(/^\\\\\\\"/)) {\n                        pos += 2;\n                    } else if (in_string == '\\'' && looking_at(/^\\'/)) {\n                        in_string = false;\n                        pos++;\n                    } else if (in_string == '\"' && looking_at(/^\\\"/)) {\n                        in_string = false;\n                        pos++;\n                    } else if (looking_at(separator)) {\n                        if (!in_string && !in_paren && pos > last) {\n                            ret.push(trim(input.substring(last, pos)));\n                            last = pos + m[0].length;\n                        }\n                        pos += m[0].length;\n                    } else {\n                        pos++;\n                    }\n                }\n                if (last < pos) {\n                    ret.push(trim(input.substring(last, pos)));\n                }\n                return cache[cacheKey] = ret;\n            };\n        }();\n        var getFontURL = function (cache) {\n            return function (el) {\n                var url = cache[el];\n                if (!url) {\n                    var m;\n                    if (m = /url\\((['\"]?)([^'\")]*?)\\1\\)\\s+format\\((['\"]?)truetype\\3\\)/.exec(el)) {\n                        url = cache[el] = m[2];\n                    } else if (m = /url\\((['\"]?)([^'\")]*?\\.ttf)\\1\\)/.exec(el)) {\n                        url = cache[el] = m[2];\n                    }\n                }\n                return url;\n            };\n        }(Object.create(null));\n        var getFontHeight = function (cache) {\n            return function (font) {\n                var height = cache[font];\n                if (height == null) {\n                    height = cache[font] = kendo.util.measureText('Mapq', { font: font }).height;\n                }\n                return height;\n            };\n        }(Object.create(null));\n        function getFontFaces(doc) {\n            if (doc == null) {\n                doc = document;\n            }\n            var result = {};\n            for (var i = 0; i < doc.styleSheets.length; ++i) {\n                doStylesheet(doc.styleSheets[i]);\n            }\n            return result;\n            function doStylesheet(ss) {\n                if (ss) {\n                    var rules = null;\n                    try {\n                        rules = ss.cssRules;\n                    } catch (ex) {\n                    }\n                    if (rules) {\n                        addRules(ss, rules);\n                    }\n                }\n            }\n            function findFonts(rule) {\n                var src = getPropertyValue(rule.style, 'src');\n                if (src) {\n                    return splitProperty(src).reduce(function (a, el) {\n                        var font = getFontURL(el);\n                        if (font) {\n                            a.push(font);\n                        }\n                        return a;\n                    }, []);\n                } else {\n                    var font = getFontURL(rule.cssText);\n                    return font ? [font] : [];\n                }\n            }\n            function addRules(styleSheet, rules) {\n                for (var i = 0; i < rules.length; ++i) {\n                    var r = rules[i];\n                    switch (r.type) {\n                    case 3:\n                        doStylesheet(r.styleSheet);\n                        break;\n                    case 5:\n                        var style = r.style;\n                        var family = splitProperty(getPropertyValue(style, 'font-family'));\n                        var bold = /^([56789]00|bold)$/i.test(getPropertyValue(style, 'font-weight'));\n                        var italic = 'italic' == getPropertyValue(style, 'font-style');\n                        var src = findFonts(r);\n                        if (src.length > 0) {\n                            addRule(styleSheet, family, bold, italic, src[0]);\n                        }\n                    }\n                }\n            }\n            function addRule(styleSheet, names, bold, italic, url) {\n                if (!/^data:/i.test(url)) {\n                    if (!(/^[^\\/:]+:\\/\\//.test(url) || /^\\//.test(url))) {\n                        url = String(styleSheet.href).replace(/[^\\/]*$/, '') + url;\n                    }\n                }\n                names.forEach(function (name) {\n                    name = name.replace(/^(['\"]?)(.*?)\\1$/, '$2');\n                    if (bold) {\n                        name += '|bold';\n                    }\n                    if (italic) {\n                        name += '|italic';\n                    }\n                    result[name] = url;\n                });\n            }\n        }\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        function getCounter(name) {\n            name = '_counter_' + name;\n            return nodeInfo[name];\n        }\n        function getAllCounters(name) {\n            var values = [], p = nodeInfo;\n            name = '_counter_' + name;\n            while (p) {\n                if (hasOwnProperty(p, name)) {\n                    values.push(p[name]);\n                }\n                p = Object.getPrototypeOf(p);\n            }\n            return values.reverse();\n        }\n        function incCounter(name, inc) {\n            var p = nodeInfo;\n            name = '_counter_' + name;\n            while (p && !hasOwnProperty(p, name)) {\n                p = Object.getPrototypeOf(p);\n            }\n            if (!p) {\n                p = nodeInfo._root;\n            }\n            p[name] = (p[name] || 0) + (inc == null ? 1 : inc);\n        }\n        function resetCounter(name, val) {\n            name = '_counter_' + name;\n            nodeInfo[name] = val == null ? 0 : val;\n        }\n        function doCounters(a, f, def) {\n            for (var i = 0; i < a.length;) {\n                var name = a[i++];\n                var val = parseFloat(a[i]);\n                if (isNaN(val)) {\n                    f(name, def);\n                } else {\n                    f(name, val);\n                    ++i;\n                }\n            }\n        }\n        function parseColor(str, css) {\n            var color = kendo.parseColor(str);\n            if (color) {\n                color = color.toRGB();\n                if (css) {\n                    color = color.toCssRgba();\n                } else if (color.a === 0) {\n                    color = null;\n                }\n            }\n            return color;\n        }\n        function whenImagesAreActuallyLoaded(elements, callback) {\n            var pending = 0;\n            elements.forEach(function (el) {\n                var images = el.querySelectorAll('img');\n                for (var i = 0; i < images.length; ++i) {\n                    var img = images[i];\n                    if (!img.complete) {\n                        pending++;\n                        img.onload = img.onerror = next;\n                    }\n                }\n            });\n            if (!pending) {\n                next();\n            }\n            function next() {\n                if (--pending <= 0) {\n                    callback();\n                }\n            }\n        }\n        function cacheImages(element, callback) {\n            var urls = [];\n            function add(url) {\n                if (!IMAGE_CACHE[url]) {\n                    IMAGE_CACHE[url] = true;\n                    urls.push(url);\n                }\n            }\n            (function dive(element) {\n                if (/^img$/i.test(element.tagName)) {\n                    add(element.src);\n                }\n                parseBackgroundImage(getPropertyValue(getComputedStyle(element), 'background-image')).forEach(function (bg) {\n                    if (bg.type == 'url') {\n                        add(bg.url);\n                    }\n                });\n                if (element.children) {\n                    slice.call(element.children).forEach(dive);\n                }\n            }(element));\n            var count = urls.length;\n            function next() {\n                if (--count <= 0) {\n                    callback();\n                }\n            }\n            if (count === 0) {\n                next();\n            }\n            urls.forEach(function (url) {\n                var img = IMAGE_CACHE[url] = new Image();\n                if (!/^data:/i.test(url)) {\n                    img.crossOrigin = 'Anonymous';\n                }\n                img.src = url;\n                if (img.complete) {\n                    next();\n                } else {\n                    img.onload = next;\n                    img.onerror = function () {\n                        IMAGE_CACHE[url] = null;\n                        next();\n                    };\n                }\n            });\n        }\n        function alphaNumeral(n) {\n            var result = '';\n            do {\n                var r = n % 26;\n                result = String.fromCharCode(97 + r) + result;\n                n = Math.floor(n / 26);\n            } while (n > 0);\n            return result;\n        }\n        function pushNodeInfo(element, style, group) {\n            nodeInfo = Object.create(nodeInfo);\n            nodeInfo[element.tagName.toLowerCase()] = {\n                element: element,\n                style: style\n            };\n            var decoration = getPropertyValue(style, 'text-decoration');\n            if (decoration && decoration != 'none') {\n                var color = getPropertyValue(style, 'color');\n                decoration.split(/\\s+/g).forEach(function (name) {\n                    if (!nodeInfo[name]) {\n                        nodeInfo[name] = color;\n                    }\n                });\n            }\n            if (createsStackingContext(style)) {\n                nodeInfo._stackingContext = {\n                    element: element,\n                    group: group\n                };\n            }\n        }\n        function popNodeInfo() {\n            nodeInfo = Object.getPrototypeOf(nodeInfo);\n        }\n        function updateClipbox(path) {\n            if (nodeInfo._clipbox != null) {\n                var box = path.bbox(nodeInfo._matrix);\n                if (nodeInfo._clipbox) {\n                    nodeInfo._clipbox = geo.Rect.intersect(nodeInfo._clipbox, box);\n                } else {\n                    nodeInfo._clipbox = box;\n                }\n            }\n        }\n        function emptyClipbox() {\n            var cb = nodeInfo._clipbox;\n            if (cb == null) {\n                return true;\n            }\n            if (cb) {\n                return cb.width() === 0 || cb.height() === 0;\n            }\n        }\n        function createsStackingContext(style) {\n            function prop(name) {\n                return getPropertyValue(style, name);\n            }\n            if (prop('transform') != 'none' || prop('position') != 'static' && prop('z-index') != 'auto' || prop('opacity') < 1) {\n                return true;\n            }\n        }\n        function getComputedStyle(element, pseudoElt) {\n            return window.getComputedStyle(element, pseudoElt || null);\n        }\n        function getPropertyValue(style, prop) {\n            var val = style.getPropertyValue(prop);\n            if (val == null || val === '') {\n                if (browser.webkit) {\n                    val = style.getPropertyValue('-webkit-' + prop);\n                } else if (browser.mozilla) {\n                    val = style.getPropertyValue('-moz-' + prop);\n                } else if (browser.opera) {\n                    val = style.getPropertyValue('-o-' + prop);\n                } else if (browser.msie) {\n                    val = style.getPropertyValue('-ms-' + prop);\n                }\n            }\n            return val;\n        }\n        function pleaseSetPropertyValue(style, prop, value, important) {\n            style.setProperty(prop, value, important);\n            if (browser.webkit) {\n                style.setProperty('-webkit-' + prop, value, important);\n            } else if (browser.mozilla) {\n                style.setProperty('-moz-' + prop, value, important);\n            } else if (browser.opera) {\n                style.setProperty('-o-' + prop, value, important);\n            } else if (browser.msie) {\n                style.setProperty('-ms-' + prop, value, important);\n                prop = 'ms' + prop.replace(/(^|-)([a-z])/g, function (s, p1, p2) {\n                    return p1 + p2.toUpperCase();\n                });\n                style[prop] = value;\n            }\n        }\n        function getBorder(style, side) {\n            side = 'border-' + side;\n            return {\n                width: parseFloat(getPropertyValue(style, side + '-width')),\n                style: getPropertyValue(style, side + '-style'),\n                color: parseColor(getPropertyValue(style, side + '-color'), true)\n            };\n        }\n        function saveStyle(element, func) {\n            var prev = element.style.cssText;\n            var result = func();\n            element.style.cssText = prev;\n            return result;\n        }\n        function getBorderRadius(style, side) {\n            var r = getPropertyValue(style, 'border-' + side + '-radius').split(/\\s+/g).map(parseFloat);\n            if (r.length == 1) {\n                r.push(r[0]);\n            }\n            return sanitizeRadius({\n                x: r[0],\n                y: r[1]\n            });\n        }\n        function getContentBox(element) {\n            var box = element.getBoundingClientRect();\n            box = innerBox(box, 'border-*-width', element);\n            box = innerBox(box, 'padding-*', element);\n            return box;\n        }\n        function innerBox(box, prop, element) {\n            var style, wt, wr, wb, wl;\n            if (typeof prop == 'string') {\n                style = getComputedStyle(element);\n                wt = parseFloat(getPropertyValue(style, prop.replace('*', 'top')));\n                wr = parseFloat(getPropertyValue(style, prop.replace('*', 'right')));\n                wb = parseFloat(getPropertyValue(style, prop.replace('*', 'bottom')));\n                wl = parseFloat(getPropertyValue(style, prop.replace('*', 'left')));\n            } else if (typeof prop == 'number') {\n                wt = wr = wb = wl = prop;\n            }\n            return {\n                top: box.top + wt,\n                right: box.right - wr,\n                bottom: box.bottom - wb,\n                left: box.left + wl,\n                width: box.right - box.left - wr - wl,\n                height: box.bottom - box.top - wb - wt\n            };\n        }\n        function getTransform(style) {\n            var transform = getPropertyValue(style, 'transform');\n            if (transform == 'none') {\n                return null;\n            }\n            var matrix = /^\\s*matrix\\(\\s*(.*?)\\s*\\)\\s*$/.exec(transform);\n            if (matrix) {\n                var origin = getPropertyValue(style, 'transform-origin');\n                matrix = matrix[1].split(/\\s*,\\s*/g).map(parseFloat);\n                origin = origin.split(/\\s+/g).map(parseFloat);\n                return {\n                    matrix: matrix,\n                    origin: origin\n                };\n            }\n        }\n        function radiansToDegrees(radians) {\n            return 180 * radians / Math.PI % 360;\n        }\n        function parseAngle(angle) {\n            var num = parseFloat(angle);\n            if (/grad$/.test(angle)) {\n                return Math.PI * num / 200;\n            } else if (/rad$/.test(angle)) {\n                return num;\n            } else if (/turn$/.test(angle)) {\n                return Math.PI * num * 2;\n            } else if (/deg$/.test(angle)) {\n                return Math.PI * num / 180;\n            }\n        }\n        function setTransform(shape, m) {\n            m = new geo.Matrix(m[0], m[1], m[2], m[3], m[4], m[5]);\n            shape.transform(m);\n            return m;\n        }\n        function setClipping(shape, clipPath) {\n            shape.clip(clipPath);\n        }\n        function addArcToPath(path, x, y, options) {\n            var points = new geo.Arc([\n                    x,\n                    y\n                ], options).curvePoints(), i = 1;\n            while (i < points.length) {\n                path.curveTo(points[i++], points[i++], points[i++]);\n            }\n        }\n        function sanitizeRadius(r) {\n            if (r.x <= 0 || r.y <= 0) {\n                r.x = r.y = 0;\n            }\n            return r;\n        }\n        function adjustBorderRadiusForBox(box, rTL, rTR, rBR, rBL) {\n            var tl_x = Math.max(0, rTL.x), tl_y = Math.max(0, rTL.y);\n            var tr_x = Math.max(0, rTR.x), tr_y = Math.max(0, rTR.y);\n            var br_x = Math.max(0, rBR.x), br_y = Math.max(0, rBR.y);\n            var bl_x = Math.max(0, rBL.x), bl_y = Math.max(0, rBL.y);\n            var f = Math.min(box.width / (tl_x + tr_x), box.height / (tr_y + br_y), box.width / (br_x + bl_x), box.height / (bl_y + tl_y));\n            if (f < 1) {\n                tl_x *= f;\n                tl_y *= f;\n                tr_x *= f;\n                tr_y *= f;\n                br_x *= f;\n                br_y *= f;\n                bl_x *= f;\n                bl_y *= f;\n            }\n            return {\n                tl: {\n                    x: tl_x,\n                    y: tl_y\n                },\n                tr: {\n                    x: tr_x,\n                    y: tr_y\n                },\n                br: {\n                    x: br_x,\n                    y: br_y\n                },\n                bl: {\n                    x: bl_x,\n                    y: bl_y\n                }\n            };\n        }\n        function elementRoundBox(element, box, type) {\n            var style = getComputedStyle(element);\n            var rTL = getBorderRadius(style, 'top-left');\n            var rTR = getBorderRadius(style, 'top-right');\n            var rBL = getBorderRadius(style, 'bottom-left');\n            var rBR = getBorderRadius(style, 'bottom-right');\n            if (type == 'padding' || type == 'content') {\n                var bt = getBorder(style, 'top');\n                var br = getBorder(style, 'right');\n                var bb = getBorder(style, 'bottom');\n                var bl = getBorder(style, 'left');\n                rTL.x -= bl.width;\n                rTL.y -= bt.width;\n                rTR.x -= br.width;\n                rTR.y -= bt.width;\n                rBR.x -= br.width;\n                rBR.y -= bb.width;\n                rBL.x -= bl.width;\n                rBL.y -= bb.width;\n                if (type == 'content') {\n                    var pt = parseFloat(getPropertyValue(style, 'padding-top'));\n                    var pr = parseFloat(getPropertyValue(style, 'padding-right'));\n                    var pb = parseFloat(getPropertyValue(style, 'padding-bottom'));\n                    var pl = parseFloat(getPropertyValue(style, 'padding-left'));\n                    rTL.x -= pl;\n                    rTL.y -= pt;\n                    rTR.x -= pr;\n                    rTR.y -= pt;\n                    rBR.x -= pr;\n                    rBR.y -= pb;\n                    rBL.x -= pl;\n                    rBL.y -= pb;\n                }\n            }\n            if (typeof type == 'number') {\n                rTL.x -= type;\n                rTL.y -= type;\n                rTR.x -= type;\n                rTR.y -= type;\n                rBR.x -= type;\n                rBR.y -= type;\n                rBL.x -= type;\n                rBL.y -= type;\n            }\n            return roundBox(box, rTL, rTR, rBR, rBL);\n        }\n        function roundBox(box, rTL0, rTR0, rBR0, rBL0) {\n            var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n            var rTL = tmp.tl;\n            var rTR = tmp.tr;\n            var rBR = tmp.br;\n            var rBL = tmp.bl;\n            var path = new drawing.Path({\n                fill: null,\n                stroke: null\n            });\n            path.moveTo(box.left, box.top + rTL.y);\n            if (rTL.x) {\n                addArcToPath(path, box.left + rTL.x, box.top + rTL.y, {\n                    startAngle: -180,\n                    endAngle: -90,\n                    radiusX: rTL.x,\n                    radiusY: rTL.y\n                });\n            }\n            path.lineTo(box.right - rTR.x, box.top);\n            if (rTR.x) {\n                addArcToPath(path, box.right - rTR.x, box.top + rTR.y, {\n                    startAngle: -90,\n                    endAngle: 0,\n                    radiusX: rTR.x,\n                    radiusY: rTR.y\n                });\n            }\n            path.lineTo(box.right, box.bottom - rBR.y);\n            if (rBR.x) {\n                addArcToPath(path, box.right - rBR.x, box.bottom - rBR.y, {\n                    startAngle: 0,\n                    endAngle: 90,\n                    radiusX: rBR.x,\n                    radiusY: rBR.y\n                });\n            }\n            path.lineTo(box.left + rBL.x, box.bottom);\n            if (rBL.x) {\n                addArcToPath(path, box.left + rBL.x, box.bottom - rBL.y, {\n                    startAngle: 90,\n                    endAngle: 180,\n                    radiusX: rBL.x,\n                    radiusY: rBL.y\n                });\n            }\n            return path.close();\n        }\n        function formatCounter(val, style) {\n            var str = parseFloat(val) + '';\n            switch (style) {\n            case 'decimal-leading-zero':\n                if (str.length < 2) {\n                    str = '0' + str;\n                }\n                return str;\n            case 'lower-roman':\n                return romanNumeral(val).toLowerCase();\n            case 'upper-roman':\n                return romanNumeral(val).toUpperCase();\n            case 'lower-latin':\n            case 'lower-alpha':\n                return alphaNumeral(val - 1);\n            case 'upper-latin':\n            case 'upper-alpha':\n                return alphaNumeral(val - 1).toUpperCase();\n            default:\n                return str;\n            }\n        }\n        function evalPseudoElementContent(element, content) {\n            function displayCounter(name, style, separator) {\n                if (!separator) {\n                    return formatCounter(getCounter(name) || 0, style);\n                }\n                separator = separator.replace(/^\\s*([\"'])(.*)\\1\\s*$/, '$2');\n                return getAllCounters(name).map(function (val) {\n                    return formatCounter(val, style);\n                }).join(separator);\n            }\n            var a = splitProperty(content, /^\\s+/);\n            var result = [], m;\n            a.forEach(function (el) {\n                var tmp;\n                if (m = /^\\s*([\"'])(.*)\\1\\s*$/.exec(el)) {\n                    result.push(m[2].replace(/\\\\([0-9a-f]{4})/gi, function (s, p) {\n                        return String.fromCharCode(parseInt(p, 16));\n                    }));\n                } else if (m = /^\\s*counter\\((.*?)\\)\\s*$/.exec(el)) {\n                    tmp = splitProperty(m[1]);\n                    result.push(displayCounter(tmp[0], tmp[1]));\n                } else if (m = /^\\s*counters\\((.*?)\\)\\s*$/.exec(el)) {\n                    tmp = splitProperty(m[1]);\n                    result.push(displayCounter(tmp[0], tmp[2], tmp[1]));\n                } else if (m = /^\\s*attr\\((.*?)\\)\\s*$/.exec(el)) {\n                    result.push(element.getAttribute(m[1]) || '');\n                } else {\n                    result.push(el);\n                }\n            });\n            return result.join('');\n        }\n        function getCssText(style) {\n            if (style.cssText) {\n                return style.cssText;\n            }\n            var result = [];\n            for (var i = 0; i < style.length; ++i) {\n                result.push(style[i] + ': ' + getPropertyValue(style, style[i]));\n            }\n            return result.join(';\\n');\n        }\n        function _renderWithPseudoElements(element, group) {\n            if (element.tagName == KENDO_PSEUDO_ELEMENT) {\n                _renderElement(element, group);\n                return;\n            }\n            var fake = [];\n            function pseudo(kind, place) {\n                var style = getComputedStyle(element, kind);\n                if (style.content && style.content != 'normal' && style.content != 'none' && style.width != '0px') {\n                    var psel = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                    psel.style.cssText = getCssText(style);\n                    psel.textContent = evalPseudoElementContent(element, style.content);\n                    element.insertBefore(psel, place);\n                    fake.push(psel);\n                }\n            }\n            pseudo(':before', element.firstChild);\n            pseudo(':after', null);\n            var saveClass = element.className;\n            element.className += ' kendo-pdf-hide-pseudo-elements';\n            _renderElement(element, group);\n            element.className = saveClass;\n            fake.forEach(function (el) {\n                element.removeChild(el);\n            });\n        }\n        function _renderElement(element, group) {\n            var style = getComputedStyle(element);\n            var top = getBorder(style, 'top');\n            var right = getBorder(style, 'right');\n            var bottom = getBorder(style, 'bottom');\n            var left = getBorder(style, 'left');\n            var rTL0 = getBorderRadius(style, 'top-left');\n            var rTR0 = getBorderRadius(style, 'top-right');\n            var rBL0 = getBorderRadius(style, 'bottom-left');\n            var rBR0 = getBorderRadius(style, 'bottom-right');\n            var dir = getPropertyValue(style, 'direction');\n            var backgroundColor = getPropertyValue(style, 'background-color');\n            backgroundColor = parseColor(backgroundColor);\n            var backgroundImage = parseBackgroundImage(getPropertyValue(style, 'background-image'));\n            var backgroundRepeat = splitProperty(getPropertyValue(style, 'background-repeat'));\n            var backgroundPosition = splitProperty(getPropertyValue(style, 'background-position'));\n            var backgroundOrigin = splitProperty(getPropertyValue(style, 'background-origin'));\n            var backgroundSize = splitProperty(getPropertyValue(style, 'background-size'));\n            if (browser.msie && browser.version < 10) {\n                backgroundPosition = splitProperty(element.currentStyle.backgroundPosition);\n            }\n            var innerbox = innerBox(element.getBoundingClientRect(), 'border-*-width', element);\n            (function () {\n                var clip = getPropertyValue(style, 'clip');\n                var m = /^\\s*rect\\((.*)\\)\\s*$/.exec(clip);\n                if (m) {\n                    var a = m[1].split(/[ ,]+/g);\n                    var top = a[0] == 'auto' ? innerbox.top : parseFloat(a[0]) + innerbox.top;\n                    var right = a[1] == 'auto' ? innerbox.right : parseFloat(a[1]) + innerbox.left;\n                    var bottom = a[2] == 'auto' ? innerbox.bottom : parseFloat(a[2]) + innerbox.top;\n                    var left = a[3] == 'auto' ? innerbox.left : parseFloat(a[3]) + innerbox.left;\n                    var tmp = new drawing.Group();\n                    var clipPath = new drawing.Path().moveTo(left, top).lineTo(right, top).lineTo(right, bottom).lineTo(left, bottom).close();\n                    setClipping(tmp, clipPath);\n                    group.append(tmp);\n                    group = tmp;\n                    updateClipbox(clipPath);\n                }\n            }());\n            var boxes, i, cells;\n            var display = getPropertyValue(style, 'display');\n            if (display == 'table-row') {\n                boxes = [];\n                for (i = 0, cells = element.children; i < cells.length; ++i) {\n                    boxes.push(cells[i].getBoundingClientRect());\n                }\n            } else {\n                boxes = element.getClientRects();\n                if (boxes.length == 1) {\n                    boxes = [element.getBoundingClientRect()];\n                }\n            }\n            boxes = adjustBoxes(boxes);\n            for (i = 0; i < boxes.length; ++i) {\n                drawOneBox(boxes[i], i === 0, i == boxes.length - 1);\n            }\n            if (boxes.length > 0 && display == 'list-item') {\n                drawBullet(boxes[0]);\n            }\n            (function () {\n                function clipit() {\n                    var clipPath = elementRoundBox(element, innerbox, 'padding');\n                    var tmp = new drawing.Group();\n                    setClipping(tmp, clipPath);\n                    group.append(tmp);\n                    group = tmp;\n                    updateClipbox(clipPath);\n                }\n                if (isFormField(element)) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow'))) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-x'))) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-y'))) {\n                    clipit();\n                }\n            }());\n            if (!maybeRenderWidget(element, group)) {\n                renderContents(element, group);\n            }\n            return group;\n            function adjustBoxes(boxes) {\n                if (/^td$/i.test(element.tagName)) {\n                    var table = nodeInfo.table;\n                    if (table && getPropertyValue(table.style, 'border-collapse') == 'collapse') {\n                        var tableBorderLeft = getBorder(table.style, 'left').width;\n                        var tableBorderTop = getBorder(table.style, 'top').width;\n                        if (tableBorderLeft === 0 && tableBorderTop === 0) {\n                            return boxes;\n                        }\n                        var tableBox = table.element.getBoundingClientRect();\n                        var firstCell = table.element.rows[0].cells[0];\n                        var firstCellBox = firstCell.getBoundingClientRect();\n                        if (firstCellBox.top == tableBox.top || firstCellBox.left == tableBox.left) {\n                            return slice.call(boxes).map(function (box) {\n                                return {\n                                    left: box.left + tableBorderLeft,\n                                    top: box.top + tableBorderTop,\n                                    right: box.right + tableBorderLeft,\n                                    bottom: box.bottom + tableBorderTop,\n                                    height: box.height,\n                                    width: box.width\n                                };\n                            });\n                        }\n                    }\n                }\n                return boxes;\n            }\n            function drawEdge(color, len, Wtop, Wleft, Wright, rl, rr, transform) {\n                if (Wtop <= 0) {\n                    return;\n                }\n                var path, edge = new drawing.Group();\n                setTransform(edge, transform);\n                group.append(edge);\n                sanitizeRadius(rl);\n                sanitizeRadius(rr);\n                path = new drawing.Path({\n                    fill: { color: color },\n                    stroke: null\n                });\n                edge.append(path);\n                path.moveTo(rl.x ? Math.max(rl.x, Wleft) : 0, 0).lineTo(len - (rr.x ? Math.max(rr.x, Wright) : 0), 0).lineTo(len - Math.max(rr.x, Wright), Wtop).lineTo(Math.max(rl.x, Wleft), Wtop).close();\n                if (rl.x) {\n                    drawRoundCorner(Wleft, rl, [\n                        -1,\n                        0,\n                        0,\n                        1,\n                        rl.x,\n                        0\n                    ]);\n                }\n                if (rr.x) {\n                    drawRoundCorner(Wright, rr, [\n                        1,\n                        0,\n                        0,\n                        1,\n                        len - rr.x,\n                        0\n                    ]);\n                }\n                function drawRoundCorner(Wright, r, transform) {\n                    var angle = Math.PI / 2 * Wright / (Wright + Wtop);\n                    var ri = {\n                        x: r.x - Wright,\n                        y: r.y - Wtop\n                    };\n                    var path = new drawing.Path({\n                        fill: { color: color },\n                        stroke: null\n                    }).moveTo(0, 0);\n                    setTransform(path, transform);\n                    addArcToPath(path, 0, r.y, {\n                        startAngle: -90,\n                        endAngle: -radiansToDegrees(angle),\n                        radiusX: r.x,\n                        radiusY: r.y\n                    });\n                    if (ri.x > 0 && ri.y > 0) {\n                        path.lineTo(ri.x * Math.cos(angle), r.y - ri.y * Math.sin(angle));\n                        addArcToPath(path, 0, r.y, {\n                            startAngle: -radiansToDegrees(angle),\n                            endAngle: -90,\n                            radiusX: ri.x,\n                            radiusY: ri.y,\n                            anticlockwise: true\n                        });\n                    } else if (ri.x > 0) {\n                        path.lineTo(ri.x, Wtop).lineTo(0, Wtop);\n                    } else {\n                        path.lineTo(ri.x, Wtop).lineTo(ri.x, 0);\n                    }\n                    edge.append(path.close());\n                }\n            }\n            function drawBackground(box) {\n                var background = new drawing.Group();\n                setClipping(background, roundBox(box, rTL0, rTR0, rBR0, rBL0));\n                group.append(background);\n                if (element.tagName == 'A' && element.href && !/^#?$/.test($(element).attr('href'))) {\n                    if (!nodeInfo._avoidLinks || !$(element).is(nodeInfo._avoidLinks)) {\n                        background._pdfLink = {\n                            url: element.href,\n                            top: box.top,\n                            right: box.right,\n                            bottom: box.bottom,\n                            left: box.left\n                        };\n                    }\n                }\n                if (backgroundColor) {\n                    var path = new drawing.Path({\n                        fill: { color: backgroundColor.toCssRgba() },\n                        stroke: null\n                    });\n                    path.moveTo(box.left, box.top).lineTo(box.right, box.top).lineTo(box.right, box.bottom).lineTo(box.left, box.bottom).close();\n                    background.append(path);\n                }\n                for (var i = backgroundImage.length; --i >= 0;) {\n                    drawOneBackground(background, box, backgroundImage[i], backgroundRepeat[i % backgroundRepeat.length], backgroundPosition[i % backgroundPosition.length], backgroundOrigin[i % backgroundOrigin.length], backgroundSize[i % backgroundSize.length]);\n                }\n            }\n            function drawOneBackground(group, box, background, backgroundRepeat, backgroundPosition, backgroundOrigin, backgroundSize) {\n                if (!background || background == 'none') {\n                    return;\n                }\n                if (background.type == 'url') {\n                    if (/^url\\(\\\"data:image\\/svg/i.test(background.url)) {\n                        return;\n                    }\n                    var img = IMAGE_CACHE[background.url];\n                    if (img && img.width > 0 && img.height > 0) {\n                        drawBackgroundImage(group, box, img.width, img.height, function (group, rect) {\n                            group.append(new drawing.Image(background.url, rect));\n                        });\n                    }\n                } else if (background.type == 'linear') {\n                    drawBackgroundImage(group, box, box.width, box.height, gradientRenderer(background));\n                } else {\n                    return;\n                }\n                function drawBackgroundImage(group, box, img_width, img_height, renderBG) {\n                    var aspect_ratio = img_width / img_height, f;\n                    var orgBox = box;\n                    if (backgroundOrigin == 'content-box') {\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\n                        orgBox = innerBox(orgBox, 'padding-*', element);\n                    } else if (backgroundOrigin == 'padding-box') {\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\n                    }\n                    if (!/^\\s*auto(\\s+auto)?\\s*$/.test(backgroundSize)) {\n                        if (backgroundSize == 'contain') {\n                            f = Math.min(orgBox.width / img_width, orgBox.height / img_height);\n                            img_width *= f;\n                            img_height *= f;\n                        } else if (backgroundSize == 'cover') {\n                            f = Math.max(orgBox.width / img_width, orgBox.height / img_height);\n                            img_width *= f;\n                            img_height *= f;\n                        } else {\n                            var size = backgroundSize.split(/\\s+/g);\n                            if (/%$/.test(size[0])) {\n                                img_width = orgBox.width * parseFloat(size[0]) / 100;\n                            } else {\n                                img_width = parseFloat(size[0]);\n                            }\n                            if (size.length == 1 || size[1] == 'auto') {\n                                img_height = img_width / aspect_ratio;\n                            } else if (/%$/.test(size[1])) {\n                                img_height = orgBox.height * parseFloat(size[1]) / 100;\n                            } else {\n                                img_height = parseFloat(size[1]);\n                            }\n                        }\n                    }\n                    var pos = (backgroundPosition + '').split(/\\s+/);\n                    if (pos.length == 1) {\n                        pos[1] = '50%';\n                    }\n                    if (/%$/.test(pos[0])) {\n                        pos[0] = parseFloat(pos[0]) / 100 * (orgBox.width - img_width);\n                    } else {\n                        pos[0] = parseFloat(pos[0]);\n                    }\n                    if (/%$/.test(pos[1])) {\n                        pos[1] = parseFloat(pos[1]) / 100 * (orgBox.height - img_height);\n                    } else {\n                        pos[1] = parseFloat(pos[1]);\n                    }\n                    var rect = new geo.Rect([\n                        orgBox.left + pos[0],\n                        orgBox.top + pos[1]\n                    ], [\n                        img_width,\n                        img_height\n                    ]);\n                    function rewX() {\n                        while (rect.origin.x > box.left) {\n                            rect.origin.x -= img_width;\n                        }\n                    }\n                    function rewY() {\n                        while (rect.origin.y > box.top) {\n                            rect.origin.y -= img_height;\n                        }\n                    }\n                    function repeatX() {\n                        while (rect.origin.x < box.right) {\n                            renderBG(group, rect.clone());\n                            rect.origin.x += img_width;\n                        }\n                    }\n                    if (backgroundRepeat == 'no-repeat') {\n                        renderBG(group, rect);\n                    } else if (backgroundRepeat == 'repeat-x') {\n                        rewX();\n                        repeatX();\n                    } else if (backgroundRepeat == 'repeat-y') {\n                        rewY();\n                        while (rect.origin.y < box.bottom) {\n                            renderBG(group, rect.clone());\n                            rect.origin.y += img_height;\n                        }\n                    } else if (backgroundRepeat == 'repeat') {\n                        rewX();\n                        rewY();\n                        var origin = rect.origin.clone();\n                        while (rect.origin.y < box.bottom) {\n                            rect.origin.x = origin.x;\n                            repeatX();\n                            rect.origin.y += img_height;\n                        }\n                    }\n                }\n            }\n            function drawBullet() {\n                var listStyleType = getPropertyValue(style, 'list-style-type');\n                if (listStyleType == 'none') {\n                    return;\n                }\n                var listStylePosition = getPropertyValue(style, 'list-style-position');\n                function _drawBullet(f) {\n                    saveStyle(element, function () {\n                        element.style.position = 'relative';\n                        var bullet = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                        bullet.style.position = 'absolute';\n                        bullet.style.boxSizing = 'border-box';\n                        if (listStylePosition == 'outside') {\n                            bullet.style.width = '6em';\n                            bullet.style.left = '-6.8em';\n                            bullet.style.textAlign = 'right';\n                        } else {\n                            bullet.style.left = '0px';\n                        }\n                        f(bullet);\n                        element.insertBefore(bullet, element.firstChild);\n                        renderElement(bullet, group);\n                        element.removeChild(bullet);\n                    });\n                }\n                function elementIndex(f) {\n                    var a = element.parentNode.children;\n                    var k = element.getAttribute('kendo-split-index');\n                    if (k != null) {\n                        return f(k | 0, a.length);\n                    }\n                    for (var i = 0; i < a.length; ++i) {\n                        if (a[i] === element) {\n                            return f(i, a.length);\n                        }\n                    }\n                }\n                switch (listStyleType) {\n                case 'circle':\n                case 'disc':\n                case 'square':\n                    _drawBullet(function (bullet) {\n                        bullet.style.fontSize = '60%';\n                        bullet.style.lineHeight = '200%';\n                        bullet.style.paddingRight = '0.5em';\n                        bullet.style.fontFamily = 'DejaVu Serif';\n                        bullet.innerHTML = {\n                            'disc': '\\u25CF',\n                            'circle': '\\u25EF',\n                            'square': '\\u25A0'\n                        }[listStyleType];\n                    });\n                    break;\n                case 'decimal':\n                case 'decimal-leading-zero':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            ++idx;\n                            if (listStyleType == 'decimal-leading-zero' && (idx + '').length < 2) {\n                                idx = '0' + idx;\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                case 'lower-roman':\n                case 'upper-roman':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            idx = romanNumeral(idx + 1);\n                            if (listStyleType == 'upper-roman') {\n                                idx = idx.toUpperCase();\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                case 'lower-latin':\n                case 'lower-alpha':\n                case 'upper-latin':\n                case 'upper-alpha':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            idx = alphaNumeral(idx);\n                            if (/^upper/i.test(listStyleType)) {\n                                idx = idx.toUpperCase();\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                }\n            }\n            function drawOneBox(box, isFirst, isLast) {\n                if (box.width === 0 || box.height === 0) {\n                    return;\n                }\n                drawBackground(box);\n                var shouldDrawLeft = left.width > 0 && (isFirst && dir == 'ltr' || isLast && dir == 'rtl');\n                var shouldDrawRight = right.width > 0 && (isLast && dir == 'ltr' || isFirst && dir == 'rtl');\n                if (top.width === 0 && left.width === 0 && right.width === 0 && bottom.width === 0) {\n                    return;\n                }\n                if (true) {\n                    if (top.color == right.color && top.color == bottom.color && top.color == left.color) {\n                        if (top.width == right.width && top.width == bottom.width && top.width == left.width) {\n                            if (shouldDrawLeft && shouldDrawRight) {\n                                box = innerBox(box, top.width / 2);\n                                var path = elementRoundBox(element, box, top.width / 2);\n                                path.options.stroke = {\n                                    color: top.color,\n                                    width: top.width\n                                };\n                                group.append(path);\n                                return;\n                            }\n                        }\n                    }\n                    if (rTL0.x === 0 && rTR0.x === 0 && rBR0.x === 0 && rBL0.x === 0) {\n                        if (top.width < 2 && left.width < 2 && right.width < 2 && bottom.width < 2) {\n                            if (top.width > 0) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: top.width,\n                                        color: top.color\n                                    }\n                                }).moveTo(box.left, box.top + top.width / 2).lineTo(box.right, box.top + top.width / 2));\n                            }\n                            if (bottom.width > 0) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: bottom.width,\n                                        color: bottom.color\n                                    }\n                                }).moveTo(box.left, box.bottom - bottom.width / 2).lineTo(box.right, box.bottom - bottom.width / 2));\n                            }\n                            if (shouldDrawLeft) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: left.width,\n                                        color: left.color\n                                    }\n                                }).moveTo(box.left + left.width / 2, box.top).lineTo(box.left + left.width / 2, box.bottom));\n                            }\n                            if (shouldDrawRight) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: right.width,\n                                        color: right.color\n                                    }\n                                }).moveTo(box.right - right.width / 2, box.top).lineTo(box.right - right.width / 2, box.bottom));\n                            }\n                            return;\n                        }\n                    }\n                }\n                var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n                var rTL = tmp.tl;\n                var rTR = tmp.tr;\n                var rBR = tmp.br;\n                var rBL = tmp.bl;\n                drawEdge(top.color, box.width, top.width, left.width, right.width, rTL, rTR, [\n                    1,\n                    0,\n                    0,\n                    1,\n                    box.left,\n                    box.top\n                ]);\n                drawEdge(bottom.color, box.width, bottom.width, right.width, left.width, rBR, rBL, [\n                    -1,\n                    0,\n                    0,\n                    -1,\n                    box.right,\n                    box.bottom\n                ]);\n                function inv(p) {\n                    return {\n                        x: p.y,\n                        y: p.x\n                    };\n                }\n                drawEdge(left.color, box.height, left.width, bottom.width, top.width, inv(rBL), inv(rTL), [\n                    0,\n                    -1,\n                    1,\n                    0,\n                    box.left,\n                    box.bottom\n                ]);\n                drawEdge(right.color, box.height, right.width, top.width, bottom.width, inv(rTR), inv(rBR), [\n                    0,\n                    1,\n                    -1,\n                    0,\n                    box.right,\n                    box.top\n                ]);\n            }\n        }\n        function gradientRenderer(gradient) {\n            return function (group, rect) {\n                var width = rect.width(), height = rect.height();\n                switch (gradient.type) {\n                case 'linear':\n                    var angle = gradient.angle != null ? gradient.angle : Math.PI;\n                    switch (gradient.to) {\n                    case 'top':\n                        angle = 0;\n                        break;\n                    case 'left':\n                        angle = -Math.PI / 2;\n                        break;\n                    case 'bottom':\n                        angle = Math.PI;\n                        break;\n                    case 'right':\n                        angle = Math.PI / 2;\n                        break;\n                    case 'top left':\n                    case 'left top':\n                        angle = -Math.atan2(height, width);\n                        break;\n                    case 'top right':\n                    case 'right top':\n                        angle = Math.atan2(height, width);\n                        break;\n                    case 'bottom left':\n                    case 'left bottom':\n                        angle = Math.PI + Math.atan2(height, width);\n                        break;\n                    case 'bottom right':\n                    case 'right bottom':\n                        angle = Math.PI - Math.atan2(height, width);\n                        break;\n                    }\n                    if (gradient.reverse) {\n                        angle -= Math.PI;\n                    }\n                    angle %= 2 * Math.PI;\n                    if (angle < 0) {\n                        angle += 2 * Math.PI;\n                    }\n                    var pxlen = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\n                    var scaledAngle = Math.atan(width * Math.tan(angle) / height);\n                    var sin = Math.sin(scaledAngle), cos = Math.cos(scaledAngle);\n                    var len = Math.abs(sin) + Math.abs(cos);\n                    var x = len / 2 * sin;\n                    var y = len / 2 * cos;\n                    if (angle > Math.PI / 2 && angle <= 3 * Math.PI / 2) {\n                        x = -x;\n                        y = -y;\n                    }\n                    var implicit = [], right = 0;\n                    var stops = gradient.stops.map(function (s, i) {\n                        var offset = s.percent;\n                        if (offset) {\n                            offset = parseFloat(offset) / 100;\n                        } else if (s.length) {\n                            offset = parseFloat(s.length) / pxlen;\n                        } else if (i === 0) {\n                            offset = 0;\n                        } else if (i == gradient.stops.length - 1) {\n                            offset = 1;\n                        }\n                        var stop = {\n                            color: s.color.toCssRgba(),\n                            offset: offset\n                        };\n                        if (offset != null) {\n                            right = offset;\n                            implicit.forEach(function (s, i) {\n                                var stop = s.stop;\n                                stop.offset = s.left + (right - s.left) * (i + 1) / (implicit.length + 1);\n                            });\n                            implicit = [];\n                        } else {\n                            implicit.push({\n                                left: right,\n                                stop: stop\n                            });\n                        }\n                        return stop;\n                    });\n                    var start = [\n                        0.5 - x,\n                        0.5 + y\n                    ];\n                    var end = [\n                        0.5 + x,\n                        0.5 - y\n                    ];\n                    group.append(drawing.Path.fromRect(rect).stroke(null).fill(new drawing.LinearGradient({\n                        start: start,\n                        end: end,\n                        stops: stops,\n                        userSpace: false\n                    })));\n                    break;\n                case 'radial':\n                    if (window.console && window.console.log) {\n                        window.console.log('Radial gradients are not yet supported in HTML renderer');\n                    }\n                    break;\n                }\n            };\n        }\n        function maybeRenderWidget(element, group) {\n            if (element.getAttribute(kendo.attr('role'))) {\n                var widget = kendo.widgetInstance($(element));\n                if (widget && (widget.exportDOMVisual || widget.exportVisual)) {\n                    var visual;\n                    if (widget.exportDOMVisual) {\n                        visual = widget.exportDOMVisual();\n                    } else {\n                        visual = widget.exportVisual();\n                    }\n                    if (!visual) {\n                        return false;\n                    }\n                    var wrap = new drawing.Group();\n                    wrap.children.push(visual);\n                    var bbox = element.getBoundingClientRect();\n                    wrap.transform(geo.transform().translate(bbox.left, bbox.top));\n                    group.append(wrap);\n                    return true;\n                }\n            }\n        }\n        function renderImage(element, url, group) {\n            var box = getContentBox(element);\n            var rect = new geo.Rect([\n                box.left,\n                box.top\n            ], [\n                box.width,\n                box.height\n            ]);\n            var image = new drawing.Image(url, rect);\n            setClipping(image, elementRoundBox(element, box, 'content'));\n            group.append(image);\n        }\n        function zIndexSort(a, b) {\n            var sa = getComputedStyle(a);\n            var sb = getComputedStyle(b);\n            var za = parseFloat(getPropertyValue(sa, 'z-index'));\n            var zb = parseFloat(getPropertyValue(sb, 'z-index'));\n            var pa = getPropertyValue(sa, 'position');\n            var pb = getPropertyValue(sb, 'position');\n            if (isNaN(za) && isNaN(zb)) {\n                if (/static|absolute/.test(pa) && /static|absolute/.test(pb)) {\n                    return 0;\n                }\n                if (pa == 'static') {\n                    return -1;\n                }\n                if (pb == 'static') {\n                    return 1;\n                }\n                return 0;\n            }\n            if (isNaN(za)) {\n                return zb === 0 ? 0 : zb > 0 ? -1 : 1;\n            }\n            if (isNaN(zb)) {\n                return za === 0 ? 0 : za > 0 ? 1 : -1;\n            }\n            return parseFloat(za) - parseFloat(zb);\n        }\n        function isFormField(element) {\n            return /^(?:textarea|select|input)$/i.test(element.tagName);\n        }\n        function getSelectedOption(element) {\n            if (element.selectedOptions && element.selectedOptions.length > 0) {\n                return element.selectedOptions[0];\n            }\n            return element.options[element.selectedIndex];\n        }\n        function renderCheckbox(element, group) {\n            var style = getComputedStyle(element);\n            var color = getPropertyValue(style, 'color');\n            var box = element.getBoundingClientRect();\n            if (element.type == 'checkbox') {\n                group.append(drawing.Path.fromRect(new geo.Rect([\n                    box.left + 1,\n                    box.top + 1\n                ], [\n                    box.width - 2,\n                    box.height - 2\n                ])).stroke(color, 1));\n                if (element.checked) {\n                    group.append(new drawing.Path().stroke(color, 1.2).moveTo(box.left + 0.22 * box.width, box.top + 0.55 * box.height).lineTo(box.left + 0.45 * box.width, box.top + 0.75 * box.height).lineTo(box.left + 0.78 * box.width, box.top + 0.22 * box.width));\n                }\n            } else {\n                group.append(new drawing.Circle(new geo.Circle([\n                    (box.left + box.right) / 2,\n                    (box.top + box.bottom) / 2\n                ], Math.min(box.width - 2, box.height - 2) / 2)).stroke(color, 1));\n                if (element.checked) {\n                    group.append(new drawing.Circle(new geo.Circle([\n                        (box.left + box.right) / 2,\n                        (box.top + box.bottom) / 2\n                    ], Math.min(box.width - 8, box.height - 8) / 2)).fill(color).stroke(null));\n                }\n            }\n        }\n        function renderFormField(element, group) {\n            var tag = element.tagName.toLowerCase();\n            if (tag == 'input' && (element.type == 'checkbox' || element.type == 'radio')) {\n                return renderCheckbox(element, group);\n            }\n            var p = element.parentNode;\n            var doc = element.ownerDocument;\n            var el = doc.createElement(KENDO_PSEUDO_ELEMENT);\n            var option;\n            el.style.cssText = getCssText(getComputedStyle(element));\n            if (tag == 'input') {\n                el.style.whiteSpace = 'pre';\n            }\n            if (tag == 'select' || tag == 'textarea') {\n                el.style.overflow = 'auto';\n            }\n            if (tag == 'select') {\n                if (element.multiple) {\n                    for (var i = 0; i < element.options.length; ++i) {\n                        option = doc.createElement(KENDO_PSEUDO_ELEMENT);\n                        option.style.cssText = getCssText(getComputedStyle(element.options[i]));\n                        option.style.display = 'block';\n                        option.textContent = element.options[i].textContent;\n                        el.appendChild(option);\n                    }\n                } else {\n                    option = getSelectedOption(element);\n                    if (option) {\n                        el.textContent = option.textContent;\n                    }\n                }\n            } else {\n                el.textContent = element.value;\n            }\n            p.insertBefore(el, element);\n            el.scrollLeft = element.scrollLeft;\n            el.scrollTop = element.scrollTop;\n            element.style.display = 'none';\n            renderContents(el, group);\n            element.style.display = '';\n            p.removeChild(el);\n        }\n        function renderContents(element, group) {\n            if (nodeInfo._stackingContext.element === element) {\n                nodeInfo._stackingContext.group = group;\n            }\n            switch (element.tagName.toLowerCase()) {\n            case 'img':\n                renderImage(element, element.src, group);\n                break;\n            case 'canvas':\n                try {\n                    renderImage(element, element.toDataURL('image/png'), group);\n                } catch (ex) {\n                }\n                break;\n            case 'textarea':\n            case 'input':\n            case 'select':\n                renderFormField(element, group);\n                break;\n            default:\n                var blocks = [], floats = [], inline = [], positioned = [];\n                for (var i = element.firstChild; i; i = i.nextSibling) {\n                    switch (i.nodeType) {\n                    case 3:\n                        if (/\\S/.test(i.data)) {\n                            renderText(element, i, group);\n                        }\n                        break;\n                    case 1:\n                        var style = getComputedStyle(i);\n                        var display = getPropertyValue(style, 'display');\n                        var floating = getPropertyValue(style, 'float');\n                        var position = getPropertyValue(style, 'position');\n                        if (position != 'static') {\n                            positioned.push(i);\n                        } else if (display != 'inline') {\n                            if (floating != 'none') {\n                                floats.push(i);\n                            } else {\n                                blocks.push(i);\n                            }\n                        } else {\n                            inline.push(i);\n                        }\n                        break;\n                    }\n                }\n                mergeSort(blocks, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(floats, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(inline, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(positioned, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n            }\n        }\n        function renderText(element, node, group) {\n            if (emptyClipbox()) {\n                return;\n            }\n            var style = getComputedStyle(element);\n            if (parseFloat(getPropertyValue(style, 'text-indent')) < -500) {\n                return;\n            }\n            var text = node.data;\n            var start = 0;\n            var end = text.search(/\\S\\s*$/) + 1;\n            if (!end) {\n                return;\n            }\n            var fontSize = getPropertyValue(style, 'font-size');\n            var lineHeight = getPropertyValue(style, 'line-height');\n            var font = [\n                getPropertyValue(style, 'font-style'),\n                getPropertyValue(style, 'font-variant'),\n                getPropertyValue(style, 'font-weight'),\n                fontSize,\n                getPropertyValue(style, 'font-family')\n            ].join(' ');\n            fontSize = parseFloat(fontSize);\n            lineHeight = parseFloat(lineHeight);\n            if (fontSize === 0) {\n                return;\n            }\n            var color = getPropertyValue(style, 'color');\n            var range = element.ownerDocument.createRange();\n            var align = getPropertyValue(style, 'text-align');\n            var isJustified = align == 'justify';\n            var whiteSpace = getPropertyValue(style, 'white-space');\n            var textOverflow, saveTextOverflow;\n            if (browser.msie) {\n                textOverflow = style.textOverflow;\n                if (textOverflow == 'ellipsis') {\n                    saveTextOverflow = element.style.textOverflow;\n                    element.style.textOverflow = 'clip';\n                }\n            }\n            var estimateLineLength = element.getBoundingClientRect().width / fontSize * 5;\n            if (estimateLineLength === 0) {\n                estimateLineLength = 500;\n            }\n            var prevLineBottom = null;\n            while (!doChunk()) {\n            }\n            if (browser.msie && textOverflow == 'ellipsis') {\n                element.style.textOverflow = saveTextOverflow;\n            }\n            return;\n            function actuallyGetRangeBoundingRect(range) {\n                if (browser.msie || browser.chrome) {\n                    var rectangles = range.getClientRects(), box = {\n                            top: +Infinity,\n                            right: -Infinity,\n                            bottom: -Infinity,\n                            left: +Infinity\n                        };\n                    for (var i = 0; i < rectangles.length; ++i) {\n                        var b = rectangles[i];\n                        if (b.width <= 1 || b.bottom === prevLineBottom) {\n                            continue;\n                        }\n                        box.left = Math.min(b.left, box.left);\n                        box.top = Math.min(b.top, box.top);\n                        box.right = Math.max(b.right, box.right);\n                        box.bottom = Math.max(b.bottom, box.bottom);\n                    }\n                    box.width = box.right - box.left;\n                    box.height = box.bottom - box.top;\n                    return box;\n                }\n                return range.getBoundingClientRect();\n            }\n            function doChunk() {\n                var origStart = start;\n                var box, pos = text.substr(start).search(/\\S/);\n                start += pos;\n                if (pos < 0 || start >= end) {\n                    return true;\n                }\n                range.setStart(node, start);\n                range.setEnd(node, start + 1);\n                box = actuallyGetRangeBoundingRect(range);\n                var found = false;\n                if (isJustified) {\n                    pos = text.substr(start).search(/\\s/);\n                    if (pos >= 0) {\n                        range.setEnd(node, start + pos);\n                        var r = actuallyGetRangeBoundingRect(range);\n                        if (r.bottom == box.bottom) {\n                            box = r;\n                            found = true;\n                            start += pos;\n                        }\n                    }\n                }\n                if (!found) {\n                    pos = function findEOL(min, eol, max) {\n                        range.setEnd(node, eol);\n                        var r = actuallyGetRangeBoundingRect(range);\n                        if (r.bottom != box.bottom && min < eol) {\n                            return findEOL(min, min + eol >> 1, eol);\n                        } else if (r.right != box.right) {\n                            box = r;\n                            if (eol < max) {\n                                return findEOL(eol, eol + max >> 1, max);\n                            } else {\n                                return eol;\n                            }\n                        } else {\n                            return eol;\n                        }\n                    }(start, Math.min(end, start + estimateLineLength), end);\n                    if (pos == start) {\n                        return true;\n                    }\n                    start = pos;\n                    pos = range.toString().search(/\\s+$/);\n                    if (pos === 0) {\n                        return;\n                    }\n                    if (pos > 0) {\n                        range.setEnd(node, range.startOffset + pos);\n                        box = actuallyGetRangeBoundingRect(range);\n                    }\n                }\n                if (browser.msie) {\n                    box = range.getClientRects()[0];\n                }\n                var str = range.toString();\n                if (!/^(?:pre|pre-wrap)$/i.test(whiteSpace)) {\n                    str = str.replace(/\\s+/g, ' ');\n                } else if (/\\t/.test(str)) {\n                    var cc = 0;\n                    for (pos = origStart; pos < range.startOffset; ++pos) {\n                        var code = text.charCodeAt(pos);\n                        if (code == 9) {\n                            cc += 8 - cc % 8;\n                        } else if (code == 10 || code == 13) {\n                            cc = 0;\n                        } else {\n                            cc++;\n                        }\n                    }\n                    while ((pos = str.search('\\t')) >= 0) {\n                        var indent = '        '.substr(0, 8 - (cc + pos) % 8);\n                        str = str.substr(0, pos) + indent + str.substr(pos + 1);\n                    }\n                }\n                if (!found) {\n                    prevLineBottom = box.bottom;\n                }\n                drawText(str, box);\n            }\n            function drawText(str, box) {\n                if (browser.msie && !isNaN(lineHeight)) {\n                    var height = getFontHeight(font);\n                    var top = (box.top + box.bottom - height) / 2;\n                    box = {\n                        top: top,\n                        right: box.right,\n                        bottom: top + height,\n                        left: box.left,\n                        height: height,\n                        width: box.right - box.left\n                    };\n                }\n                var text = new TextRect(str, new geo.Rect([\n                    box.left,\n                    box.top\n                ], [\n                    box.width,\n                    box.height\n                ]), {\n                    font: font,\n                    fill: { color: color }\n                });\n                group.append(text);\n                decorate(box);\n            }\n            function decorate(box) {\n                line(nodeInfo['underline'], box.bottom);\n                line(nodeInfo['line-through'], box.bottom - box.height / 2.7);\n                line(nodeInfo['overline'], box.top);\n                function line(color, ypos) {\n                    if (color) {\n                        var width = fontSize / 12;\n                        var path = new drawing.Path({\n                            stroke: {\n                                width: width,\n                                color: color\n                            }\n                        });\n                        ypos -= width;\n                        path.moveTo(box.left, ypos).lineTo(box.right, ypos);\n                        group.append(path);\n                    }\n                }\n            }\n        }\n        function groupInStackingContext(element, group, zIndex) {\n            var main;\n            if (zIndex != 'auto') {\n                main = nodeInfo._stackingContext.group;\n                zIndex = parseFloat(zIndex);\n            } else {\n                main = group;\n                zIndex = 0;\n            }\n            var a = main.children;\n            for (var i = 0; i < a.length; ++i) {\n                if (a[i]._dom_zIndex != null && a[i]._dom_zIndex > zIndex) {\n                    break;\n                }\n            }\n            var tmp = new drawing.Group();\n            main.insertAt(tmp, i);\n            tmp._dom_zIndex = zIndex;\n            if (main !== group) {\n                if (nodeInfo._clipbox) {\n                    var m = nodeInfo._matrix.invert();\n                    var r = nodeInfo._clipbox.transformCopy(m);\n                    setClipping(tmp, drawing.Path.fromRect(r));\n                }\n            }\n            return tmp;\n        }\n        function renderElement(element, container) {\n            var style = getComputedStyle(element);\n            var counterReset = getPropertyValue(style, 'counter-reset');\n            if (counterReset) {\n                doCounters(splitProperty(counterReset, /^\\s+/), resetCounter, 0);\n            }\n            var counterIncrement = getPropertyValue(style, 'counter-increment');\n            if (counterIncrement) {\n                doCounters(splitProperty(counterIncrement, /^\\s+/), incCounter, 1);\n            }\n            if (/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(element.tagName)) {\n                return;\n            }\n            if (nodeInfo._clipbox == null) {\n                return;\n            }\n            var opacity = parseFloat(getPropertyValue(style, 'opacity'));\n            var visibility = getPropertyValue(style, 'visibility');\n            var display = getPropertyValue(style, 'display');\n            if (opacity === 0 || visibility == 'hidden' || display == 'none') {\n                return;\n            }\n            var tr = getTransform(style);\n            var group;\n            var zIndex = getPropertyValue(style, 'z-index');\n            if ((tr || opacity < 1) && zIndex == 'auto') {\n                zIndex = 0;\n            }\n            group = groupInStackingContext(element, container, zIndex);\n            if (opacity < 1) {\n                group.opacity(opacity * group.opacity());\n            }\n            pushNodeInfo(element, style, group);\n            if (!tr) {\n                _renderWithPseudoElements(element, group);\n            } else {\n                saveStyle(element, function () {\n                    pleaseSetPropertyValue(element.style, 'transform', 'none', 'important');\n                    pleaseSetPropertyValue(element.style, 'transition', 'none', 'important');\n                    if (getPropertyValue(style, 'position') == 'static') {\n                        pleaseSetPropertyValue(element.style, 'position', 'relative', 'important');\n                    }\n                    var bbox = element.getBoundingClientRect();\n                    var x = bbox.left + tr.origin[0];\n                    var y = bbox.top + tr.origin[1];\n                    var m = [\n                        1,\n                        0,\n                        0,\n                        1,\n                        -x,\n                        -y\n                    ];\n                    m = mmul(m, tr.matrix);\n                    m = mmul(m, [\n                        1,\n                        0,\n                        0,\n                        1,\n                        x,\n                        y\n                    ]);\n                    m = setTransform(group, m);\n                    nodeInfo._matrix = nodeInfo._matrix.multiplyCopy(m);\n                    _renderWithPseudoElements(element, group);\n                });\n            }\n            popNodeInfo();\n        }\n        function mmul(a, b) {\n            var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n            var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n            return [\n                a1 * a2 + b1 * c2,\n                a1 * b2 + b1 * d2,\n                c1 * a2 + d1 * c2,\n                c1 * b2 + d1 * d2,\n                e1 * a2 + f1 * c2 + e2,\n                e1 * b2 + f1 * d2 + f2\n            ];\n        }\n    }(window.kendo.jQuery, parseFloat, Math));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/animation', [\n        'drawing/geometry',\n        'drawing/core'\n    ], f);\n}(function () {\n    (function ($) {\n        var noop = $.noop, kendo = window.kendo, Class = kendo.Class, util = kendo.util, animationFrame = kendo.animationFrame, deepExtend = kendo.deepExtend;\n        var Animation = Class.extend({\n            init: function (element, options) {\n                var anim = this;\n                anim.options = deepExtend({}, anim.options, options);\n                anim.element = element;\n            },\n            options: {\n                duration: 500,\n                easing: 'swing'\n            },\n            setup: noop,\n            step: noop,\n            play: function () {\n                var anim = this, options = anim.options, easing = $.easing[options.easing], duration = options.duration, delay = options.delay || 0, start = util.now() + delay, finish = start + duration;\n                if (duration === 0) {\n                    anim.step(1);\n                    anim.abort();\n                } else {\n                    setTimeout(function () {\n                        var loop = function () {\n                            if (anim._stopped) {\n                                return;\n                            }\n                            var wallTime = util.now();\n                            var time = util.limitValue(wallTime - start, 0, duration);\n                            var pos = time / duration;\n                            var easingPos = easing(pos, time, 0, 1, duration);\n                            anim.step(easingPos);\n                            if (wallTime < finish) {\n                                animationFrame(loop);\n                            } else {\n                                anim.abort();\n                            }\n                        };\n                        loop();\n                    }, delay);\n                }\n            },\n            abort: function () {\n                this._stopped = true;\n            },\n            destroy: function () {\n                this.abort();\n            }\n        });\n        var AnimationFactory = function () {\n            this._items = [];\n        };\n        AnimationFactory.prototype = {\n            register: function (name, type) {\n                this._items.push({\n                    name: name,\n                    type: type\n                });\n            },\n            create: function (element, options) {\n                var items = this._items;\n                var match;\n                if (options && options.type) {\n                    var type = options.type.toLowerCase();\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].name.toLowerCase() === type) {\n                            match = items[i];\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    return new match.type(element, options);\n                }\n            }\n        };\n        AnimationFactory.current = new AnimationFactory();\n        Animation.create = function (type, element, options) {\n            return AnimationFactory.current.create(type, element, options);\n        };\n        deepExtend(kendo.drawing, {\n            Animation: Animation,\n            AnimationFactory: AnimationFactory\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.drawing', [\n        'kendo.color',\n        'util/main',\n        'util/text-metrics',\n        'util/base64',\n        'mixins/observers',\n        'drawing/geometry',\n        'drawing/core',\n        'drawing/mixins',\n        'drawing/shapes',\n        'drawing/parser',\n        'drawing/search',\n        'drawing/svg',\n        'drawing/canvas',\n        'drawing/vml',\n        'drawing/html',\n        'drawing/animation'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'drawing',\n        name: 'Drawing API',\n        category: 'framework',\n        description: 'The Kendo UI low-level drawing API',\n        depends: [\n            'core',\n            'color',\n            'popup'\n        ]\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n/** \n * Kendo UI v2016.3.1118 (http://www.telerik.com/kendo-ui)                                                                                                                                              \n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \n *                                                                                                                                                                                                      \n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/core', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function (window, parseFloat, undefined) {\n        'use strict';\n        var kendo = window.kendo;\n        var HAS_TYPED_ARRAYS = !!window.Uint8Array;\n        var NL = '\\n';\n        var RESOURCE_COUNTER = 0;\n        var BASE64 = function () {\n            var keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n            return {\n                decode: function (str) {\n                    var input = str.replace(/[^A-Za-z0-9\\+\\/\\=]/g, ''), i = 0, n = input.length, output = [];\n                    while (i < n) {\n                        var enc1 = keyStr.indexOf(input.charAt(i++));\n                        var enc2 = keyStr.indexOf(input.charAt(i++));\n                        var enc3 = keyStr.indexOf(input.charAt(i++));\n                        var enc4 = keyStr.indexOf(input.charAt(i++));\n                        var chr1 = enc1 << 2 | enc2 >>> 4;\n                        var chr2 = (enc2 & 15) << 4 | enc3 >>> 2;\n                        var chr3 = (enc3 & 3) << 6 | enc4;\n                        output.push(chr1);\n                        if (enc3 != 64) {\n                            output.push(chr2);\n                        }\n                        if (enc4 != 64) {\n                            output.push(chr3);\n                        }\n                    }\n                    return output;\n                },\n                encode: function (bytes) {\n                    var i = 0, n = bytes.length;\n                    var output = '';\n                    while (i < n) {\n                        var chr1 = bytes[i++];\n                        var chr2 = bytes[i++];\n                        var chr3 = bytes[i++];\n                        var enc1 = chr1 >>> 2;\n                        var enc2 = (chr1 & 3) << 4 | chr2 >>> 4;\n                        var enc3 = (chr2 & 15) << 2 | chr3 >>> 6;\n                        var enc4 = chr3 & 63;\n                        if (i - n == 2) {\n                            enc3 = enc4 = 64;\n                        } else if (i - n == 1) {\n                            enc4 = 64;\n                        }\n                        output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n                    }\n                    return output;\n                }\n            };\n        }();\n        var PAPER_SIZE = {\n            a0: [\n                2383.94,\n                3370.39\n            ],\n            a1: [\n                1683.78,\n                2383.94\n            ],\n            a2: [\n                1190.55,\n                1683.78\n            ],\n            a3: [\n                841.89,\n                1190.55\n            ],\n            a4: [\n                595.28,\n                841.89\n            ],\n            a5: [\n                419.53,\n                595.28\n            ],\n            a6: [\n                297.64,\n                419.53\n            ],\n            a7: [\n                209.76,\n                297.64\n            ],\n            a8: [\n                147.4,\n                209.76\n            ],\n            a9: [\n                104.88,\n                147.4\n            ],\n            a10: [\n                73.7,\n                104.88\n            ],\n            b0: [\n                2834.65,\n                4008.19\n            ],\n            b1: [\n                2004.09,\n                2834.65\n            ],\n            b2: [\n                1417.32,\n                2004.09\n            ],\n            b3: [\n                1000.63,\n                1417.32\n            ],\n            b4: [\n                708.66,\n                1000.63\n            ],\n            b5: [\n                498.9,\n                708.66\n            ],\n            b6: [\n                354.33,\n                498.9\n            ],\n            b7: [\n                249.45,\n                354.33\n            ],\n            b8: [\n                175.75,\n                249.45\n            ],\n            b9: [\n                124.72,\n                175.75\n            ],\n            b10: [\n                87.87,\n                124.72\n            ],\n            c0: [\n                2599.37,\n                3676.54\n            ],\n            c1: [\n                1836.85,\n                2599.37\n            ],\n            c2: [\n                1298.27,\n                1836.85\n            ],\n            c3: [\n                918.43,\n                1298.27\n            ],\n            c4: [\n                649.13,\n                918.43\n            ],\n            c5: [\n                459.21,\n                649.13\n            ],\n            c6: [\n                323.15,\n                459.21\n            ],\n            c7: [\n                229.61,\n                323.15\n            ],\n            c8: [\n                161.57,\n                229.61\n            ],\n            c9: [\n                113.39,\n                161.57\n            ],\n            c10: [\n                79.37,\n                113.39\n            ],\n            executive: [\n                521.86,\n                756\n            ],\n            folio: [\n                612,\n                936\n            ],\n            legal: [\n                612,\n                1008\n            ],\n            letter: [\n                612,\n                792\n            ],\n            tabloid: [\n                792,\n                1224\n            ]\n        };\n        function makeOutput() {\n            var indentLevel = 0, output = BinaryStream();\n            function out() {\n                for (var i = 0; i < arguments.length; ++i) {\n                    var x = arguments[i];\n                    if (x === undefined) {\n                        throw new Error('Cannot output undefined to PDF');\n                    } else if (x instanceof PDFValue) {\n                        x.beforeRender(out);\n                        x.render(out);\n                    } else if (isArray(x)) {\n                        renderArray(x, out);\n                    } else if (isDate(x)) {\n                        renderDate(x, out);\n                    } else if (typeof x == 'number') {\n                        if (isNaN(x)) {\n                            throw new Error('Cannot output NaN to PDF');\n                        }\n                        var num = x.toFixed(7);\n                        if (num.indexOf('.') >= 0) {\n                            num = num.replace(/\\.?0+$/, '');\n                        }\n                        if (num == '-0') {\n                            num = '0';\n                        }\n                        output.writeString(num);\n                    } else if (/string|boolean/.test(typeof x)) {\n                        output.writeString(x + '');\n                    } else if (typeof x.get == 'function') {\n                        output.write(x.get());\n                    } else if (typeof x == 'object') {\n                        if (!x) {\n                            output.writeString('null');\n                        } else {\n                            out(new PDFDictionary(x));\n                        }\n                    }\n                }\n            }\n            out.writeData = function (data) {\n                output.write(data);\n            };\n            out.withIndent = function (f) {\n                ++indentLevel;\n                f(out);\n                --indentLevel;\n            };\n            out.indent = function () {\n                out(NL, pad('', indentLevel * 2, '  '));\n                out.apply(null, arguments);\n            };\n            out.offset = function () {\n                return output.offset();\n            };\n            out.toString = function () {\n                throw new Error('FIX CALLER');\n            };\n            out.get = function () {\n                return output.get();\n            };\n            out.stream = function () {\n                return output;\n            };\n            return out;\n        }\n        function wrapObject(value, id) {\n            var beforeRender = value.beforeRender;\n            var renderValue = value.render;\n            value.beforeRender = function () {\n            };\n            value.render = function (out) {\n                out(id, ' 0 R');\n            };\n            value.renderFull = function (out) {\n                value._offset = out.offset();\n                out(id, ' 0 obj ');\n                beforeRender.call(value, out);\n                renderValue.call(value, out);\n                out(' endobj');\n            };\n        }\n        function getPaperOptions(getOption) {\n            if (typeof getOption != 'function') {\n                var options = getOption;\n                getOption = function (key, def) {\n                    return key in options ? options[key] : def;\n                };\n            }\n            var paperSize = getOption('paperSize', PAPER_SIZE.a4);\n            if (!paperSize) {\n                return {};\n            }\n            if (typeof paperSize == 'string') {\n                paperSize = PAPER_SIZE[paperSize.toLowerCase()];\n                if (paperSize == null) {\n                    throw new Error('Unknown paper size');\n                }\n            }\n            paperSize[0] = unitsToPoints(paperSize[0]);\n            paperSize[1] = unitsToPoints(paperSize[1]);\n            if (getOption('landscape', false)) {\n                paperSize = [\n                    Math.max(paperSize[0], paperSize[1]),\n                    Math.min(paperSize[0], paperSize[1])\n                ];\n            }\n            var margin = getOption('margin');\n            if (margin) {\n                if (typeof margin == 'string' || typeof margin == 'number') {\n                    margin = unitsToPoints(margin, 0);\n                    margin = {\n                        left: margin,\n                        top: margin,\n                        right: margin,\n                        bottom: margin\n                    };\n                } else {\n                    margin = {\n                        left: unitsToPoints(margin.left, 0),\n                        top: unitsToPoints(margin.top, 0),\n                        right: unitsToPoints(margin.right, 0),\n                        bottom: unitsToPoints(margin.bottom, 0)\n                    };\n                }\n                if (getOption('addMargin')) {\n                    paperSize[0] += margin.left + margin.right;\n                    paperSize[1] += margin.top + margin.bottom;\n                }\n            }\n            return {\n                paperSize: paperSize,\n                margin: margin\n            };\n        }\n        function PDFDocument(options) {\n            var self = this;\n            var out = makeOutput();\n            var objcount = 0;\n            var objects = [];\n            function getOption(name, defval) {\n                return options && options[name] != null ? options[name] : defval;\n            }\n            self.getOption = getOption;\n            self.attach = function (value) {\n                if (objects.indexOf(value) < 0) {\n                    wrapObject(value, ++objcount);\n                    objects.push(value);\n                }\n                return value;\n            };\n            self.pages = [];\n            self.FONTS = {};\n            self.IMAGES = {};\n            self.GRAD_COL_FUNCTIONS = {};\n            self.GRAD_OPC_FUNCTIONS = {};\n            self.GRAD_COL = {};\n            self.GRAD_OPC = {};\n            var catalog = self.attach(new PDFCatalog());\n            var pageTree = self.attach(new PDFPageTree());\n            catalog.setPages(pageTree);\n            self.addPage = function (options) {\n                var paperOptions = getPaperOptions(function (name, defval) {\n                    return options && options[name] != null ? options[name] : defval;\n                });\n                var paperSize = paperOptions.paperSize;\n                var margin = paperOptions.margin;\n                var contentWidth = paperSize[0];\n                var contentHeight = paperSize[1];\n                if (margin) {\n                    contentWidth -= margin.left + margin.right;\n                    contentHeight -= margin.top + margin.bottom;\n                }\n                var content = new PDFStream(makeOutput(), null, true);\n                var props = {\n                    Contents: self.attach(content),\n                    Parent: pageTree,\n                    MediaBox: [\n                        0,\n                        0,\n                        paperSize[0],\n                        paperSize[1]\n                    ]\n                };\n                var page = new PDFPage(self, props);\n                page._content = content;\n                pageTree.addPage(self.attach(page));\n                page.transform(1, 0, 0, -1, 0, paperSize[1]);\n                if (margin) {\n                    page.translate(margin.left, margin.top);\n                    page.rect(0, 0, contentWidth, contentHeight);\n                    page.clip();\n                }\n                self.pages.push(page);\n                return page;\n            };\n            self.render = function () {\n                var i;\n                out('%PDF-1.4', NL, '%ÂÁÚÏÎ', NL, NL);\n                for (i = 0; i < objects.length; ++i) {\n                    objects[i].renderFull(out);\n                    out(NL, NL);\n                }\n                var xrefOffset = out.offset();\n                out('xref', NL, 0, ' ', objects.length + 1, NL);\n                out('0000000000 65535 f ', NL);\n                for (i = 0; i < objects.length; ++i) {\n                    out(zeropad(objects[i]._offset, 10), ' 00000 n ', NL);\n                }\n                out(NL);\n                out('trailer', NL);\n                out(new PDFDictionary({\n                    Size: objects.length + 1,\n                    Root: catalog,\n                    Info: new PDFDictionary({\n                        Producer: new PDFString(getOption('producer', 'Kendo UI PDF Generator v.' + kendo.version)),\n                        Title: new PDFString(getOption('title', '')),\n                        Author: new PDFString(getOption('author', '')),\n                        Subject: new PDFString(getOption('subject', '')),\n                        Keywords: new PDFString(getOption('keywords', '')),\n                        Creator: new PDFString(getOption('creator', 'Kendo UI PDF Generator v.' + kendo.version)),\n                        CreationDate: getOption('date', new Date())\n                    })\n                }), NL, NL);\n                out('startxref', NL, xrefOffset, NL);\n                out('%%EOF', NL);\n                return out.stream().offset(0);\n            };\n        }\n        var FONT_CACHE = {\n            'Times-Roman': true,\n            'Times-Bold': true,\n            'Times-Italic': true,\n            'Times-BoldItalic': true,\n            'Helvetica': true,\n            'Helvetica-Bold': true,\n            'Helvetica-Oblique': true,\n            'Helvetica-BoldOblique': true,\n            'Courier': true,\n            'Courier-Bold': true,\n            'Courier-Oblique': true,\n            'Courier-BoldOblique': true,\n            'Symbol': true,\n            'ZapfDingbats': true\n        };\n        function loadBinary(url, cont) {\n            function error() {\n                if (window.console) {\n                    if (window.console.error) {\n                        window.console.error('Cannot load URL: %s', url);\n                    } else {\n                        window.console.log('Cannot load URL: %s', url);\n                    }\n                }\n                cont(null);\n            }\n            var req = new XMLHttpRequest();\n            req.open('GET', url, true);\n            if (HAS_TYPED_ARRAYS) {\n                req.responseType = 'arraybuffer';\n            }\n            req.onload = function () {\n                if (req.status == 200 || req.status == 304) {\n                    if (HAS_TYPED_ARRAYS) {\n                        cont(new Uint8Array(req.response));\n                    } else {\n                        cont(new VBArray(req.responseBody).toArray());\n                    }\n                } else {\n                    error();\n                }\n            };\n            req.onerror = error;\n            req.send(null);\n        }\n        function loadFont(url, cont) {\n            var font = FONT_CACHE[url];\n            if (font) {\n                cont(font);\n            } else {\n                loadBinary(url, function (data) {\n                    if (data == null) {\n                        throw new Error('Cannot load font from ' + url);\n                    } else {\n                        var font = new kendo.pdf.TTFFont(data);\n                        FONT_CACHE[url] = font;\n                        cont(font);\n                    }\n                });\n            }\n        }\n        var IMAGE_CACHE = {};\n        function loadImage(url, cont) {\n            var img = IMAGE_CACHE[url], bloburl, blob;\n            if (img) {\n                cont(img);\n            } else {\n                img = new Image();\n                if (!/^data:/i.test(url)) {\n                    img.crossOrigin = 'Anonymous';\n                }\n                if (HAS_TYPED_ARRAYS && !/^data:/i.test(url)) {\n                    var xhr = new XMLHttpRequest();\n                    xhr.onload = function () {\n                        blob = xhr.response;\n                        bloburl = URL.createObjectURL(blob);\n                        _load(bloburl);\n                    };\n                    xhr.onerror = _onerror;\n                    xhr.open('GET', url, true);\n                    xhr.responseType = 'blob';\n                    xhr.send();\n                } else {\n                    _load(url);\n                }\n            }\n            function _load(url) {\n                img.src = url;\n                if (img.complete && !kendo.support.browser.msie) {\n                    _onload();\n                } else {\n                    img.onload = _onload;\n                    img.onerror = _onerror;\n                }\n            }\n            function _onerror() {\n                cont(IMAGE_CACHE[url] = 'TAINTED');\n            }\n            function _onload() {\n                if (blob && /^image\\/jpe?g$/i.test(blob.type)) {\n                    var reader = new FileReader();\n                    reader.onload = function () {\n                        img = new PDFJpegImage(img.width, img.height, BinaryStream(new Uint8Array(this.result)));\n                        URL.revokeObjectURL(bloburl);\n                        cont(IMAGE_CACHE[url] = img);\n                    };\n                    reader.readAsArrayBuffer(blob);\n                    return;\n                }\n                var canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                var ctx = canvas.getContext('2d');\n                ctx.drawImage(img, 0, 0);\n                var imgdata;\n                try {\n                    imgdata = ctx.getImageData(0, 0, img.width, img.height);\n                } catch (ex) {\n                    return _onerror();\n                } finally {\n                    if (bloburl) {\n                        URL.revokeObjectURL(bloburl);\n                    }\n                }\n                var hasAlpha = false, rgb = BinaryStream(), alpha = BinaryStream();\n                var rawbytes = imgdata.data;\n                var i = 0;\n                while (i < rawbytes.length) {\n                    rgb.writeByte(rawbytes[i++]);\n                    rgb.writeByte(rawbytes[i++]);\n                    rgb.writeByte(rawbytes[i++]);\n                    var a = rawbytes[i++];\n                    if (a < 255) {\n                        hasAlpha = true;\n                    }\n                    alpha.writeByte(a);\n                }\n                if (hasAlpha) {\n                    img = new PDFRawImage(img.width, img.height, rgb, alpha);\n                } else {\n                    var data = canvas.toDataURL('image/jpeg');\n                    data = data.substr(data.indexOf(';base64,') + 8);\n                    var stream = BinaryStream();\n                    stream.writeBase64(data);\n                    stream.offset(0);\n                    img = new PDFJpegImage(img.width, img.height, stream);\n                }\n                cont(IMAGE_CACHE[url] = img);\n            }\n        }\n        function manyLoader(loadOne) {\n            return function (urls, callback) {\n                var n = urls.length, i = n;\n                if (n === 0) {\n                    return callback();\n                }\n                while (i-- > 0) {\n                    loadOne(urls[i], function () {\n                        if (--n === 0) {\n                            callback();\n                        }\n                    });\n                }\n            };\n        }\n        var loadFonts = manyLoader(loadFont);\n        var loadImages = manyLoader(loadImage);\n        PDFDocument.prototype = {\n            loadFonts: loadFonts,\n            loadImages: loadImages,\n            getFont: function (url) {\n                var font = this.FONTS[url];\n                if (!font) {\n                    font = FONT_CACHE[url];\n                    if (!font) {\n                        throw new Error('Font ' + url + ' has not been loaded');\n                    }\n                    if (font === true) {\n                        font = this.attach(new PDFStandardFont(url));\n                    } else {\n                        font = this.attach(new PDFFont(this, font));\n                    }\n                    this.FONTS[url] = font;\n                }\n                return font;\n            },\n            getImage: function (url) {\n                var img = this.IMAGES[url];\n                if (!img) {\n                    img = IMAGE_CACHE[url];\n                    if (!img) {\n                        throw new Error('Image ' + url + ' has not been loaded');\n                    }\n                    if (img === 'TAINTED') {\n                        return null;\n                    }\n                    img = this.IMAGES[url] = this.attach(img.asStream(this));\n                }\n                return img;\n            },\n            getOpacityGS: function (opacity, forStroke) {\n                var id = parseFloat(opacity).toFixed(3);\n                opacity = parseFloat(id);\n                id += forStroke ? 'S' : 'F';\n                var cache = this._opacityGSCache || (this._opacityGSCache = {});\n                var gs = cache[id];\n                if (!gs) {\n                    var props = { Type: _('ExtGState') };\n                    if (forStroke) {\n                        props.CA = opacity;\n                    } else {\n                        props.ca = opacity;\n                    }\n                    gs = this.attach(new PDFDictionary(props));\n                    gs._resourceName = _('GS' + ++RESOURCE_COUNTER);\n                    cache[id] = gs;\n                }\n                return gs;\n            },\n            dict: function (props) {\n                return new PDFDictionary(props);\n            },\n            name: function (str) {\n                return _(str);\n            },\n            stream: function (props, content) {\n                return new PDFStream(content, props);\n            }\n        };\n        function pad(str, len, ch) {\n            while (str.length < len) {\n                str = ch + str;\n            }\n            return str;\n        }\n        function zeropad(n, len) {\n            return pad(n + '', len, '0');\n        }\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        var isArray = Array.isArray || function (obj) {\n            return obj instanceof Array;\n        };\n        function isDate(obj) {\n            return obj instanceof Date;\n        }\n        function renderArray(a, out) {\n            out('[');\n            if (a.length > 0) {\n                out.withIndent(function () {\n                    for (var i = 0; i < a.length; ++i) {\n                        if (i > 0 && i % 8 === 0) {\n                            out.indent(a[i]);\n                        } else {\n                            out(' ', a[i]);\n                        }\n                    }\n                });\n            }\n            out(' ]');\n        }\n        function renderDate(date, out) {\n            out('(D:', zeropad(date.getUTCFullYear(), 4), zeropad(date.getUTCMonth() + 1, 2), zeropad(date.getUTCDate(), 2), zeropad(date.getUTCHours(), 2), zeropad(date.getUTCMinutes(), 2), zeropad(date.getUTCSeconds(), 2), 'Z)');\n        }\n        function mm2pt(mm) {\n            return mm * (72 / 25.4);\n        }\n        function cm2pt(cm) {\n            return mm2pt(cm * 10);\n        }\n        function in2pt(inch) {\n            return inch * 72;\n        }\n        function unitsToPoints(x, def) {\n            if (typeof x == 'number') {\n                return x;\n            }\n            if (typeof x == 'string') {\n                var m;\n                m = /^\\s*([0-9.]+)\\s*(mm|cm|in|pt)\\s*$/.exec(x);\n                if (m) {\n                    var num = parseFloat(m[1]);\n                    if (!isNaN(num)) {\n                        if (m[2] == 'pt') {\n                            return num;\n                        }\n                        return {\n                            'mm': mm2pt,\n                            'cm': cm2pt,\n                            'in': in2pt\n                        }[m[2]](num);\n                    }\n                }\n            }\n            if (def != null) {\n                return def;\n            }\n            throw new Error('Can\\'t parse unit: ' + x);\n        }\n        function PDFValue() {\n        }\n        PDFValue.prototype.beforeRender = function () {\n        };\n        function defclass(Ctor, proto, Base) {\n            if (!Base) {\n                Base = PDFValue;\n            }\n            Ctor.prototype = new Base();\n            for (var i in proto) {\n                if (hasOwnProperty(proto, i)) {\n                    Ctor.prototype[i] = proto[i];\n                }\n            }\n            return Ctor;\n        }\n        var PDFString = defclass(function PDFString(value) {\n            this.value = value;\n        }, {\n            render: function (out) {\n                var txt = '', esc = this.escape();\n                for (var i = 0; i < esc.length; ++i) {\n                    txt += String.fromCharCode(esc.charCodeAt(i) & 255);\n                }\n                out('(', txt, ')');\n            },\n            escape: function () {\n                return this.value.replace(/([\\(\\)\\\\])/g, '\\\\$1');\n            },\n            toString: function () {\n                return this.value;\n            }\n        });\n        var PDFHexString = defclass(function PDFHexString(value) {\n            this.value = value;\n        }, {\n            render: function (out) {\n                out('<');\n                for (var i = 0; i < this.value.length; ++i) {\n                    out(zeropad(this.value.charCodeAt(i).toString(16), 4));\n                }\n                out('>');\n            }\n        }, PDFString);\n        var PDFName = defclass(function PDFName(name) {\n            this.name = name;\n        }, {\n            render: function (out) {\n                out('/' + this.escape());\n            },\n            escape: function () {\n                return this.name.replace(/[^\\x21-\\x7E]/g, function (c) {\n                    return '#' + zeropad(c.charCodeAt(0).toString(16), 2);\n                });\n            },\n            toString: function () {\n                return this.name;\n            }\n        });\n        var PDFName_cache = {};\n        PDFName.get = _;\n        function _(name) {\n            if (hasOwnProperty(PDFName_cache, name)) {\n                return PDFName_cache[name];\n            }\n            return PDFName_cache[name] = new PDFName(name);\n        }\n        var PDFDictionary = defclass(function PDFDictionary(props) {\n            this.props = props;\n        }, {\n            render: function (out) {\n                var props = this.props, empty = true;\n                out('<<');\n                out.withIndent(function () {\n                    for (var i in props) {\n                        if (hasOwnProperty(props, i) && !/^_/.test(i)) {\n                            empty = false;\n                            out.indent(_(i), ' ', props[i]);\n                        }\n                    }\n                });\n                if (!empty) {\n                    out.indent();\n                }\n                out('>>');\n            }\n        });\n        var PDFStream = defclass(function PDFStream(data, props, compress) {\n            if (typeof data == 'string') {\n                var tmp = BinaryStream();\n                tmp.write(data);\n                data = tmp;\n            }\n            this.data = data;\n            this.props = props || {};\n            this.compress = compress;\n        }, {\n            render: function (out) {\n                var data = this.data.get(), props = this.props;\n                if (this.compress && window.pako && typeof window.pako.deflate == 'function') {\n                    if (!props.Filter) {\n                        props.Filter = [];\n                    } else if (!(props.Filter instanceof Array)) {\n                        props.Filter = [props.Filter];\n                    }\n                    props.Filter.unshift(_('FlateDecode'));\n                    data = window.pako.deflate(data);\n                }\n                props.Length = data.length;\n                out(new PDFDictionary(props), ' stream', NL);\n                out.writeData(data);\n                out(NL, 'endstream');\n            }\n        });\n        var PDFCatalog = defclass(function PDFCatalog(props) {\n            props = this.props = props || {};\n            props.Type = _('Catalog');\n        }, {\n            setPages: function (pagesObj) {\n                this.props.Pages = pagesObj;\n            }\n        }, PDFDictionary);\n        var PDFPageTree = defclass(function PDFPageTree() {\n            this.props = {\n                Type: _('Pages'),\n                Kids: [],\n                Count: 0\n            };\n        }, {\n            addPage: function (pageObj) {\n                this.props.Kids.push(pageObj);\n                this.props.Count++;\n            }\n        }, PDFDictionary);\n        function PDFJpegImage(width, height, data) {\n            this.asStream = function () {\n                var stream = new PDFStream(data, {\n                    Type: _('XObject'),\n                    Subtype: _('Image'),\n                    Width: width,\n                    Height: height,\n                    BitsPerComponent: 8,\n                    ColorSpace: _('DeviceRGB'),\n                    Filter: _('DCTDecode')\n                });\n                stream._resourceName = _('I' + ++RESOURCE_COUNTER);\n                return stream;\n            };\n        }\n        function PDFRawImage(width, height, rgb, alpha) {\n            this.asStream = function (pdf) {\n                var mask = new PDFStream(alpha, {\n                    Type: _('XObject'),\n                    Subtype: _('Image'),\n                    Width: width,\n                    Height: height,\n                    BitsPerComponent: 8,\n                    ColorSpace: _('DeviceGray')\n                }, true);\n                var stream = new PDFStream(rgb, {\n                    Type: _('XObject'),\n                    Subtype: _('Image'),\n                    Width: width,\n                    Height: height,\n                    BitsPerComponent: 8,\n                    ColorSpace: _('DeviceRGB'),\n                    SMask: pdf.attach(mask)\n                }, true);\n                stream._resourceName = _('I' + ++RESOURCE_COUNTER);\n                return stream;\n            };\n        }\n        var PDFStandardFont = defclass(function PDFStandardFont(name) {\n            this.props = {\n                Type: _('Font'),\n                Subtype: _('Type1'),\n                BaseFont: _(name)\n            };\n            this._resourceName = _('F' + ++RESOURCE_COUNTER);\n        }, {\n            encodeText: function (str) {\n                return new PDFString(str + '');\n            }\n        }, PDFDictionary);\n        var PDFFont = defclass(function PDFFont(pdf, font, props) {\n            props = this.props = props || {};\n            props.Type = _('Font');\n            props.Subtype = _('Type0');\n            props.Encoding = _('Identity-H');\n            this._pdf = pdf;\n            this._font = font;\n            this._sub = font.makeSubset();\n            this._resourceName = _('F' + ++RESOURCE_COUNTER);\n            var head = font.head;\n            this.name = font.psName;\n            var scale = this.scale = font.scale;\n            this.bbox = [\n                head.xMin * scale,\n                head.yMin * scale,\n                head.xMax * scale,\n                head.yMax * scale\n            ];\n            this.italicAngle = font.post.italicAngle;\n            this.ascent = font.ascent * scale;\n            this.descent = font.descent * scale;\n            this.lineGap = font.lineGap * scale;\n            this.capHeight = font.os2.capHeight || this.ascent;\n            this.xHeight = font.os2.xHeight || 0;\n            this.stemV = 0;\n            this.familyClass = (font.os2.familyClass || 0) >> 8;\n            this.isSerif = this.familyClass >= 1 && this.familyClass <= 7;\n            this.isScript = this.familyClass == 10;\n            this.flags = (font.post.isFixedPitch ? 1 : 0) | (this.isSerif ? 1 << 1 : 0) | (this.isScript ? 1 << 3 : 0) | (this.italicAngle !== 0 ? 1 << 6 : 0) | 1 << 5;\n        }, {\n            encodeText: function (text) {\n                return new PDFHexString(this._sub.encodeText(text + ''));\n            },\n            getTextWidth: function (fontSize, text) {\n                var width = 0, codeMap = this._font.cmap.codeMap;\n                for (var i = 0; i < text.length; ++i) {\n                    var glyphId = codeMap[text.charCodeAt(i)];\n                    width += this._font.widthOfGlyph(glyphId || 0);\n                }\n                return width * fontSize / 1000;\n            },\n            beforeRender: function () {\n                var self = this;\n                var sub = self._sub;\n                var data = sub.render();\n                var fontStream = new PDFStream(BinaryStream(data), { Length1: data.length }, true);\n                var descriptor = self._pdf.attach(new PDFDictionary({\n                    Type: _('FontDescriptor'),\n                    FontName: _(self._sub.psName),\n                    FontBBox: self.bbox,\n                    Flags: self.flags,\n                    StemV: self.stemV,\n                    ItalicAngle: self.italicAngle,\n                    Ascent: self.ascent,\n                    Descent: self.descent,\n                    CapHeight: self.capHeight,\n                    XHeight: self.xHeight,\n                    FontFile2: self._pdf.attach(fontStream)\n                }));\n                var cmap = sub.ncid2ogid;\n                var firstChar = sub.firstChar;\n                var lastChar = sub.lastChar;\n                var charWidths = [];\n                (function loop(i, chunk) {\n                    if (i <= lastChar) {\n                        var gid = cmap[i];\n                        if (gid == null) {\n                            loop(i + 1);\n                        } else {\n                            if (!chunk) {\n                                charWidths.push(i, chunk = []);\n                            }\n                            chunk.push(self._font.widthOfGlyph(gid));\n                            loop(i + 1, chunk);\n                        }\n                    }\n                }(firstChar));\n                var descendant = new PDFDictionary({\n                    Type: _('Font'),\n                    Subtype: _('CIDFontType2'),\n                    BaseFont: _(self._sub.psName),\n                    CIDSystemInfo: new PDFDictionary({\n                        Registry: new PDFString('Adobe'),\n                        Ordering: new PDFString('Identity'),\n                        Supplement: 0\n                    }),\n                    FontDescriptor: descriptor,\n                    FirstChar: firstChar,\n                    LastChar: lastChar,\n                    DW: Math.round(self._font.widthOfGlyph(0)),\n                    W: charWidths,\n                    CIDToGIDMap: self._pdf.attach(self._makeCidToGidMap())\n                });\n                var dict = self.props;\n                dict.BaseFont = _(self._sub.psName);\n                dict.DescendantFonts = [self._pdf.attach(descendant)];\n                var unimap = new PDFToUnicodeCmap(firstChar, lastChar, sub.subset);\n                var unimapStream = new PDFStream(makeOutput(), null, true);\n                unimapStream.data(unimap);\n                dict.ToUnicode = self._pdf.attach(unimapStream);\n            },\n            _makeCidToGidMap: function () {\n                return new PDFStream(BinaryStream(this._sub.cidToGidMap()), null, true);\n            }\n        }, PDFDictionary);\n        var PDFToUnicodeCmap = defclass(function PDFUnicodeCMap(firstChar, lastChar, map) {\n            this.firstChar = firstChar;\n            this.lastChar = lastChar;\n            this.map = map;\n        }, {\n            render: function (out) {\n                out.indent('/CIDInit /ProcSet findresource begin');\n                out.indent('12 dict begin');\n                out.indent('begincmap');\n                out.indent('/CIDSystemInfo <<');\n                out.indent('  /Registry (Adobe)');\n                out.indent('  /Ordering (UCS)');\n                out.indent('  /Supplement 0');\n                out.indent('>> def');\n                out.indent('/CMapName /Adobe-Identity-UCS def');\n                out.indent('/CMapType 2 def');\n                out.indent('1 begincodespacerange');\n                out.indent('  <0000><ffff>');\n                out.indent('endcodespacerange');\n                var self = this;\n                out.indent(self.lastChar - self.firstChar + 1, ' beginbfchar');\n                out.withIndent(function () {\n                    for (var code = self.firstChar; code <= self.lastChar; ++code) {\n                        var unicode = self.map[code];\n                        var str = kendo.util.ucs2encode([unicode]);\n                        out.indent('<', zeropad(code.toString(16), 4), '>', '<');\n                        for (var i = 0; i < str.length; ++i) {\n                            out(zeropad(str.charCodeAt(i).toString(16), 4));\n                        }\n                        out('>');\n                    }\n                });\n                out.indent('endbfchar');\n                out.indent('endcmap');\n                out.indent('CMapName currentdict /CMap defineresource pop');\n                out.indent('end');\n                out.indent('end');\n            }\n        });\n        function makeHash(a) {\n            return a.map(function (x) {\n                return isArray(x) ? makeHash(x) : typeof x == 'number' ? (Math.round(x * 1000) / 1000).toFixed(3) : x;\n            }).join(' ');\n        }\n        function cacheColorGradientFunction(pdf, r1, g1, b1, r2, g2, b2) {\n            var hash = makeHash([\n                r1,\n                g1,\n                b1,\n                r2,\n                g2,\n                b2\n            ]);\n            var func = pdf.GRAD_COL_FUNCTIONS[hash];\n            if (!func) {\n                func = pdf.GRAD_COL_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n                    FunctionType: 2,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Range: [\n                        0,\n                        1,\n                        0,\n                        1,\n                        0,\n                        1\n                    ],\n                    N: 1,\n                    C0: [\n                        r1,\n                        g1,\n                        b1\n                    ],\n                    C1: [\n                        r2,\n                        g2,\n                        b2\n                    ]\n                }));\n            }\n            return func;\n        }\n        function cacheOpacityGradientFunction(pdf, a1, a2) {\n            var hash = makeHash([\n                a1,\n                a2\n            ]);\n            var func = pdf.GRAD_OPC_FUNCTIONS[hash];\n            if (!func) {\n                func = pdf.GRAD_OPC_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n                    FunctionType: 2,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Range: [\n                        0,\n                        1\n                    ],\n                    N: 1,\n                    C0: [a1],\n                    C1: [a2]\n                }));\n            }\n            return func;\n        }\n        function makeGradientFunctions(pdf, stops) {\n            var hasAlpha = false;\n            var opacities = [];\n            var colors = [];\n            var offsets = [];\n            var encode = [];\n            var i, prev, cur, prevColor, curColor;\n            for (i = 1; i < stops.length; ++i) {\n                prev = stops[i - 1];\n                cur = stops[i];\n                prevColor = prev.color;\n                curColor = cur.color;\n                colors.push(cacheColorGradientFunction(pdf, prevColor.r, prevColor.g, prevColor.b, curColor.r, curColor.g, curColor.b));\n                if (prevColor.a < 1 || curColor.a < 1) {\n                    hasAlpha = true;\n                }\n                offsets.push(cur.offset);\n                encode.push(0, 1);\n            }\n            if (hasAlpha) {\n                for (i = 1; i < stops.length; ++i) {\n                    prev = stops[i - 1];\n                    cur = stops[i];\n                    prevColor = prev.color;\n                    curColor = cur.color;\n                    opacities.push(cacheOpacityGradientFunction(pdf, prevColor.a, curColor.a));\n                }\n            }\n            offsets.pop();\n            return {\n                hasAlpha: hasAlpha,\n                colors: assemble(colors),\n                opacities: hasAlpha ? assemble(opacities) : null\n            };\n            function assemble(funcs) {\n                if (funcs.length == 1) {\n                    return funcs[0];\n                }\n                return {\n                    FunctionType: 3,\n                    Functions: funcs,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Bounds: offsets,\n                    Encode: encode\n                };\n            }\n        }\n        function cacheColorGradient(pdf, isRadial, stops, coords, funcs, box) {\n            var shading, hash;\n            if (!box) {\n                var a = [isRadial].concat(coords);\n                stops.forEach(function (x) {\n                    a.push(x.offset, x.color.r, x.color.g, x.color.b);\n                });\n                hash = makeHash(a);\n                shading = pdf.GRAD_COL[hash];\n            }\n            if (!shading) {\n                shading = new PDFDictionary({\n                    Type: _('Shading'),\n                    ShadingType: isRadial ? 3 : 2,\n                    ColorSpace: _('DeviceRGB'),\n                    Coords: coords,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Function: funcs,\n                    Extend: [\n                        true,\n                        true\n                    ]\n                });\n                pdf.attach(shading);\n                shading._resourceName = 'S' + ++RESOURCE_COUNTER;\n                if (hash) {\n                    pdf.GRAD_COL[hash] = shading;\n                }\n            }\n            return shading;\n        }\n        function cacheOpacityGradient(pdf, isRadial, stops, coords, funcs, box) {\n            var opacity, hash;\n            if (!box) {\n                var a = [isRadial].concat(coords);\n                stops.forEach(function (x) {\n                    a.push(x.offset, x.color.a);\n                });\n                hash = makeHash(a);\n                opacity = pdf.GRAD_OPC[hash];\n            }\n            if (!opacity) {\n                opacity = new PDFDictionary({\n                    Type: _('ExtGState'),\n                    AIS: false,\n                    CA: 1,\n                    ca: 1,\n                    SMask: {\n                        Type: _('Mask'),\n                        S: _('Luminosity'),\n                        G: pdf.attach(new PDFStream('/a0 gs /s0 sh', {\n                            Type: _('XObject'),\n                            Subtype: _('Form'),\n                            FormType: 1,\n                            BBox: box ? [\n                                box.left,\n                                box.top + box.height,\n                                box.left + box.width,\n                                box.top\n                            ] : [\n                                0,\n                                1,\n                                1,\n                                0\n                            ],\n                            Group: {\n                                Type: _('Group'),\n                                S: _('Transparency'),\n                                CS: _('DeviceGray'),\n                                I: true\n                            },\n                            Resources: {\n                                ExtGState: {\n                                    a0: {\n                                        CA: 1,\n                                        ca: 1\n                                    }\n                                },\n                                Shading: {\n                                    s0: {\n                                        ColorSpace: _('DeviceGray'),\n                                        Coords: coords,\n                                        Domain: [\n                                            0,\n                                            1\n                                        ],\n                                        ShadingType: isRadial ? 3 : 2,\n                                        Function: funcs,\n                                        Extend: [\n                                            true,\n                                            true\n                                        ]\n                                    }\n                                }\n                            }\n                        }))\n                    }\n                });\n                pdf.attach(opacity);\n                opacity._resourceName = 'O' + ++RESOURCE_COUNTER;\n                if (hash) {\n                    pdf.GRAD_OPC[hash] = opacity;\n                }\n            }\n            return opacity;\n        }\n        function cacheGradient(pdf, gradient, box) {\n            var isRadial = gradient.type == 'radial';\n            var funcs = makeGradientFunctions(pdf, gradient.stops);\n            var coords = isRadial ? [\n                gradient.start.x,\n                gradient.start.y,\n                gradient.start.r,\n                gradient.end.x,\n                gradient.end.y,\n                gradient.end.r\n            ] : [\n                gradient.start.x,\n                gradient.start.y,\n                gradient.end.x,\n                gradient.end.y\n            ];\n            var shading = cacheColorGradient(pdf, isRadial, gradient.stops, coords, funcs.colors, gradient.userSpace && box);\n            var opacity = funcs.hasAlpha ? cacheOpacityGradient(pdf, isRadial, gradient.stops, coords, funcs.opacities, gradient.userSpace && box) : null;\n            return {\n                hasAlpha: funcs.hasAlpha,\n                shading: shading,\n                opacity: opacity\n            };\n        }\n        var PDFPage = defclass(function PDFPage(pdf, props) {\n            this._pdf = pdf;\n            this._rcount = 0;\n            this._textMode = false;\n            this._fontResources = {};\n            this._gsResources = {};\n            this._xResources = {};\n            this._patResources = {};\n            this._shResources = {};\n            this._opacity = 1;\n            this._matrix = [\n                1,\n                0,\n                0,\n                1,\n                0,\n                0\n            ];\n            this._annotations = [];\n            this._font = null;\n            this._fontSize = null;\n            this._contextStack = [];\n            props = this.props = props || {};\n            props.Type = _('Page');\n            props.ProcSet = [\n                _('PDF'),\n                _('Text'),\n                _('ImageB'),\n                _('ImageC'),\n                _('ImageI')\n            ];\n            props.Resources = new PDFDictionary({\n                Font: new PDFDictionary(this._fontResources),\n                ExtGState: new PDFDictionary(this._gsResources),\n                XObject: new PDFDictionary(this._xResources),\n                Pattern: new PDFDictionary(this._patResources),\n                Shading: new PDFDictionary(this._shResources)\n            });\n            props.Annots = this._annotations;\n        }, {\n            _out: function () {\n                this._content.data.apply(null, arguments);\n            },\n            transform: function (a, b, c, d, e, f) {\n                if (!isIdentityMatrix(arguments)) {\n                    this._matrix = mmul(arguments, this._matrix);\n                    this._out(a, ' ', b, ' ', c, ' ', d, ' ', e, ' ', f, ' cm');\n                    this._out(NL);\n                }\n            },\n            translate: function (dx, dy) {\n                this.transform(1, 0, 0, 1, dx, dy);\n            },\n            scale: function (sx, sy) {\n                this.transform(sx, 0, 0, sy, 0, 0);\n            },\n            rotate: function (angle) {\n                var cos = Math.cos(angle), sin = Math.sin(angle);\n                this.transform(cos, sin, -sin, cos, 0, 0);\n            },\n            beginText: function () {\n                this._textMode = true;\n                this._out('BT', NL);\n            },\n            endText: function () {\n                this._textMode = false;\n                this._out('ET', NL);\n            },\n            _requireTextMode: function () {\n                if (!this._textMode) {\n                    throw new Error('Text mode required; call page.beginText() first');\n                }\n            },\n            _requireFont: function () {\n                if (!this._font) {\n                    throw new Error('No font selected; call page.setFont() first');\n                }\n            },\n            setFont: function (font, size) {\n                this._requireTextMode();\n                if (font == null) {\n                    font = this._font;\n                } else if (!(font instanceof PDFFont)) {\n                    font = this._pdf.getFont(font);\n                }\n                if (size == null) {\n                    size = this._fontSize;\n                }\n                this._fontResources[font._resourceName] = font;\n                this._font = font;\n                this._fontSize = size;\n                this._out(font._resourceName, ' ', size, ' Tf', NL);\n            },\n            setTextLeading: function (size) {\n                this._requireTextMode();\n                this._out(size, ' TL', NL);\n            },\n            setTextRenderingMode: function (mode) {\n                this._requireTextMode();\n                this._out(mode, ' Tr', NL);\n            },\n            showText: function (text, requestedWidth) {\n                this._requireFont();\n                if (text.length > 1 && requestedWidth && this._font instanceof PDFFont) {\n                    var outputWidth = this._font.getTextWidth(this._fontSize, text);\n                    var scale = requestedWidth / outputWidth * 100;\n                    this._out(scale, ' Tz ');\n                }\n                this._out(this._font.encodeText(text), ' Tj', NL);\n            },\n            showTextNL: function (text) {\n                this._requireFont();\n                this._out(this._font.encodeText(text), ' \\'', NL);\n            },\n            addLink: function (uri, box) {\n                var ll = this._toPage({\n                    x: box.left,\n                    y: box.bottom\n                });\n                var ur = this._toPage({\n                    x: box.right,\n                    y: box.top\n                });\n                this._annotations.push(new PDFDictionary({\n                    Type: _('Annot'),\n                    Subtype: _('Link'),\n                    Rect: [\n                        ll.x,\n                        ll.y,\n                        ur.x,\n                        ur.y\n                    ],\n                    Border: [\n                        0,\n                        0,\n                        0\n                    ],\n                    A: new PDFDictionary({\n                        Type: _('Action'),\n                        S: _('URI'),\n                        URI: new PDFString(uri)\n                    })\n                }));\n            },\n            setStrokeColor: function (r, g, b) {\n                this._out(r, ' ', g, ' ', b, ' RG', NL);\n            },\n            setOpacity: function (opacity) {\n                this.setFillOpacity(opacity);\n                this.setStrokeOpacity(opacity);\n                this._opacity *= opacity;\n            },\n            setStrokeOpacity: function (opacity) {\n                if (opacity < 1) {\n                    var gs = this._pdf.getOpacityGS(this._opacity * opacity, true);\n                    this._gsResources[gs._resourceName] = gs;\n                    this._out(gs._resourceName, ' gs', NL);\n                }\n            },\n            setFillColor: function (r, g, b) {\n                this._out(r, ' ', g, ' ', b, ' rg', NL);\n            },\n            setFillOpacity: function (opacity) {\n                if (opacity < 1) {\n                    var gs = this._pdf.getOpacityGS(this._opacity * opacity, false);\n                    this._gsResources[gs._resourceName] = gs;\n                    this._out(gs._resourceName, ' gs', NL);\n                }\n            },\n            gradient: function (gradient, box) {\n                this.save();\n                this.rect(box.left, box.top, box.width, box.height);\n                this.clip();\n                if (!gradient.userSpace) {\n                    this.transform(box.width, 0, 0, box.height, box.left, box.top);\n                }\n                var g = cacheGradient(this._pdf, gradient, box);\n                var sname = g.shading._resourceName, oname;\n                this._shResources[sname] = g.shading;\n                if (g.hasAlpha) {\n                    oname = g.opacity._resourceName;\n                    this._gsResources[oname] = g.opacity;\n                    this._out('/' + oname + ' gs ');\n                }\n                this._out('/' + sname + ' sh', NL);\n                this.restore();\n            },\n            setDashPattern: function (dashArray, dashPhase) {\n                this._out(dashArray, ' ', dashPhase, ' d', NL);\n            },\n            setLineWidth: function (width) {\n                this._out(width, ' w', NL);\n            },\n            setLineCap: function (lineCap) {\n                this._out(lineCap, ' J', NL);\n            },\n            setLineJoin: function (lineJoin) {\n                this._out(lineJoin, ' j', NL);\n            },\n            setMitterLimit: function (mitterLimit) {\n                this._out(mitterLimit, ' M', NL);\n            },\n            save: function () {\n                this._contextStack.push(this._context());\n                this._out('q', NL);\n            },\n            restore: function () {\n                this._out('Q', NL);\n                this._context(this._contextStack.pop());\n            },\n            moveTo: function (x, y) {\n                this._out(x, ' ', y, ' m', NL);\n            },\n            lineTo: function (x, y) {\n                this._out(x, ' ', y, ' l', NL);\n            },\n            bezier: function (x1, y1, x2, y2, x3, y3) {\n                this._out(x1, ' ', y1, ' ', x2, ' ', y2, ' ', x3, ' ', y3, ' c', NL);\n            },\n            bezier1: function (x1, y1, x3, y3) {\n                this._out(x1, ' ', y1, ' ', x3, ' ', y3, ' y', NL);\n            },\n            bezier2: function (x2, y2, x3, y3) {\n                this._out(x2, ' ', y2, ' ', x3, ' ', y3, ' v', NL);\n            },\n            close: function () {\n                this._out('h', NL);\n            },\n            rect: function (x, y, w, h) {\n                this._out(x, ' ', y, ' ', w, ' ', h, ' re', NL);\n            },\n            ellipse: function (x, y, rx, ry) {\n                function _X(v) {\n                    return x + v;\n                }\n                function _Y(v) {\n                    return y + v;\n                }\n                var k = 0.5522847498307936;\n                this.moveTo(_X(0), _Y(ry));\n                this.bezier(_X(rx * k), _Y(ry), _X(rx), _Y(ry * k), _X(rx), _Y(0));\n                this.bezier(_X(rx), _Y(-ry * k), _X(rx * k), _Y(-ry), _X(0), _Y(-ry));\n                this.bezier(_X(-rx * k), _Y(-ry), _X(-rx), _Y(-ry * k), _X(-rx), _Y(0));\n                this.bezier(_X(-rx), _Y(ry * k), _X(-rx * k), _Y(ry), _X(0), _Y(ry));\n            },\n            circle: function (x, y, r) {\n                this.ellipse(x, y, r, r);\n            },\n            stroke: function () {\n                this._out('S', NL);\n            },\n            nop: function () {\n                this._out('n', NL);\n            },\n            clip: function () {\n                this._out('W n', NL);\n            },\n            clipStroke: function () {\n                this._out('W S', NL);\n            },\n            closeStroke: function () {\n                this._out('s', NL);\n            },\n            fill: function () {\n                this._out('f', NL);\n            },\n            fillStroke: function () {\n                this._out('B', NL);\n            },\n            drawImage: function (url) {\n                var img = this._pdf.getImage(url);\n                if (img) {\n                    this._xResources[img._resourceName] = img;\n                    this._out(img._resourceName, ' Do', NL);\n                }\n            },\n            comment: function (txt) {\n                var self = this;\n                txt.split(/\\r?\\n/g).forEach(function (line) {\n                    self._out('% ', line, NL);\n                });\n            },\n            _context: function (val) {\n                if (val != null) {\n                    this._opacity = val.opacity;\n                    this._matrix = val.matrix;\n                } else {\n                    return {\n                        opacity: this._opacity,\n                        matrix: this._matrix\n                    };\n                }\n            },\n            _toPage: function (p) {\n                var m = this._matrix;\n                var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n                return {\n                    x: a * p.x + c * p.y + e,\n                    y: b * p.x + d * p.y + f\n                };\n            }\n        }, PDFDictionary);\n        function BinaryStream(data) {\n            var offset = 0, length = 0;\n            if (data == null) {\n                data = HAS_TYPED_ARRAYS ? new Uint8Array(256) : [];\n            } else {\n                length = data.length;\n            }\n            var ensure = HAS_TYPED_ARRAYS ? function (len) {\n                if (len >= data.length) {\n                    var tmp = new Uint8Array(Math.max(len + 256, data.length * 2));\n                    tmp.set(data, 0);\n                    data = tmp;\n                }\n            } : function () {\n            };\n            var get = HAS_TYPED_ARRAYS ? function () {\n                return new Uint8Array(data.buffer, 0, length);\n            } : function () {\n                return data;\n            };\n            var write = HAS_TYPED_ARRAYS ? function (bytes) {\n                if (typeof bytes == 'string') {\n                    return writeString(bytes);\n                }\n                var len = bytes.length;\n                ensure(offset + len);\n                data.set(bytes, offset);\n                offset += len;\n                if (offset > length) {\n                    length = offset;\n                }\n            } : function (bytes) {\n                if (typeof bytes == 'string') {\n                    return writeString(bytes);\n                }\n                for (var i = 0; i < bytes.length; ++i) {\n                    writeByte(bytes[i]);\n                }\n            };\n            var slice = HAS_TYPED_ARRAYS ? function (start, length) {\n                if (data.buffer.slice) {\n                    return new Uint8Array(data.buffer.slice(start, start + length));\n                } else {\n                    var x = new Uint8Array(length);\n                    x.set(new Uint8Array(data.buffer, start, length));\n                    return x;\n                }\n            } : function (start, length) {\n                return data.slice(start, start + length);\n            };\n            function eof() {\n                return offset >= length;\n            }\n            function readByte() {\n                return offset < length ? data[offset++] : 0;\n            }\n            function writeByte(b) {\n                ensure(offset);\n                data[offset++] = b & 255;\n                if (offset > length) {\n                    length = offset;\n                }\n            }\n            function readShort() {\n                return readByte() << 8 | readByte();\n            }\n            function writeShort(w) {\n                writeByte(w >> 8);\n                writeByte(w);\n            }\n            function readShort_() {\n                var w = readShort();\n                return w >= 32768 ? w - 65536 : w;\n            }\n            function writeShort_(w) {\n                writeShort(w < 0 ? w + 65536 : w);\n            }\n            function readLong() {\n                return readShort() * 65536 + readShort();\n            }\n            function writeLong(w) {\n                writeShort(w >>> 16 & 65535);\n                writeShort(w & 65535);\n            }\n            function readLong_() {\n                var w = readLong();\n                return w >= 2147483648 ? w - 4294967296 : w;\n            }\n            function writeLong_(w) {\n                writeLong(w < 0 ? w + 4294967296 : w);\n            }\n            function readFixed() {\n                return readLong() / 65536;\n            }\n            function writeFixed(f) {\n                writeLong(Math.round(f * 65536));\n            }\n            function readFixed_() {\n                return readLong_() / 65536;\n            }\n            function writeFixed_(f) {\n                writeLong_(Math.round(f * 65536));\n            }\n            function read(len) {\n                return times(len, readByte);\n            }\n            function readString(len) {\n                return String.fromCharCode.apply(String, read(len));\n            }\n            function writeString(str) {\n                for (var i = 0; i < str.length; ++i) {\n                    writeByte(str.charCodeAt(i));\n                }\n            }\n            function times(n, reader) {\n                for (var ret = new Array(n), i = 0; i < n; ++i) {\n                    ret[i] = reader();\n                }\n                return ret;\n            }\n            var stream = {\n                eof: eof,\n                readByte: readByte,\n                writeByte: writeByte,\n                readShort: readShort,\n                writeShort: writeShort,\n                readLong: readLong,\n                writeLong: writeLong,\n                readFixed: readFixed,\n                writeFixed: writeFixed,\n                readShort_: readShort_,\n                writeShort_: writeShort_,\n                readLong_: readLong_,\n                writeLong_: writeLong_,\n                readFixed_: readFixed_,\n                writeFixed_: writeFixed_,\n                read: read,\n                write: write,\n                readString: readString,\n                writeString: writeString,\n                times: times,\n                get: get,\n                slice: slice,\n                offset: function (pos) {\n                    if (pos != null) {\n                        offset = pos;\n                        return stream;\n                    }\n                    return offset;\n                },\n                skip: function (nbytes) {\n                    offset += nbytes;\n                },\n                toString: function () {\n                    throw new Error('FIX CALLER.  BinaryStream is no longer convertible to string!');\n                },\n                length: function () {\n                    return length;\n                },\n                saveExcursion: function (f) {\n                    var pos = offset;\n                    try {\n                        return f();\n                    } finally {\n                        offset = pos;\n                    }\n                },\n                writeBase64: function (base64) {\n                    if (window.atob) {\n                        writeString(window.atob(base64));\n                    } else {\n                        write(BASE64.decode(base64));\n                    }\n                },\n                base64: function () {\n                    return BASE64.encode(get());\n                }\n            };\n            return stream;\n        }\n        function unquote(str) {\n            return str.replace(/^\\s*(['\"])(.*)\\1\\s*$/, '$2');\n        }\n        function parseFontDef(fontdef) {\n            var rx = /^\\s*((normal|italic)\\s+)?((normal|small-caps)\\s+)?((normal|bold|\\d+)\\s+)?(([0-9.]+)(px|pt))(\\/(([0-9.]+)(px|pt)|normal))?\\s+(.*?)\\s*$/i;\n            var m = rx.exec(fontdef);\n            if (!m) {\n                return {\n                    fontSize: 12,\n                    fontFamily: 'sans-serif'\n                };\n            }\n            var fontSize = m[8] ? parseInt(m[8], 10) : 12;\n            return {\n                italic: m[2] && m[2].toLowerCase() == 'italic',\n                variant: m[4],\n                bold: m[6] && /bold|700/i.test(m[6]),\n                fontSize: fontSize,\n                lineHeight: m[12] ? m[12] == 'normal' ? fontSize : parseInt(m[12], 10) : null,\n                fontFamily: m[14].split(/\\s*,\\s*/g).map(unquote)\n            };\n        }\n        function getFontURL(style) {\n            function mkFamily(name) {\n                if (style.bold) {\n                    name += '|bold';\n                }\n                if (style.italic) {\n                    name += '|italic';\n                }\n                return name.toLowerCase();\n            }\n            var fontFamily = style.fontFamily;\n            var name, url;\n            if (fontFamily instanceof Array) {\n                for (var i = 0; i < fontFamily.length; ++i) {\n                    name = mkFamily(fontFamily[i]);\n                    url = FONT_MAPPINGS[name];\n                    if (url) {\n                        break;\n                    }\n                }\n            } else {\n                url = FONT_MAPPINGS[fontFamily.toLowerCase()];\n            }\n            while (typeof url == 'function') {\n                url = url();\n            }\n            if (!url) {\n                url = 'Times-Roman';\n            }\n            return url;\n        }\n        var FONT_MAPPINGS = {\n            'serif': 'Times-Roman',\n            'serif|bold': 'Times-Bold',\n            'serif|italic': 'Times-Italic',\n            'serif|bold|italic': 'Times-BoldItalic',\n            'sans-serif': 'Helvetica',\n            'sans-serif|bold': 'Helvetica-Bold',\n            'sans-serif|italic': 'Helvetica-Oblique',\n            'sans-serif|bold|italic': 'Helvetica-BoldOblique',\n            'monospace': 'Courier',\n            'monospace|bold': 'Courier-Bold',\n            'monospace|italic': 'Courier-Oblique',\n            'monospace|bold|italic': 'Courier-BoldOblique',\n            'zapfdingbats': 'ZapfDingbats',\n            'zapfdingbats|bold': 'ZapfDingbats',\n            'zapfdingbats|italic': 'ZapfDingbats',\n            'zapfdingbats|bold|italic': 'ZapfDingbats'\n        };\n        function fontAlias(alias, name) {\n            alias = alias.toLowerCase();\n            FONT_MAPPINGS[alias] = function () {\n                return FONT_MAPPINGS[name];\n            };\n            FONT_MAPPINGS[alias + '|bold'] = function () {\n                return FONT_MAPPINGS[name + '|bold'];\n            };\n            FONT_MAPPINGS[alias + '|italic'] = function () {\n                return FONT_MAPPINGS[name + '|italic'];\n            };\n            FONT_MAPPINGS[alias + '|bold|italic'] = function () {\n                return FONT_MAPPINGS[name + '|bold|italic'];\n            };\n        }\n        fontAlias('Times New Roman', 'serif');\n        fontAlias('Courier New', 'monospace');\n        fontAlias('Arial', 'sans-serif');\n        fontAlias('Helvetica', 'sans-serif');\n        fontAlias('Verdana', 'sans-serif');\n        fontAlias('Tahoma', 'sans-serif');\n        fontAlias('Georgia', 'sans-serif');\n        fontAlias('Monaco', 'monospace');\n        fontAlias('Andale Mono', 'monospace');\n        function defineFont(name, url) {\n            if (arguments.length == 1) {\n                for (var i in name) {\n                    if (hasOwnProperty(name, i)) {\n                        defineFont(i, name[i]);\n                    }\n                }\n            } else {\n                name = name.toLowerCase();\n                FONT_MAPPINGS[name] = url;\n                switch (name) {\n                case 'dejavu sans':\n                    FONT_MAPPINGS['sans-serif'] = url;\n                    break;\n                case 'dejavu sans|bold':\n                    FONT_MAPPINGS['sans-serif|bold'] = url;\n                    break;\n                case 'dejavu sans|italic':\n                    FONT_MAPPINGS['sans-serif|italic'] = url;\n                    break;\n                case 'dejavu sans|bold|italic':\n                    FONT_MAPPINGS['sans-serif|bold|italic'] = url;\n                    break;\n                case 'dejavu serif':\n                    FONT_MAPPINGS['serif'] = url;\n                    break;\n                case 'dejavu serif|bold':\n                    FONT_MAPPINGS['serif|bold'] = url;\n                    break;\n                case 'dejavu serif|italic':\n                    FONT_MAPPINGS['serif|italic'] = url;\n                    break;\n                case 'dejavu serif|bold|italic':\n                    FONT_MAPPINGS['serif|bold|italic'] = url;\n                    break;\n                case 'dejavu mono':\n                    FONT_MAPPINGS['monospace'] = url;\n                    break;\n                case 'dejavu mono|bold':\n                    FONT_MAPPINGS['monospace|bold'] = url;\n                    break;\n                case 'dejavu mono|italic':\n                    FONT_MAPPINGS['monospace|italic'] = url;\n                    break;\n                case 'dejavu mono|bold|italic':\n                    FONT_MAPPINGS['monospace|bold|italic'] = url;\n                    break;\n                }\n            }\n        }\n        kendo.pdf = {\n            Document: PDFDocument,\n            BinaryStream: BinaryStream,\n            defineFont: defineFont,\n            parseFontDef: parseFontDef,\n            getFontURL: getFontURL,\n            loadFonts: loadFonts,\n            loadImages: loadImages,\n            getPaperOptions: getPaperOptions,\n            TEXT_RENDERING_MODE: {\n                fill: 0,\n                stroke: 1,\n                fillAndStroke: 2,\n                invisible: 3,\n                fillAndClip: 4,\n                strokeAndClip: 5,\n                fillStrokeClip: 6,\n                clip: 7\n            }\n        };\n        function mmul(a, b) {\n            var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n            var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n            return [\n                a1 * a2 + b1 * c2,\n                a1 * b2 + b1 * d2,\n                c1 * a2 + d1 * c2,\n                c1 * b2 + d1 * d2,\n                e1 * a2 + f1 * c2 + e2,\n                e1 * b2 + f1 * d2 + f2\n            ];\n        }\n        function isIdentityMatrix(m) {\n            return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1 && m[4] === 0 && m[5] === 0;\n        }\n    }(window, parseFloat));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/ttf', [\n        'pdf/core',\n        'util/main'\n    ], f);\n}(function () {\n    (function (window) {\n        'use strict';\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        function sortedKeys(obj) {\n            return Object.keys(obj).sort(function (a, b) {\n                return a - b;\n            }).map(parseFloat);\n        }\n        var PDF = window.kendo.pdf;\n        var BinaryStream = PDF.BinaryStream;\n        function Directory(data) {\n            this.raw = data;\n            this.scalerType = data.readLong();\n            this.tableCount = data.readShort();\n            this.searchRange = data.readShort();\n            this.entrySelector = data.readShort();\n            this.rangeShift = data.readShort();\n            var tables = this.tables = {};\n            for (var i = 0; i < this.tableCount; ++i) {\n                var entry = {\n                    tag: data.readString(4),\n                    checksum: data.readLong(),\n                    offset: data.readLong(),\n                    length: data.readLong()\n                };\n                tables[entry.tag] = entry;\n            }\n        }\n        Directory.prototype = {\n            readTable: function (name, Ctor) {\n                var def = this.tables[name];\n                if (!def) {\n                    throw new Error('Table ' + name + ' not found in directory');\n                }\n                return this[name] = def.table = new Ctor(this, def);\n            },\n            render: function (tables) {\n                var tableCount = Object.keys(tables).length;\n                var maxpow2 = Math.pow(2, Math.floor(Math.log(tableCount) / Math.LN2));\n                var searchRange = maxpow2 * 16;\n                var entrySelector = Math.floor(Math.log(maxpow2) / Math.LN2);\n                var rangeShift = tableCount * 16 - searchRange;\n                var out = BinaryStream();\n                out.writeLong(this.scalerType);\n                out.writeShort(tableCount);\n                out.writeShort(searchRange);\n                out.writeShort(entrySelector);\n                out.writeShort(rangeShift);\n                var directoryLength = tableCount * 16;\n                var offset = out.offset() + directoryLength;\n                var headOffset = null;\n                var tableData = BinaryStream();\n                for (var tag in tables) {\n                    if (hasOwnProperty(tables, tag)) {\n                        var table = tables[tag];\n                        out.writeString(tag);\n                        out.writeLong(this.checksum(table));\n                        out.writeLong(offset);\n                        out.writeLong(table.length);\n                        tableData.write(table);\n                        if (tag == 'head') {\n                            headOffset = offset;\n                        }\n                        offset += table.length;\n                        while (offset % 4) {\n                            tableData.writeByte(0);\n                            offset++;\n                        }\n                    }\n                }\n                out.write(tableData.get());\n                var sum = this.checksum(out.get());\n                var adjustment = 2981146554 - sum;\n                out.offset(headOffset + 8);\n                out.writeLong(adjustment);\n                return out.get();\n            },\n            checksum: function (data) {\n                data = BinaryStream(data);\n                var sum = 0;\n                while (!data.eof()) {\n                    sum += data.readLong();\n                }\n                return sum & 4294967295;\n            }\n        };\n        function deftable(methods) {\n            function Ctor(file, def) {\n                this.definition = def;\n                this.length = def.length;\n                this.offset = def.offset;\n                this.file = file;\n                this.rawData = file.raw;\n                this.parse(file.raw);\n            }\n            Ctor.prototype.raw = function () {\n                return this.rawData.slice(this.offset, this.length);\n            };\n            for (var i in methods) {\n                if (hasOwnProperty(methods, i)) {\n                    Ctor[i] = Ctor.prototype[i] = methods[i];\n                }\n            }\n            return Ctor;\n        }\n        var HeadTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.revision = data.readLong();\n                this.checkSumAdjustment = data.readLong();\n                this.magicNumber = data.readLong();\n                this.flags = data.readShort();\n                this.unitsPerEm = data.readShort();\n                this.created = data.read(8);\n                this.modified = data.read(8);\n                this.xMin = data.readShort_();\n                this.yMin = data.readShort_();\n                this.xMax = data.readShort_();\n                this.yMax = data.readShort_();\n                this.macStyle = data.readShort();\n                this.lowestRecPPEM = data.readShort();\n                this.fontDirectionHint = data.readShort_();\n                this.indexToLocFormat = data.readShort_();\n                this.glyphDataFormat = data.readShort_();\n            },\n            render: function (indexToLocFormat) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeLong(this.revision);\n                out.writeLong(0);\n                out.writeLong(this.magicNumber);\n                out.writeShort(this.flags);\n                out.writeShort(this.unitsPerEm);\n                out.write(this.created);\n                out.write(this.modified);\n                out.writeShort_(this.xMin);\n                out.writeShort_(this.yMin);\n                out.writeShort_(this.xMax);\n                out.writeShort_(this.yMax);\n                out.writeShort(this.macStyle);\n                out.writeShort(this.lowestRecPPEM);\n                out.writeShort_(this.fontDirectionHint);\n                out.writeShort_(indexToLocFormat);\n                out.writeShort_(this.glyphDataFormat);\n                return out.get();\n            }\n        });\n        var LocaTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                var format = this.file.head.indexToLocFormat;\n                if (format === 0) {\n                    this.offsets = data.times(this.length / 2, function () {\n                        return 2 * data.readShort();\n                    });\n                } else {\n                    this.offsets = data.times(this.length / 4, data.readLong);\n                }\n            },\n            offsetOf: function (id) {\n                return this.offsets[id];\n            },\n            lengthOf: function (id) {\n                return this.offsets[id + 1] - this.offsets[id];\n            },\n            render: function (offsets) {\n                var out = BinaryStream();\n                var needsLongFormat = offsets[offsets.length - 1] > 65535;\n                for (var i = 0; i < offsets.length; ++i) {\n                    if (needsLongFormat) {\n                        out.writeLong(offsets[i]);\n                    } else {\n                        out.writeShort(offsets[i] / 2);\n                    }\n                }\n                return {\n                    format: needsLongFormat ? 1 : 0,\n                    table: out.get()\n                };\n            }\n        });\n        var HheaTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.ascent = data.readShort_();\n                this.descent = data.readShort_();\n                this.lineGap = data.readShort_();\n                this.advanceWidthMax = data.readShort();\n                this.minLeftSideBearing = data.readShort_();\n                this.minRightSideBearing = data.readShort_();\n                this.xMaxExtent = data.readShort_();\n                this.caretSlopeRise = data.readShort_();\n                this.caretSlopeRun = data.readShort_();\n                this.caretOffset = data.readShort_();\n                data.skip(4 * 2);\n                this.metricDataFormat = data.readShort_();\n                this.numOfLongHorMetrics = data.readShort();\n            },\n            render: function (ids) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeShort_(this.ascent);\n                out.writeShort_(this.descent);\n                out.writeShort_(this.lineGap);\n                out.writeShort(this.advanceWidthMax);\n                out.writeShort_(this.minLeftSideBearing);\n                out.writeShort_(this.minRightSideBearing);\n                out.writeShort_(this.xMaxExtent);\n                out.writeShort_(this.caretSlopeRise);\n                out.writeShort_(this.caretSlopeRun);\n                out.writeShort_(this.caretOffset);\n                out.write([\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0\n                ]);\n                out.writeShort_(this.metricDataFormat);\n                out.writeShort(ids.length);\n                return out.get();\n            }\n        });\n        var MaxpTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.numGlyphs = data.readShort();\n                this.maxPoints = data.readShort();\n                this.maxContours = data.readShort();\n                this.maxComponentPoints = data.readShort();\n                this.maxComponentContours = data.readShort();\n                this.maxZones = data.readShort();\n                this.maxTwilightPoints = data.readShort();\n                this.maxStorage = data.readShort();\n                this.maxFunctionDefs = data.readShort();\n                this.maxInstructionDefs = data.readShort();\n                this.maxStackElements = data.readShort();\n                this.maxSizeOfInstructions = data.readShort();\n                this.maxComponentElements = data.readShort();\n                this.maxComponentDepth = data.readShort();\n            },\n            render: function (glyphIds) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeShort(glyphIds.length);\n                out.writeShort(this.maxPoints);\n                out.writeShort(this.maxContours);\n                out.writeShort(this.maxComponentPoints);\n                out.writeShort(this.maxComponentContours);\n                out.writeShort(this.maxZones);\n                out.writeShort(this.maxTwilightPoints);\n                out.writeShort(this.maxStorage);\n                out.writeShort(this.maxFunctionDefs);\n                out.writeShort(this.maxInstructionDefs);\n                out.writeShort(this.maxStackElements);\n                out.writeShort(this.maxSizeOfInstructions);\n                out.writeShort(this.maxComponentElements);\n                out.writeShort(this.maxComponentDepth);\n                return out.get();\n            }\n        });\n        var HmtxTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                var dir = this.file, hhea = dir.hhea;\n                this.metrics = data.times(hhea.numOfLongHorMetrics, function () {\n                    return {\n                        advance: data.readShort(),\n                        lsb: data.readShort_()\n                    };\n                });\n                var lsbCount = dir.maxp.numGlyphs - dir.hhea.numOfLongHorMetrics;\n                this.leftSideBearings = data.times(lsbCount, data.readShort_);\n            },\n            forGlyph: function (id) {\n                var metrics = this.metrics;\n                var n = metrics.length;\n                if (id < n) {\n                    return metrics[id];\n                }\n                return {\n                    advance: metrics[n - 1].advance,\n                    lsb: this.leftSideBearings[id - n]\n                };\n            },\n            render: function (glyphIds) {\n                var out = BinaryStream();\n                for (var i = 0; i < glyphIds.length; ++i) {\n                    var m = this.forGlyph(glyphIds[i]);\n                    out.writeShort(m.advance);\n                    out.writeShort_(m.lsb);\n                }\n                return out.get();\n            }\n        });\n        var GlyfTable = function () {\n            function SimpleGlyph(raw) {\n                this.raw = raw;\n            }\n            SimpleGlyph.prototype = {\n                compound: false,\n                render: function () {\n                    return this.raw.get();\n                }\n            };\n            var ARG_1_AND_2_ARE_WORDS = 1;\n            var WE_HAVE_A_SCALE = 8;\n            var MORE_COMPONENTS = 32;\n            var WE_HAVE_AN_X_AND_Y_SCALE = 64;\n            var WE_HAVE_A_TWO_BY_TWO = 128;\n            function CompoundGlyph(data) {\n                this.raw = data;\n                var ids = this.glyphIds = [];\n                var offsets = this.idOffsets = [];\n                while (true) {\n                    var flags = data.readShort();\n                    offsets.push(data.offset());\n                    ids.push(data.readShort());\n                    if (!(flags & MORE_COMPONENTS)) {\n                        break;\n                    }\n                    data.skip(flags & ARG_1_AND_2_ARE_WORDS ? 4 : 2);\n                    if (flags & WE_HAVE_A_TWO_BY_TWO) {\n                        data.skip(8);\n                    } else if (flags & WE_HAVE_AN_X_AND_Y_SCALE) {\n                        data.skip(4);\n                    } else if (flags & WE_HAVE_A_SCALE) {\n                        data.skip(2);\n                    }\n                }\n            }\n            CompoundGlyph.prototype = {\n                compound: true,\n                render: function (old2new) {\n                    var out = BinaryStream(this.raw.get());\n                    for (var i = 0; i < this.glyphIds.length; ++i) {\n                        var id = this.glyphIds[i];\n                        out.offset(this.idOffsets[i]);\n                        out.writeShort(old2new[id]);\n                    }\n                    return out.get();\n                }\n            };\n            return deftable({\n                parse: function () {\n                    this.cache = {};\n                },\n                glyphFor: function (id) {\n                    var cache = this.cache;\n                    if (hasOwnProperty(cache, id)) {\n                        return cache[id];\n                    }\n                    var loca = this.file.loca;\n                    var length = loca.lengthOf(id);\n                    if (length === 0) {\n                        return cache[id] = null;\n                    }\n                    var data = this.rawData;\n                    var offset = this.offset + loca.offsetOf(id);\n                    var raw = BinaryStream(data.slice(offset, length));\n                    var numberOfContours = raw.readShort_();\n                    var xMin = raw.readShort_();\n                    var yMin = raw.readShort_();\n                    var xMax = raw.readShort_();\n                    var yMax = raw.readShort_();\n                    var glyph = cache[id] = numberOfContours == -1 ? new CompoundGlyph(raw) : new SimpleGlyph(raw);\n                    glyph.numberOfContours = numberOfContours;\n                    glyph.xMin = xMin;\n                    glyph.yMin = yMin;\n                    glyph.xMax = xMax;\n                    glyph.yMax = yMax;\n                    return glyph;\n                },\n                render: function (glyphs, oldIds, old2new) {\n                    var out = BinaryStream(), offsets = [];\n                    for (var i = 0; i < oldIds.length; ++i) {\n                        var id = oldIds[i];\n                        var glyph = glyphs[id];\n                        offsets.push(out.offset());\n                        if (glyph) {\n                            out.write(glyph.render(old2new));\n                        }\n                    }\n                    offsets.push(out.offset());\n                    return {\n                        table: out.get(),\n                        offsets: offsets\n                    };\n                }\n            });\n        }();\n        var NameTable = function () {\n            function NameEntry(text, entry) {\n                this.text = text;\n                this.length = text.length;\n                this.platformID = entry.platformID;\n                this.platformSpecificID = entry.platformSpecificID;\n                this.languageID = entry.languageID;\n                this.nameID = entry.nameID;\n            }\n            return deftable({\n                parse: function (data) {\n                    data.offset(this.offset);\n                    data.readShort();\n                    var count = data.readShort();\n                    var stringOffset = this.offset + data.readShort();\n                    var nameRecords = data.times(count, function () {\n                        return {\n                            platformID: data.readShort(),\n                            platformSpecificID: data.readShort(),\n                            languageID: data.readShort(),\n                            nameID: data.readShort(),\n                            length: data.readShort(),\n                            offset: data.readShort() + stringOffset\n                        };\n                    });\n                    var strings = this.strings = {};\n                    for (var i = 0; i < nameRecords.length; ++i) {\n                        var rec = nameRecords[i];\n                        data.offset(rec.offset);\n                        var text = data.readString(rec.length);\n                        if (!strings[rec.nameID]) {\n                            strings[rec.nameID] = [];\n                        }\n                        strings[rec.nameID].push(new NameEntry(text, rec));\n                    }\n                    this.postscriptEntry = strings[6][0];\n                    this.postscriptName = this.postscriptEntry.text.replace(/[^\\x20-\\x7F]/g, '');\n                },\n                render: function (psName) {\n                    var strings = this.strings;\n                    var strCount = 0;\n                    for (var i in strings) {\n                        if (hasOwnProperty(strings, i)) {\n                            strCount += strings[i].length;\n                        }\n                    }\n                    var out = BinaryStream();\n                    var strTable = BinaryStream();\n                    out.writeShort(0);\n                    out.writeShort(strCount);\n                    out.writeShort(6 + 12 * strCount);\n                    for (i in strings) {\n                        if (hasOwnProperty(strings, i)) {\n                            var list = i == 6 ? [new NameEntry(psName, this.postscriptEntry)] : strings[i];\n                            for (var j = 0; j < list.length; ++j) {\n                                var str = list[j];\n                                out.writeShort(str.platformID);\n                                out.writeShort(str.platformSpecificID);\n                                out.writeShort(str.languageID);\n                                out.writeShort(str.nameID);\n                                out.writeShort(str.length);\n                                out.writeShort(strTable.offset());\n                                strTable.writeString(str.text);\n                            }\n                        }\n                    }\n                    out.write(strTable.get());\n                    return out.get();\n                }\n            });\n        }();\n        var PostTable = function () {\n            var POSTSCRIPT_GLYPHS = '.notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat'.split(/\\s+/g);\n            return deftable({\n                parse: function (data) {\n                    data.offset(this.offset);\n                    this.format = data.readLong();\n                    this.italicAngle = data.readFixed_();\n                    this.underlinePosition = data.readShort_();\n                    this.underlineThickness = data.readShort_();\n                    this.isFixedPitch = data.readLong();\n                    this.minMemType42 = data.readLong();\n                    this.maxMemType42 = data.readLong();\n                    this.minMemType1 = data.readLong();\n                    this.maxMemType1 = data.readLong();\n                    var numberOfGlyphs;\n                    switch (this.format) {\n                    case 65536:\n                    case 196608:\n                        break;\n                    case 131072:\n                        numberOfGlyphs = data.readShort();\n                        this.glyphNameIndex = data.times(numberOfGlyphs, data.readShort);\n                        this.names = [];\n                        var limit = this.offset + this.length;\n                        while (data.offset() < limit) {\n                            this.names.push(data.readString(data.readByte()));\n                        }\n                        break;\n                    case 151552:\n                        numberOfGlyphs = data.readShort();\n                        this.offsets = data.read(numberOfGlyphs);\n                        break;\n                    case 262144:\n                        this.map = data.times(this.file.maxp.numGlyphs, data.readShort);\n                        break;\n                    }\n                },\n                glyphFor: function (code) {\n                    switch (this.format) {\n                    case 65536:\n                        return POSTSCRIPT_GLYPHS[code] || '.notdef';\n                    case 131072:\n                        var index = this.glyphNameIndex[code];\n                        if (index < POSTSCRIPT_GLYPHS.length) {\n                            return POSTSCRIPT_GLYPHS[index];\n                        }\n                        return this.names[index - POSTSCRIPT_GLYPHS.length] || '.notdef';\n                    case 151552:\n                    case 196608:\n                        return '.notdef';\n                    case 262144:\n                        return this.map[code] || 65535;\n                    }\n                },\n                render: function (mapping) {\n                    if (this.format == 196608) {\n                        return this.raw();\n                    }\n                    var out = BinaryStream(this.rawData.slice(this.offset, 32));\n                    out.writeLong(131072);\n                    out.offset(32);\n                    var indexes = [];\n                    var strings = [];\n                    for (var i = 0; i < mapping.length; ++i) {\n                        var id = mapping[i];\n                        var post = this.glyphFor(id);\n                        var index = POSTSCRIPT_GLYPHS.indexOf(post);\n                        if (index >= 0) {\n                            indexes.push(index);\n                        } else {\n                            indexes.push(POSTSCRIPT_GLYPHS.length + strings.length);\n                            strings.push(post);\n                        }\n                    }\n                    out.writeShort(mapping.length);\n                    for (i = 0; i < indexes.length; ++i) {\n                        out.writeShort(indexes[i]);\n                    }\n                    for (i = 0; i < strings.length; ++i) {\n                        out.writeByte(strings[i].length);\n                        out.writeString(strings[i]);\n                    }\n                    return out.get();\n                }\n            });\n        }();\n        var CmapTable = function () {\n            function CmapEntry(data, offset, codeMap) {\n                var self = this;\n                self.platformID = data.readShort();\n                self.platformSpecificID = data.readShort();\n                self.offset = offset + data.readLong();\n                data.saveExcursion(function () {\n                    var code;\n                    data.offset(self.offset);\n                    self.format = data.readShort();\n                    switch (self.format) {\n                    case 0:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        for (var i = 0; i < 256; ++i) {\n                            codeMap[i] = data.readByte();\n                        }\n                        break;\n                    case 4:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        var segCount = data.readShort() / 2;\n                        data.skip(6);\n                        var endCode = data.times(segCount, data.readShort);\n                        data.skip(2);\n                        var startCode = data.times(segCount, data.readShort);\n                        var idDelta = data.times(segCount, data.readShort_);\n                        var idRangeOffset = data.times(segCount, data.readShort);\n                        var count = (self.length + self.offset - data.offset()) / 2;\n                        var glyphIds = data.times(count, data.readShort);\n                        for (i = 0; i < segCount; ++i) {\n                            var start = startCode[i], end = endCode[i];\n                            for (code = start; code <= end; ++code) {\n                                var glyphId;\n                                if (idRangeOffset[i] === 0) {\n                                    glyphId = code + idDelta[i];\n                                } else {\n                                    var index = idRangeOffset[i] / 2 - (segCount - i) + (code - start);\n                                    glyphId = glyphIds[index] || 0;\n                                    if (glyphId !== 0) {\n                                        glyphId += idDelta[i];\n                                    }\n                                }\n                                codeMap[code] = glyphId & 65535;\n                            }\n                        }\n                        break;\n                    case 6:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        code = data.readShort();\n                        var length = data.readShort();\n                        while (length-- > 0) {\n                            codeMap[code++] = data.readShort();\n                        }\n                        break;\n                    case 12:\n                        data.readShort();\n                        self.length = data.readLong();\n                        self.language = data.readLong();\n                        var ngroups = data.readLong();\n                        while (ngroups-- > 0) {\n                            code = data.readLong();\n                            var endCharCode = data.readLong();\n                            var glyphCode = data.readLong();\n                            while (code <= endCharCode) {\n                                codeMap[code++] = glyphCode++;\n                            }\n                        }\n                        break;\n                    default:\n                        if (window.console) {\n                            window.console.error('Unhandled CMAP format: ' + self.format);\n                        }\n                    }\n                });\n            }\n            function renderCharmap(ncid2ogid, ogid2ngid) {\n                var codes = sortedKeys(ncid2ogid);\n                var startCodes = [];\n                var endCodes = [];\n                var last = null;\n                var diff = null;\n                function new_gid(charcode) {\n                    return ogid2ngid[ncid2ogid[charcode]];\n                }\n                for (var i = 0; i < codes.length; ++i) {\n                    var code = codes[i];\n                    var gid = new_gid(code);\n                    var delta = gid - code;\n                    if (last == null || delta !== diff) {\n                        if (last) {\n                            endCodes.push(last);\n                        }\n                        startCodes.push(code);\n                        diff = delta;\n                    }\n                    last = code;\n                }\n                if (last) {\n                    endCodes.push(last);\n                }\n                endCodes.push(65535);\n                startCodes.push(65535);\n                var segCount = startCodes.length;\n                var segCountX2 = segCount * 2;\n                var searchRange = 2 * Math.pow(2, Math.floor(Math.log(segCount) / Math.LN2));\n                var entrySelector = Math.log(searchRange / 2) / Math.LN2;\n                var rangeShift = segCountX2 - searchRange;\n                var deltas = [];\n                var rangeOffsets = [];\n                var glyphIds = [];\n                for (i = 0; i < segCount; ++i) {\n                    var startCode = startCodes[i];\n                    var endCode = endCodes[i];\n                    if (startCode == 65535) {\n                        deltas.push(0);\n                        rangeOffsets.push(0);\n                        break;\n                    }\n                    var startGlyph = new_gid(startCode);\n                    if (startCode - startGlyph >= 32768) {\n                        deltas.push(0);\n                        rangeOffsets.push(2 * (glyphIds.length + segCount - i));\n                        for (var j = startCode; j <= endCode; ++j) {\n                            glyphIds.push(new_gid(j));\n                        }\n                    } else {\n                        deltas.push(startGlyph - startCode);\n                        rangeOffsets.push(0);\n                    }\n                }\n                var out = BinaryStream();\n                out.writeShort(3);\n                out.writeShort(1);\n                out.writeLong(12);\n                out.writeShort(4);\n                out.writeShort(16 + segCount * 8 + glyphIds.length * 2);\n                out.writeShort(0);\n                out.writeShort(segCountX2);\n                out.writeShort(searchRange);\n                out.writeShort(entrySelector);\n                out.writeShort(rangeShift);\n                endCodes.forEach(out.writeShort);\n                out.writeShort(0);\n                startCodes.forEach(out.writeShort);\n                deltas.forEach(out.writeShort_);\n                rangeOffsets.forEach(out.writeShort);\n                glyphIds.forEach(out.writeShort);\n                return out.get();\n            }\n            return deftable({\n                parse: function (data) {\n                    var self = this;\n                    var offset = self.offset;\n                    data.offset(offset);\n                    self.codeMap = {};\n                    self.version = data.readShort();\n                    var tableCount = data.readShort();\n                    self.tables = data.times(tableCount, function () {\n                        return new CmapEntry(data, offset, self.codeMap);\n                    });\n                },\n                render: function (ncid2ogid, ogid2ngid) {\n                    var out = BinaryStream();\n                    out.writeShort(0);\n                    out.writeShort(1);\n                    out.write(renderCharmap(ncid2ogid, ogid2ngid));\n                    return out.get();\n                }\n            });\n        }();\n        var OS2Table = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readShort();\n                this.averageCharWidth = data.readShort_();\n                this.weightClass = data.readShort();\n                this.widthClass = data.readShort();\n                this.type = data.readShort();\n                this.ySubscriptXSize = data.readShort_();\n                this.ySubscriptYSize = data.readShort_();\n                this.ySubscriptXOffset = data.readShort_();\n                this.ySubscriptYOffset = data.readShort_();\n                this.ySuperscriptXSize = data.readShort_();\n                this.ySuperscriptYSize = data.readShort_();\n                this.ySuperscriptXOffset = data.readShort_();\n                this.ySuperscriptYOffset = data.readShort_();\n                this.yStrikeoutSize = data.readShort_();\n                this.yStrikeoutPosition = data.readShort_();\n                this.familyClass = data.readShort_();\n                this.panose = data.times(10, data.readByte);\n                this.charRange = data.times(4, data.readLong);\n                this.vendorID = data.readString(4);\n                this.selection = data.readShort();\n                this.firstCharIndex = data.readShort();\n                this.lastCharIndex = data.readShort();\n                if (this.version > 0) {\n                    this.ascent = data.readShort_();\n                    this.descent = data.readShort_();\n                    this.lineGap = data.readShort_();\n                    this.winAscent = data.readShort();\n                    this.winDescent = data.readShort();\n                    this.codePageRange = data.times(2, data.readLong);\n                    if (this.version > 1) {\n                        this.xHeight = data.readShort();\n                        this.capHeight = data.readShort();\n                        this.defaultChar = data.readShort();\n                        this.breakChar = data.readShort();\n                        this.maxContext = data.readShort();\n                    }\n                }\n            },\n            render: function () {\n                return this.raw();\n            }\n        });\n        var subsetTag = 100000;\n        function nextSubsetTag() {\n            var ret = '', n = subsetTag + '';\n            for (var i = 0; i < n.length; ++i) {\n                ret += String.fromCharCode(n.charCodeAt(i) - 48 + 65);\n            }\n            ++subsetTag;\n            return ret;\n        }\n        function Subfont(font) {\n            this.font = font;\n            this.subset = {};\n            this.unicodes = {};\n            this.ogid2ngid = { 0: 0 };\n            this.ngid2ogid = { 0: 0 };\n            this.ncid2ogid = {};\n            this.next = this.firstChar = 1;\n            this.nextGid = 1;\n            this.psName = nextSubsetTag() + '+' + this.font.psName;\n        }\n        Subfont.prototype = {\n            use: function (ch) {\n                var self = this;\n                if (typeof ch == 'string') {\n                    return kendo.util.ucs2decode(ch).reduce(function (ret, code) {\n                        return ret + String.fromCharCode(self.use(code));\n                    }, '');\n                }\n                var code = self.unicodes[ch];\n                if (!code) {\n                    code = self.next++;\n                    self.subset[code] = ch;\n                    self.unicodes[ch] = code;\n                    var old_gid = self.font.cmap.codeMap[ch];\n                    if (old_gid) {\n                        self.ncid2ogid[code] = old_gid;\n                        if (self.ogid2ngid[old_gid] == null) {\n                            var new_gid = self.nextGid++;\n                            self.ogid2ngid[old_gid] = new_gid;\n                            self.ngid2ogid[new_gid] = old_gid;\n                        }\n                    }\n                }\n                return code;\n            },\n            encodeText: function (text) {\n                return this.use(text);\n            },\n            glyphIds: function () {\n                return sortedKeys(this.ogid2ngid);\n            },\n            glyphsFor: function (glyphIds, result) {\n                if (!result) {\n                    result = {};\n                }\n                for (var i = 0; i < glyphIds.length; ++i) {\n                    var id = glyphIds[i];\n                    if (!result[id]) {\n                        var glyph = result[id] = this.font.glyf.glyphFor(id);\n                        if (glyph && glyph.compound) {\n                            this.glyphsFor(glyph.glyphIds, result);\n                        }\n                    }\n                }\n                return result;\n            },\n            render: function () {\n                var glyphs = this.glyphsFor(this.glyphIds());\n                for (var old_gid in glyphs) {\n                    if (hasOwnProperty(glyphs, old_gid)) {\n                        old_gid = parseInt(old_gid, 10);\n                        if (this.ogid2ngid[old_gid] == null) {\n                            var new_gid = this.nextGid++;\n                            this.ogid2ngid[old_gid] = new_gid;\n                            this.ngid2ogid[new_gid] = old_gid;\n                        }\n                    }\n                }\n                var new_gid_ids = sortedKeys(this.ngid2ogid);\n                var old_gid_ids = new_gid_ids.map(function (id) {\n                    return this.ngid2ogid[id];\n                }, this);\n                var font = this.font;\n                var glyf = font.glyf.render(glyphs, old_gid_ids, this.ogid2ngid);\n                var loca = font.loca.render(glyf.offsets);\n                this.lastChar = this.next - 1;\n                var tables = {\n                    'cmap': CmapTable.render(this.ncid2ogid, this.ogid2ngid),\n                    'glyf': glyf.table,\n                    'loca': loca.table,\n                    'hmtx': font.hmtx.render(old_gid_ids),\n                    'hhea': font.hhea.render(old_gid_ids),\n                    'maxp': font.maxp.render(old_gid_ids),\n                    'post': font.post.render(old_gid_ids),\n                    'name': font.name.render(this.psName),\n                    'head': font.head.render(loca.format),\n                    'OS/2': font.os2.render()\n                };\n                return this.font.directory.render(tables);\n            },\n            cidToGidMap: function () {\n                var out = BinaryStream(), len = 0;\n                for (var cid = this.firstChar; cid < this.next; ++cid) {\n                    while (len < cid) {\n                        out.writeShort(0);\n                        len++;\n                    }\n                    var old_gid = this.ncid2ogid[cid];\n                    if (old_gid) {\n                        var new_gid = this.ogid2ngid[old_gid];\n                        out.writeShort(new_gid);\n                    } else {\n                        out.writeShort(0);\n                    }\n                    len++;\n                }\n                return out.get();\n            }\n        };\n        function TTFFont(rawData, name) {\n            var self = this;\n            var data = self.contents = BinaryStream(rawData);\n            if (data.readString(4) == 'ttcf') {\n                if (!name) {\n                    throw new Error('Must specify a name for TTC files');\n                }\n                data.readLong();\n                var numFonts = data.readLong();\n                for (var i = 0; i < numFonts; ++i) {\n                    var offset = data.readLong();\n                    data.saveExcursion(function () {\n                        data.offset(offset);\n                        self.parse();\n                    });\n                    if (self.psName == name) {\n                        return;\n                    }\n                }\n                throw new Error('Font ' + name + ' not found in collection');\n            } else {\n                data.offset(0);\n                self.parse();\n            }\n        }\n        TTFFont.prototype = {\n            parse: function () {\n                var dir = this.directory = new Directory(this.contents);\n                this.head = dir.readTable('head', HeadTable);\n                this.loca = dir.readTable('loca', LocaTable);\n                this.hhea = dir.readTable('hhea', HheaTable);\n                this.maxp = dir.readTable('maxp', MaxpTable);\n                this.hmtx = dir.readTable('hmtx', HmtxTable);\n                this.glyf = dir.readTable('glyf', GlyfTable);\n                this.name = dir.readTable('name', NameTable);\n                this.post = dir.readTable('post', PostTable);\n                this.cmap = dir.readTable('cmap', CmapTable);\n                this.os2 = dir.readTable('OS/2', OS2Table);\n                this.psName = this.name.postscriptName;\n                this.ascent = this.os2.ascent || this.hhea.ascent;\n                this.descent = this.os2.descent || this.hhea.descent;\n                this.lineGap = this.os2.lineGap || this.hhea.lineGap;\n                this.scale = 1000 / this.head.unitsPerEm;\n            },\n            widthOfGlyph: function (glyph) {\n                return this.hmtx.forGlyph(glyph).advance * this.scale;\n            },\n            makeSubset: function () {\n                return new Subfont(this);\n            }\n        };\n        PDF.TTFFont = TTFFont;\n    }(window));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/drawing', [\n        'kendo.core',\n        'kendo.color',\n        'kendo.drawing',\n        'pdf/core'\n    ], f);\n}(function () {\n    (function (kendo, $) {\n        'use strict';\n        var drawing = kendo.drawing;\n        var geo = kendo.geometry;\n        var TEXT_RENDERING_MODE = kendo.pdf.TEXT_RENDERING_MODE;\n        var DASH_PATTERNS = {\n            dash: [4],\n            dashDot: [\n                4,\n                2,\n                1,\n                2\n            ],\n            dot: [\n                1,\n                2\n            ],\n            longDash: [\n                8,\n                2\n            ],\n            longDashDot: [\n                8,\n                2,\n                1,\n                2\n            ],\n            longDashDotDot: [\n                8,\n                2,\n                1,\n                2,\n                1,\n                2\n            ],\n            solid: []\n        };\n        var LINE_CAP = {\n            butt: 0,\n            round: 1,\n            square: 2\n        };\n        var LINE_JOIN = {\n            miter: 0,\n            round: 1,\n            bevel: 2\n        };\n        function render(group, callback) {\n            var fonts = [], images = [], options = group.options;\n            function getOption(name, defval, hash) {\n                if (!hash) {\n                    hash = options;\n                }\n                if (hash.pdf && hash.pdf[name] != null) {\n                    return hash.pdf[name];\n                }\n                return defval;\n            }\n            var multiPage = getOption('multiPage');\n            group.traverse(function (element) {\n                dispatch({\n                    Image: function (element) {\n                        if (images.indexOf(element.src()) < 0) {\n                            images.push(element.src());\n                        }\n                    },\n                    Text: function (element) {\n                        var style = kendo.pdf.parseFontDef(element.options.font);\n                        var url = kendo.pdf.getFontURL(style);\n                        if (fonts.indexOf(url) < 0) {\n                            fonts.push(url);\n                        }\n                    }\n                }, element);\n            });\n            function doIt() {\n                if (--count > 0) {\n                    return;\n                }\n                var pdf = new kendo.pdf.Document({\n                    producer: getOption('producer'),\n                    title: getOption('title'),\n                    author: getOption('author'),\n                    subject: getOption('subject'),\n                    keywords: getOption('keywords'),\n                    creator: getOption('creator'),\n                    date: getOption('date')\n                });\n                function drawPage(group) {\n                    var options = group.options;\n                    var tmp = optimize(group);\n                    var bbox = tmp.bbox;\n                    group = tmp.root;\n                    var paperSize = getOption('paperSize', getOption('paperSize', 'auto'), options), addMargin = false;\n                    if (paperSize == 'auto') {\n                        if (bbox) {\n                            var size = bbox.getSize();\n                            paperSize = [\n                                size.width,\n                                size.height\n                            ];\n                            addMargin = true;\n                            var origin = bbox.getOrigin();\n                            tmp = new drawing.Group();\n                            tmp.transform(new geo.Matrix(1, 0, 0, 1, -origin.x, -origin.y));\n                            tmp.append(group);\n                            group = tmp;\n                        } else {\n                            paperSize = 'A4';\n                        }\n                    }\n                    var page;\n                    page = pdf.addPage({\n                        paperSize: paperSize,\n                        margin: getOption('margin', getOption('margin'), options),\n                        addMargin: addMargin,\n                        landscape: getOption('landscape', getOption('landscape', false), options)\n                    });\n                    drawElement(group, page, pdf);\n                }\n                if (multiPage) {\n                    group.children.forEach(drawPage);\n                } else {\n                    drawPage(group);\n                }\n                callback(pdf.render(), pdf);\n            }\n            var count = 2;\n            kendo.pdf.loadFonts(fonts, doIt);\n            kendo.pdf.loadImages(images, doIt);\n        }\n        function toDataURL(group, callback) {\n            render(group, function (data) {\n                callback('data:application/pdf;base64,' + data.base64());\n            });\n        }\n        function toBlob(group, callback) {\n            render(group, function (data) {\n                callback(new Blob([data.get()], { type: 'application/pdf' }));\n            });\n        }\n        function saveAs(group, filename, proxy, callback) {\n            if (window.Blob && !kendo.support.browser.safari) {\n                toBlob(group, function (blob) {\n                    kendo.saveAs({\n                        dataURI: blob,\n                        fileName: filename\n                    });\n                    if (callback) {\n                        callback(blob);\n                    }\n                });\n            } else {\n                toDataURL(group, function (dataURL) {\n                    kendo.saveAs({\n                        dataURI: dataURL,\n                        fileName: filename,\n                        proxyURL: proxy\n                    });\n                    if (callback) {\n                        callback(dataURL);\n                    }\n                });\n            }\n        }\n        function dispatch(handlers, element) {\n            var handler = handlers[element.nodeType];\n            if (handler) {\n                return handler.call.apply(handler, arguments);\n            }\n            return element;\n        }\n        function drawElement(element, page, pdf) {\n            if (element.options._pdfDebug) {\n                page.comment('BEGIN: ' + element.options._pdfDebug);\n            }\n            var transform = element.transform();\n            var opacity = element.opacity();\n            page.save();\n            if (opacity != null && opacity < 1) {\n                page.setOpacity(opacity);\n            }\n            setStrokeOptions(element, page, pdf);\n            setFillOptions(element, page, pdf);\n            if (transform) {\n                var m = transform.matrix();\n                page.transform(m.a, m.b, m.c, m.d, m.e, m.f);\n            }\n            setClipping(element, page, pdf);\n            dispatch({\n                Path: drawPath,\n                MultiPath: drawMultiPath,\n                Circle: drawCircle,\n                Arc: drawArc,\n                Text: drawText,\n                Image: drawImage,\n                Group: drawGroup,\n                Rect: drawRect\n            }, element, page, pdf);\n            page.restore();\n            if (element.options._pdfDebug) {\n                page.comment('END: ' + element.options._pdfDebug);\n            }\n        }\n        function setStrokeOptions(element, page) {\n            var stroke = element.stroke && element.stroke();\n            if (!stroke) {\n                return;\n            }\n            var color = stroke.color;\n            if (color) {\n                color = parseColor(color);\n                if (color == null) {\n                    return;\n                }\n                page.setStrokeColor(color.r, color.g, color.b);\n                if (color.a != 1) {\n                    page.setStrokeOpacity(color.a);\n                }\n            }\n            var width = stroke.width;\n            if (width != null) {\n                if (width === 0) {\n                    return;\n                }\n                page.setLineWidth(width);\n            }\n            var dashType = stroke.dashType;\n            if (dashType) {\n                page.setDashPattern(DASH_PATTERNS[dashType], 0);\n            }\n            var lineCap = stroke.lineCap;\n            if (lineCap) {\n                page.setLineCap(LINE_CAP[lineCap]);\n            }\n            var lineJoin = stroke.lineJoin;\n            if (lineJoin) {\n                page.setLineJoin(LINE_JOIN[lineJoin]);\n            }\n            var opacity = stroke.opacity;\n            if (opacity != null) {\n                page.setStrokeOpacity(opacity);\n            }\n        }\n        function setFillOptions(element, page) {\n            var fill = element.fill && element.fill();\n            if (!fill) {\n                return;\n            }\n            if (fill instanceof drawing.Gradient) {\n                return;\n            }\n            var color = fill.color;\n            if (color) {\n                color = parseColor(color);\n                if (color == null) {\n                    return;\n                }\n                page.setFillColor(color.r, color.g, color.b);\n                if (color.a != 1) {\n                    page.setFillOpacity(color.a);\n                }\n            }\n            var opacity = fill.opacity;\n            if (opacity != null) {\n                page.setFillOpacity(opacity);\n            }\n        }\n        function setClipping(element, page, pdf) {\n            var clip = element.clip();\n            if (clip) {\n                _drawPath(clip, page, pdf);\n                page.clip();\n            }\n        }\n        function shouldDraw(thing) {\n            return thing && (thing instanceof drawing.Gradient || thing.color && !/^(none|transparent)$/i.test(thing.color) && (thing.width == null || thing.width > 0) && (thing.opacity == null || thing.opacity > 0));\n        }\n        function maybeGradient(element, page, pdf, stroke) {\n            var fill = element.fill();\n            if (fill instanceof drawing.Gradient) {\n                if (stroke) {\n                    page.clipStroke();\n                } else {\n                    page.clip();\n                }\n                var isRadial = fill instanceof drawing.RadialGradient;\n                var start, end;\n                if (isRadial) {\n                    start = {\n                        x: fill.center().x,\n                        y: fill.center().y,\n                        r: 0\n                    };\n                    end = {\n                        x: fill.center().x,\n                        y: fill.center().y,\n                        r: fill.radius()\n                    };\n                } else {\n                    start = {\n                        x: fill.start().x,\n                        y: fill.start().y\n                    };\n                    end = {\n                        x: fill.end().x,\n                        y: fill.end().y\n                    };\n                }\n                var stops = fill.stops.elements().map(function (stop) {\n                    var offset = stop.offset();\n                    if (/%$/.test(offset)) {\n                        offset = parseFloat(offset) / 100;\n                    } else {\n                        offset = parseFloat(offset);\n                    }\n                    var color = parseColor(stop.color());\n                    color.a *= stop.opacity();\n                    return {\n                        offset: offset,\n                        color: color\n                    };\n                });\n                stops.unshift(stops[0]);\n                stops.push(stops[stops.length - 1]);\n                var gradient = {\n                    userSpace: fill.userSpace(),\n                    type: isRadial ? 'radial' : 'linear',\n                    start: start,\n                    end: end,\n                    stops: stops\n                };\n                var box = element.rawBBox();\n                var tl = box.topLeft(), size = box.getSize();\n                box = {\n                    left: tl.x,\n                    top: tl.y,\n                    width: size.width,\n                    height: size.height\n                };\n                page.gradient(gradient, box);\n                return true;\n            }\n        }\n        function maybeFillStroke(element, page, pdf) {\n            if (shouldDraw(element.fill()) && shouldDraw(element.stroke())) {\n                if (!maybeGradient(element, page, pdf, true)) {\n                    page.fillStroke();\n                }\n            } else if (shouldDraw(element.fill())) {\n                if (!maybeGradient(element, page, pdf, false)) {\n                    page.fill();\n                }\n            } else if (shouldDraw(element.stroke())) {\n                page.stroke();\n            } else {\n                page.nop();\n            }\n        }\n        function maybeDrawRect(path, page) {\n            var segments = path.segments;\n            if (segments.length == 4 && path.options.closed) {\n                var a = [];\n                for (var i = 0; i < segments.length; ++i) {\n                    if (segments[i].controlIn()) {\n                        return false;\n                    }\n                    a[i] = segments[i].anchor();\n                }\n                var isRect = a[0].y == a[1].y && a[1].x == a[2].x && a[2].y == a[3].y && a[3].x == a[0].x || a[0].x == a[1].x && a[1].y == a[2].y && a[2].x == a[3].x && a[3].y == a[0].y;\n                if (isRect) {\n                    page.rect(a[0].x, a[0].y, a[2].x - a[0].x, a[2].y - a[0].y);\n                    return true;\n                }\n            }\n        }\n        function _drawPath(element, page, pdf) {\n            var segments = element.segments;\n            if (segments.length === 0) {\n                return;\n            }\n            if (!maybeDrawRect(element, page, pdf)) {\n                for (var prev, i = 0; i < segments.length; ++i) {\n                    var seg = segments[i];\n                    var anchor = seg.anchor();\n                    if (!prev) {\n                        page.moveTo(anchor.x, anchor.y);\n                    } else {\n                        var prevOut = prev.controlOut();\n                        var controlIn = seg.controlIn();\n                        if (prevOut && controlIn) {\n                            page.bezier(prevOut.x, prevOut.y, controlIn.x, controlIn.y, anchor.x, anchor.y);\n                        } else {\n                            page.lineTo(anchor.x, anchor.y);\n                        }\n                    }\n                    prev = seg;\n                }\n                if (element.options.closed) {\n                    page.close();\n                }\n            }\n        }\n        function drawPath(element, page, pdf) {\n            _drawPath(element, page, pdf);\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawMultiPath(element, page, pdf) {\n            var paths = element.paths;\n            for (var i = 0; i < paths.length; ++i) {\n                _drawPath(paths[i], page, pdf);\n            }\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawCircle(element, page, pdf) {\n            var g = element.geometry();\n            page.circle(g.center.x, g.center.y, g.radius);\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawArc(element, page, pdf) {\n            var points = element.geometry().curvePoints();\n            page.moveTo(points[0].x, points[0].y);\n            for (var i = 1; i < points.length;) {\n                page.bezier(points[i].x, points[i++].y, points[i].x, points[i++].y, points[i].x, points[i++].y);\n            }\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawText(element, page) {\n            var style = kendo.pdf.parseFontDef(element.options.font);\n            var pos = element._position;\n            var mode;\n            if (element.fill() && element.stroke()) {\n                mode = TEXT_RENDERING_MODE.fillAndStroke;\n            } else if (element.fill()) {\n                mode = TEXT_RENDERING_MODE.fill;\n            } else if (element.stroke()) {\n                mode = TEXT_RENDERING_MODE.stroke;\n            }\n            page.transform(1, 0, 0, -1, pos.x, pos.y + style.fontSize);\n            page.beginText();\n            page.setFont(kendo.pdf.getFontURL(style), style.fontSize);\n            page.setTextRenderingMode(mode);\n            page.showText(element.content(), element._pdfRect ? element._pdfRect.width() : null);\n            page.endText();\n        }\n        function drawGroup(element, page, pdf) {\n            if (element._pdfLink) {\n                page.addLink(element._pdfLink.url, element._pdfLink);\n            }\n            var children = element.children;\n            for (var i = 0; i < children.length; ++i) {\n                drawElement(children[i], page, pdf);\n            }\n        }\n        function drawImage(element, page) {\n            var url = element.src();\n            if (!url) {\n                return;\n            }\n            var rect = element.rect();\n            var tl = rect.getOrigin();\n            var sz = rect.getSize();\n            page.transform(sz.width, 0, 0, -sz.height, tl.x, tl.y + sz.height);\n            page.drawImage(url);\n        }\n        function drawRect(element, page, pdf) {\n            var geometry = element.geometry();\n            page.rect(geometry.origin.x, geometry.origin.y, geometry.size.width, geometry.size.height);\n            maybeFillStroke(element, page, pdf);\n        }\n        function exportPDF(group, options) {\n            var defer = $.Deferred();\n            for (var i in options) {\n                if (i == 'margin' && group.options.pdf && group.options.pdf._ignoreMargin) {\n                    continue;\n                }\n                group.options.set('pdf.' + i, options[i]);\n            }\n            drawing.pdf.toDataURL(group, defer.resolve);\n            return defer.promise();\n        }\n        function parseColor(x) {\n            var color = kendo.parseColor(x, true);\n            return color ? color.toRGB() : null;\n        }\n        function optimize(root) {\n            var clipbox = false;\n            var matrix = geo.Matrix.unit();\n            var currentBox = null;\n            var changed;\n            do {\n                changed = false;\n                root = opt(root);\n            } while (root && changed);\n            return {\n                root: root,\n                bbox: currentBox\n            };\n            function change(newShape) {\n                changed = true;\n                return newShape;\n            }\n            function visible(shape) {\n                return shape.visible() && shape.opacity() > 0 && (shouldDraw(shape.fill()) || shouldDraw(shape.stroke()));\n            }\n            function optArray(a) {\n                var b = [];\n                for (var i = 0; i < a.length; ++i) {\n                    var el = opt(a[i]);\n                    if (el != null) {\n                        b.push(el);\n                    }\n                }\n                return b;\n            }\n            function withClipping(shape, f) {\n                var saveclipbox = clipbox;\n                var savematrix = matrix;\n                if (shape.transform()) {\n                    matrix = matrix.multiplyCopy(shape.transform().matrix());\n                }\n                var clip = shape.clip();\n                if (clip) {\n                    clip = clip.bbox();\n                    if (clip) {\n                        clip = clip.bbox(matrix);\n                        clipbox = clipbox ? geo.Rect.intersect(clipbox, clip) : clip;\n                    }\n                }\n                try {\n                    return f();\n                } finally {\n                    clipbox = saveclipbox;\n                    matrix = savematrix;\n                }\n            }\n            function inClipbox(shape) {\n                if (clipbox == null) {\n                    return false;\n                }\n                var box = shape.rawBBox().bbox(matrix);\n                if (clipbox && box) {\n                    box = geo.Rect.intersect(box, clipbox);\n                }\n                return box;\n            }\n            function opt(shape) {\n                return withClipping(shape, function () {\n                    if (!(shape instanceof drawing.Group || shape instanceof drawing.MultiPath)) {\n                        var box = inClipbox(shape);\n                        if (!box) {\n                            return change(null);\n                        }\n                        currentBox = currentBox ? geo.Rect.union(currentBox, box) : box;\n                    }\n                    return dispatch({\n                        Path: function (shape) {\n                            if (shape.segments.length === 0 || !visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        MultiPath: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            var el = new drawing.MultiPath(shape.options);\n                            el.paths = optArray(shape.paths);\n                            if (el.paths.length === 0) {\n                                return change(null);\n                            }\n                            return el;\n                        },\n                        Circle: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Arc: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Text: function (shape) {\n                            if (!/\\S/.test(shape.content()) || !visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Image: function (shape) {\n                            if (!(shape.visible() && shape.opacity() > 0)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Group: function (shape) {\n                            var el = new drawing.Group(shape.options);\n                            el.children = optArray(shape.children);\n                            el._pdfLink = shape._pdfLink;\n                            if (shape !== root && el.children.length === 0 && !shape._pdfLink) {\n                                return change(null);\n                            }\n                            return el;\n                        },\n                        Rect: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        }\n                    }, shape);\n                });\n            }\n        }\n        kendo.deepExtend(drawing, {\n            exportPDF: exportPDF,\n            pdf: {\n                toDataURL: toDataURL,\n                toBlob: toBlob,\n                saveAs: saveAs,\n                toStream: render\n            }\n        });\n    }(window.kendo, window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.pdf', [\n        'kendo.core',\n        'pdf/core',\n        'pdf/ttf',\n        'pdf/drawing',\n        'kendo.drawing'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'pdf',\n        name: 'PDF export',\n        description: 'PDF Generation framework',\n        mixin: true,\n        category: 'framework',\n        depends: [\n            'core',\n            'drawing'\n        ]\n    };\n    (function (kendo, $) {\n        kendo.PDFMixin = {\n            extend: function (proto) {\n                proto.events.push('pdfExport');\n                proto.options.pdf = this.options;\n                proto.saveAsPDF = this.saveAsPDF;\n                proto._drawPDF = this._drawPDF;\n                proto._drawPDFShadow = this._drawPDFShadow;\n            },\n            options: {\n                fileName: 'Export.pdf',\n                proxyURL: '',\n                paperSize: 'auto',\n                allPages: false,\n                landscape: false,\n                margin: null,\n                title: null,\n                author: null,\n                subject: null,\n                keywords: null,\n                creator: 'Kendo UI PDF Generator v.' + kendo.version,\n                date: null\n            },\n            saveAsPDF: function () {\n                var progress = new $.Deferred();\n                var promise = progress.promise();\n                var args = { promise: promise };\n                if (this.trigger('pdfExport', args)) {\n                    return;\n                }\n                var options = this.options.pdf;\n                options.multiPage = options.multiPage || options.allPages;\n                this._drawPDF(progress).then(function (root) {\n                    return kendo.drawing.exportPDF(root, options);\n                }).done(function (dataURI) {\n                    kendo.saveAs({\n                        dataURI: dataURI,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL,\n                        forceProxy: options.forceProxy,\n                        proxyTarget: options.proxyTarget\n                    });\n                    progress.resolve();\n                }).fail(function (err) {\n                    progress.reject(err);\n                });\n                return promise;\n            },\n            _drawPDF: function (progress) {\n                var promise = new $.Deferred();\n                kendo.drawing.drawDOM(this.wrapper).done(function (group) {\n                    var args = {\n                        page: group,\n                        pageNumber: 1,\n                        progress: 1,\n                        totalPages: 1\n                    };\n                    progress.notify(args);\n                    promise.resolve(args.page);\n                }).fail(function (err) {\n                    promise.reject(err);\n                });\n                return promise;\n            },\n            _drawPDFShadow: function (settings, drawOptions) {\n                settings = settings || {};\n                var wrapper = this.wrapper;\n                var shadow = $('<div class=\\'k-pdf-export-shadow\\'>');\n                if (settings.width) {\n                    shadow.css({\n                        width: settings.width,\n                        overflow: 'visible'\n                    });\n                }\n                wrapper.before(shadow);\n                shadow.append(settings.content || wrapper.clone(true, true));\n                var defer = $.Deferred();\n                setTimeout(function () {\n                    var promise = kendo.drawing.drawDOM(shadow, drawOptions);\n                    promise.always(function () {\n                        shadow.remove();\n                    }).then(function () {\n                        defer.resolve.apply(defer, arguments);\n                    }).fail(function () {\n                        defer.reject.apply(defer, arguments);\n                    }).progress(function () {\n                        defer.progress.apply(defer, arguments);\n                    });\n                }, 15);\n                return defer.promise();\n            }\n        };\n    }(kendo, window.kendo.jQuery));\n    return kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n/** \n * Kendo UI v2016.3.1118 (http://www.telerik.com/kendo-ui)                                                                                                                                              \n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \n *                                                                                                                                                                                                      \n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/undoredostack', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        var UndoRedoStack = kendo.Observable.extend({\n            init: function (options) {\n                kendo.Observable.fn.init.call(this, options);\n                this.clear();\n            },\n            events: [\n                'undo',\n                'redo'\n            ],\n            push: function (command) {\n                this.stack = this.stack.slice(0, this.currentCommandIndex + 1);\n                this.currentCommandIndex = this.stack.push(command) - 1;\n            },\n            undo: function () {\n                if (this.canUndo()) {\n                    var command = this.stack[this.currentCommandIndex--];\n                    command.undo();\n                    this.trigger('undo', { command: command });\n                }\n            },\n            redo: function () {\n                if (this.canRedo()) {\n                    var command = this.stack[++this.currentCommandIndex];\n                    command.redo();\n                    this.trigger('redo', { command: command });\n                }\n            },\n            clear: function () {\n                this.stack = [];\n                this.currentCommandIndex = -1;\n            },\n            canUndo: function () {\n                return this.currentCommandIndex >= 0;\n            },\n            canRedo: function () {\n                return this.currentCommandIndex != this.stack.length - 1;\n            }\n        });\n        kendo.deepExtend(kendo, { util: { UndoRedoStack: UndoRedoStack } });\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/parse-xml', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    'use strict';\n    var STRING = String.fromCharCode;\n    var ENTITIES = {\n        'amp': 38,\n        'lt': 60,\n        'gt': 62,\n        'quot': 34,\n        'apos': 39,\n        'nbsp': 160\n    };\n    function CODE(str) {\n        var out = [];\n        for (var i = 0; i < str.length; ++i) {\n            out.push(str.charCodeAt(i));\n        }\n        return out;\n    }\n    function UCS2(out, code) {\n        if (code > 65535) {\n            code -= 65536;\n            out.push(code >>> 10 & 1023 | 55296, 56320 | code & 1023);\n        } else {\n            out.push(code);\n        }\n    }\n    var START_CDATA = CODE('<![CDATA[');\n    var END_CDATA = CODE(']]>');\n    var END_COMMENT = CODE('-->');\n    var START_COMMENT = CODE('!--');\n    var END_SHORT_TAG = CODE('/>');\n    var END_TAG = CODE('</');\n    var END_DECLARATION = CODE('?>');\n    var QUESTION_MARK = CODE('?');\n    var LESS_THAN = CODE('<');\n    var GREATER_THAN = CODE('>');\n    var SEMICOLON = CODE(';');\n    var EQUAL = CODE('=');\n    var AMPERSAND = CODE('&');\n    var QUOTE = CODE('\"');\n    var APOSTROPHE = CODE('\\'');\n    var SHARP = CODE('#');\n    var LOWERCASE_X = CODE('x');\n    var UPPERCASE_X = CODE('X');\n    var EXIT = {};\n    function parse(data, callbacks) {\n        var index = 0;\n        var stack = [];\n        var object = {\n            is: function (selector) {\n                var i = stack.length, j = selector.length;\n                while (--i >= 0 && --j >= 0) {\n                    if (stack[i].$tag != selector[j] && selector[j] != '*') {\n                        return false;\n                    }\n                }\n                return j < 0 ? stack[stack.length - 1] : null;\n            },\n            exit: function () {\n                throw EXIT;\n            },\n            stack: stack\n        };\n        function readChar(body) {\n            var code = data[index++];\n            if (!(code & 240 ^ 240)) {\n                UCS2(body, (code & 3) << 18 | (data[index++] & 63) << 12 | (data[index++] & 63) << 6 | data[index++] & 63);\n            } else if (!(code & 224 ^ 224)) {\n                UCS2(body, (code & 15) << 12 | (data[index++] & 63) << 6 | data[index++] & 63);\n            } else if (!(code & 192 ^ 192)) {\n                UCS2(body, (code & 31) << 6 | data[index++] & 63);\n            } else {\n                body.push(code);\n            }\n        }\n        function croak(msg) {\n            throw new Error(msg + ', at ' + index);\n        }\n        function readWhile(pred) {\n            var a = [];\n            while (index < data.length && pred(data[index])) {\n                a.push(data[index++]);\n            }\n            return a;\n        }\n        function readAsciiWhile(pred) {\n            return STRING.apply(0, readWhile(pred));\n        }\n        function skipWhitespace() {\n            readWhile(isWhitespace);\n        }\n        function eat(a) {\n            var save = index;\n            for (var i = 0; i < a.length; ++i) {\n                if (data[index++] != a[i]) {\n                    index = save;\n                    return false;\n                }\n            }\n            return a;\n        }\n        function skip(code) {\n            if (!eat(code)) {\n                croak('Expecting ' + code.join(', '));\n            }\n        }\n        function isWhitespace(code) {\n            return code == 9 || code == 10 || code == 13 || code == 32;\n        }\n        function isDigit(code) {\n            return code >= 48 && code <= 57;\n        }\n        function isHexDigit(code) {\n            return code >= 48 && code <= 57 || (code |= 32) >= 97 && code <= 102;\n        }\n        function isNameStart(code) {\n            return code == 58 || code == 95 || (code |= 32) >= 97 && code <= 122;\n        }\n        function isName(code) {\n            return code == 45 || isDigit(code) || isNameStart(code);\n        }\n        function xmlComment() {\n            var body = [];\n            while (index < data.length) {\n                if (eat(END_COMMENT)) {\n                    return call('comment', STRING.apply(0, body));\n                }\n                readChar(body);\n            }\n        }\n        function xmlTag() {\n            var name, attrs;\n            if (eat(QUESTION_MARK)) {\n                xmlDecl();\n            } else if (eat(START_COMMENT)) {\n                xmlComment();\n            } else {\n                name = xmlName();\n                attrs = xmlAttrs(name);\n                stack.push(attrs);\n                if (eat(END_SHORT_TAG)) {\n                    call('enter', name, attrs, true);\n                } else {\n                    skip(GREATER_THAN);\n                    call('enter', name, attrs);\n                    xmlContent(name);\n                    if (name != xmlName()) {\n                        croak('Bad closing tag');\n                    }\n                    call('leave', name, attrs);\n                    skipWhitespace();\n                    skip(GREATER_THAN);\n                }\n                stack.pop();\n            }\n        }\n        function xmlContent(name) {\n            var body = [];\n            while (index < data.length) {\n                if (eat(END_TAG)) {\n                    return body.length && call('text', STRING.apply(0, body));\n                } else if (eat(START_CDATA)) {\n                    while (index < data.length && !eat(END_CDATA)) {\n                        readChar(body);\n                    }\n                } else if (eat(LESS_THAN)) {\n                    if (body.length) {\n                        call('text', STRING.apply(0, body));\n                    }\n                    xmlTag();\n                    body = [];\n                } else if (eat(AMPERSAND)) {\n                    xmlEntity(body);\n                } else {\n                    readChar(body);\n                }\n            }\n            croak('Unclosed tag ' + name);\n        }\n        function xmlName() {\n            if (!isNameStart(data[index])) {\n                croak('Expecting XML name');\n            }\n            return readAsciiWhile(isName);\n        }\n        function xmlString() {\n            var quote = eat(QUOTE) || eat(APOSTROPHE);\n            if (!quote) {\n                croak('Expecting string');\n            }\n            var body = [];\n            while (index < data.length) {\n                if (eat(quote)) {\n                    return STRING.apply(0, body);\n                } else if (eat(AMPERSAND)) {\n                    xmlEntity(body);\n                } else {\n                    readChar(body);\n                }\n            }\n            croak('Unfinished string');\n        }\n        function xmlEntity(body) {\n            var code;\n            if (eat(SHARP)) {\n                if (eat(LOWERCASE_X) || eat(UPPERCASE_X)) {\n                    code = parseInt(readAsciiWhile(isHexDigit), 16);\n                } else {\n                    code = parseInt(readAsciiWhile(isDigit), 10);\n                }\n                if (isNaN(code)) {\n                    croak('Bad numeric entity');\n                }\n            } else {\n                var name = xmlName();\n                code = ENTITIES[name];\n                if (code === undefined) {\n                    croak('Unknown entity ' + name);\n                }\n            }\n            UCS2(body, code);\n            skip(SEMICOLON);\n        }\n        function xmlDecl() {\n            call('decl', xmlName(), xmlAttrs());\n            skip(END_DECLARATION);\n        }\n        function xmlAttrs(name) {\n            var map = { $tag: name };\n            while (index < data.length) {\n                skipWhitespace();\n                var code = data[index];\n                if (code == 63 || code == 62 || code == 47) {\n                    break;\n                }\n                map[xmlName()] = (skip(EQUAL), xmlString());\n            }\n            return map;\n        }\n        function call(what, thing, arg1, arg2) {\n            var f = callbacks && callbacks[what];\n            if (f) {\n                f.call(object, thing, arg1, arg2);\n            }\n        }\n        var tmp = [];\n        readChar(tmp);\n        if (tmp[0] != 65279) {\n            index = 0;\n        }\n        while (index < data.length) {\n            skipWhitespace();\n            skip(LESS_THAN);\n            xmlTag();\n            skipWhitespace();\n        }\n    }\n    kendo.util.parseXML = function parseXML() {\n        try {\n            return parse.apply(this, arguments);\n        } catch (ex) {\n            if (ex !== EXIT) {\n                throw ex;\n            }\n        }\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/commands', [\n        'kendo.core',\n        'kendo.binder',\n        'kendo.window',\n        'kendo.list',\n        'kendo.tabstrip'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var Command = kendo.spreadsheet.Command = kendo.Class.extend({\n            init: function (options) {\n                this.options = options;\n                this._workbook = options.workbook;\n                this._property = options && options.property;\n                this._state = {};\n            },\n            range: function (range) {\n                if (range !== undefined) {\n                    this._setRange(range);\n                }\n                return this._range;\n            },\n            _setRange: function (range) {\n                this._range = range;\n            },\n            redo: function () {\n                this.exec();\n            },\n            undo: function () {\n                this.setState(this._state);\n            },\n            getState: function () {\n                this._state = this.range().getState(this._property);\n            },\n            setState: function (state) {\n                this.range().setState(state);\n            },\n            _forEachCell: function (callback) {\n                var range = this.range();\n                var ref = range._ref;\n                ref.forEach(function (ref) {\n                    range.sheet().forEach(ref.toRangeRef(), callback.bind(this));\n                }.bind(this));\n            }\n        });\n        var TargetValueCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._target = options.target;\n                this._value = options.value;\n            },\n            exec: function () {\n                this.getState();\n                this.setState(this._value);\n            }\n        });\n        kendo.spreadsheet.ColumnWidthCommand = TargetValueCommand.extend({\n            getState: function () {\n                this._state = this.range().sheet().columnWidth(this._target);\n            },\n            setState: function (state) {\n                this.range().sheet().columnWidth(this._target, state);\n            }\n        });\n        kendo.spreadsheet.RowHeightCommand = TargetValueCommand.extend({\n            getState: function () {\n                this._state = this.range().sheet().rowHeight(this._target);\n            },\n            setState: function (state) {\n                this.range().sheet().rowHeight(this._target, state);\n            }\n        });\n        kendo.spreadsheet.HyperlinkCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._link = options.link;\n            },\n            exec: function () {\n                var range = this.range();\n                this._prevLink = range.link();\n                range.link(this._link);\n                if (range.value() == null) {\n                    this._hasSetValue = true;\n                    range.value(this._link);\n                }\n            },\n            undo: function () {\n                var range = this.range();\n                range.link(this._prevLink);\n                if (this._hasSetValue) {\n                    range.value(null);\n                }\n            }\n        });\n        kendo.spreadsheet.GridLinesChangeCommand = TargetValueCommand.extend({\n            getState: function () {\n                this._state = this._range.sheet().showGridLines();\n            },\n            setState: function (v) {\n                this._range.sheet().showGridLines(v);\n            }\n        });\n        var PropertyChangeCommand = kendo.spreadsheet.PropertyChangeCommand = Command.extend({\n            _setRange: function (range) {\n                Command.prototype._setRange.call(this, range.skipHiddenCells());\n            },\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._value = options.value;\n            },\n            exec: function () {\n                var range = this.range();\n                if (range.enable()) {\n                    this.getState();\n                    range[this._property](this._value);\n                }\n            }\n        });\n        kendo.spreadsheet.ClearContentCommand = Command.extend({\n            exec: function () {\n                this.getState();\n                this.range().clearContent();\n            }\n        });\n        kendo.spreadsheet.EditCommand = PropertyChangeCommand.extend({\n            init: function (options) {\n                options.property = options.property || 'input';\n                PropertyChangeCommand.fn.init.call(this, options);\n            },\n            rejectState: function (validationState) {\n                this.undo();\n                return {\n                    title: validationState.title,\n                    body: validationState.message,\n                    reason: 'error',\n                    type: 'validationError'\n                };\n            },\n            getState: function () {\n                this._state = this.range().getState();\n            },\n            exec: function () {\n                var range = this.range();\n                if (!range.enable()) {\n                    return {\n                        reason: 'error',\n                        type: 'rangeDisabled'\n                    };\n                }\n                var value = this._value;\n                this.getState();\n                if (this._property == 'value') {\n                    range.value(value);\n                    return;\n                }\n                try {\n                    range.link(null);\n                    if (value === '') {\n                        range.value(null);\n                    } else {\n                        range.input(value);\n                        if (/\\n/.test(range.value())) {\n                            range.wrap(true);\n                        }\n                    }\n                    range._adjustRowHeight();\n                    var validationState = range._getValidationState();\n                    if (validationState) {\n                        return this.rejectState(validationState);\n                    }\n                } catch (ex) {\n                    if (ex instanceof kendo.spreadsheet.calc.ParseError) {\n                        return {\n                            title: 'Error in formula',\n                            body: ex + '',\n                            reason: 'error'\n                        };\n                    } else {\n                        throw ex;\n                    }\n                }\n            }\n        });\n        kendo.spreadsheet.TextWrapCommand = PropertyChangeCommand.extend({\n            init: function (options) {\n                options.property = 'wrap';\n                PropertyChangeCommand.fn.init.call(this, options);\n                this._value = options.value;\n            },\n            getState: function () {\n                var rowHeight = {};\n                this.range().forEachRow(function (range) {\n                    var index = range.topLeft().row;\n                    rowHeight[index] = range.sheet().rowHeight(index);\n                });\n                this._state = this.range().getState(this._property);\n                this._rowHeight = rowHeight;\n            },\n            undo: function () {\n                var sheet = this.range().sheet();\n                var rowHeight = this._rowHeight;\n                this.range().setState(this._state);\n                for (var row in rowHeight) {\n                    sheet.rowHeight(row, rowHeight[row]);\n                }\n            }\n        });\n        kendo.spreadsheet.AdjustDecimalsCommand = Command.extend({\n            init: function (options) {\n                this._decimals = options.value;\n                options.property = 'format';\n                Command.fn.init.call(this, options);\n            },\n            exec: function () {\n                var sheet = this.range().sheet();\n                var decimals = this._decimals;\n                var formatting = kendo.spreadsheet.formatting;\n                this.getState();\n                sheet.batch(function () {\n                    this.range().forEachCell(function (row, col, cell) {\n                        var format = cell.format;\n                        if (format || decimals > 0) {\n                            format = formatting.adjustDecimals(format || '#', decimals);\n                            sheet.range(row, col).format(format);\n                        }\n                    });\n                }.bind(this));\n            }\n        });\n        kendo.spreadsheet.BorderChangeCommand = Command.extend({\n            init: function (options) {\n                options.property = 'border';\n                Command.fn.init.call(this, options);\n                this._type = options.border;\n                this._style = options.style;\n            },\n            exec: function () {\n                this.getState();\n                this[this._type](this._style);\n            },\n            noBorders: function () {\n                var range = this.range();\n                range.sheet().batch(function () {\n                    range.borderLeft(null).borderTop(null).borderRight(null).borderBottom(null);\n                }.bind(this), {});\n            },\n            allBorders: function (style) {\n                var range = this.range();\n                range.sheet().batch(function () {\n                    range.borderLeft(style).borderTop(style).borderRight(style).borderBottom(style);\n                }.bind(this), {});\n            },\n            leftBorder: function (style) {\n                this.range().leftColumn().borderLeft(style);\n            },\n            rightBorder: function (style) {\n                this.range().rightColumn().borderRight(style);\n            },\n            topBorder: function (style) {\n                this.range().topRow().borderTop(style);\n            },\n            bottomBorder: function (style) {\n                this.range().bottomRow().borderBottom(style);\n            },\n            outsideBorders: function (style) {\n                var range = this.range();\n                range.sheet().batch(function () {\n                    range.leftColumn().borderLeft(style);\n                    range.topRow().borderTop(style);\n                    range.rightColumn().borderRight(style);\n                    range.bottomRow().borderBottom(style);\n                }.bind(this), {});\n            },\n            insideBorders: function (style) {\n                this.range().sheet().batch(function () {\n                    this.allBorders(style);\n                    this.outsideBorders(null);\n                }.bind(this), {});\n            },\n            insideHorizontalBorders: function (style) {\n                var range = this.range();\n                range.sheet().batch(function () {\n                    range.borderBottom(style);\n                    range.bottomRow().borderBottom(null);\n                }.bind(this), {});\n            },\n            insideVerticalBorders: function (style) {\n                var range = this.range();\n                range.sheet().batch(function () {\n                    range.borderRight(style);\n                    range.rightColumn().borderRight(null);\n                }.bind(this), {});\n            }\n        });\n        kendo.spreadsheet.MergeCellCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._type = options.value;\n            },\n            exec: function () {\n                this.getState();\n                this[this._type]();\n            },\n            activate: function (ref) {\n                this.range().sheet().activeCell(ref);\n            },\n            getState: function () {\n                this._state = this.range().getState();\n            },\n            undo: function () {\n                if (this._type !== 'unmerge') {\n                    this.range().unmerge();\n                    this.activate(this.range().topLeft());\n                }\n                this.range().setState(this._state);\n            },\n            cells: function () {\n                var range = this.range();\n                var ref = range._ref;\n                range.merge();\n                this.activate(ref);\n            },\n            horizontally: function () {\n                var ref = this.range().topRow()._ref;\n                this.range().forEachRow(function (range) {\n                    range.merge();\n                });\n                this.activate(ref);\n            },\n            vertically: function () {\n                var ref = this.range().leftColumn()._ref;\n                this.range().forEachColumn(function (range) {\n                    range.merge();\n                });\n                this.activate(ref);\n            },\n            unmerge: function () {\n                var range = this.range();\n                var ref = range._ref.topLeft;\n                range.unmerge();\n                this.activate(ref);\n            }\n        });\n        kendo.spreadsheet.FreezePanesCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._type = options.value;\n            },\n            exec: function () {\n                this.getState();\n                this._topLeft = this.range().topLeft();\n                this[this._type]();\n            },\n            getState: function () {\n                this._state = this.range().sheet().getState();\n            },\n            undo: function () {\n                this.range().sheet().setState(this._state);\n            },\n            panes: function () {\n                var topLeft = this._topLeft;\n                var sheet = this.range().sheet();\n                sheet.frozenColumns(topLeft.col).frozenRows(topLeft.row);\n            },\n            rows: function () {\n                var topLeft = this._topLeft;\n                var sheet = this.range().sheet();\n                sheet.frozenRows(topLeft.row);\n            },\n            columns: function () {\n                var topLeft = this._topLeft;\n                var sheet = this.range().sheet();\n                sheet.frozenColumns(topLeft.col);\n            },\n            unfreeze: function () {\n                var sheet = this.range().sheet();\n                sheet.frozenRows(0).frozenColumns(0);\n            }\n        });\n        kendo.spreadsheet.PasteCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._clipboard = this._workbook.clipboard();\n            },\n            getState: function () {\n                this._range = this._workbook.activeSheet().range(this._clipboard.pasteRef());\n                this._state = this._range.getState();\n            },\n            exec: function () {\n                var status = this._clipboard.canPaste();\n                this._clipboard.menuInvoked = true;\n                if (!status.canPaste) {\n                    if (status.menuInvoked) {\n                        return {\n                            reason: 'error',\n                            type: 'useKeyboard'\n                        };\n                    }\n                    if (status.pasteOnMerged) {\n                        return {\n                            reason: 'error',\n                            type: 'modifyMerged'\n                        };\n                    }\n                    if (status.overflow) {\n                        return {\n                            reason: 'error',\n                            type: 'overflow'\n                        };\n                    }\n                    return { reason: 'error' };\n                }\n                this.getState();\n                this._clipboard.paste();\n                var range = this._workbook.activeSheet().range(this._clipboard.pasteRef());\n                range._adjustRowHeight();\n            }\n        });\n        kendo.spreadsheet.AdjustRowHeightCommand = Command.extend({\n            exec: function () {\n                var options = this.options;\n                var sheet = this._workbook.activeSheet();\n                var range = options.range || sheet.range(options.rowIndex);\n                range._adjustRowHeight();\n            }\n        });\n        kendo.spreadsheet.ToolbarPasteCommand = Command.extend({\n            exec: function () {\n                if (kendo.support.clipboard.paste) {\n                    this._workbook._view.clipboard.focus().select();\n                    document.execCommand('paste');\n                } else {\n                    return {\n                        reason: 'error',\n                        type: 'useKeyboard'\n                    };\n                }\n            }\n        });\n        kendo.spreadsheet.CopyCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._clipboard = options.workbook.clipboard();\n            },\n            undo: $.noop,\n            exec: function () {\n                var status = this._clipboard.canCopy();\n                this._clipboard.menuInvoked = true;\n                if (!status.canCopy) {\n                    if (status.menuInvoked) {\n                        return {\n                            reason: 'error',\n                            type: 'useKeyboard'\n                        };\n                    } else if (status.multiSelection) {\n                        return {\n                            reason: 'error',\n                            type: 'unsupportedSelection'\n                        };\n                    }\n                    return;\n                }\n                this._clipboard.copy();\n            }\n        });\n        function copyToClipboard(html) {\n            var textarea = document.createElement('textarea');\n            $(textarea).addClass('k-spreadsheet-clipboard').val(html).appendTo(document.body).focus().select();\n            document.execCommand('copy');\n            $(textarea).remove();\n        }\n        kendo.spreadsheet.ToolbarCopyCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._clipboard = options.workbook.clipboard();\n            },\n            undo: $.noop,\n            exec: function () {\n                if (kendo.support.clipboard.copy) {\n                    var clipboard = this._workbook._view.clipboard;\n                    copyToClipboard(clipboard.html());\n                    clipboard.trigger('copy');\n                } else {\n                    return {\n                        reason: 'error',\n                        type: 'useKeyboard'\n                    };\n                }\n            }\n        });\n        kendo.spreadsheet.CutCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._clipboard = options.workbook.clipboard();\n            },\n            exec: function () {\n                if (this.range().enable() && this._clipboard.canCopy()) {\n                    this.getState();\n                    this._clipboard.cut();\n                }\n            }\n        });\n        kendo.spreadsheet.AutoFillCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n            },\n            origin: function (origin) {\n                this._origin = origin;\n            },\n            exec: function () {\n                var range = this.range();\n                if (!range.enable()) {\n                    return {\n                        reason: 'error',\n                        type: 'rangeDisabled'\n                    };\n                }\n                this.getState();\n                try {\n                    range.fillFrom(this._origin);\n                } catch (ex) {\n                    if (ex instanceof kendo.spreadsheet.Range.FillError) {\n                        return {\n                            reason: 'error',\n                            type: ex.code\n                        };\n                    }\n                    throw ex;\n                }\n            }\n        });\n        kendo.spreadsheet.ToolbarCutCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._clipboard = options.workbook.clipboard();\n            },\n            exec: function () {\n                if (kendo.support.clipboard.copy) {\n                    var clipboard = this._workbook._view.clipboard;\n                    copyToClipboard(clipboard.html());\n                    clipboard.trigger('cut');\n                } else {\n                    return {\n                        reason: 'error',\n                        type: 'useKeyboard'\n                    };\n                }\n            }\n        });\n        kendo.spreadsheet.FilterCommand = Command.extend({\n            undo: function () {\n                this.range().filter(this._state);\n            },\n            exec: function () {\n                var range = this.range();\n                this._state = range.hasFilter();\n                if (range.hasFilter()) {\n                    range.filter(false);\n                } else if (!range.intersectingMerged().length) {\n                    range.filter(true);\n                } else {\n                    return {\n                        reason: 'error',\n                        type: 'filterRangeContainingMerges'\n                    };\n                }\n            }\n        });\n        kendo.spreadsheet.SortCommand = Command.extend({\n            undo: function () {\n                var sheet = this.range().sheet();\n                sheet.setState(this._state);\n            },\n            exec: function () {\n                var range = this.range();\n                var sheet = range.sheet();\n                var activeCell = sheet.activeCell();\n                var col = this.options.sheet ? activeCell.topLeft.col : this.options.column || 0;\n                var ascending = this.options.value === 'asc' ? true : false;\n                this._state = sheet.getState();\n                if (this.options.sheet) {\n                    range = this.expandRange();\n                }\n                if (!range.intersectingMerged().length) {\n                    range.sort({\n                        column: col,\n                        ascending: ascending\n                    });\n                } else {\n                    return {\n                        reason: 'error',\n                        type: 'sortRangeContainingMerges'\n                    };\n                }\n            },\n            expandRange: function () {\n                var sheet = this.range().sheet();\n                return new kendo.spreadsheet.Range(sheet._sheetRef, sheet);\n            }\n        });\n        var ApplyFilterCommand = kendo.spreadsheet.ApplyFilterCommand = Command.extend({\n            column: function () {\n                return this.options.column || 0;\n            },\n            undo: function () {\n                var sheet = this.range().sheet();\n                sheet.clearFilter(this.column());\n                if (this._state.length) {\n                    this.range().filter(this._state);\n                }\n            },\n            getState: function () {\n                var sheet = this.range().sheet();\n                var current = sheet.filter();\n                if (current) {\n                    this._state = current.columns.filter(function (c) {\n                        return c.index == this.column();\n                    }.bind(this));\n                }\n            },\n            exec: function () {\n                var range = this.range();\n                var column = this.column();\n                var current = range.sheet().filter();\n                var options;\n                var filterRule;\n                var exists = false;\n                if (this.options.valueFilter) {\n                    filterRule = {\n                        column: column,\n                        filter: new kendo.spreadsheet.ValueFilter(this.options.valueFilter)\n                    };\n                } else if (this.options.customFilter) {\n                    filterRule = {\n                        column: column,\n                        filter: new kendo.spreadsheet.CustomFilter(this.options.customFilter)\n                    };\n                }\n                this.getState();\n                if (current && current.ref.eq(range._ref) && current.columns.length) {\n                    current.columns.forEach(function (element) {\n                        if (element.index === column) {\n                            exists = true;\n                        }\n                    });\n                    options = current.columns.map(function (element) {\n                        return element.index === column ? filterRule : {\n                            column: element.index,\n                            filter: element.filter\n                        };\n                    });\n                    if (!exists) {\n                        options.push(filterRule);\n                    }\n                } else {\n                    options = filterRule;\n                }\n                range.filter(options);\n            }\n        });\n        kendo.spreadsheet.ClearFilterCommand = ApplyFilterCommand.extend({\n            exec: function () {\n                var range = this.range();\n                var column = this.column();\n                this.getState();\n                range.clearFilter(column);\n            }\n        });\n        kendo.spreadsheet.HideLineCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this.axis = options.axis;\n            },\n            undo: function () {\n                var sheet = this.range().sheet();\n                sheet.setAxisState(this._state);\n            },\n            exec: function () {\n                var sheet = this.range().sheet();\n                this._state = sheet.getAxisState();\n                if (this.axis == 'row') {\n                    sheet.axisManager().hideSelectedRows();\n                } else {\n                    sheet.axisManager().hideSelectedColumns();\n                }\n            }\n        });\n        kendo.spreadsheet.UnHideLineCommand = kendo.spreadsheet.HideLineCommand.extend({\n            exec: function () {\n                var sheet = this.range().sheet();\n                this._state = sheet.getAxisState();\n                if (this.axis == 'row') {\n                    sheet.axisManager().unhideSelectedRows();\n                } else {\n                    sheet.axisManager().unhideSelectedColumns();\n                }\n            }\n        });\n        var DeleteCommand = kendo.spreadsheet.DeleteCommand = Command.extend({\n            undo: function () {\n                var sheet = this.range().sheet();\n                sheet.setState(this._state);\n            }\n        });\n        kendo.spreadsheet.DeleteRowCommand = DeleteCommand.extend({\n            exec: function () {\n                var sheet = this.range().sheet();\n                this._state = sheet.getState();\n                sheet.axisManager().deleteSelectedRows();\n            }\n        });\n        kendo.spreadsheet.DeleteColumnCommand = DeleteCommand.extend({\n            exec: function () {\n                var sheet = this.range().sheet();\n                this._state = sheet.getState();\n                sheet.axisManager().deleteSelectedColumns();\n            }\n        });\n        var AddCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._value = options.value;\n            },\n            undo: function () {\n                var sheet = this.range().sheet();\n                sheet.setState(this._state);\n            }\n        });\n        kendo.spreadsheet.AddColumnCommand = AddCommand.extend({\n            exec: function () {\n                var sheet = this.range().sheet();\n                this._state = sheet.getState();\n                if (this._value === 'left') {\n                    sheet.axisManager().addColumnLeft();\n                } else {\n                    sheet.axisManager().addColumnRight();\n                }\n            }\n        });\n        kendo.spreadsheet.AddRowCommand = AddCommand.extend({\n            exec: function () {\n                var sheet = this.range().sheet();\n                if (!sheet.axisManager().canAddRow()) {\n                    return {\n                        reason: 'error',\n                        type: 'shiftingNonblankCells'\n                    };\n                }\n                this._state = sheet.getState();\n                if (this._value === 'above') {\n                    sheet.axisManager().addRowAbove();\n                } else {\n                    sheet.axisManager().addRowBelow();\n                }\n            }\n        });\n        kendo.spreadsheet.EditValidationCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._value = options.value;\n            },\n            exec: function () {\n                this.range().validation(this._value);\n            }\n        });\n        kendo.spreadsheet.OpenCommand = Command.extend({\n            cannotUndo: true,\n            exec: function () {\n                var file = this.options.file;\n                if (file.name.match(/.xlsx$/i) === null) {\n                    return {\n                        reason: 'error',\n                        type: 'openUnsupported'\n                    };\n                }\n                this.options.workbook.fromFile(this.options.file);\n            }\n        });\n        kendo.spreadsheet.SaveAsCommand = Command.extend({\n            exec: function () {\n                var fileName = this.options.name + this.options.extension;\n                if (this.options.extension === '.xlsx') {\n                    this.options.workbook.saveAsExcel({ fileName: fileName });\n                } else if (this.options.extension === '.pdf') {\n                    this.options.workbook.saveAsPDF($.extend(this.options.pdf, {\n                        workbook: this.options.workbook,\n                        fileName: fileName\n                    }));\n                }\n            }\n        });\n        var NameCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this._name = options.name;\n                this._value = options.value;\n            },\n            getState: function () {\n                this._state = this._workbook.nameDefinition(this._name);\n            },\n            setState: function () {\n                this._workbook.nameDefinition(this._name, this._state);\n                this._workbook.trigger('change', { recalc: true });\n            }\n        });\n        kendo.spreadsheet.DefineNameCommand = NameCommand.extend({\n            exec: function () {\n                this.getState();\n                try {\n                    this._workbook.defineName(this._name, this._value);\n                    this._workbook.trigger('change', { recalc: true });\n                } catch (ex) {\n                    return {\n                        title: 'Error',\n                        body: ex + '',\n                        reason: 'error'\n                    };\n                }\n            }\n        });\n        kendo.spreadsheet.DeleteNameCommand = NameCommand.extend({\n            exec: function () {\n                this.getState();\n                this._workbook.undefineName(this._name);\n                this._workbook.trigger('change', { recalc: true });\n            }\n        });\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/formulabar', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var classNames = { wrapper: 'k-spreadsheet-formula-bar' };\n        var FormulaBar = kendo.ui.Widget.extend({\n            init: function (element, options) {\n                kendo.ui.Widget.call(this, element, options);\n                element = this.element.addClass(FormulaBar.classNames.wrapper);\n                this.formulaInput = new kendo.spreadsheet.FormulaInput($('<div/>').appendTo(element));\n            },\n            destroy: function () {\n                if (this.formulaInput) {\n                    this.formulaInput.destroy();\n                }\n                this.formulaInput = null;\n            }\n        });\n        kendo.spreadsheet.FormulaBar = FormulaBar;\n        $.extend(true, FormulaBar, { classNames: classNames });\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/formulainput', ['kendo.core'], f);\n}(function () {\n    (function (kendo, window) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var Widget = kendo.ui.Widget;\n        var ns = '.kendoFormulaInput';\n        var keys = kendo.keys;\n        var classNames = {\n            wrapper: 'k-spreadsheet-formula-input',\n            listWrapper: 'k-spreadsheet-formula-list'\n        };\n        var styles = [\n            'font-family',\n            'font-size',\n            'font-stretch',\n            'font-style',\n            'font-weight',\n            'letter-spacing',\n            'text-transform',\n            'line-height'\n        ];\n        var KEY_NAMES = {\n            27: 'esc',\n            37: 'left',\n            39: 'right',\n            35: 'end',\n            36: 'home',\n            32: 'spacebar'\n        };\n        var PRIVATE_FORMULA_CHECK = /(^_|[^a-z0-9]$)/i;\n        var FormulaInput = Widget.extend({\n            init: function (element, options) {\n                Widget.call(this, element, options);\n                element = this.element;\n                element.addClass(FormulaInput.classNames.wrapper).attr('contenteditable', true).attr('spellcheck', false).css('white-space', 'pre');\n                if (this.options.autoScale) {\n                    element.on('input', this.scale.bind(this));\n                }\n                this._highlightedRefs = [];\n                this._staticTokens = [];\n                this._formulaSource();\n                this._formulaList();\n                this._popup();\n                this._tooltip();\n                element.on('keydown', this._keydown.bind(this)).on('keyup', this._keyup.bind(this)).on('blur', this._blur.bind(this)).on('input click', this._input.bind(this)).on('focus', this._focus.bind(this)).on('paste', this._paste.bind(this));\n            },\n            options: {\n                name: 'FormulaInput',\n                autoScale: false,\n                filterOperator: 'startswith',\n                scalePadding: 30,\n                minLength: 1\n            },\n            events: [\n                'keyup',\n                'focus'\n            ],\n            enable: function (enable) {\n                if (enable === undefined) {\n                    return this.element.attr('contenteditable') === 'true';\n                }\n                this.enableEditing(enable);\n                this.element.toggleClass('k-state-disabled', !enable);\n            },\n            enableEditing: function (enable) {\n                if (enable) {\n                    this.element.attr('contenteditable', enable);\n                } else {\n                    this.element.removeAttr('contenteditable');\n                }\n            },\n            getPos: function () {\n                var div = this.element[0];\n                var sel = window.getSelection();\n                var a = lookup(sel.focusNode, sel.focusOffset);\n                var b = lookup(sel.anchorNode, sel.anchorOffset);\n                if (a != null && b != null) {\n                    if (a > b) {\n                        var tmp = a;\n                        a = b;\n                        b = tmp;\n                    }\n                    return {\n                        begin: a,\n                        end: b,\n                        collapsed: a == b\n                    };\n                }\n                function lookup(lookupNode, pos) {\n                    try {\n                        (function loop(node) {\n                            if (node === lookupNode) {\n                                throw pos;\n                            } else if (node.nodeType == 1) {\n                                for (var i = node.firstChild; i; i = i.nextSibling) {\n                                    loop(i);\n                                }\n                            } else if (node.nodeType == 3) {\n                                pos += node.nodeValue.length;\n                            }\n                        }(div));\n                    } catch (index) {\n                        return index;\n                    }\n                }\n            },\n            setPos: function (begin, end) {\n                var eiv = this.element[0];\n                begin = lookup(eiv, begin);\n                if (end != null) {\n                    end = lookup(eiv, end);\n                } else {\n                    end = begin;\n                }\n                if (begin && end) {\n                    var range = document.createRange();\n                    range.setStart(begin.node, begin.pos);\n                    range.setEnd(end.node, end.pos);\n                    var sel = window.getSelection();\n                    var currentRange = sel.getRangeAt(0);\n                    if (differ(range, currentRange)) {\n                        sel.removeAllRanges();\n                        sel.addRange(range);\n                    }\n                }\n                function differ(a, b) {\n                    return a.startOffset != b.startOffset || a.endOffset != b.endOffset || a.startContainer != b.endContainer || a.endContainer != b.endContainer;\n                }\n                function lookup(node, pos) {\n                    try {\n                        (function loop(node) {\n                            if (node.nodeType == 3) {\n                                var len = node.nodeValue.length;\n                                if (len >= pos) {\n                                    throw node;\n                                }\n                                pos -= len;\n                            } else if (node.nodeType == 1) {\n                                for (var i = node.firstChild; i; i = i.nextSibling) {\n                                    loop(i);\n                                }\n                            }\n                        }(node));\n                    } catch (el) {\n                        return {\n                            node: el,\n                            pos: pos\n                        };\n                    }\n                }\n            },\n            end: function () {\n                this.setPos(this.length());\n            },\n            home: function () {\n                this.setPos(0);\n            },\n            length: function () {\n                return this.value().length;\n            },\n            _formulaSource: function () {\n                var result = [];\n                var value;\n                for (var key in kendo.spreadsheet.calc.runtime.FUNCS) {\n                    if (!PRIVATE_FORMULA_CHECK.test(key)) {\n                        value = key.toUpperCase();\n                        result.push({\n                            value: value,\n                            text: value\n                        });\n                    }\n                }\n                this.formulaSource = new kendo.data.DataSource({ data: result });\n            },\n            _formulaList: function () {\n                this.list = new kendo.ui.StaticList($('<ul />').addClass(FormulaInput.classNames.listWrapper).insertAfter(this.element), {\n                    autoBind: false,\n                    selectable: true,\n                    change: this._formulaListChange.bind(this),\n                    dataSource: this.formulaSource,\n                    dataValueField: 'value',\n                    template: '#:data.value#'\n                });\n                this.list.element.on('mousedown', function (e) {\n                    e.preventDefault();\n                });\n            },\n            _formulaListChange: function () {\n                var tokenCtx = this._tokenContext();\n                if (!tokenCtx || this._mute) {\n                    return;\n                }\n                var activeToken = tokenCtx.token;\n                var completion = this.list.value()[0];\n                var ctx = {\n                    replace: true,\n                    token: activeToken,\n                    end: activeToken.end\n                };\n                if (!tokenCtx.nextToken || tokenCtx.nextToken.value != '(') {\n                    completion += '(';\n                }\n                this._replaceAt(ctx, completion);\n                this.popup.close();\n            },\n            _popup: function () {\n                this.popup = new kendo.ui.Popup(this.list.element, { anchor: this.element });\n            },\n            _blur: function () {\n                this.popup.close();\n                clearTimeout(this._focusId);\n                this.trigger('blur');\n            },\n            _isFormula: function () {\n                return /^=/.test(this.value());\n            },\n            _keydown: function (e) {\n                var key = e.keyCode;\n                if (KEY_NAMES[key]) {\n                    this.popup.close();\n                    this._navigated = true;\n                } else if (this._move(key)) {\n                    this._navigated = true;\n                    e.preventDefault();\n                }\n                this._keyDownTimeout = setTimeout(this._syntaxHighlight.bind(this));\n            },\n            _keyup: function () {\n                var popup = this.popup;\n                var value;\n                if (this._isFormula() && !this._navigated) {\n                    value = ((this._tokenContext() || {}).token || {}).value;\n                    this.filter(value);\n                    if (!value || !this.formulaSource.view().length) {\n                        popup.close();\n                    } else {\n                        popup[popup.visible() ? 'position' : 'open']();\n                        this.list.focusFirst();\n                    }\n                }\n                this._navigated = false;\n                this._syntaxHighlight();\n                this.trigger('keyup');\n            },\n            _input: function () {\n                this._syntaxHighlight();\n            },\n            _focus: function () {\n                this._focusTimeout = setTimeout(this._syntaxHighlight.bind(this));\n                this.trigger('focus');\n            },\n            _paste: function (ev) {\n                ev.preventDefault();\n                var pos = this.getPos();\n                var text;\n                if (kendo.support.browser.msie) {\n                    text = window.clipboardData.getData('Text');\n                } else {\n                    text = ev.originalEvent.clipboardData.getData('text/plain');\n                }\n                var val = this.value();\n                val = val.substr(0, pos.begin) + text + val.substr(pos.end);\n                this.value(val);\n                this.setPos(pos.begin + text.length);\n                this.scale();\n            },\n            _move: function (key) {\n                var list = this.list;\n                var popup = this.popup;\n                if (popup.visible()) {\n                    if (key === keys.DOWN) {\n                        list.focusNext();\n                        if (!list.focus()) {\n                            list.focusFirst();\n                        }\n                        return true;\n                    }\n                    if (key === keys.UP) {\n                        list.focusPrev();\n                        if (!list.focus()) {\n                            list.focusLast();\n                        }\n                        return true;\n                    }\n                    if (key === keys.ENTER) {\n                        list.select(list.focus());\n                        popup.close();\n                        return true;\n                    }\n                    if (key === keys.TAB) {\n                        list.select(list.focus());\n                        popup.close();\n                        return true;\n                    }\n                    if (key === keys.PAGEUP) {\n                        list.focusFirst();\n                        return true;\n                    }\n                    if (key === keys.PAGEDOWN) {\n                        list.focusLast();\n                        return true;\n                    }\n                }\n                return key === keys.ENTER;\n            },\n            _tokenContext: function () {\n                var point = this.getPos();\n                var value = this.value();\n                if (!value || !point || !point.collapsed) {\n                    return null;\n                }\n                var tokens = kendo.spreadsheet.calc.tokenize(value, this.row(), this.col());\n                var tok;\n                for (var i = 0; i < tokens.length; ++i) {\n                    tok = tokens[i];\n                    if (touches(tok, point) && /^(?:str|sym|func)$/.test(tok.type)) {\n                        return {\n                            token: tok,\n                            nextToken: tokens[i + 1]\n                        };\n                    }\n                }\n                return null;\n            },\n            _sync: function () {\n                if (this._editorToSync && this.isActive()) {\n                    this._editorToSync.value(this.value());\n                }\n            },\n            _textContainer: function () {\n                var computedStyles = kendo.getComputedStyles(this.element[0], styles);\n                computedStyles.position = 'absolute';\n                computedStyles.visibility = 'hidden';\n                computedStyles.whiteSpace = 'pre';\n                computedStyles.top = -3333;\n                computedStyles.left = -3333;\n                this._span = $('<span style=\\'white-space: pre\\'/>').css(computedStyles).insertAfter(this.element);\n            },\n            _tooltip: function () {\n                this._cellTooltip = $('<div class=\"k-widget k-tooltip\" style=\"position:absolute; display:none\">A1</div>').insertAfter(this.element);\n            },\n            tooltip: function (value) {\n                this._cellTooltip.text(value);\n            },\n            toggleTooltip: function (show) {\n                this._cellTooltip.toggle(show);\n            },\n            isActive: function () {\n                return this.element[0] === kendo._activeElement();\n            },\n            filter: function (value) {\n                if (!value || value.length < this.options.minLength) {\n                    return;\n                }\n                this._mute = true;\n                this.list.select(-1);\n                this._mute = false;\n                this.formulaSource.filter({\n                    field: this.list.options.dataValueField,\n                    operator: this.options.filterOperator,\n                    value: value\n                });\n            },\n            hide: function () {\n                this.enableEditing(false);\n                this.element.hide();\n                this._cellTooltip.hide();\n            },\n            show: function () {\n                this.enableEditing(true);\n                this.element.show();\n            },\n            row: function () {\n                if (this.activeCell) {\n                    return this.activeCell.row;\n                }\n            },\n            col: function () {\n                if (this.activeCell) {\n                    return this.activeCell.col;\n                }\n            },\n            position: function (rectangle) {\n                if (!rectangle) {\n                    return;\n                }\n                this.show();\n                this.element.css({\n                    'top': rectangle.top + 1 + 'px',\n                    'left': rectangle.left + 1 + 'px'\n                });\n                this._cellTooltip.css({\n                    'top': rectangle.top - this._cellTooltip.height() - 10 + 'px',\n                    'left': rectangle.left\n                });\n            },\n            resize: function (rectangle) {\n                if (!rectangle) {\n                    return;\n                }\n                this.element.css({\n                    width: rectangle.width - 1,\n                    height: rectangle.height - 1\n                });\n            },\n            canInsertRef: function (isKeyboardAction) {\n                var result = this._canInsertRef(isKeyboardAction);\n                var token = result && result.token;\n                var idx;\n                if (token) {\n                    for (idx = 0; idx < this._staticTokens.length; idx++) {\n                        if (isEqualToken(token, this._staticTokens[idx])) {\n                            return null;\n                        }\n                    }\n                }\n                return result;\n            },\n            _canInsertRef: function (isKeyboardAction) {\n                if (this.popup.visible()) {\n                    return null;\n                }\n                var strictMode = isKeyboardAction;\n                var point = this.getPos();\n                var tokens, tok;\n                if (point && this._isFormula()) {\n                    if (point.begin === 0) {\n                        return null;\n                    }\n                    tokens = kendo.spreadsheet.calc.tokenize(this.value(), this.row(), this.col());\n                    for (var i = 0; i < tokens.length; ++i) {\n                        tok = tokens[i];\n                        if (touches(tok, point)) {\n                            return canReplace(tok);\n                        }\n                        if (afterPoint(tok)) {\n                            return canInsertBetween(tokens[i - 1], tok);\n                        }\n                    }\n                    return canInsertBetween(tok, null);\n                }\n                return null;\n                function afterPoint(tok) {\n                    return tok.begin > point.begin;\n                }\n                function canReplace(tok) {\n                    if (tok) {\n                        if (/^(?:num|str|bool|sym|ref)$/.test(tok.type)) {\n                            return {\n                                replace: true,\n                                token: tok,\n                                end: tok.end\n                            };\n                        }\n                        if (/^(?:op|punc|startexp)$/.test(tok.type)) {\n                            if (tok.end == point.end) {\n                                return canInsertBetween(tok, tokens[i + 1]);\n                            }\n                            return canInsertBetween(tokens[i - 1], tok);\n                        }\n                    }\n                }\n                function canInsertBetween(left, right) {\n                    if (left == null) {\n                        return null;\n                    }\n                    if (right == null) {\n                        if (/^(?:op|startexp)$/.test(left.type) || isOpenParen(left.value)) {\n                            return {\n                                token: left,\n                                end: point.end\n                            };\n                        }\n                        return null;\n                    }\n                    if (strictMode) {\n                        if (left.type == 'op' && /^(?:punc|op)$/.test(right.type)) {\n                            return {\n                                token: left,\n                                end: point.end\n                            };\n                        }\n                    } else {\n                        if (left.type == 'startexp') {\n                            return {\n                                token: left,\n                                end: point.end\n                            };\n                        }\n                        if (/^(?:ref|op|punc)$/.test(left.type)) {\n                            return {\n                                token: left,\n                                end: point.end\n                            };\n                        }\n                        if (/^(?:punc|op)$/.test(left.type)) {\n                            return /^[,;({]$/.test(left.value) ? {\n                                token: left,\n                                end: point.end\n                            } : null;\n                        }\n                    }\n                    return false;\n                }\n            },\n            refAtPoint: function (ref) {\n                var x = this._canInsertRef();\n                if (x) {\n                    this._replaceAt(x, ref.simplify().toString());\n                }\n            },\n            _replaceAt: function (ctx, newValue) {\n                var value = this.value();\n                var tok = ctx.token;\n                var rest = value.substr(ctx.end);\n                value = value.substr(0, ctx.replace ? tok.begin : ctx.end) + newValue;\n                var point = value.length;\n                value += rest;\n                this._value(value);\n                this.setPos(point);\n                this.scale();\n                this._syntaxHighlight();\n                this._sync();\n            },\n            syncWith: function (formulaInput) {\n                var self = this;\n                var eventName = 'input' + ns;\n                var handler = self._sync.bind(self), iehandler;\n                if (kendo.support.browser.msie) {\n                    eventName = 'keydown' + ns;\n                    iehandler = function () {\n                        setTimeout(handler);\n                    };\n                }\n                self._editorToSync = formulaInput;\n                self.element.off(eventName).on(eventName, iehandler || handler);\n            },\n            scale: function () {\n                var element = this.element;\n                var width, height;\n                if (!this._span) {\n                    this._textContainer();\n                }\n                this._span.html(element.html());\n                width = this._span.width() + this.options.scalePadding;\n                height = this._span.height();\n                if (width > element.width()) {\n                    element.width(width);\n                }\n                if (height > element.height()) {\n                    element.height(height);\n                }\n            },\n            _value: function (value) {\n                this.element.text(value);\n            },\n            value: function (value) {\n                if (value === undefined) {\n                    var txt = this.element[0].innerText;\n                    if (kendo.support.browser.mozilla) {\n                        txt = txt.replace(/\\n$/, '');\n                    }\n                    return txt;\n                }\n                this._value(value);\n                this._syntaxHighlight();\n            },\n            highlightedRefs: function () {\n                return this._highlightedRefs.slice();\n            },\n            _syntaxHighlight: function () {\n                var pos = this.getPos();\n                var value = this.value();\n                var refClasses = kendo.spreadsheet.Pane.classNames.series;\n                var highlightedRefs = [];\n                var refIndex = 0;\n                var parens = [];\n                var tokens = [];\n                var activeToken;\n                if (pos && !pos.collapsed) {\n                    return;\n                }\n                if (!/^=/.test(value)) {\n                    if (this._staticTokens.length || this._highlightedRefs.length) {\n                        this._staticTokens = [];\n                        this._highlightedRefs = [];\n                        this.element.text(value);\n                    }\n                    if (this.popup) {\n                        this.popup.close();\n                    }\n                    return;\n                } else {\n                    tokens = kendo.spreadsheet.calc.tokenize(value, this.row(), this.col());\n                    tokens.forEach(function (tok) {\n                        tok.active = false;\n                        tok.cls = ['k-syntax-' + tok.type];\n                        if (tok.type == 'ref') {\n                            tok.colorClass = refClasses[refIndex++ % refClasses.length];\n                            tok.cls.push(tok.colorClass);\n                            highlightedRefs.push(tok);\n                        }\n                        if (pos && tok.type == 'punc') {\n                            if (isOpenParen(tok.value)) {\n                                parens.unshift(tok);\n                            } else if (isCloseParen(tok.value)) {\n                                var open = parens.shift();\n                                if (open) {\n                                    if (isMatchingParen(tok.value, open.value)) {\n                                        if (touches(tok, pos) || touches(open, pos)) {\n                                            tok.cls.push('k-syntax-paren-match');\n                                            open.cls.push('k-syntax-paren-match');\n                                        }\n                                    } else {\n                                        tok.cls.push('k-syntax-error');\n                                        open.cls.push('k-syntax-error');\n                                    }\n                                } else {\n                                    tok.cls.push('k-syntax-error');\n                                }\n                            }\n                        }\n                        if (pos && touches(tok, pos)) {\n                            tok.cls.push('k-syntax-at-point');\n                            tok.active = true;\n                            activeToken = tok;\n                        }\n                        if (tok.type == 'func' && !knownFunction(tok.value) && (!pos || !touches(tok, pos))) {\n                            tok.cls.push('k-syntax-error');\n                        }\n                    });\n                    tokens.reverse().forEach(function (tok) {\n                        var begin = tok.begin, end = tok.end;\n                        var text = kendo.htmlEncode(value.substring(begin, end));\n                        value = value.substr(0, begin) + '<span class=\\'' + tok.cls.join(' ') + '\\'>' + text + '</span>' + value.substr(end);\n                    });\n                    this.element.html(value);\n                }\n                if (pos) {\n                    this.setPos(pos.begin, pos.end);\n                }\n                if (activeToken && /^(?:startexp|op|punc)$/.test(activeToken.type)) {\n                    this._setStaticTokens(tokens);\n                }\n                this._highlightedRefs = highlightedRefs;\n            },\n            _setStaticTokens: function (tokens) {\n                var idx, tok;\n                this._staticTokens = [];\n                for (idx = 0; idx < tokens.length; idx++) {\n                    tok = tokens[idx];\n                    if (/^(?:num|str|bool|sym|ref)$/.test(tok.type)) {\n                        this._staticTokens.push(tok);\n                    }\n                }\n            },\n            destroy: function () {\n                this._editorToSync = null;\n                this.element.off(ns);\n                clearTimeout(this._focusTimeout);\n                clearTimeout(this._keyDownTimeout);\n                this._cellTooltip = null;\n                this._span = null;\n                this.popup.destroy();\n                this.popup = null;\n                Widget.fn.destroy.call(this);\n            },\n            insertNewline: function () {\n                var val = this.value();\n                var pos = this.getPos();\n                var eof = pos.end == val.length;\n                val = val.substr(0, pos.begin) + (eof ? '\\n\\n' : '\\n' + val.substr(pos.end));\n                this.value(val);\n                this.setPos(pos.begin + 1);\n            }\n        });\n        function isOpenParen(ch) {\n            return ch == '(' || ch == '[' || ch == '{';\n        }\n        function isCloseParen(ch) {\n            return ch == ')' || ch == ']' || ch == '}';\n        }\n        function isMatchingParen(close, open) {\n            return open == '(' ? close == ')' : open == '[' ? close == ']' : open == '{' ? close == '}' : false;\n        }\n        function touches(pos, target) {\n            return pos.begin <= target.begin && pos.end >= target.end;\n        }\n        function knownFunction(name) {\n            return kendo.spreadsheet.calc.runtime.FUNCS[name.toLowerCase()];\n        }\n        function isEqualToken(tok1, tok2) {\n            if (!tok1 || !tok2) {\n                return false;\n            }\n            if (tok1.type == 'ref' && tok2.type == 'ref') {\n                return tok1.ref.eq(tok2.ref);\n            } else {\n                return tok1.value === tok2.value;\n            }\n        }\n        kendo.spreadsheet.FormulaInput = FormulaInput;\n        $.extend(true, FormulaInput, { classNames: classNames });\n    }(kendo, window));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/eventlistener', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var KEY_NAMES = {\n            8: 'backspace',\n            9: 'tab',\n            13: 'enter',\n            27: 'esc',\n            37: 'left',\n            38: 'up',\n            39: 'right',\n            40: 'down',\n            35: 'end',\n            36: 'home',\n            32: 'spacebar',\n            33: 'pageup',\n            34: 'pagedown',\n            46: 'delete',\n            113: ':edit'\n        };\n        var Mac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n        var isAlphaNum = function (keyCode) {\n            if (keyCode > 47 && keyCode < 58 || keyCode > 64 && keyCode < 91 || keyCode > 95 && keyCode < 112 || keyCode > 185 && keyCode < 193 || keyCode > 218 && keyCode < 223) {\n                return true;\n            }\n            return false;\n        };\n        var keyName = function (event) {\n            var keyCode = event.keyCode;\n            var name = KEY_NAMES[keyCode];\n            if (!name && isAlphaNum(keyCode)) {\n                name = ':alphanum';\n            }\n            if (!name && event.key && event.key.length == 1) {\n                name = ':alphanum';\n            }\n            return name;\n        };\n        var EventListener = kendo.Class.extend({\n            init: function (target, observer, handlers) {\n                this._handlers = {};\n                this.target = target;\n                this._observer = observer || window;\n                this.keyDownProxy = this.keyDown.bind(this);\n                this.mouseProxy = this.mouse.bind(this);\n                this.threshold = 5;\n                this._pressLocation = null;\n                target.on('keydown', this.keyDownProxy);\n                target.on('contextmenu mousedown cut copy paste scroll wheel click dblclick focus', this.mouseProxy);\n                $(document.documentElement).on('mousemove mouseup', this.mouseProxy);\n                if (handlers) {\n                    for (var key in handlers) {\n                        this.on(key, handlers[key]);\n                    }\n                }\n            },\n            keyDown: function (e) {\n                this.handleEvent(e, keyName(e.originalEvent));\n            },\n            mouse: function (e) {\n                var rightClick;\n                if (e.which) {\n                    rightClick = e.which == 3;\n                } else if (e.button) {\n                    rightClick = e.button == 2;\n                }\n                var type = e.type;\n                if (type === 'mousedown') {\n                    if (rightClick) {\n                        type = 'rightmousedown';\n                    } else {\n                        this._pressLocation = {\n                            x: e.pageX,\n                            y: e.pageY\n                        };\n                    }\n                }\n                if (type === 'mouseup') {\n                    if (!rightClick) {\n                        this._pressLocation = null;\n                    }\n                }\n                if (type === 'mousemove' && this._pressLocation) {\n                    var dx = this._pressLocation.x - e.pageX;\n                    var dy = this._pressLocation.y - e.pageY;\n                    var distance = Math.sqrt(dx * dx + dy * dy);\n                    if (distance > this.threshold) {\n                        type = 'mousedrag';\n                    }\n                }\n                this.handleEvent(e, type);\n            },\n            handleEvent: function (e, name) {\n                var eventKey = '';\n                e.mod = Mac ? e.metaKey : e.ctrlKey && !e.altKey;\n                if (e.altKey) {\n                    eventKey += 'alt+';\n                }\n                if (e.shiftKey) {\n                    eventKey += 'shift+';\n                }\n                if (e.ctrlKey) {\n                    eventKey += 'ctrl+';\n                }\n                eventKey += name;\n                var catchAllHandler = this._handlers['*+' + name];\n                if (catchAllHandler) {\n                    catchAllHandler.call(this._observer, e, eventKey);\n                }\n                var handler = this._handlers[eventKey];\n                if (handler) {\n                    handler.call(this._observer, e, eventKey);\n                }\n            },\n            on: function (event, callback) {\n                var handlers = this._handlers;\n                if (typeof callback === 'string') {\n                    callback = this._observer[callback];\n                }\n                if (typeof event === 'string') {\n                    event = event.split(',');\n                }\n                event.forEach(function (e) {\n                    handlers[e] = callback;\n                });\n            },\n            destroy: function () {\n                this.target.off('keydown', this.keyDownProxy);\n                this.target.off('keydown', this.mouseProxy);\n                $(document.documentElement).off('mousemove mouseup', this.mouseProxy);\n            }\n        });\n        kendo.spreadsheet.EventListener = EventListener;\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/rangelist', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var RangeTreeNode = kendo.Class.extend({\n            init: function Node(level, value, left, right) {\n                this.level = level;\n                this.value = value;\n                this.left = left;\n                this.right = right;\n            }\n        });\n        var NilNode = new function NIL() {\n            this.left = this;\n            this.right = this;\n            this.level = 0;\n        }();\n        function passThrough(value) {\n            return value;\n        }\n        function skew(node) {\n            if (node.left.level === node.level) {\n                var temp = node;\n                node = node.left;\n                temp.left = node.right;\n                node.right = temp;\n            }\n            return node;\n        }\n        function split(node) {\n            if (node.right.right.level === node.level) {\n                var temp = node;\n                node = node.right;\n                temp.right = node.left;\n                node.left = temp;\n                node.level += 1;\n            }\n            return node;\n        }\n        function insert(node, value) {\n            if (node === NilNode) {\n                return new RangeTreeNode(1, value, NilNode, NilNode);\n            } else if (node.value.start - value.start > 0) {\n                node.left = insert(node.left, value);\n            } else {\n                node.right = insert(node.right, value);\n            }\n            return split(skew(node));\n        }\n        function remove(node, value) {\n            if (node === NilNode) {\n                return node;\n            }\n            var diff = node.value.start - value.start;\n            if (diff === 0) {\n                if (node.left !== NilNode && node.right !== NilNode) {\n                    var heir = node.left;\n                    while (heir.right !== NilNode) {\n                        heir = heir.right;\n                    }\n                    node.value = heir.value;\n                    node.left = remove(node.left, node.value);\n                } else if (node.left === NilNode) {\n                    node = node.right;\n                } else {\n                    node = node.left;\n                }\n            } else if (diff > 0) {\n                node.left = remove(node.left, value);\n            } else {\n                node.right = remove(node.right, value);\n            }\n            if (node.left.level < node.level - 1 || node.right.level < node.level - 1) {\n                node.level -= 1;\n                if (node.right.level > node.level) {\n                    node.right.level = node.level;\n                }\n                node = skew(node);\n                node.right = skew(node.right);\n                node.right.right = skew(node.right.right);\n                node = split(node);\n                node.right = split(node.right);\n            }\n            return node;\n        }\n        var Range = kendo.Class.extend({\n            init: function Value(start, end, value) {\n                this.start = start;\n                this.end = end;\n                this.value = value;\n            },\n            intersects: function (range) {\n                return range.start <= this.end && range.end >= this.start;\n            }\n        });\n        var RangeTree = kendo.Class.extend({\n            init: function () {\n                this.root = NilNode;\n            },\n            insert: function (value) {\n                this.root = insert(this.root, value);\n            },\n            remove: function (value) {\n                this.root = remove(this.root, value);\n            },\n            findrange: function (value) {\n                var node = this.root;\n                while (node != NilNode) {\n                    if (value < node.value.start) {\n                        node = node.left;\n                    } else if (value > node.value.end) {\n                        node = node.right;\n                    } else {\n                        return node.value;\n                    }\n                }\n                return null;\n            },\n            values: function () {\n                var result = [];\n                values(this.root, result);\n                return result;\n            },\n            intersecting: function (start, end) {\n                var ranges = [];\n                intersecting(this.root, new Range(start, end), ranges);\n                return ranges;\n            },\n            map: function (callback) {\n                var tree = new RangeTree();\n                map(tree, this.root, callback);\n                return tree;\n            },\n            clone: function () {\n                return this.map(passThrough);\n            },\n            first: function () {\n                var first = this.root;\n                while (first.left != NilNode) {\n                    first = first.left;\n                }\n                return first;\n            },\n            last: function () {\n                var last = this.root;\n                while (last.right != NilNode) {\n                    last = last.right;\n                }\n                return last;\n            }\n        });\n        function values(node, result) {\n            if (node === NilNode) {\n                return;\n            }\n            values(node.left, result);\n            result.push(node.value);\n            values(node.right, result);\n        }\n        function intersecting(node, range, ranges) {\n            if (node === NilNode) {\n                return;\n            }\n            var value = node.value;\n            if (range.start < value.start) {\n                intersecting(node.left, range, ranges);\n            }\n            if (value.intersects(range)) {\n                ranges.push(value);\n            }\n            if (range.end > value.end) {\n                intersecting(node.right, range, ranges);\n            }\n        }\n        function map(tree, root, callback) {\n            if (root === NilNode) {\n                return;\n            }\n            map(tree, root.left, callback);\n            tree.insert(callback(root.value));\n            map(tree, root.right, callback);\n        }\n        var RangeList = kendo.Class.extend({\n            init: function (start, end, value) {\n                if (end === undefined) {\n                    this.tree = start;\n                } else {\n                    this.tree = new RangeTree();\n                    this.tree.insert(new Range(start, end, value));\n                }\n            },\n            values: function () {\n                return this.tree.values();\n            },\n            map: function (callback) {\n                return new RangeList(this.tree.map(callback));\n            },\n            intersecting: function (start, end) {\n                return this.tree.intersecting(start, end);\n            },\n            first: function () {\n                return this.tree.first().value;\n            },\n            last: function () {\n                return this.tree.last().value;\n            },\n            insert: function (start, end, value) {\n                return this.tree.insert(new Range(start, end, value));\n            },\n            value: function (start, end, value) {\n                if (value === undefined) {\n                    if (end === undefined) {\n                        end = start;\n                    }\n                    return this.intersecting(start, end)[0].value;\n                }\n                var ranges = this.tree.intersecting(start - 1, end + 1);\n                if (ranges.length) {\n                    var firstRange = ranges[0], lastRange = ranges[ranges.length - 1];\n                    if (firstRange.end < start) {\n                        if (firstRange.value === value) {\n                            start = firstRange.start;\n                        } else {\n                            ranges.shift();\n                        }\n                    }\n                    if (lastRange.start > end) {\n                        if (lastRange.value === value) {\n                            end = lastRange.end;\n                        } else {\n                            ranges.pop();\n                        }\n                    }\n                    for (var i = 0, length = ranges.length; i < length; i++) {\n                        var range = ranges[i];\n                        var rangeValue = range.value;\n                        var rangeStart = range.start;\n                        var rangeEnd = range.end;\n                        this.tree.remove(range);\n                        if (rangeStart < start) {\n                            if (rangeValue !== value) {\n                                this.insert(rangeStart, start - 1, rangeValue);\n                            } else {\n                                start = rangeStart;\n                            }\n                        }\n                        if (rangeEnd > end) {\n                            if (rangeValue !== value) {\n                                this.insert(end + 1, rangeEnd, rangeValue);\n                            } else {\n                                end = rangeEnd;\n                            }\n                        }\n                    }\n                }\n                this.insert(start, end, value);\n            },\n            expandedValues: function (start, end) {\n                var ranges = this.intersecting(start, end);\n                var result = [];\n                var rangeIndex = 0;\n                for (var i = start; i <= end; i++) {\n                    if (ranges[rangeIndex].end < i) {\n                        rangeIndex++;\n                    }\n                    result.push({\n                        index: i - start,\n                        value: ranges[rangeIndex].value\n                    });\n                }\n                return result;\n            },\n            sortedIndices: function (start, end, valueComparer, indices) {\n                var result = this.expandedValues(start, end);\n                var comparer = function (a, b) {\n                    if (a.value === b.value) {\n                        return a.index - b.index;\n                    }\n                    return valueComparer(a.value, b.value);\n                };\n                if (indices) {\n                    comparer = function (a, b) {\n                        var x = indices[a.index];\n                        var y = indices[b.index];\n                        if (x.value === y.value) {\n                            return valueComparer(a.value, b.value);\n                        }\n                        return a.index - b.index;\n                    };\n                }\n                result.sort(comparer);\n                return result;\n            },\n            sort: function (start, end, indices) {\n                if (this.intersecting(start, end).length === 1) {\n                    return;\n                }\n                var values = this.expandedValues(start, end);\n                for (var i = 0, len = indices.length; i < len; i++) {\n                    this.value(i + start, i + start, values[indices[i].index].value);\n                }\n            },\n            copy: function (sourceStart, sourceEnd, targetStart) {\n                var values = this.intersecting(sourceStart, sourceEnd);\n                var start = targetStart;\n                var end;\n                for (var i = 0, len = values.length; i < len; i++) {\n                    var rangeStart = values[i].start;\n                    if (rangeStart < sourceStart) {\n                        rangeStart = sourceStart;\n                    }\n                    var rangeEnd = values[i].end;\n                    if (rangeEnd > sourceEnd) {\n                        rangeEnd = sourceEnd;\n                    }\n                    end = start + (rangeEnd - rangeStart);\n                    this.value(start, end, values[i].value);\n                    start = ++end;\n                }\n            },\n            iterator: function (start, end) {\n                return new Iterator(start, end, this.intersecting(start, end));\n            },\n            getState: function () {\n                return this.tree.clone();\n            },\n            setState: function (state) {\n                this.tree = state;\n            }\n        });\n        var Iterator = kendo.Class.extend({\n            init: function (start, end, ranges) {\n                this.start = start;\n                this.end = end;\n                this.index = 0;\n                this.ranges = ranges;\n            },\n            unique: function () {\n                return this.ranges.map(function (range) {\n                    return range.value;\n                });\n            },\n            at: function (index) {\n                while (this.ranges[this.index].end < index) {\n                    this.index++;\n                }\n                return this.ranges[this.index].value;\n            },\n            forEach: function (callback) {\n                for (var i = this.start; i <= this.end; i++) {\n                    callback(this.at(i), i);\n                }\n                this.index = 0;\n            }\n        });\n        var SparseRangeList = RangeList.extend({\n            init: function (start, end, value) {\n                this.tree = new RangeTree();\n                this.range = new Range(start, end, value);\n            },\n            intersecting: function (start, end) {\n                var ranges = this.tree.intersecting(start, end);\n                var result = [];\n                var range;\n                if (!ranges.length) {\n                    return [this.range];\n                }\n                for (var i = 0, len = ranges.length; i < len; i++) {\n                    range = ranges[i];\n                    if (range.start > start) {\n                        result.push(new Range(start, range.start - 1, this.range.value));\n                    }\n                    result.push(range);\n                    start = range.end + 1;\n                }\n                if (range.end < end) {\n                    result.push(new Range(range.end + 1, end, this.range.value));\n                }\n                return result;\n            },\n            insert: function (start, end, value) {\n                if (value !== this.range.value) {\n                    this.tree.insert(new Range(start, end, value));\n                }\n            },\n            lastRangeStart: function () {\n                var node = this.tree.root;\n                if (node === NilNode) {\n                    return this.range.start;\n                }\n                while (node.right !== NilNode) {\n                    node = node.right;\n                }\n                return node.value.end + 1;\n            }\n        });\n        kendo.spreadsheet.RangeTree = RangeTree;\n        kendo.spreadsheet.RangeList = RangeList;\n        kendo.spreadsheet.SparseRangeList = SparseRangeList;\n        kendo.spreadsheet.ValueRange = Range;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/propertybag', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var Property = kendo.Class.extend({\n            init: function (list) {\n                this.list = list;\n            },\n            get: function (index) {\n                return this.parse(this.list.value(index, index));\n            },\n            set: function (start, end, value) {\n                if (value === undefined) {\n                    value = end;\n                    end = start;\n                }\n                this.list.value(start, end, value);\n            },\n            parse: function (value) {\n                return value;\n            },\n            copy: function (start, end, dst) {\n                this.list.copy(start, end, dst);\n            },\n            iterator: function (start, end) {\n                return this.list.iterator(start, end);\n            }\n        });\n        var JsonProperty = Property.extend({\n            set: function (start, end, value) {\n                this.list.value(start, end, JSON.stringify(value));\n            },\n            parse: function (value) {\n                return JSON.parse(value);\n            }\n        });\n        var ValueProperty = Property.extend({\n            init: function (values, formats, validations) {\n                Property.prototype.init.call(this, values);\n                this.validations = validations;\n                this.formats = formats;\n            },\n            set: function (start, end, value) {\n                if (value instanceof Date) {\n                    value = kendo.spreadsheet.dateToNumber(value);\n                    this.formats.value(start, end, toExcelFormat(kendo.culture().calendar.patterns.d));\n                }\n                this.list.value(start, end, value);\n            }\n        });\n        function toExcelFormat(format) {\n            return format.replace(/M/g, 'm').replace(/'/g, '\"').replace(/tt/, 'am/pm');\n        }\n        kendo.spreadsheet.PropertyBag = kendo.Class.extend({\n            specs: [\n                {\n                    property: ValueProperty,\n                    name: 'value',\n                    value: null,\n                    sortable: true,\n                    serializable: true,\n                    depends: 'format'\n                },\n                {\n                    property: Property,\n                    name: 'format',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'formula',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'background',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: JsonProperty,\n                    name: 'borderBottom',\n                    value: null,\n                    sortable: false,\n                    serializable: true\n                },\n                {\n                    property: JsonProperty,\n                    name: 'borderRight',\n                    value: null,\n                    sortable: false,\n                    serializable: true\n                },\n                {\n                    property: JsonProperty,\n                    name: 'borderLeft',\n                    value: null,\n                    sortable: false,\n                    serializable: true\n                },\n                {\n                    property: JsonProperty,\n                    name: 'borderTop',\n                    value: null,\n                    sortable: false,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'color',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'fontFamily',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'underline',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'fontSize',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'italic',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'bold',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'textAlign',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'verticalAlign',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'wrap',\n                    value: null,\n                    sortable: true,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'validation',\n                    value: null,\n                    sortable: false,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'enable',\n                    value: null,\n                    sortable: false,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'link',\n                    value: null,\n                    sortable: false,\n                    serializable: true\n                },\n                {\n                    property: Property,\n                    name: 'editor',\n                    value: null,\n                    sortable: false,\n                    serializable: true\n                }\n            ],\n            init: function (cellCount) {\n                this.properties = {};\n                this.lists = {};\n                this.specs.forEach(function (spec) {\n                    this.lists[spec.name] = new kendo.spreadsheet.SparseRangeList(0, cellCount, spec.value);\n                }, this);\n                this.specs.forEach(function (spec) {\n                    this.properties[spec.name] = new spec.property(this.lists[spec.name], this.lists[spec.depends]);\n                }, this);\n            },\n            getState: function () {\n                var state = {};\n                this.specs.forEach(function (spec) {\n                    state[spec.name] = this.lists[spec.name].getState();\n                }, this);\n                return state;\n            },\n            setState: function (state) {\n                this.specs.forEach(function (spec) {\n                    this.lists[spec.name].setState(state[spec.name]);\n                }, this);\n            },\n            get: function (name, index) {\n                if (index === undefined) {\n                    return this.lists[name];\n                }\n                return this.properties[name].get(index);\n            },\n            set: function (name, start, end, value) {\n                this.properties[name].set(start, end, value);\n            },\n            fromJSON: function (index, value) {\n                for (var si = 0; si < this.specs.length; si++) {\n                    var spec = this.specs[si];\n                    if (spec.serializable) {\n                        if (value[spec.name] !== undefined) {\n                            this.set(spec.name, index, index, value[spec.name], false);\n                        }\n                    }\n                }\n            },\n            copy: function (sourceStart, sourceEnd, targetStart) {\n                this.specs.forEach(function (spec) {\n                    this.properties[spec.name].copy(sourceStart, sourceEnd, targetStart);\n                }, this);\n            },\n            iterator: function (name, start, end) {\n                return this.properties[name].iterator(start, end);\n            },\n            sortable: function () {\n                return this.specs.filter(function (spec) {\n                    return spec.sortable;\n                }).map(function (spec) {\n                    return this.lists[spec.name];\n                }, this);\n            },\n            iterators: function (start, end) {\n                var specs = this.specs.filter(function (spec) {\n                    return spec.serializable;\n                });\n                return specs.map(function (spec) {\n                    var iterator = this.iterator(spec.name, start, end);\n                    return {\n                        name: spec.name,\n                        value: spec.value,\n                        at: function (index) {\n                            return spec.property.fn.parse(iterator.at(index));\n                        }\n                    };\n                }, this);\n            },\n            forEach: function (start, end, callback) {\n                var iterators = this.iterators(start, end);\n                for (var index = start; index <= end; index++) {\n                    var values = {};\n                    for (var i = 0; i < iterators.length; i++) {\n                        var iterator = iterators[i];\n                        var value = iterator.at(index);\n                        if (value !== iterator.value) {\n                            values[iterator.name] = value;\n                        }\n                    }\n                    callback(values);\n                }\n            },\n            forEachProperty: function (callback) {\n                for (var name in this.properties) {\n                    callback(this.properties[name]);\n                }\n            }\n        });\n        kendo.spreadsheet.ALL_PROPERTIES = $.map(kendo.spreadsheet.PropertyBag.prototype.specs, function (spec) {\n            return spec.name;\n        });\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/references', ['kendo.core'], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var spreadsheet = kendo.spreadsheet;\n    var Class = kendo.Class;\n    function columnName(colIndex) {\n        var letter = Math.floor(colIndex / 26) - 1;\n        return (letter >= 0 ? columnName(letter) : '') + String.fromCharCode(65 + colIndex % 26);\n    }\n    function displaySheet(sheet) {\n        if (/^[a-z0-9_]*$/i.test(sheet)) {\n            return sheet;\n        }\n        return '\\'' + sheet.replace(/\\x27/g, '\\\\\\'') + '\\'';\n    }\n    function displayRef(sheet, row, col, rel) {\n        var aa = '';\n        ++row;\n        if (!isFinite(row)) {\n            row = '';\n        } else if (rel != null && !(rel & 2)) {\n            row = '$' + row;\n        }\n        if (!isFinite(col)) {\n            col = '';\n        } else {\n            aa = columnName(col);\n            if (rel != null && !(rel & 1)) {\n                aa = '$' + aa;\n            }\n        }\n        if (sheet) {\n            return displaySheet(sheet) + '!' + aa + row;\n        } else {\n            return aa + row;\n        }\n    }\n    var Ref = Class.extend({\n        type: 'ref',\n        sheet: '',\n        clone: function () {\n            return this;\n        },\n        hasSheet: function () {\n            return this._hasSheet;\n        },\n        simplify: function () {\n            return this;\n        },\n        setSheet: function (sheet, hasSheet) {\n            this.sheet = sheet;\n            if (hasSheet != null) {\n                this._hasSheet = hasSheet;\n            }\n            return this;\n        },\n        absolute: function () {\n            return this;\n        },\n        relative: function () {\n            return this;\n        },\n        adjust: function () {\n            return this;\n        },\n        toString: function () {\n            return this.relative(0, 0, 3, 3).print(0, 0);\n        },\n        forEach: function (callback, obj) {\n            callback.call(obj, this);\n        },\n        map: function (callback, obj) {\n            return callback.call(obj, this);\n        },\n        intersects: function (ref) {\n            return this.intersect(ref) !== NULL;\n        },\n        isCell: function () {\n            return false;\n        },\n        toRow: function () {\n            return this;\n        },\n        toColumn: function () {\n            return this;\n        },\n        first: function () {\n            return this;\n        },\n        lastRange: function () {\n            return this;\n        },\n        size: function () {\n            return 1;\n        },\n        rangeAt: function () {\n            return this;\n        },\n        nextRangeIndex: function () {\n            return 0;\n        },\n        previousRangeIndex: function () {\n            return 0;\n        },\n        eq: function (reference) {\n            var r1 = this;\n            var r2 = reference;\n            if (r1 === NULL || r2 === NULL) {\n                return r1 === r2;\n            }\n            if (r2 instanceof CellRef || r2 instanceof RangeRef && !(r1 instanceof CellRef)) {\n                r1 = reference;\n                r2 = this;\n            }\n            if (r1 instanceof CellRef) {\n                r2 = r2.simplify();\n                return r2 instanceof CellRef && r1.row == r2.row && r1.col == r2.col && r1.sheet == r2.sheet;\n            } else if (r1 instanceof RangeRef) {\n                if (r2 instanceof RangeRef) {\n                    return r2.topLeft.eq(r1.topLeft) && r2.bottomRight.eq(r1.bottomRight);\n                }\n                if (r2 instanceof UnionRef) {\n                    return r2.single() && r1.eq(r2.refs[0]);\n                }\n            } else if (r1 instanceof UnionRef && r2 instanceof UnionRef) {\n                var refs1 = r1.refs;\n                var refs2 = r2.refs;\n                if (refs1.length != refs2.length) {\n                    return false;\n                }\n                for (var i = 0, len = refs1.length; i < len; i++) {\n                    if (!refs1[i].eq(refs2[i])) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            return r1 === r2;\n        },\n        concat: function (ref) {\n            return new UnionRef([\n                this,\n                ref\n            ]);\n        },\n        replaceAt: function (index, ref) {\n            return ref;\n        },\n        forEachColumnIndex: function (callback) {\n            this.forEachAxisIndex('col', callback);\n        },\n        forEachRowIndex: function (callback) {\n            this.forEachAxisIndex('row', callback);\n        },\n        forEachAxisIndex: function (axis, callback) {\n            var sorted = [];\n            var method = axis === 'row' ? 'forEachRow' : 'forEachColumn';\n            this[method](function (ref) {\n                var index = ref.first()[axis];\n                if (sorted.indexOf(index) === -1) {\n                    sorted.push(index);\n                }\n            });\n            sorted.sort(function (a, b) {\n                return a > b ? 1 : a < b ? -1 : 0;\n            }).forEach(callback);\n        },\n        valid: function () {\n            return false;\n        },\n        renameSheet: function (oldSheetName, newSheetName) {\n            if (this.sheet && this.sheet.toLowerCase() == oldSheetName.toLowerCase()) {\n                this.sheet = newSheetName;\n                return true;\n            }\n        }\n    });\n    Ref.display = displayRef;\n    var NULL = new (Ref.extend({\n        init: function NullRef() {\n        },\n        print: function () {\n            return '#NULL!';\n        },\n        eq: function (ref) {\n            return ref === this;\n        },\n        forEach: function () {\n        }\n    }))();\n    var NameRef = Ref.extend({\n        ref: 'name',\n        init: function NameRef(name) {\n            this.name = name;\n        },\n        clone: function () {\n            return new NameRef(this.name).setSheet(this.sheet, this.hasSheet());\n        },\n        print: function () {\n            var ret = displaySheet(this.name);\n            if (this.hasSheet()) {\n                ret = displaySheet(this.sheet) + '!' + ret;\n            }\n            return ret;\n        }\n    });\n    var CellRef = Ref.extend({\n        ref: 'cell',\n        init: function CellRef(row, col, rel) {\n            this.row = row;\n            this.col = col;\n            this.rel = rel || 0;\n        },\n        clone: function () {\n            return new CellRef(this.row, this.col, this.rel).setSheet(this.sheet, this.hasSheet());\n        },\n        intersect: function (ref) {\n            if (ref instanceof CellRef) {\n                if (this.eq(ref)) {\n                    return this;\n                } else {\n                    return NULL;\n                }\n            }\n            return ref.intersect(this);\n        },\n        print: function (trow, tcol, mod) {\n            var col = this.col, row = this.row, rel = this.rel, abs;\n            if (trow == null && rel) {\n                var sheet = this.hasSheet() ? displaySheet(this.sheet) + '!' : '';\n                if (isFinite(col)) {\n                    col = rel & 1 ? 'C[' + col + ']' : 'C' + (col + 1);\n                } else {\n                    col = '';\n                }\n                if (isFinite(row)) {\n                    row = rel & 2 ? 'R[' + row + ']' : 'R' + (row + 1);\n                } else {\n                    row = '';\n                }\n                return sheet + row + col;\n            } else {\n                abs = this.absolute(trow, tcol);\n                if (mod) {\n                    row = abs.row % 1048576;\n                    col = abs.col % 16384;\n                    if (row < 0) {\n                        row += 1048576;\n                    }\n                    if (col < 0) {\n                        col += 16384;\n                    }\n                    return displayRef(this._hasSheet && this.sheet, row, col, rel);\n                }\n                return abs.valid() ? displayRef(this._hasSheet && this.sheet, abs.row, abs.col, rel) : '#REF!';\n            }\n        },\n        absolute: function (arow, acol) {\n            var ret = this.clone();\n            if (ret.rel & 3 === 0) {\n                return ret;\n            }\n            if (ret.rel & 1) {\n                ret.col = (ret.col + acol) % 16384;\n            }\n            if (ret.rel & 2) {\n                ret.row = (ret.row + arow) % 1048576;\n            }\n            ret.rel = 0;\n            return ret;\n        },\n        toRangeRef: function () {\n            return new RangeRef(this, this);\n        },\n        relative: function (arow, acol, rel) {\n            if (rel == null) {\n                rel = this.rel;\n            }\n            var row = rel & 2 ? this.row - arow : this.row;\n            var col = rel & 1 ? this.col - acol : this.col;\n            return new CellRef(row, col, rel).setSheet(this.sheet, this.hasSheet());\n        },\n        height: function () {\n            return 1;\n        },\n        width: function () {\n            return 1;\n        },\n        toString: function () {\n            return displayRef(null, this.row, this.col, 3);\n        },\n        isCell: function () {\n            return true;\n        },\n        leftColumn: function () {\n            return this;\n        },\n        rightColumn: function () {\n            return this;\n        },\n        topRow: function () {\n            return this;\n        },\n        bottomRow: function () {\n            return this;\n        },\n        forEachRow: function (callback) {\n            callback(this.toRangeRef());\n        },\n        forEachColumn: function (callback) {\n            callback(this.toRangeRef());\n        },\n        adjust: function (row, col, trow, tcol, forRow, start, delta) {\n            var ref = this.absolute(row, col);\n            if (forRow) {\n                if (ref.row >= start) {\n                    if (delta < 0 && ref.row < start - delta) {\n                        return NULL;\n                    }\n                    ref.row += delta;\n                }\n            } else {\n                if (ref.col >= start) {\n                    if (delta < 0 && ref.col < start - delta) {\n                        return NULL;\n                    }\n                    ref.col += delta;\n                }\n            }\n            if (trow != null && tcol != null) {\n                ref = ref.relative(trow, tcol, this.rel);\n            }\n            return ref;\n        },\n        valid: function () {\n            if (this.rel) {\n                throw new Error('valid() called on relative reference');\n            }\n            var col = this.col, row = this.row;\n            return !(isFinite(col) && col < 0 || isFinite(row) && row < 0);\n        }\n    });\n    var RangeRef = Ref.extend({\n        ref: 'range',\n        init: function RangeRef(tl, br) {\n            if (tl._hasSheet && br._hasSheet && tl.sheet.toLowerCase() != br.sheet.toLowerCase()) {\n                this.endSheet = br.sheet;\n            }\n            this.topLeft = new CellRef(tl.row, tl.col, tl.rel);\n            this.bottomRight = new CellRef(br.row, br.col, br.rel);\n            this.normalize();\n        },\n        clone: function () {\n            return new RangeRef(this.topLeft.clone(), this.bottomRight.clone()).setSheet(this.sheet, this.hasSheet());\n        },\n        _containsRange: function (range) {\n            return this._containsCell(range.topLeft) && this._containsCell(range.bottomRight);\n        },\n        _containsCell: function (cell) {\n            return cell.sheet == this.sheet && cell.row >= this.topLeft.row && cell.col >= this.topLeft.col && cell.row <= this.bottomRight.row && cell.col <= this.bottomRight.col;\n        },\n        contains: function (ref) {\n            if (ref instanceof Array) {\n                var that = this;\n                return ref.some(function (_ref) {\n                    return that.contains(_ref);\n                });\n            }\n            if (ref instanceof CellRef) {\n                return this._containsCell(ref);\n            }\n            if (ref instanceof RangeRef) {\n                return this._containsRange(ref);\n            }\n            return false;\n        },\n        _intersectRange: function (ref) {\n            if (this.sheet != ref.sheet) {\n                return NULL;\n            }\n            var a_left = this.topLeft.col;\n            var a_top = this.topLeft.row;\n            var a_right = this.bottomRight.col;\n            var a_bottom = this.bottomRight.row;\n            var b_left = ref.topLeft.col;\n            var b_top = ref.topLeft.row;\n            var b_right = ref.bottomRight.col;\n            var b_bottom = ref.bottomRight.row;\n            if (a_left <= b_right && b_left <= a_right && a_top <= b_bottom && b_top <= a_bottom) {\n                return new RangeRef(new CellRef(Math.max(a_top, b_top), Math.max(a_left, b_left)), new CellRef(Math.min(a_bottom, b_bottom), Math.min(a_right, b_right))).setSheet(this.sheet, this.hasSheet());\n            } else {\n                return NULL;\n            }\n        },\n        intersect: function (ref) {\n            if (ref instanceof CellRef) {\n                return this._containsCell(ref) ? ref : NULL;\n            }\n            if (ref instanceof RangeRef) {\n                return this._intersectRange(ref).simplify();\n            }\n            if (ref instanceof UnionRef) {\n                return ref.intersect(this);\n            }\n            return NULL;\n        },\n        simplify: function () {\n            if (this.isCell()) {\n                return new CellRef(this.topLeft.row, this.topLeft.col, this.topLeft.rel).setSheet(this.sheet, this.hasSheet());\n            }\n            return this;\n        },\n        normalize: function () {\n            var a = this.topLeft, b = this.bottomRight;\n            var r1 = a.row, c1 = a.col, r2 = b.row, c2 = b.col;\n            var rr1 = a.rel & 2, rc1 = a.rel & 1;\n            var rr2 = b.rel & 2, rc2 = b.rel & 1;\n            var tmp, changes = false;\n            if (r1 > r2) {\n                changes = true;\n                tmp = r1;\n                r1 = r2;\n                r2 = tmp;\n                tmp = rr1;\n                rr1 = rr2;\n                rr2 = tmp;\n            }\n            if (c1 > c2) {\n                changes = true;\n                tmp = c1;\n                c1 = c2;\n                c2 = tmp;\n                tmp = rc1;\n                rc1 = rc2;\n                rc2 = tmp;\n            }\n            if (changes) {\n                this.topLeft = new CellRef(r1, c1, rc1 | rr1);\n                this.bottomRight = new CellRef(r2, c2, rc2 | rr2);\n            }\n            return this;\n        },\n        print: function (trow, tcol, mod) {\n            if (mod || this.absolute(trow, tcol).valid()) {\n                var ret = this.topLeft.print(trow, tcol, mod) + ':' + this.bottomRight.print(trow, tcol, mod);\n                if (this.hasSheet()) {\n                    ret = displaySheet(this.sheet) + (this.endSheet ? ':' + displaySheet(this.endSheet) : '') + '!' + ret;\n                }\n                return ret;\n            }\n            return '#REF!';\n        },\n        absolute: function (arow, acol) {\n            return new RangeRef(this.topLeft.absolute(arow, acol), this.bottomRight.absolute(arow, acol)).setSheet(this.sheet, this.hasSheet());\n        },\n        relative: function (arow, acol, relTL, relBR) {\n            if (relBR == null) {\n                relBR = relTL;\n            }\n            return new RangeRef(this.topLeft.relative(arow, acol, relTL), this.bottomRight.relative(arow, acol, relBR)).setSheet(this.sheet, this.hasSheet());\n        },\n        height: function () {\n            if (this.topLeft.rel != this.bottomRight.rel) {\n                throw new Error('Mixed relative/absolute references');\n            }\n            return this.bottomRight.row - this.topLeft.row + 1;\n        },\n        width: function () {\n            if (this.topLeft.rel != this.bottomRight.rel) {\n                throw new Error('Mixed relative/absolute references');\n            }\n            return this.bottomRight.col - this.topLeft.col + 1;\n        },\n        collapse: function () {\n            return this.topLeft.toRangeRef();\n        },\n        leftColumn: function () {\n            return new RangeRef(this.topLeft, new CellRef(this.bottomRight.row, this.topLeft.col));\n        },\n        rightColumn: function () {\n            return new RangeRef(new CellRef(this.topLeft.row, this.bottomRight.col), this.bottomRight);\n        },\n        topRow: function () {\n            return new RangeRef(this.topLeft, new CellRef(this.topLeft.row, this.bottomRight.col));\n        },\n        bottomRow: function () {\n            return new RangeRef(new CellRef(this.bottomRight.row, this.topLeft.col), this.bottomRight);\n        },\n        toRangeRef: function () {\n            return this;\n        },\n        toRow: function (row) {\n            row += Math.max(0, this.topLeft.row);\n            return new RangeRef(new CellRef(row, this.topLeft.col), new CellRef(row, this.bottomRight.col)).setSheet(this.sheet, this.hasSheet());\n        },\n        toColumn: function (col) {\n            col += Math.max(0, this.topLeft.col);\n            return new RangeRef(new CellRef(this.topLeft.row, col), new CellRef(this.bottomRight.row, col)).setSheet(this.sheet, this.hasSheet());\n        },\n        toCell: function (row, col) {\n            row += Math.max(0, this.topLeft.row);\n            col += Math.max(0, this.topLeft.col);\n            return new CellRef(row, col, 0).setSheet(this.sheet, this.hasSheet());\n        },\n        forEachRow: function (callback) {\n            var startRow = this.topLeft.row;\n            var endRow = this.bottomRight.row;\n            var startCol = this.topLeft.col;\n            var endCol = this.bottomRight.col;\n            for (var i = startRow; i <= endRow; i++) {\n                callback(new RangeRef(new CellRef(i, startCol), new CellRef(i, endCol)));\n            }\n        },\n        forEachColumn: function (callback) {\n            var startRow = this.topLeft.row;\n            var endRow = this.bottomRight.row;\n            var startCol = this.topLeft.col;\n            var endCol = this.bottomRight.col;\n            for (var i = startCol; i <= endCol; i++) {\n                callback(new RangeRef(new CellRef(startRow, i), new CellRef(endRow, i)));\n            }\n        },\n        intersecting: function (refs) {\n            return refs.filter(function (ref) {\n                return ref.toRangeRef().intersects(this);\n            }, this);\n        },\n        union: function (refs, callback) {\n            var intersecting = this.intersecting(refs);\n            var topLeftRow = this.topLeft.row;\n            var topLeftCol = this.topLeft.col;\n            var bottomRightRow = this.bottomRight.row;\n            var bottomRightCol = this.bottomRight.col;\n            var modified = false;\n            intersecting.forEach(function (ref) {\n                ref = ref.toRangeRef();\n                if (ref.topLeft.row < topLeftRow) {\n                    modified = true;\n                    topLeftRow = ref.topLeft.row;\n                }\n                if (ref.topLeft.col < topLeftCol) {\n                    modified = true;\n                    topLeftCol = ref.topLeft.col;\n                }\n                if (ref.bottomRight.row > bottomRightRow) {\n                    modified = true;\n                    bottomRightRow = ref.bottomRight.row;\n                }\n                if (ref.bottomRight.col > bottomRightCol) {\n                    modified = true;\n                    bottomRightCol = ref.bottomRight.col;\n                }\n                if (callback) {\n                    callback(ref);\n                }\n            });\n            var result = new RangeRef(new CellRef(topLeftRow, topLeftCol), new CellRef(bottomRightRow, bottomRightCol));\n            if (modified) {\n                return result.union(refs, callback);\n            } else {\n                return result;\n            }\n        },\n        resize: function (options) {\n            var limit = Math.max.bind(Math, 0);\n            function num(value) {\n                return value || 0;\n            }\n            var top = this.topLeft.row + num(options.top);\n            var left = this.topLeft.col + num(options.left);\n            var bottom = this.bottomRight.row + num(options.bottom);\n            var right = this.bottomRight.col + num(options.right);\n            if (left < 0 && right < 0 || top < 0 && bottom < 0) {\n                return NULL;\n            } else if (top <= bottom && left <= right) {\n                return new RangeRef(new CellRef(limit(top), limit(left)), new CellRef(limit(bottom), limit(right)));\n            } else {\n                return NULL;\n            }\n        },\n        move: function (rows, cols) {\n            return new RangeRef(new CellRef(this.topLeft.row + rows, this.topLeft.col + cols), new CellRef(this.bottomRight.row + rows, this.bottomRight.col + cols));\n        },\n        first: function () {\n            return this.topLeft;\n        },\n        isCell: function () {\n            return !this.endSheet && this.topLeft.eq(this.bottomRight);\n        },\n        toString: function () {\n            return this.topLeft + ':' + this.bottomRight;\n        },\n        adjust: function (row, col, trow, tcol, forRow, start, delta) {\n            var tl = this.topLeft.adjust(row, col, trow, tcol, forRow, start, delta);\n            var tr = this.bottomRight.adjust(row, col, trow, tcol, forRow, start, delta);\n            if (tl === NULL && tr === NULL) {\n                return NULL;\n            }\n            if (tl === NULL) {\n                tl = this.topLeft.absolute(row, col);\n                if (forRow) {\n                    tl.row = start;\n                } else {\n                    tl.col = start;\n                }\n                if (trow != null && tcol != null) {\n                    tl = tl.relative(trow, tcol, this.topLeft.rel);\n                }\n            } else if (tr === NULL) {\n                tr = this.bottomRight.absolute(row, col);\n                if (forRow) {\n                    tr.row = start - 1;\n                } else {\n                    tr.col = start - 1;\n                }\n                if (trow != null && tcol != null) {\n                    tr = tr.relative(trow, tcol, this.bottomRight.rel);\n                }\n            }\n            return new RangeRef(tl, tr).setSheet(this.sheet, this.hasSheet()).simplify();\n        },\n        valid: function () {\n            return this.topLeft.valid() && this.bottomRight.valid();\n        }\n    });\n    var UnionRef = Ref.extend({\n        init: function UnionRef(refs) {\n            this.refs = refs;\n            this.length = refs.length;\n        },\n        clone: function () {\n            return new UnionRef(this.refs.slice());\n        },\n        intersect: function (ref) {\n            var a = [];\n            for (var i = 0; i < this.length; ++i) {\n                var x = ref.intersect(this.refs[i]);\n                if (x !== NULL) {\n                    a.push(x);\n                }\n            }\n            if (a.length > 0) {\n                return new UnionRef(a).simplify();\n            }\n            return NULL;\n        },\n        simplify: function () {\n            var u = new UnionRef(this.refs.reduce(function (a, ref) {\n                ref = ref.simplify();\n                if (ref !== NULL) {\n                    a.push(ref);\n                }\n                return a;\n            }, []));\n            if (u.empty()) {\n                return NULL;\n            }\n            if (u.single()) {\n                return u.refs[0];\n            }\n            return u;\n        },\n        absolute: function (arow, acol) {\n            return new UnionRef(this.refs.map(function (ref) {\n                return ref.absolute(arow, acol);\n            }));\n        },\n        forEach: function (callback, obj) {\n            this.refs.forEach(callback, obj);\n        },\n        toRangeRef: function () {\n            return this.refs[0].toRangeRef();\n        },\n        contains: function (theRef) {\n            return this.refs.some(function (ref) {\n                return ref.contains(theRef);\n            });\n        },\n        map: function (callback, obj) {\n            return new UnionRef(this.refs.map(callback, obj));\n        },\n        first: function () {\n            return this.refs[0].first();\n        },\n        lastRange: function () {\n            return this.refs[this.length - 1];\n        },\n        size: function () {\n            return this.length;\n        },\n        single: function () {\n            return this.length == 1;\n        },\n        empty: function () {\n            return this.length === 0;\n        },\n        isCell: function () {\n            return this.single() && this.refs[0].isCell();\n        },\n        rangeAt: function (index) {\n            return this.refs[index];\n        },\n        nextRangeIndex: function (index) {\n            if (index === this.length - 1) {\n                return 0;\n            } else {\n                return index + 1;\n            }\n        },\n        previousRangeIndex: function (index) {\n            if (index === 0) {\n                return this.length - 1;\n            } else {\n                return index - 1;\n            }\n        },\n        concat: function (ref) {\n            return new UnionRef(this.refs.concat([ref]));\n        },\n        print: function (row, col, mod) {\n            return this.refs.map(function (ref) {\n                return ref.print(row, col, mod);\n            }).join(',');\n        },\n        replaceAt: function (index, ref) {\n            var newRefs = this.refs.slice();\n            newRefs.splice(index, 1, ref);\n            return new UnionRef(newRefs);\n        },\n        leftColumn: function () {\n            return this.map(function (ref) {\n                return ref.leftColumn();\n            });\n        },\n        rightColumn: function () {\n            return this.map(function (ref) {\n                return ref.rightColumn();\n            });\n        },\n        topRow: function () {\n            return this.map(function (ref) {\n                return ref.topRow();\n            });\n        },\n        bottomRow: function () {\n            return this.map(function (ref) {\n                return ref.bottomRow();\n            });\n        },\n        forEachRow: function (callback) {\n            this.forEach(function (ref) {\n                ref.forEachRow(callback);\n            });\n        },\n        forEachColumn: function (callback) {\n            this.forEach(function (ref) {\n                ref.forEachColumn(callback);\n            });\n        },\n        adjust: function (row, col, trow, tcol, forRow, start, delta) {\n            return this.map(function (ref) {\n                return ref.adjust(row, col, trow, tcol, forRow, start, delta);\n            }).simplify();\n        },\n        toString: function () {\n            return this.refs.map(function (ref) {\n                return ref.toString();\n            }).join(', ');\n        },\n        valid: function () {\n            for (var i = this.refs.length; --i >= 0;) {\n                if (this.refs[i].valid()) {\n                    return false;\n                }\n            }\n            return true;\n        },\n        renameSheet: function (oldSheetName, newSheetName) {\n            this.refs.forEach(function (ref) {\n                ref.renameSheet(oldSheetName, newSheetName);\n            });\n        }\n    });\n    spreadsheet.NULLREF = NULL;\n    spreadsheet.SHEETREF = new RangeRef(new CellRef(0, 0), new CellRef(Infinity, Infinity));\n    spreadsheet.FIRSTREF = new CellRef(0, 0);\n    spreadsheet.Ref = Ref;\n    spreadsheet.NameRef = NameRef;\n    spreadsheet.CellRef = CellRef;\n    spreadsheet.RangeRef = RangeRef;\n    spreadsheet.UnionRef = UnionRef;\n    spreadsheet.SHEETREF.print = function () {\n        return '#SHEET';\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/autofillcalculator', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var RangeRef = kendo.spreadsheet.RangeRef;\n        var CellRef = kendo.spreadsheet.CellRef;\n        var AutoFillCalculator = kendo.Class.extend({\n            init: function (grid) {\n                this._grid = grid;\n            },\n            rectIsVertical: function (start, end, x, y) {\n                var startRect = this._grid.rectangle(start.toRangeRef());\n                var endRect = this._grid.rectangle(end.toRangeRef());\n                return Math.abs(endRect[y] - startRect[y]) > Math.abs(startRect[x] - endRect[x]);\n            },\n            autoFillDest: function (selection, cursor) {\n                var topLeft = selection.topLeft;\n                var bottomRight = selection.bottomRight;\n                var quadrant;\n                var lower = cursor.row >= topLeft.row;\n                var further = cursor.col >= topLeft.col;\n                if (lower) {\n                    quadrant = further ? 4 : 3;\n                } else {\n                    quadrant = further ? 2 : 1;\n                }\n                var pivot, opposite, cornerResult, expanding;\n                if (quadrant === 4) {\n                    pivot = topLeft;\n                    opposite = bottomRight;\n                    expanding = cursor.row > opposite.row || cursor.col > opposite.col;\n                    if (expanding) {\n                        cursor = new CellRef(Math.max(cursor.row, opposite.row), Math.max(cursor.col, opposite.col));\n                    }\n                    if (this.rectIsVertical(opposite, cursor, 'right', 'bottom')) {\n                        cornerResult = new CellRef(cursor.row, opposite.col);\n                    } else {\n                        cornerResult = new CellRef(opposite.row, cursor.col);\n                    }\n                } else if (quadrant === 3) {\n                    var bottomLeft = new CellRef(topLeft.col, bottomRight.row);\n                    if (cursor.row > bottomRight.row && this.rectIsVertical(bottomLeft, cursor, 'left', 'bottom')) {\n                        pivot = topLeft;\n                        cornerResult = new CellRef(cursor.row, bottomRight.col);\n                    } else {\n                        pivot = bottomRight;\n                        cornerResult = new CellRef(topLeft.row, cursor.col);\n                    }\n                } else if (quadrant === 2) {\n                    var topRight = new CellRef(topLeft.row, bottomRight.col);\n                    if (cursor.col > bottomRight.col && !this.rectIsVertical(topRight, cursor, 'right', 'top')) {\n                        pivot = topLeft;\n                        cornerResult = new CellRef(bottomRight.row, cursor.col);\n                    } else {\n                        pivot = bottomRight;\n                        cornerResult = new CellRef(cursor.row, topLeft.col);\n                    }\n                } else {\n                    pivot = bottomRight;\n                    if (this.rectIsVertical(topLeft, cursor, 'left', 'top')) {\n                        cornerResult = new CellRef(cursor.row, topLeft.col);\n                    } else {\n                        cornerResult = new CellRef(topLeft.row, cursor.col);\n                    }\n                }\n                return this._grid.normalize(new RangeRef(pivot, cornerResult));\n            }\n        });\n        kendo.spreadsheet.AutoFillCalculator = AutoFillCalculator;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/navigator', [\n        'kendo.core',\n        'spreadsheet/autofillcalculator'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var RangeRef = kendo.spreadsheet.RangeRef;\n        var CellRef = kendo.spreadsheet.CellRef;\n        var EdgeNavigator = kendo.Class.extend({\n            init: function (field, axis, rangeGetter, union) {\n                this.rangeGetter = rangeGetter;\n                this.prevLeft = function (index) {\n                    var current = union(this.range(index));\n                    var range = this.range(axis.prevVisible(current.topLeft[field]));\n                    return union(range).topLeft[field];\n                };\n                this.nextRight = function (index) {\n                    var current = union(this.range(index));\n                    var range = this.range(axis.nextVisible(current.bottomRight[field]));\n                    return union(range).bottomRight[field];\n                };\n                this.nextLeft = function (index) {\n                    var range = union(this.range(index));\n                    return axis.nextVisible(range.bottomRight[field]);\n                };\n                this.prevRight = function (index) {\n                    var range = union(this.range(index));\n                    return axis.prevVisible(range.topLeft[field]);\n                };\n            },\n            boundary: function (top, bottom) {\n                this.top = top;\n                this.bottom = bottom;\n            },\n            range: function (index) {\n                return this.rangeGetter(index, this.top, this.bottom);\n            }\n        });\n        var SheetNavigator = kendo.Class.extend({\n            init: function (sheet) {\n                this._sheet = sheet;\n                this.columns = this._sheet._grid._columns;\n                this.autoFillCalculator = new kendo.spreadsheet.AutoFillCalculator(sheet._grid);\n                this.colEdge = new EdgeNavigator('col', this._sheet._grid._columns, this.columnRange.bind(this), this.union.bind(this));\n                this.rowEdge = new EdgeNavigator('row', this._sheet._grid._rows, this.rowRange.bind(this), this.union.bind(this));\n            },\n            height: function (height) {\n                this._viewPortHeight = height;\n            },\n            union: function (ref) {\n                return this._sheet.unionWithMerged(ref);\n            },\n            columnRange: function (col, topRow, bottomRow) {\n                return this._sheet._ref(topRow, col, bottomRow - topRow, 1);\n            },\n            rowRange: function (row, leftCol, rightCol) {\n                return this._sheet._ref(row, leftCol, 1, rightCol - leftCol);\n            },\n            selectionIncludesMergedCells: function () {\n                return this._sheet.select().contains(this._sheet._mergedCells);\n            },\n            setSelectionValue: function (value) {\n                var selection = this._sheet.selection();\n                setTimeout(function () {\n                    selection.value(value());\n                });\n            },\n            selectAll: function () {\n                this._sheet.select(this._sheet._sheetRef);\n            },\n            select: function (ref, mode, addToExisting) {\n                ref = this.refForMode(ref, mode);\n                if (addToExisting) {\n                    ref = this._sheet.select().concat(ref);\n                }\n                this._sheet.select(ref);\n            },\n            refForMode: function (ref, mode) {\n                var grid = this._sheet._grid;\n                switch (mode) {\n                case 'range':\n                    ref = grid.normalize(ref);\n                    break;\n                case 'row':\n                    ref = grid.rowRef(ref.row);\n                    break;\n                case 'column':\n                    ref = grid.colRef(ref.col);\n                    break;\n                case 'sheet':\n                    ref = this._sheet._sheetRef;\n                    break;\n                }\n                return ref;\n            },\n            startSelection: function (ref, mode, addToExisting, shiftKey) {\n                if (mode == 'autofill') {\n                    this._sheet.startAutoFill();\n                } else if (shiftKey && mode == 'range') {\n                    var range = new RangeRef(this._sheet.activeCell().first(), ref);\n                    this._sheet.select(range, false, false);\n                    this._sheet.startSelection();\n                } else {\n                    this._sheet.startSelection();\n                    this.select(ref, mode, addToExisting);\n                }\n            },\n            completeSelection: function () {\n                this._sheet.completeSelection();\n            },\n            selectForContextMenu: function (ref, mode) {\n                var sheet = this._sheet;\n                if (!sheet.select().contains(this.refForMode(ref, mode))) {\n                    this.select(ref, mode);\n                }\n            },\n            modifySelection: function (action) {\n                var direction = this.determineDirection(action);\n                var sheet = this._sheet;\n                var viewPortHeight = this._viewPortHeight;\n                var rows = sheet._grid._rows;\n                var columns = sheet._grid._columns;\n                var originalSelection = sheet.currentOriginalSelectionRange();\n                var selection = sheet.select().toRangeRef();\n                var activeCell = sheet.activeCell();\n                var topLeft = originalSelection.topLeft.clone();\n                var bottomRight = originalSelection.bottomRight.clone();\n                var scrollInto;\n                this.colEdge.boundary(selection.topLeft.row, selection.bottomRight.row);\n                this.rowEdge.boundary(selection.topLeft.col, selection.bottomRight.col);\n                switch (direction) {\n                case 'expand-left':\n                    topLeft.col = this.colEdge.prevLeft(topLeft.col);\n                    scrollInto = topLeft;\n                    break;\n                case 'shrink-right':\n                    topLeft.col = this.colEdge.nextLeft(topLeft.col);\n                    scrollInto = topLeft;\n                    break;\n                case 'expand-right':\n                    bottomRight.col = this.colEdge.nextRight(bottomRight.col);\n                    scrollInto = bottomRight;\n                    break;\n                case 'shrink-left':\n                    bottomRight.col = this.colEdge.prevRight(bottomRight.col);\n                    scrollInto = bottomRight;\n                    break;\n                case 'expand-up':\n                    topLeft.row = this.rowEdge.prevLeft(topLeft.row);\n                    scrollInto = topLeft;\n                    break;\n                case 'shrink-down':\n                    topLeft.row = this.rowEdge.nextLeft(topLeft.row);\n                    scrollInto = topLeft;\n                    break;\n                case 'expand-down':\n                    bottomRight.row = this.rowEdge.nextRight(bottomRight.row);\n                    scrollInto = bottomRight;\n                    break;\n                case 'shrink-up':\n                    bottomRight.row = this.rowEdge.prevRight(bottomRight.row);\n                    scrollInto = bottomRight;\n                    break;\n                case 'expand-page-up':\n                    topLeft.row = rows.prevPage(topLeft.row, viewPortHeight);\n                    break;\n                case 'shrink-page-up':\n                    bottomRight.row = rows.prevPage(bottomRight.row, viewPortHeight);\n                    break;\n                case 'expand-page-down':\n                    bottomRight.row = rows.nextPage(bottomRight.row, viewPortHeight);\n                    break;\n                case 'shrink-page-down':\n                    topLeft.row = rows.nextPage(topLeft.row, viewPortHeight);\n                    break;\n                case 'first-col':\n                    topLeft.col = columns.firstVisible();\n                    bottomRight.col = activeCell.bottomRight.col;\n                    scrollInto = topLeft;\n                    break;\n                case 'last-col':\n                    bottomRight.col = columns.lastVisible();\n                    topLeft.col = activeCell.topLeft.col;\n                    scrollInto = bottomRight;\n                    break;\n                case 'first-row':\n                    topLeft.row = rows.firstVisible();\n                    bottomRight.row = activeCell.bottomRight.row;\n                    scrollInto = topLeft;\n                    break;\n                case 'last-row':\n                    bottomRight.row = rows.lastVisible();\n                    topLeft.row = activeCell.topLeft.row;\n                    scrollInto = bottomRight;\n                    break;\n                case 'last':\n                    bottomRight.row = rows.lastVisible();\n                    bottomRight.col = columns.lastVisible();\n                    topLeft = activeCell.topLeft;\n                    scrollInto = bottomRight;\n                    break;\n                case 'first':\n                    topLeft.row = rows.firstVisible();\n                    topLeft.col = columns.firstVisible();\n                    bottomRight = activeCell.bottomRight;\n                    scrollInto = topLeft;\n                    break;\n                }\n                var newSelection = new RangeRef(topLeft, bottomRight);\n                if (!this.union(newSelection).intersects(activeCell)) {\n                    this.modifySelection(direction.replace('shrink', 'expand'));\n                    return;\n                }\n                if (scrollInto) {\n                    sheet.focus(scrollInto);\n                }\n                this.updateCurrentSelectionRange(newSelection);\n            },\n            moveActiveCell: function (direction) {\n                var sheet = this._sheet;\n                var activeCell = sheet.activeCell();\n                var topLeft = activeCell.topLeft;\n                var bottomRight = activeCell.bottomRight;\n                var cell = sheet.originalActiveCell();\n                var rows = sheet._grid._rows;\n                var columns = sheet._grid._columns;\n                var row = cell.row;\n                var column = cell.col;\n                switch (direction) {\n                case 'left':\n                    column = columns.prevVisible(topLeft.col);\n                    break;\n                case 'up':\n                    row = rows.prevVisible(topLeft.row);\n                    break;\n                case 'right':\n                    column = columns.nextVisible(bottomRight.col);\n                    break;\n                case 'down':\n                    row = rows.nextVisible(bottomRight.row);\n                    break;\n                case 'first-col':\n                    column = columns.firstVisible();\n                    break;\n                case 'last-col':\n                    column = columns.lastVisible();\n                    break;\n                case 'first-row':\n                    row = rows.firstVisible();\n                    break;\n                case 'last-row':\n                    row = rows.lastVisible();\n                    break;\n                case 'last':\n                    row = rows.lastVisible();\n                    column = columns.lastVisible();\n                    break;\n                case 'first':\n                    row = rows.firstVisible();\n                    column = columns.firstVisible();\n                    break;\n                case 'next-page':\n                    row = rows.nextPage(bottomRight.row, this._viewPortHeight);\n                    break;\n                case 'prev-page':\n                    row = rows.prevPage(bottomRight.row, this._viewPortHeight);\n                    break;\n                }\n                sheet.select(new CellRef(row, column));\n            },\n            navigateInSelection: function (direction) {\n                var sheet = this._sheet;\n                var activeCell = sheet.activeCell();\n                var topLeft = activeCell.topLeft;\n                var cell = sheet.originalActiveCell();\n                var rows = sheet._grid._rows;\n                var columns = sheet._grid._columns;\n                var row = cell.row;\n                var column = cell.col;\n                var selection = sheet.currentNavigationRange();\n                var selTopLeft = selection.topLeft;\n                var selBottomRight = selection.bottomRight;\n                var done = false;\n                var topLeftCol = topLeft.col;\n                var topLeftRow = topLeft.row;\n                while (!done) {\n                    var current = new CellRef(row, column);\n                    switch (direction) {\n                    case 'next':\n                        if (selBottomRight.eq(current)) {\n                            selection = sheet.nextNavigationRange();\n                            row = selection.topLeft.row;\n                            column = selection.topLeft.col;\n                        } else {\n                            column = columns.nextVisible(topLeftCol, true);\n                            if (column > selBottomRight.col) {\n                                column = selTopLeft.col;\n                                row = rows.nextVisible(row, true);\n                            }\n                        }\n                        break;\n                    case 'previous':\n                        if (selTopLeft.eq(current)) {\n                            selection = sheet.previousNavigationRange();\n                            row = selection.bottomRight.row;\n                            column = selection.bottomRight.col;\n                        } else {\n                            column = columns.prevVisible(topLeftCol, true);\n                            if (column < selTopLeft.col) {\n                                column = selBottomRight.col;\n                                row = rows.prevVisible(row, true);\n                            }\n                        }\n                        break;\n                    case 'lower':\n                        if (selBottomRight.eq(current)) {\n                            selection = sheet.nextNavigationRange();\n                            row = selection.topLeft.row;\n                            column = selection.topLeft.col;\n                        } else {\n                            row = rows.nextVisible(topLeftRow, true);\n                            if (row > selBottomRight.row) {\n                                row = selTopLeft.row;\n                                column = columns.nextVisible(column, true);\n                            }\n                        }\n                        break;\n                    case 'upper':\n                        if (selTopLeft.eq(current)) {\n                            selection = sheet.previousNavigationRange();\n                            row = selection.bottomRight.row;\n                            column = selection.bottomRight.col;\n                        } else {\n                            row = rows.prevVisible(topLeftRow, true);\n                            if (row < selTopLeft.row) {\n                                row = selBottomRight.row;\n                                column = columns.prevVisible(column, true);\n                            }\n                        }\n                        break;\n                    default:\n                        throw new Error('Unknown entry navigation: ' + direction);\n                    }\n                    done = !this.shouldSkip(row, column);\n                    topLeftCol = column;\n                    topLeftRow = row;\n                }\n                if (sheet.singleCellSelection()) {\n                    sheet.select(new CellRef(row, column));\n                } else {\n                    sheet.activeCell(new CellRef(row, column));\n                }\n            },\n            extendSelection: function (ref, mode) {\n                var sheet = this._sheet;\n                var grid = sheet._grid;\n                if (mode === 'autofill') {\n                    this.resizeAutoFill(ref);\n                    return;\n                }\n                if (mode === 'range') {\n                    ref = grid.normalize(ref);\n                } else if (mode === 'row') {\n                    ref = grid.rowRef(ref.row).bottomRight;\n                } else if (mode === 'column') {\n                    ref = grid.colRef(ref.col).bottomRight;\n                }\n                var activeCell = sheet.originalActiveCell().toRangeRef();\n                this.updateCurrentSelectionRange(new RangeRef(activeCell.topLeft, ref));\n            },\n            shouldSkip: function (row, col) {\n                var ref = new CellRef(row, col);\n                var isMerged = false;\n                this._sheet.forEachMergedCell(function (merged) {\n                    if (merged.intersects(ref) && !merged.collapse().eq(ref)) {\n                        isMerged = true;\n                    }\n                });\n                return isMerged;\n            },\n            resizeAutoFill: function (ref) {\n                var sheet = this._sheet;\n                var selection = sheet.select();\n                var origin = sheet._autoFillOrigin;\n                var dest = this.autoFillCalculator.autoFillDest(selection, ref);\n                var punch = this.punch(selection, dest);\n                var hint, direction, row;\n                if (!punch) {\n                    var preview = sheet.range(dest)._previewFillFrom(sheet.range(origin));\n                    if (preview) {\n                        direction = preview.direction;\n                        var props = preview.props;\n                        if (direction === 0 || direction == 1) {\n                            row = props[props.length - 1];\n                            hint = row[row.length - 1].value;\n                        } else if (direction === 2) {\n                            row = props[0];\n                            hint = row[row.length - 1].value;\n                        } else if (direction === 3) {\n                            row = props[props.length - 1];\n                            hint = row[0].value;\n                        }\n                    }\n                }\n                sheet.updateAutoFill(dest, punch, hint, direction);\n            },\n            determineDirection: function (action) {\n                var selection = this._sheet.currentSelectionRange();\n                var activeCell = this._sheet.activeCell();\n                var leftMode = activeCell.topLeft.col == selection.topLeft.col;\n                var rightMode = activeCell.bottomRight.col == selection.bottomRight.col;\n                var topMode = activeCell.topLeft.row == selection.topLeft.row;\n                var bottomMode = activeCell.bottomRight.row == selection.bottomRight.row;\n                switch (action) {\n                case 'left':\n                    action = rightMode ? 'expand-left' : 'shrink-left';\n                    break;\n                case 'right':\n                    action = leftMode ? 'expand-right' : 'shrink-right';\n                    break;\n                case 'up':\n                    action = bottomMode ? 'expand-up' : 'shrink-up';\n                    break;\n                case 'down':\n                    action = topMode ? 'expand-down' : 'shrink-down';\n                    break;\n                case 'prev-page':\n                    action = bottomMode ? 'expand-page-up' : 'shrink-page-up';\n                    break;\n                case 'next-page':\n                    action = topMode ? 'expand-page-down' : 'shrink-page-down';\n                    break;\n                }\n                return action;\n            },\n            updateCurrentSelectionRange: function (ref) {\n                var sheet = this._sheet;\n                sheet.select(sheet.originalSelect().replaceAt(sheet.selectionRangeIndex(), ref), false);\n            },\n            punch: function (selection, subset) {\n                var punch;\n                if (subset.topLeft.eq(selection.topLeft)) {\n                    if (subset.bottomRight.row < selection.bottomRight.row) {\n                        var bottomRow = this.rowEdge.nextRight(subset.bottomRight.row);\n                        punch = new RangeRef(new CellRef(bottomRow, selection.topLeft.col), selection.bottomRight);\n                    } else if (subset.bottomRight.col < selection.bottomRight.col) {\n                        var bottomCol = this.colEdge.nextRight(subset.bottomRight.col);\n                        punch = new RangeRef(new CellRef(selection.topLeft.row, bottomCol), selection.bottomRight);\n                    }\n                }\n                return punch;\n            }\n        });\n        kendo.spreadsheet.SheetNavigator = SheetNavigator;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/axismanager', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var AxisManager = kendo.Class.extend({\n            init: function (sheet) {\n                this._sheet = sheet;\n            },\n            forEachSelectedColumn: function (callback) {\n                var sheet = this._sheet;\n                sheet.batch(function () {\n                    sheet.select().forEachColumnIndex(function (index, i) {\n                        callback(sheet, index, i);\n                    });\n                }, {\n                    layout: true,\n                    recalc: true\n                });\n            },\n            forEachSelectedRow: function (callback) {\n                var sheet = this._sheet;\n                sheet.batch(function () {\n                    sheet.select().forEachRowIndex(function (index, i) {\n                        callback(sheet, index, i);\n                    });\n                }, {\n                    layout: true,\n                    recalc: true\n                });\n            },\n            includesHiddenColumns: function (ref) {\n                return this._sheet._grid._columns.includesHidden(ref.topLeft.col, ref.bottomRight.col);\n            },\n            includesHiddenRows: function (ref) {\n                return this._sheet._grid._rows.includesHidden(ref.topLeft.row, ref.bottomRight.row);\n            },\n            selectionIncludesHiddenColumns: function () {\n                return this.includesHiddenColumns(this._sheet.select());\n            },\n            selectionIncludesHiddenRows: function () {\n                return this.includesHiddenRows(this._sheet.select());\n            },\n            deleteSelectedColumns: function () {\n                this.forEachSelectedColumn(function (sheet, index, i) {\n                    sheet.deleteColumn(index - i);\n                });\n            },\n            deleteSelectedRows: function () {\n                this.forEachSelectedRow(function (sheet, index, i) {\n                    sheet.deleteRow(index - i);\n                });\n            },\n            hideSelectedColumns: function () {\n                this.forEachSelectedColumn(function (sheet, index) {\n                    sheet.hideColumn(index);\n                });\n                var sheet = this._sheet;\n                var ref = sheet.select().toRangeRef();\n                var left = ref.topLeft.col;\n                var right = ref.bottomRight.col;\n                var sel = null;\n                while (true) {\n                    var hasRight = right < sheet._columns._count;\n                    var hasLeft = left >= 0;\n                    if (!hasLeft && !hasRight) {\n                        break;\n                    }\n                    if (hasRight && !sheet.isHiddenColumn(right)) {\n                        sel = right;\n                        break;\n                    }\n                    if (hasLeft && !sheet.isHiddenColumn(left)) {\n                        sel = left;\n                        break;\n                    }\n                    left--;\n                    right++;\n                }\n                if (sel !== null) {\n                    ref = new kendo.spreadsheet.RangeRef(new kendo.spreadsheet.CellRef(0, sel), new kendo.spreadsheet.CellRef(sheet._rows._count - 1, sel));\n                    sheet.range(ref).select();\n                }\n            },\n            hideSelectedRows: function () {\n                this.forEachSelectedRow(function (sheet, index) {\n                    sheet.hideRow(index);\n                });\n                var sheet = this._sheet;\n                var ref = sheet.select().toRangeRef();\n                var top = ref.topLeft.row;\n                var bottom = ref.bottomRight.row;\n                var sel = null;\n                while (true) {\n                    var hasBottom = bottom < sheet._rows._count;\n                    var hasTop = top >= 0;\n                    if (!hasTop && !hasBottom) {\n                        break;\n                    }\n                    if (hasBottom && !sheet.isHiddenRow(bottom)) {\n                        sel = bottom;\n                        break;\n                    }\n                    if (hasTop && !sheet.isHiddenRow(top)) {\n                        sel = top;\n                        break;\n                    }\n                    top--;\n                    bottom++;\n                }\n                if (sel !== null) {\n                    ref = new kendo.spreadsheet.RangeRef(new kendo.spreadsheet.CellRef(sel, 0), new kendo.spreadsheet.CellRef(sel, sheet._columns._count - 1));\n                    sheet.range(ref).select();\n                }\n            },\n            unhideSelectedColumns: function () {\n                this.forEachSelectedColumn(function (sheet, index) {\n                    sheet.unhideColumn(index);\n                });\n            },\n            unhideSelectedRows: function () {\n                this.forEachSelectedRow(function (sheet, index) {\n                    sheet.unhideRow(index);\n                });\n            },\n            addColumnLeft: function () {\n                this.forEachSelectedColumn(function (sheet, index, i) {\n                    sheet.insertColumn(index - i);\n                });\n            },\n            addColumnRight: function () {\n                this.forEachSelectedColumn(function (sheet, index, i) {\n                    sheet.insertColumn(index + (i + 1));\n                });\n            },\n            canAddRow: function () {\n                var range = this._sheet.select().toRangeRef();\n                var rowCount = range.height();\n                return this._sheet.canInsertRow(0, rowCount);\n            },\n            addRowAbove: function () {\n                this.forEachSelectedRow(function (sheet, index, i) {\n                    sheet.insertRow(index - i);\n                });\n            },\n            addRowBelow: function () {\n                this.forEachSelectedRow(function (sheet, index, i) {\n                    sheet.insertRow(index + (i + 1));\n                });\n            }\n        });\n        kendo.spreadsheet.AxisManager = AxisManager;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/clipboard', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var CellRef = kendo.spreadsheet.CellRef;\n        var Clipboard = kendo.Class.extend({\n            init: function (workbook) {\n                this.workbook = workbook;\n                this.origin = kendo.spreadsheet.NULLREF;\n                this.iframe = document.createElement('iframe');\n                this.iframe.className = 'k-spreadsheet-clipboard-paste';\n                this.menuInvoked = true;\n                this._external = {};\n                this._uid = kendo.guid();\n                document.body.appendChild(this.iframe);\n            },\n            canCopy: function () {\n                var status = { canCopy: true };\n                var selection = this.workbook.activeSheet().select();\n                if (selection === kendo.spreadsheet.NULLREF) {\n                    status.canCopy = false;\n                }\n                if (selection instanceof kendo.spreadsheet.UnionRef) {\n                    status.canCopy = false;\n                    status.multiSelection = true;\n                }\n                if (this.menuInvoked) {\n                    status.canCopy = false;\n                    status.menuInvoked = true;\n                }\n                return status;\n            },\n            canPaste: function () {\n                var sheet = this.workbook.activeSheet();\n                var ref = this.pasteRef();\n                var status = { canPaste: true };\n                if (ref === kendo.spreadsheet.NULLREF) {\n                    var external = this.isExternal();\n                    status.pasteOnMerged = this.intersectsMerged();\n                    status.canPaste = status.pasteOnMerged ? false : external;\n                    return status;\n                }\n                if (!ref.eq(sheet.unionWithMerged(ref))) {\n                    status.canPaste = false;\n                    status.pasteOnMerged = true;\n                }\n                if (this.menuInvoked) {\n                    status.canPaste = false;\n                    status.menuInvoked = true;\n                }\n                if (ref.bottomRight.row >= sheet._rows._count || ref.bottomRight.col >= sheet._columns._count) {\n                    status.canPaste = false;\n                    status.overflow = true;\n                }\n                return status;\n            },\n            intersectsMerged: function () {\n                var sheet = this.workbook.activeSheet();\n                var state = this.parse(this._external);\n                this.origin = getSourceRef(state);\n                var ref = this.pasteRef();\n                return !ref.eq(sheet.unionWithMerged(ref));\n            },\n            copy: function () {\n                var sheet = this.workbook.activeSheet();\n                this.origin = sheet.select();\n                this.contents = sheet.selection().getState();\n                delete this._external.html;\n                delete this._external.plain;\n            },\n            cut: function () {\n                var sheet = this.workbook.activeSheet();\n                this.copy();\n                sheet.range(sheet.select()).clear();\n            },\n            pasteRef: function () {\n                var sheet = this.workbook.activeSheet();\n                var destination = sheet.activeCell().first();\n                var originActiveCell = this.origin.first();\n                var rowDelta = originActiveCell.row - destination.row;\n                var colDelta = originActiveCell.col - destination.col;\n                return this.origin.relative(rowDelta, colDelta, 3);\n            },\n            destroy: function () {\n                document.body.removeChild(this.iframe);\n            },\n            paste: function () {\n                var state = {};\n                var sheet = this.workbook.activeSheet();\n                if (this._isInternal()) {\n                    state = this.contents;\n                } else {\n                    state = this.parse(this._external);\n                    this.origin = getSourceRef(state);\n                }\n                var pasteRef = this.pasteRef();\n                sheet.range(pasteRef).setState(state, this);\n                sheet.triggerChange({\n                    recalc: true,\n                    ref: pasteRef\n                });\n            },\n            external: function (data) {\n                if (data && (data.html || data.plain)) {\n                    this._external = data;\n                } else {\n                    return this._external;\n                }\n            },\n            isExternal: function () {\n                return !this._isInternal();\n            },\n            parse: function (data) {\n                var state = newState();\n                if (data.html) {\n                    var doc = this.iframe.contentWindow.document;\n                    doc.open();\n                    doc.write(data.html);\n                    doc.close();\n                    var table = $(doc).find('table:first');\n                    if (table.length) {\n                        state = parseHTML(table);\n                    } else if (!data.plain) {\n                        var element = $(doc.body).find(':not(style)');\n                        setStateData(state, 0, 0, cellState(element.text()));\n                    } else {\n                        state = parseTSV(data.plain);\n                    }\n                } else {\n                    state = parseTSV(data.plain);\n                }\n                return state;\n            },\n            _isInternal: function () {\n                if (this._external.html === undefined) {\n                    return true;\n                }\n                var internalHTML = $('<div/>').html(this._external.html).find('table.kendo-clipboard-' + this._uid).length ? true : false;\n                var internalPlain = $('<div/>').html(this._external.plain).find('table.kendo-clipboard-' + this._uid).length ? true : false;\n                if (internalHTML || internalPlain) {\n                    return true;\n                }\n                return false;\n            }\n        });\n        kendo.spreadsheet.Clipboard = Clipboard;\n        function newState() {\n            var ref = new CellRef(0, 0, 0);\n            return {\n                ref: ref,\n                mergedCells: [],\n                data: [],\n                foreign: true,\n                origRef: ref.toRangeRef()\n            };\n        }\n        function setStateData(state, row, col, value) {\n            var data = state.data || (state.data = []);\n            if (!data[row]) {\n                data[row] = [];\n            }\n            data[row][col] = value;\n            var br = state.origRef.bottomRight;\n            br.row = Math.max(br.row, row);\n            br.col = Math.max(br.col, col);\n        }\n        function getSourceRef(state) {\n            return state.origRef;\n        }\n        function stripStyle(style) {\n            return style.replace(/^-(?:ms|moz|webkit)-/, '');\n        }\n        function borderObject(styles) {\n            var obj = {};\n            [\n                'borderBottom',\n                'borderRight',\n                'borderLeft',\n                'borderTop'\n            ].forEach(function (key) {\n                obj[key] = styles[key + 'Style'] == 'none' ? null : {\n                    size: 1,\n                    color: styles[key + 'Color']\n                };\n            });\n            return obj;\n        }\n        function cellState(element) {\n            var styles = window.getComputedStyle(element[0]);\n            var text = element[0].innerText;\n            var borders = borderObject(styles);\n            var state = {\n                value: text === '' ? null : text,\n                borderBottom: borders.borderBottom,\n                borderRight: borders.borderRight,\n                borderLeft: borders.borderLeft,\n                borderTop: borders.borderTop,\n                fontSize: parseInt(styles['font-size'], 10)\n            };\n            if (styles['background-color'] !== 'rgb(0, 0, 0)' && styles['background-color'] !== 'rgba(0, 0, 0, 0)') {\n                state.background = styles['background-color'];\n            }\n            if (styles.color !== 'rgb(0, 0, 0)' && styles.color !== 'rgba(0, 0, 0, 0)') {\n                state.color = styles.color;\n            }\n            if (styles['text-decoration'] == 'underline') {\n                state.underline = true;\n            }\n            if (styles['font-style'] == 'italic') {\n                state.italic = true;\n            }\n            if (styles['font-weight'] == 'bold') {\n                state.bold = true;\n            }\n            if (stripStyle(styles['text-align']) !== 'right') {\n                state.textAlign = stripStyle(styles['text-align']);\n            }\n            if (styles['vertical-align'] !== 'middle') {\n                state.verticalAlign = styles['vertical-align'];\n            }\n            if (styles['word-wrap'] !== 'normal') {\n                state.wrap = true;\n            }\n            return state;\n        }\n        function parseHTML(table) {\n            var state = newState();\n            table.find('>tr, >tbody>tr').each(function (rowIndex, tr) {\n                $(tr).find('>td, >th').each(function (colIndex, td) {\n                    var rowspan = parseInt($(td).attr('rowspan'), 10) - 1 || 0;\n                    var colspan = parseInt($(td).attr('colspan'), 10) - 1 || 0;\n                    var blankCell = '<td/>';\n                    var ci;\n                    if (rowspan) {\n                        var endRow = rowIndex + rowspan;\n                        for (var ri = rowIndex; ri <= endRow; ri++) {\n                            var row = table.find('tr').eq(ri);\n                            if (ri > rowIndex) {\n                                blankCell = '<td class=\\'rowspan\\'></td>';\n                                if (colIndex === 0) {\n                                    row.find('td').eq(colIndex).after(blankCell);\n                                } else {\n                                    var last = Math.min(row.find('td').length, colIndex);\n                                    row.find('td').eq(last - 1).after(blankCell);\n                                }\n                            }\n                            if (colspan) {\n                                for (ci = colIndex; ci < colspan + colIndex; ci++) {\n                                    blankCell = '<td class=\\'rowspan colspan\\'></td>';\n                                    row.find('td').eq(ci).after(blankCell);\n                                }\n                            }\n                        }\n                    } else {\n                        if (colspan) {\n                            for (ci = colIndex; ci < colspan + colIndex; ci++) {\n                                blankCell = '<td class=\\'colspan\\'></td>';\n                                $(tr).find('td').eq(ci).after(blankCell);\n                            }\n                        }\n                    }\n                });\n            });\n            table.find('>tr, >tbody>tr').each(function (rowIndex, tr) {\n                $(tr).find('>td, >th').each(function (colIndex, td) {\n                    var rowspan = parseInt($(td).attr('rowspan'), 10) - 1 || 0;\n                    var colspan = parseInt($(td).attr('colspan'), 10) - 1 || 0;\n                    setStateData(state, rowIndex, colIndex, cellState($(td)));\n                    if (rowspan || colspan) {\n                        var startCol = String.fromCharCode(65 + colIndex);\n                        var endCol = String.fromCharCode(65 + colIndex + colspan);\n                        var address = startCol + (rowIndex + 1) + ':' + endCol + (rowIndex + 1 + rowspan);\n                        state.mergedCells.push(address);\n                    }\n                });\n            });\n            return state;\n        }\n        function parseTSV(data) {\n            var state = newState();\n            if (data.indexOf('\\t') === -1 && data.indexOf('\\n') == -1) {\n                setStateData(state, 0, 0, { value: data });\n            } else {\n                var rows = data.split('\\n');\n                for (var ri = 0; ri < rows.length; ri++) {\n                    var cols = rows[ri].split('\\t');\n                    for (var ci = 0; ci < cols.length; ci++) {\n                        setStateData(state, ri, ci, { value: cols[ci] });\n                    }\n                }\n            }\n            return state;\n        }\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/range', [\n        'kendo.core',\n        'util/text-metrics'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var UnionRef = kendo.spreadsheet.UnionRef;\n        var CellRef = kendo.spreadsheet.CellRef;\n        var RangeRef = kendo.spreadsheet.RangeRef;\n        var PROPERTIES = [\n            'color',\n            'fontFamily',\n            'underline',\n            'italic',\n            'bold',\n            'textAlign',\n            'verticalAlign',\n            'background',\n            'format',\n            'link',\n            'editor'\n        ];\n        var borders = {\n            borderTop: {\n                complement: 'borderBottom',\n                direction: {\n                    top: -1,\n                    bottom: -1\n                }\n            },\n            borderLeft: {\n                complement: 'borderRight',\n                direction: {\n                    left: -1,\n                    right: -1\n                }\n            },\n            borderRight: {\n                complement: 'borderLeft',\n                direction: {\n                    left: 1,\n                    right: 1\n                }\n            },\n            borderBottom: {\n                complement: 'borderTop',\n                direction: {\n                    top: 1,\n                    bottom: 1\n                }\n            }\n        };\n        var Range = kendo.Class.extend({\n            init: function (ref, sheet) {\n                this._sheet = sheet;\n                this._ref = ref;\n            },\n            clone: function () {\n                return new Range(this._ref.clone(), this._sheet);\n            },\n            skipHiddenCells: function () {\n                var refs = [];\n                var self = this, sheet = self._sheet;\n                var skipHiddenRows = sheet.isHiddenRow.bind(sheet);\n                var skipHiddenCols = sheet.isHiddenColumn.bind(sheet);\n                self._ref.forEach(function add(ref) {\n                    if (ref instanceof UnionRef) {\n                        ref.forEach(add);\n                    } else {\n                        ref = self._normalize(ref.toRangeRef());\n                        var tl = ref.topLeft, br = ref.bottomRight;\n                        var rows = partition(tl.row, br.row, skipHiddenRows);\n                        var cols = partition(tl.col, br.col, skipHiddenCols);\n                        for (var i = 0; i < rows.length; ++i) {\n                            for (var j = 0; j < cols.length; ++j) {\n                                refs.push(new RangeRef(new CellRef(rows[i].begin, cols[j].begin), new CellRef(rows[i].end, cols[j].end)));\n                            }\n                        }\n                    }\n                });\n                return sheet.range(refs.length > 1 ? new UnionRef(refs) : refs[0]);\n            },\n            _normalize: function (ref) {\n                return this._sheet._grid.normalize(ref);\n            },\n            _set: function (name, value, noTrigger) {\n                var self = this;\n                var sheet = self._sheet;\n                self._ref.forEach(function (ref) {\n                    sheet._set(ref.toRangeRef(), name, value);\n                });\n                if (!noTrigger) {\n                    sheet.triggerChange({\n                        recalc: name == 'formula' || name == 'value' || name == 'validation',\n                        value: value,\n                        ref: self._ref\n                    });\n                }\n                return self;\n            },\n            _get: function (name) {\n                return this._sheet._get(this._ref.toRangeRef(), name);\n            },\n            _property: function (name, value) {\n                if (value === undefined) {\n                    return this._get(name);\n                } else {\n                    return this._set(name, value);\n                }\n            },\n            value: function (value) {\n                if (value !== undefined) {\n                    this._set('formula', null, true);\n                }\n                return this._property('value', value);\n            },\n            resize: function (direction) {\n                var ref = this._resizedRef(direction);\n                return new Range(ref, this._sheet);\n            },\n            _resizedRef: function (direction) {\n                return this._ref.map(function (ref) {\n                    return ref.toRangeRef().resize(direction);\n                });\n            },\n            _border: function (property, value) {\n                var result;\n                var complement = borders[property].complement;\n                var direction = borders[property].direction;\n                var sheet = this._sheet;\n                sheet.batch(function () {\n                    result = this._property(property, value);\n                    if (value !== undefined) {\n                        this._resizedRef(direction).forEach(function (ref) {\n                            if (ref !== kendo.spreadsheet.NULLREF) {\n                                new Range(ref, sheet)._property(complement, null);\n                            }\n                        });\n                    }\n                }.bind(this), {});\n                return result;\n            },\n            _collapsedBorder: function (property) {\n                var result = this._property(property);\n                var complement = borders[property].complement;\n                var direction = borders[property].direction;\n                this._resizedRef(direction).forEach(function (ref) {\n                    if (!result && ref !== kendo.spreadsheet.NULLREF) {\n                        var range = new Range(ref, this._sheet);\n                        result = range._property(complement);\n                    }\n                }.bind(this));\n                return result;\n            },\n            borderTop: function (value) {\n                return this._border('borderTop', value);\n            },\n            borderRight: function (value) {\n                return this._border('borderRight', value);\n            },\n            borderBottom: function (value) {\n                return this._border('borderBottom', value);\n            },\n            borderLeft: function (value) {\n                return this._border('borderLeft', value);\n            },\n            collapsedBorderTop: function () {\n                return this._collapsedBorder('borderTop');\n            },\n            collapsedBorderRight: function () {\n                return this._collapsedBorder('borderRight');\n            },\n            collapsedBorderBottom: function () {\n                return this._collapsedBorder('borderBottom');\n            },\n            collapsedBorderLeft: function () {\n                return this._collapsedBorder('borderLeft');\n            },\n            input: function (value) {\n                var existingFormat = this._get('format'), x;\n                if (value !== undefined) {\n                    var tl = this._ref.toRangeRef().topLeft;\n                    x = kendo.spreadsheet.calc.parse(this._sheet.name(), tl.row, tl.col, value);\n                    this._sheet.batch(function () {\n                        var formula = null;\n                        if (x.type == 'exp') {\n                            formula = kendo.spreadsheet.calc.compile(x);\n                        } else if (existingFormat != '@') {\n                            if (x.type == 'date') {\n                                this.format(x.format || toExcelFormat(kendo.culture().calendar.patterns.d));\n                            } else if (x.type == 'percent') {\n                                this.format(x.value * 100 == (x.value * 100 | 0) ? '0%' : '0.00%');\n                            } else if (x.format && !existingFormat) {\n                                this.format(x.format);\n                            }\n                        } else if (x.type != 'string') {\n                            x.value = value;\n                        }\n                        this.formula(formula);\n                        if (!formula) {\n                            this.value(x.value);\n                        }\n                    }.bind(this), {\n                        recalc: true,\n                        value: value,\n                        ref: this._ref,\n                        editorChange: this._sheet.isInEditMode()\n                    });\n                    return this;\n                } else {\n                    value = this._get('value');\n                    var formula = this._get('formula');\n                    var type = existingFormat && !formula && kendo.spreadsheet.formatting.type(value, existingFormat);\n                    if (formula) {\n                        value = '=' + formula;\n                    } else\n                        OUT: {\n                            if (existingFormat && type == 'date') {\n                                var t1 = kendo.spreadsheet.formatting.text(value, existingFormat);\n                                x = kendo.spreadsheet.calc.parse(null, null, null, t1);\n                                if (typeof x.value == 'number') {\n                                    var t2 = kendo.spreadsheet.formatting.text(x.value, existingFormat);\n                                    if (t1 == t2) {\n                                        value = t1;\n                                        break OUT;\n                                    }\n                                }\n                            }\n                            if (type === 'date') {\n                                value = kendo.toString(kendo.spreadsheet.numberToDate(value), kendo.culture().calendar.patterns.d);\n                            } else if (type === 'percent') {\n                                value = value * 100 + '%';\n                            } else if (typeof value == 'string' && (/^[=']/.test(value) || /^(?:true|false)$/i.test(value) || looksLikeANumber(value))) {\n                                value = '\\'' + value;\n                            }\n                        }\n                    return value;\n                }\n            },\n            enable: function (value) {\n                if (value === undefined) {\n                    value = true;\n                    this._sheet.forEach(this._ref.toRangeRef(), function (_, __, data) {\n                        if (data.enable === false) {\n                            value = false;\n                        }\n                    });\n                    return value;\n                }\n                return this._property('enable', value);\n            },\n            formula: function (value) {\n                if (value === undefined) {\n                    var f = this._get('formula');\n                    return f ? '' + f : null;\n                }\n                return this._property('formula', value);\n            },\n            validation: function (value) {\n                if (value === undefined) {\n                    var f = this._get('validation');\n                    return f ? f.toJSON() : null;\n                }\n                return this._property('validation', value);\n            },\n            _getValidationState: function () {\n                var ref = this._ref.toRangeRef();\n                var topLeftRow = ref.topLeft.row;\n                var topLeftCol = ref.topLeft.col;\n                var bottomRightRow = ref.bottomRight.row;\n                var bottomRightCol = ref.bottomRight.col;\n                var ci, ri;\n                for (ci = topLeftCol; ci <= bottomRightCol; ci++) {\n                    for (ri = topLeftRow; ri <= bottomRightRow; ri++) {\n                        var validation = this._sheet._validation(ri, ci);\n                        if (validation && validation.type === 'reject' && validation.value === false) {\n                            return validation;\n                        }\n                    }\n                }\n                return false;\n            },\n            merge: function () {\n                this._ref = this._sheet._merge(this._ref);\n                return this;\n            },\n            unmerge: function () {\n                var mergedCells = this._sheet._mergedCells;\n                this._ref.forEach(function (ref) {\n                    ref.toRangeRef().intersecting(mergedCells).forEach(function (mergedRef) {\n                        mergedCells.splice(mergedCells.indexOf(mergedRef), 1);\n                    });\n                });\n                this._sheet.triggerChange({});\n                return this;\n            },\n            select: function () {\n                this._sheet.select(this._ref);\n                return this;\n            },\n            values: function (values) {\n                if (this._ref instanceof UnionRef) {\n                    throw new Error('Unsupported for multiple ranges.');\n                }\n                if (this._ref === kendo.spreadsheet.NULLREF) {\n                    if (values !== undefined) {\n                        throw new Error('Unsupported for NULLREF.');\n                    } else {\n                        return [];\n                    }\n                }\n                var ref = this._ref.toRangeRef();\n                var topLeftRow = ref.topLeft.row;\n                var topLeftCol = ref.topLeft.col;\n                var bottomRightRow = ref.bottomRight.row;\n                var bottomRightCol = ref.bottomRight.col;\n                var ci, ri;\n                if (values === undefined) {\n                    values = new Array(ref.height());\n                    for (var vi = 0; vi < values.length; vi++) {\n                        values[vi] = new Array(ref.width());\n                    }\n                    for (ci = topLeftCol; ci <= bottomRightCol; ci++) {\n                        for (ri = topLeftRow; ri <= bottomRightRow; ri++) {\n                            values[ri - topLeftRow][ci - topLeftCol] = this._sheet._value(ri, ci);\n                        }\n                    }\n                    return values;\n                } else {\n                    this._sheet._set(ref, 'formula', null);\n                    for (ci = topLeftCol; ci <= bottomRightCol; ci++) {\n                        for (ri = topLeftRow; ri <= bottomRightRow; ri++) {\n                            var row = values[ri - topLeftRow];\n                            if (row) {\n                                var value = row[ci - topLeftCol];\n                                if (value !== undefined) {\n                                    this._sheet._value(ri, ci, value);\n                                }\n                            }\n                        }\n                    }\n                    this._sheet.triggerChange({\n                        recalc: true,\n                        ref: ref\n                    });\n                    return this;\n                }\n            },\n            _properties: function (props) {\n                if (this._ref instanceof UnionRef) {\n                    throw new Error('Unsupported for multiple ranges.');\n                }\n                if (this._ref === kendo.spreadsheet.NULLREF) {\n                    if (props !== undefined) {\n                        throw new Error('Unsupported for NULLREF.');\n                    } else {\n                        return [];\n                    }\n                }\n                var ref = this._ref.toRangeRef();\n                var topLeftRow = ref.topLeft.row;\n                var topLeftCol = ref.topLeft.col;\n                var bottomRightRow = ref.bottomRight.row;\n                var bottomRightCol = ref.bottomRight.col;\n                var ci, ri;\n                var sheet = this._sheet;\n                if (props === undefined) {\n                    props = new Array(ref.height());\n                    sheet.forEach(ref, function (row, col, data) {\n                        row -= topLeftRow;\n                        col -= topLeftCol;\n                        var line = props[row] || (props[row] = []);\n                        line[col] = data;\n                    });\n                    return props;\n                } else {\n                    var data;\n                    ref = ref.clone();\n                    var setProp = function (propName) {\n                        var propValue = data[propName];\n                        ref.topLeft.row = ref.bottomRight.row = ri;\n                        ref.topLeft.col = ref.bottomRight.col = ci;\n                        if (propName == 'value') {\n                            sheet._set(ref, 'formula', null);\n                        }\n                        sheet._set(ref, propName, propValue);\n                    };\n                    for (ci = topLeftCol; ci <= bottomRightCol; ci++) {\n                        for (ri = topLeftRow; ri <= bottomRightRow; ri++) {\n                            var row = props[ri - topLeftRow];\n                            if (row) {\n                                data = row[ci - topLeftCol];\n                                if (data) {\n                                    Object.keys(data).forEach(setProp);\n                                }\n                            }\n                        }\n                    }\n                    sheet.triggerChange({\n                        recalc: true,\n                        ref: this._ref\n                    });\n                    return this;\n                }\n            },\n            clear: function (options) {\n                var clearAll = !options || !Object.keys(options).length;\n                var sheet = this._sheet;\n                var reason = {\n                    recalc: clearAll || options && options.contentsOnly === true,\n                    ref: this._ref\n                };\n                sheet.batch(function () {\n                    if (reason.recalc) {\n                        this.formula(null);\n                    }\n                    if (clearAll) {\n                        this.validation(null);\n                    }\n                    if (clearAll || options && options.formatOnly === true) {\n                        PROPERTIES.forEach(function (x) {\n                            this[x](null);\n                        }.bind(this));\n                        this.unmerge();\n                    }\n                }.bind(this), reason);\n                return this;\n            },\n            clearContent: function () {\n                return this.clear({ contentsOnly: true });\n            },\n            clearFormat: function () {\n                return this.clear({ formatOnly: true });\n            },\n            isSortable: function () {\n                return !(this._ref instanceof UnionRef || this._ref === kendo.spreadsheet.NULLREF);\n            },\n            sort: function (spec) {\n                if (this._ref instanceof UnionRef) {\n                    throw new Error('Unsupported for multiple ranges.');\n                }\n                if (this._ref === kendo.spreadsheet.NULLREF) {\n                    throw new Error('Unsupported for NULLREF.');\n                }\n                if (spec === undefined) {\n                    spec = { column: 0 };\n                }\n                spec = spec instanceof Array ? spec : [spec];\n                this._sheet._sortBy(this._ref.toRangeRef(), spec.map(function (spec, index) {\n                    if (typeof spec === 'number') {\n                        spec = { column: spec };\n                    }\n                    return {\n                        index: spec.column === undefined ? index : spec.column,\n                        ascending: spec.ascending === undefined ? true : spec.ascending\n                    };\n                }));\n                return this;\n            },\n            isFilterable: function () {\n                return !(this._ref instanceof UnionRef);\n            },\n            filter: function (spec) {\n                if (this._ref instanceof UnionRef) {\n                    throw new Error('Unsupported for multiple ranges.');\n                }\n                if (spec === false) {\n                    this.clearFilters();\n                } else {\n                    spec = spec === true ? [] : spec instanceof Array ? spec : [spec];\n                    this._sheet._filterBy(this._ref.toRangeRef(), spec.map(function (spec, index) {\n                        return {\n                            index: spec.column === undefined ? index : spec.column,\n                            filter: spec.filter\n                        };\n                    }));\n                }\n                return this;\n            },\n            clearFilter: function (spec) {\n                this._sheet.clearFilter(spec);\n            },\n            clearFilters: function () {\n                var filter = this._sheet.filter();\n                var spec = [];\n                if (filter) {\n                    for (var i = 0; i < filter.columns.length; i++) {\n                        spec.push(i);\n                    }\n                    this._sheet.batch(function () {\n                        this.clearFilter(spec);\n                        this._filter = null;\n                    }, {\n                        layout: true,\n                        filter: true\n                    });\n                }\n            },\n            hasFilter: function () {\n                var filter = this._sheet.filter();\n                return !!filter;\n            },\n            leftColumn: function () {\n                return new Range(this._ref.leftColumn(), this._sheet);\n            },\n            rightColumn: function () {\n                return new Range(this._ref.rightColumn(), this._sheet);\n            },\n            topRow: function () {\n                return new Range(this._ref.topRow(), this._sheet);\n            },\n            bottomRow: function () {\n                return new Range(this._ref.bottomRow(), this._sheet);\n            },\n            column: function (column) {\n                return new Range(this._ref.toColumn(column), this._sheet);\n            },\n            row: function (row) {\n                return new Range(this._ref.toRow(row), this._sheet);\n            },\n            forEachRow: function (callback) {\n                this._ref.forEachRow(function (ref) {\n                    callback(new Range(ref, this._sheet));\n                }.bind(this));\n            },\n            forEachColumn: function (callback) {\n                this._ref.forEachColumn(function (ref) {\n                    callback(new Range(ref, this._sheet));\n                }.bind(this));\n            },\n            sheet: function () {\n                return this._sheet;\n            },\n            topLeft: function () {\n                return this._ref.toRangeRef().topLeft;\n            },\n            intersectingMerged: function () {\n                var sheet = this._sheet;\n                var mergedCells = [];\n                sheet._mergedCells.forEach(function (ref) {\n                    if (ref.intersects(this._ref)) {\n                        mergedCells.push(ref.toString());\n                    }\n                }.bind(this));\n                return mergedCells;\n            },\n            getState: function (propertyName) {\n                var topLeft = this._ref.first();\n                var state = {\n                    ref: topLeft,\n                    data: [],\n                    origRef: this._ref\n                };\n                var properties;\n                if (!propertyName) {\n                    properties = kendo.spreadsheet.ALL_PROPERTIES;\n                    state.mergedCells = this.intersectingMerged();\n                } else if (propertyName === 'input') {\n                    properties = [\n                        'value',\n                        'formula'\n                    ];\n                } else if (propertyName === 'border') {\n                    properties = [\n                        'borderLeft',\n                        'borderTop',\n                        'borderRight',\n                        'borderBottom'\n                    ];\n                } else {\n                    properties = [propertyName];\n                }\n                var data = state.data;\n                this.forEachCell(function (row, col, cell) {\n                    var cellState = {};\n                    var dr = row - topLeft.row;\n                    var dc = col - topLeft.col;\n                    if (!data[dr]) {\n                        data[dr] = [];\n                    }\n                    data[dr][dc] = cellState;\n                    properties.forEach(function (property) {\n                        cellState[property] = typeof cell[property] == 'undefined' ? null : cell[property];\n                    });\n                });\n                return state;\n            },\n            setState: function (state, clipboard) {\n                var sheet = this._sheet;\n                var origin = this._ref.first();\n                var rowDelta = state.ref.row - origin.row;\n                var colDelta = state.ref.col - origin.col;\n                sheet.batch(function () {\n                    if (state.mergedCells) {\n                        this.unmerge();\n                    }\n                    var row = origin.row;\n                    state.data.forEach(function (data, dr) {\n                        if (clipboard && !clipboard.isExternal() && sheet.isHiddenRow(state.ref.row + dr)) {\n                            return;\n                        }\n                        var col = origin.col;\n                        data.forEach(function (cellState, dc) {\n                            if (clipboard && !clipboard.isExternal() && sheet.isHiddenColumn(state.ref.col + dc)) {\n                                return;\n                            }\n                            var range = clipboard ? sheet.range(row, col) : sheet.range(origin.row + dr, origin.col + dc);\n                            if (range.enable()) {\n                                for (var property in cellState) {\n                                    if (property != 'value') {\n                                        if (!(clipboard && property == 'enable')) {\n                                            range._set(property, cellState[property]);\n                                        }\n                                    }\n                                }\n                                if (!cellState.formula) {\n                                    if (clipboard && clipboard.isExternal()) {\n                                        try {\n                                            if (cellState.value == null) {\n                                                range._set('value', null);\n                                            } else {\n                                                range.input(cellState.value);\n                                            }\n                                        } catch (ex) {\n                                            range._set('value', cellState.value);\n                                        }\n                                    } else {\n                                        range._set('value', cellState.value);\n                                    }\n                                }\n                            }\n                            col++;\n                        });\n                        row++;\n                    });\n                    if (state.mergedCells) {\n                        state.mergedCells.forEach(function (merged) {\n                            merged = sheet._ref(merged).relative(rowDelta, colDelta, 3);\n                            sheet.range(merged).merge();\n                        }, this);\n                    }\n                }.bind(this), { recalc: true });\n            },\n            _adjustRowHeight: function () {\n                var sheet = this._sheet;\n                var state = this.getState();\n                var mergedCells = [];\n                for (var i = 0; i < state.mergedCells.length; i++) {\n                    mergedCells.push(sheet.range(state.mergedCells[i]));\n                }\n                this.forEachRow(function (row) {\n                    if (row.topLeft().row >= row.sheet()._rows._count) {\n                        return;\n                    }\n                    var maxHeight = row.sheet().rowHeight(row.topLeft().row);\n                    row.forEachCell(function (rowIndex, colIndex, cell) {\n                        var cellRange = sheet.range(rowIndex, colIndex);\n                        var totalWidth = 0;\n                        for (var i = 0; i < mergedCells.length; i++) {\n                            if (cellRange._ref.intersects(mergedCells[i]._ref)) {\n                                totalWidth += cell.width;\n                                break;\n                            }\n                        }\n                        var width = Math.max(sheet.columnWidth(colIndex), totalWidth);\n                        maxHeight = Math.max(maxHeight, kendo.spreadsheet.util.getTextHeight(cell.value, width, cell.fontSize, cell.wrap));\n                    });\n                    sheet.rowHeight(row.topLeft().row, Math.max(sheet.rowHeight(row.topLeft().row), maxHeight));\n                });\n            },\n            forEachCell: function (callback) {\n                this._ref.forEach(function (ref) {\n                    this._sheet.forEach(ref.toRangeRef(), callback.bind(this));\n                }.bind(this));\n            },\n            hasValue: function () {\n                var result = false;\n                this.forEachCell(function (row, col, cell) {\n                    if (Object.keys(cell).length !== 0) {\n                        result = true;\n                    }\n                });\n                return result;\n            },\n            wrap: function (flag) {\n                if (flag === undefined) {\n                    return !!this._property('wrap');\n                }\n                this.forEachRow(function (range) {\n                    var maxHeight = range.sheet().rowHeight(range.topLeft().row);\n                    range.forEachCell(function (row, col, cell) {\n                        var width = this._sheet.columnWidth(col);\n                        if (cell.value !== null && cell.value !== undefined) {\n                            maxHeight = Math.max(maxHeight, kendo.spreadsheet.util.getTextHeight(cell.value, width, cell.fontSize, true));\n                        }\n                    });\n                    range.sheet().rowHeight(range.topLeft().row, maxHeight);\n                }.bind(this));\n                this._property('wrap', flag);\n                return this;\n            },\n            fontSize: function (size) {\n                if (size === undefined) {\n                    return this._property('fontSize');\n                }\n                this.forEachRow(function (range) {\n                    var maxHeight = range.sheet().rowHeight(range.topLeft().row);\n                    range.forEachCell(function (row, col, cell) {\n                        var width = this._sheet.columnWidth(col);\n                        if (cell.value !== null && cell.value !== undefined) {\n                            maxHeight = Math.max(maxHeight, kendo.spreadsheet.util.getTextHeight(cell.value, width, size, cell.wrap));\n                        }\n                    });\n                    range.sheet().rowHeight(range.topLeft().row, maxHeight);\n                }.bind(this));\n                this._property('fontSize', size);\n                return this;\n            },\n            draw: function (options, callback) {\n                this._sheet.draw(this, options, callback);\n            }\n        });\n        function partition(begin, end, predicate) {\n            while (begin <= end && predicate(begin)) {\n                begin++;\n            }\n            if (begin > end) {\n                return [];\n            }\n            for (var i = begin + 1; i <= end; ++i) {\n                if (predicate(i)) {\n                    return [{\n                            begin: begin,\n                            end: i - 1\n                        }].concat(partition(i + 1, end, predicate));\n                }\n            }\n            return [{\n                    begin: begin,\n                    end: end\n                }];\n        }\n        $.each(PROPERTIES, function (i, property) {\n            Range.prototype[property] = function (value) {\n                return this._property(property, value);\n            };\n        });\n        function toExcelFormat(format) {\n            return format.replace(/M/g, 'm').replace(/'/g, '\"').replace(/tt/, 'am/pm');\n        }\n        function looksLikeANumber(str) {\n            return !/^=/.test(str) && /number|percent/.test(kendo.spreadsheet.calc.parse(null, 0, 0, str).type);\n        }\n        var measureBox = $('<div style=\"position: absolute !important; top: -4000px !important; height: auto !important;' + 'padding: 1px !important; margin: 0 !important; border: 1px solid black !important;' + 'line-height: normal !important; visibility: hidden !important;' + 'white-space: pre-wrap !important; word-break: break-all !important;\" />')[0];\n        function getTextHeight(text, width, fontSize, wrap) {\n            var styles = {\n                'baselineMarkerSize': 0,\n                'width': width + 'px',\n                'font-size': (fontSize || 12) + 'px',\n                'word-break': wrap === true ? 'break-all' : 'normal',\n                'white-space': wrap === true ? 'pre-wrap' : 'pre'\n            };\n            return kendo.util.measureText(text, styles, measureBox).height;\n        }\n        kendo.spreadsheet.util = { getTextHeight: getTextHeight };\n        kendo.spreadsheet.Range = Range;\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/runtime', ['spreadsheet/references'], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var calc = {};\n    var spreadsheet = kendo.spreadsheet;\n    spreadsheet.calc = calc;\n    var exports = calc.runtime = {};\n    var Class = kendo.Class;\n    var Ref = spreadsheet.Ref;\n    var CellRef = spreadsheet.CellRef;\n    var RangeRef = spreadsheet.RangeRef;\n    var UnionRef = spreadsheet.UnionRef;\n    var NULL = spreadsheet.NULLREF;\n    function CalcError(code) {\n        if (code instanceof CalcError) {\n            return code;\n        }\n        this.code = code;\n    }\n    CalcError.prototype.toString = function () {\n        return '#' + this.code + (this.code == 'NAME' ? '?' : '!');\n    };\n    var Context = Class.extend({\n        init: function Context(callback, formula, ss, parent) {\n            this.callback = callback;\n            this.formula = formula;\n            this.ss = ss;\n            this.parent = parent;\n        },\n        resolve: function (val) {\n            var self = this;\n            if (val instanceof Ref) {\n                self.resolveCells([val], function () {\n                    self._resolve(val);\n                });\n            } else {\n                self._resolve(val);\n            }\n        },\n        error: function (val) {\n            return new CalcError(val);\n        },\n        _resolve: function (val) {\n            if (val === undefined) {\n                val = null;\n            } else if (Array.isArray(val)) {\n                val = this.asMatrix(val);\n            } else {\n                val = maybeRoundFloatErrors(val);\n            }\n            var f = this.formula;\n            f.value = val;\n            if (this.ss.onFormula(f) && this.callback) {\n                this.callback.call(f, val);\n            }\n        },\n        resolveCells: function (a, f) {\n            var context = this, formulas = [];\n            (function loop(a) {\n                for (var i = 0; i < a.length; ++i) {\n                    var x = a[i];\n                    if (x instanceof Ref) {\n                        add(context.getRefCells(x));\n                    }\n                    if (Array.isArray(x)) {\n                        loop(x);\n                    }\n                }\n            }(a));\n            if (!formulas.length) {\n                return f.call(context);\n            }\n            for (var pending = formulas.length, i = 0; i < formulas.length; ++i) {\n                fetch(formulas[i]);\n            }\n            function fetch(formula) {\n                formula.exec(context.ss, function () {\n                    if (!--pending) {\n                        f.call(context);\n                    }\n                }, context);\n            }\n            function add(a) {\n                for (var i = 0; i < a.length; ++i) {\n                    var cell = a[i];\n                    if (cell.formula) {\n                        formulas.push(cell.formula);\n                    }\n                }\n                return true;\n            }\n        },\n        cellValues: function (a, f) {\n            var ret = [];\n            for (var i = 0; i < a.length; ++i) {\n                var val = a[i];\n                if (val instanceof Ref) {\n                    val = this.getRefData(val);\n                    ret = ret.concat(val);\n                } else if (Array.isArray(val)) {\n                    ret = ret.concat(this.cellValues(val));\n                } else if (val instanceof Matrix) {\n                    ret = ret.concat(this.cellValues(val.data));\n                } else {\n                    ret.push(val);\n                }\n            }\n            if (f) {\n                return f.apply(this, ret);\n            }\n            return ret;\n        },\n        fetchName: function (ref, callback) {\n            var f = this.formula;\n            var val = this.ss.nameValue(ref, f.sheet, f.row, f.col);\n            if (val instanceof Formula) {\n                val = val.clone(f.sheet, f.row, f.col, true);\n                var ss = new spreadsheet.ValidationFormulaContext(this.ss.workbook);\n                val.exec(ss, callback, this);\n            } else {\n                if (val instanceof Ref) {\n                    val = val.absolute(f.row, f.col);\n                    if (!val.sheet) {\n                        val.sheet = f.sheet;\n                    }\n                }\n                callback(val == null ? new CalcError('NAME') : val);\n            }\n        },\n        force: function (val) {\n            if (val instanceof Ref) {\n                return this.getRefData(val);\n            }\n            return val;\n        },\n        func: function (fname, callback, args) {\n            fname = fname.toLowerCase();\n            var f = FUNCS[fname];\n            if (f) {\n                return f.call(this, callback, args);\n            }\n            callback(new CalcError('NAME'));\n        },\n        bool: function (val) {\n            if (val instanceof Ref) {\n                val = this.getRefData(val);\n            }\n            if (typeof val == 'string') {\n                return val.toLowerCase() == 'true';\n            }\n            if (typeof val == 'number') {\n                return val !== 0;\n            }\n            if (typeof val == 'boolean') {\n                return val;\n            }\n            return val != null;\n        },\n        asMatrix: function (range) {\n            if (range instanceof Matrix) {\n                return range;\n            }\n            var self = this;\n            if (range instanceof RangeRef) {\n                var tl = range.topLeft;\n                var top = tl.row, left = tl.col;\n                var cells = self.getRefCells(range);\n                var m = new Matrix(self);\n                if (isFinite(range.width())) {\n                    m.width = range.width();\n                }\n                if (isFinite(range.height())) {\n                    m.height = range.height();\n                }\n                if (!isFinite(top)) {\n                    top = 0;\n                }\n                if (!isFinite(left)) {\n                    left = 0;\n                }\n                cells.forEach(function (cell) {\n                    m.set(cell.row - top, cell.col - left, cell.value);\n                });\n                return m;\n            }\n            if (Array.isArray(range) && range.length > 0) {\n                var m = new Matrix(self), row = 0;\n                range.forEach(function (line) {\n                    var col = 0;\n                    var h = 1;\n                    line.forEach(function (el) {\n                        var isRange = el instanceof RangeRef;\n                        if (el instanceof Ref && !isRange) {\n                            el = self.getRefData(el);\n                        }\n                        if (isRange || Array.isArray(el)) {\n                            el = self.asMatrix(el);\n                        }\n                        if (el instanceof Matrix) {\n                            el.each(function (el, r, c) {\n                                m.set(row + r, col + c, el);\n                            });\n                            h = Math.max(h, el.height);\n                            col += el.width;\n                        } else {\n                            m.set(row, col++, el);\n                        }\n                    });\n                    row += h;\n                });\n                return m;\n            }\n        },\n        getRefCells: function (refs, hiddenInfo) {\n            var f = this.formula;\n            return this.ss.getRefCells(refs, hiddenInfo, f.sheet, f.row, f.col);\n        },\n        getRefData: function (ref) {\n            var f = this.formula;\n            return this.ss.getData(ref, f.sheet, f.row, f.col);\n        },\n        workbook: function () {\n            return this.ss.workbook;\n        }\n    });\n    var Matrix = Class.extend({\n        init: function Matrix(context) {\n            this.context = context;\n            this.height = 0;\n            this.width = 0;\n            this.data = [];\n        },\n        clone: function () {\n            var m = new Matrix(this.context);\n            m.height = this.height;\n            m.width = this.width;\n            m.data = this.data.map(function (row) {\n                return row.slice();\n            });\n            return m;\n        },\n        get: function (row, col) {\n            var line = this.data[row];\n            var val = line ? line[col] : null;\n            return val instanceof Ref ? this.context.getRefData(val) : val;\n        },\n        set: function (row, col, data) {\n            var line = this.data[row];\n            if (line == null) {\n                line = this.data[row] = [];\n            }\n            line[col] = data;\n            if (row >= this.height) {\n                this.height = row + 1;\n            }\n            if (col >= this.width) {\n                this.width = col + 1;\n            }\n        },\n        each: function (f, includeEmpty) {\n            for (var row = 0; row < this.height; ++row) {\n                for (var col = 0; col < this.width; ++col) {\n                    var val = this.get(row, col);\n                    if (includeEmpty || val != null) {\n                        val = f.call(this.context, val, row, col);\n                        if (val !== undefined) {\n                            return val;\n                        }\n                    }\n                }\n            }\n        },\n        map: function (f, includeEmpty) {\n            var m = new Matrix(this.context);\n            this.each(function (el, row, col) {\n                m.set(row, col, f.call(this, el, row, col));\n            }, includeEmpty);\n            return m;\n        },\n        eachRow: function (f) {\n            for (var row = 0; row < this.height; ++row) {\n                var val = f.call(this.context, row);\n                if (val !== undefined) {\n                    return val;\n                }\n            }\n        },\n        eachCol: function (f) {\n            for (var col = 0; col < this.width; ++col) {\n                var val = f.call(this.context, col);\n                if (val !== undefined) {\n                    return val;\n                }\n            }\n        },\n        mapRow: function (f) {\n            var m = new Matrix(this.context);\n            this.eachRow(function (row) {\n                m.set(row, 0, f.call(this.context, row));\n            });\n            return m;\n        },\n        mapCol: function (f) {\n            var m = new Matrix(this.context);\n            this.eachCol(function (col) {\n                m.set(0, col, f.call(this.context, col));\n            });\n            return m;\n        },\n        toString: function () {\n            return JSON.stringify(this.data);\n        },\n        transpose: function () {\n            var m = new Matrix(this.context);\n            this.each(function (el, row, col) {\n                m.set(col, row, el);\n            });\n            return m;\n        },\n        unit: function (n) {\n            this.width = this.height = n;\n            var a = this.data = new Array(n);\n            for (var i = n; --i >= 0;) {\n                var row = a[i] = new Array(n);\n                for (var j = n; --j >= 0;) {\n                    row[j] = i == j ? 1 : 0;\n                }\n            }\n            return this;\n        },\n        multiply: function (b) {\n            var a = this, m = new Matrix(a.context);\n            for (var row = 0; row < a.height; ++row) {\n                for (var col = 0; col < b.width; ++col) {\n                    var s = 0;\n                    for (var i = 0; i < a.width; ++i) {\n                        var va = a.get(row, i);\n                        var vb = b.get(i, col);\n                        if (typeof va != 'number' || typeof vb != 'number') {\n                            throw new CalcError('VALUE');\n                        }\n                        s += va * vb;\n                    }\n                    m.set(row, col, s);\n                }\n            }\n            return m;\n        },\n        adds: function (b, s) {\n            var a = this, m = new Matrix(a.context);\n            var sign = s ? -1 : 1;\n            for (var row = 0; row < a.height; ++row) {\n                for (var col = 0; col < a.width; ++col) {\n                    var x = a.get(row, col), y = b.get(row, col);\n                    m.set(row, col, x + sign * y);\n                }\n            }\n            return m;\n        },\n        determinant: function () {\n            var a = this.clone().data;\n            var n = a.length;\n            var d = 1, C, L, i, k;\n            for (C = 0; C < n; C++) {\n                for (L = C; L < n && !a[L][C]; L++) {\n                }\n                if (L == n) {\n                    return 0;\n                }\n                if (L != C) {\n                    d = -d;\n                    for (k = C; k < n; k++) {\n                        var t = a[C][k];\n                        a[C][k] = a[L][k];\n                        a[L][k] = t;\n                    }\n                }\n                for (i = C + 1; i < n; i++) {\n                    for (k = C + 1; k < n; k++) {\n                        a[i][k] -= a[C][k] * a[i][C] / a[C][C];\n                    }\n                }\n                d *= a[C][C];\n            }\n            return d;\n        },\n        inverse: function () {\n            var n = this.width;\n            var m = this.augment(new Matrix(this.context).unit(n));\n            var a = m.data;\n            var tmp;\n            for (var k = 0; k < n; ++k) {\n                var imax = argmax(k, n, function (i) {\n                    return a[i][k];\n                });\n                if (!a[imax][k]) {\n                    return null;\n                }\n                if (k != imax) {\n                    tmp = a[k];\n                    a[k] = a[imax];\n                    a[imax] = tmp;\n                }\n                for (var i = k + 1; i < n; ++i) {\n                    for (var j = k + 1; j < 2 * n; ++j) {\n                        a[i][j] -= a[k][j] * a[i][k] / a[k][k];\n                    }\n                    a[i][k] = 0;\n                }\n            }\n            for (var i = 0; i < n; ++i) {\n                for (var f = a[i][i], j = 0; j < 2 * n; ++j) {\n                    a[i][j] /= f;\n                }\n            }\n            for (var k = n; --k >= 0;) {\n                for (var i = k; --i >= 0;) {\n                    if (a[i][k]) {\n                        for (var j = 2 * n; --j >= n;) {\n                            a[i][j] -= a[k][j] * a[i][k];\n                        }\n                    }\n                }\n            }\n            return m.slice(0, n, n, n);\n        },\n        augment: function (m) {\n            var ret = this.clone(), n = ret.width;\n            m.each(function (val, row, col) {\n                ret.set(row, col + n, val);\n            });\n            return ret;\n        },\n        slice: function (row, col, height, width) {\n            var m = new Matrix(this.context);\n            for (var i = 0; i < height; ++i) {\n                for (var j = 0; j < width; ++j) {\n                    m.set(i, j, this.get(row + i, col + j));\n                }\n            }\n            return m;\n        }\n    });\n    function argmax(i, end, f) {\n        var max = f(i), pos = i;\n        while (++i < end) {\n            var v = f(i);\n            if (v > max) {\n                max = v;\n                pos = i;\n            }\n        }\n        return pos;\n    }\n    var Formula = Class.extend({\n        init: function Formula(refs, handler, printer, sheet, row, col) {\n            this.refs = refs;\n            this.handler = handler;\n            this.print = printer;\n            this.absrefs = null;\n            this.sheet = sheet;\n            this.row = row;\n            this.col = col;\n            this.onReady = [];\n            this.pending = false;\n        },\n        clone: function (sheet, row, col, forceRefs) {\n            var lcsheet = sheet.toLowerCase();\n            var refs = this.refs;\n            if (forceRefs || lcsheet != this.sheet.toLowerCase()) {\n                refs = refs.map(function (ref) {\n                    if (!ref.hasSheet() && (!ref.sheet || ref.sheet.toLowerCase() != lcsheet)) {\n                        ref = ref.clone().setSheet(sheet);\n                    }\n                    return ref;\n                });\n            }\n            return new Formula(refs, this.handler, this.print, sheet, row, col);\n        },\n        resolve: function (val) {\n            this.pending = false;\n            this.onReady.forEach(function (callback) {\n                callback(val);\n            });\n        },\n        exec: function (ss, callback, parentContext) {\n            if ('value' in this) {\n                if (callback) {\n                    callback(this.value);\n                }\n            } else {\n                if (callback) {\n                    this.onReady.push(callback);\n                }\n                var ctx = new Context(this.resolve, this, ss, parentContext);\n                while (parentContext) {\n                    if (parentContext.formula === this) {\n                        this.pending = false;\n                        ctx.resolve(new CalcError('CIRCULAR'));\n                        return;\n                    }\n                    parentContext = parentContext.parent;\n                }\n                if (this.pending) {\n                    return;\n                }\n                this.pending = true;\n                if (!this.absrefs) {\n                    this.absrefs = this.refs.map(function (ref) {\n                        return ref.absolute(this.row, this.col);\n                    }, this);\n                }\n                this.handler.call(ctx);\n            }\n        },\n        reset: function () {\n            this.onReady = [];\n            this.pending = false;\n            delete this.value;\n        },\n        renameSheet: function (oldSheetName, newSheetName) {\n            oldSheetName = oldSheetName.toLowerCase();\n            this.absrefs = null;\n            if (this.sheet.toLowerCase() == oldSheetName) {\n                this.sheet = newSheetName;\n            }\n            this.refs.forEach(function (ref) {\n                ref.renameSheet(oldSheetName, newSheetName);\n            });\n        },\n        adjust: function (affectedSheet, operation, start, delta) {\n            affectedSheet = affectedSheet.toLowerCase();\n            var formulaRow = this.row;\n            var formulaCol = this.col;\n            var formulaSheet = this.sheet.toLowerCase();\n            var formulaMoves = false;\n            if (formulaSheet == affectedSheet) {\n                if (operation == 'row' && formulaRow >= start) {\n                    this.row += delta;\n                    formulaMoves = true;\n                }\n                if (operation == 'col' && formulaCol >= start) {\n                    this.col += delta;\n                    formulaMoves = true;\n                }\n            }\n            var newFormulaRow = this.row;\n            var newFormulaCol = this.col;\n            this.absrefs = null;\n            this.refs = this.refs.map(function (ref) {\n                if (ref === NULL) {\n                    return ref;\n                }\n                if (ref.sheet.toLowerCase() != affectedSheet) {\n                    if (formulaMoves) {\n                        if (operation == 'row' && formulaRow >= start) {\n                            ref = ref.relative(delta, 0);\n                        }\n                        if (operation == 'col' && formulaCol >= start) {\n                            ref = ref.relative(0, delta);\n                        }\n                    }\n                    return ref;\n                }\n                return ref.adjust(formulaRow, formulaCol, newFormulaRow, newFormulaCol, operation == 'row', start, delta);\n            }, this);\n        },\n        toString: function () {\n            return this.print(this.row, this.col);\n        }\n    });\n    var FUNCS = Object.create(null);\n    FUNCS['if'] = function (callback, args) {\n        var self = this;\n        var co = args[0], th = args[1], el = args[2];\n        this.resolveCells([co], function () {\n            var comatrix = self.asMatrix(co);\n            if (comatrix) {\n                th(function (th) {\n                    el(function (el) {\n                        var thmatrix = self.asMatrix(th);\n                        var elmatrix = self.asMatrix(el);\n                        callback(comatrix.map(function (val, row, col) {\n                            if (val instanceof CalcError) {\n                                return val;\n                            } else if (self.bool(val)) {\n                                return thmatrix ? thmatrix.get(row, col) : th;\n                            } else {\n                                return elmatrix ? elmatrix.get(row, col) : el;\n                            }\n                        }));\n                    });\n                });\n            } else {\n                co = this.force(co);\n                if (co instanceof CalcError) {\n                    callback(co);\n                } else if (self.bool(co)) {\n                    th(callback);\n                } else {\n                    el(callback);\n                }\n            }\n        });\n    };\n    FUNCS['φ'] = function (callback) {\n        callback((1 + Math.sqrt(5)) / 2);\n    };\n    function compileArgumentChecks(functionName, args) {\n        var arrayArgs = 'function arrayArgs(args) { var xargs = [], width = 0, height = 0, arrays = [], i = 0; ';\n        var resolve = 'function resolve(args, callback) { var toResolve = [], i = 0; ';\n        var name, forced, main = '\\'use strict\\'; function check(args) { var stack = [], tmp, xargs = [], i = 0, m, err = \\'VALUE\\'; ', haveForced = false;\n        var canBeArrayArg = false, hasArrayArgs = false;\n        main += args.map(comp).join('');\n        main += 'if (i < args.length) return new CalcError(\\'N/A\\'); ';\n        main += 'return xargs; } ';\n        arrayArgs += 'return { args: xargs, width: width, height: height, arrays: arrays }; } ';\n        var f;\n        if (haveForced) {\n            resolve += 'this.resolveCells(toResolve, callback); } ';\n            f = new Function('CalcError', 'round', main + resolve + arrayArgs + ' return { resolve: resolve, check: check, arrayArgs: arrayArgs };');\n        } else {\n            f = new Function('CalcError', 'round', main + ' return { check: check };');\n        }\n        f = f(CalcError, roundFloatErrors);\n        if (!hasArrayArgs) {\n            delete f.arrayArgs;\n        }\n        return f;\n        function comp(x) {\n            name = x[0];\n            var code = '{ ';\n            if (Array.isArray(name)) {\n                arrayArgs += 'while (i < args.length) { ';\n                resolve += 'while (i < args.length) { ';\n                code += 'xargs.push(tmp = []); stack.push(xargs); xargs = tmp; ';\n                code += 'while (i < args.length) { ';\n                code += x.map(comp).join('');\n                code += '} ';\n                code += 'xargs = stack.pop(); ';\n                resolve += '} ';\n                arrayArgs += '} ';\n            } else if (name == '+') {\n                arrayArgs += 'while (i < args.length) { ';\n                resolve += 'while (i < args.length) { ';\n                code += 'if (i >= args.length) return new CalcError(\\'N/A\\'); ';\n                code += 'xargs.push(tmp = []); stack.push(xargs); xargs = tmp; ';\n                code += 'do { ';\n                code += x.slice(1).map(comp).join('');\n                code += '} while (i < args.length); ';\n                code += 'xargs = stack.pop(); ';\n                resolve += '} ';\n                arrayArgs += '} ';\n            } else if (name == '?') {\n                code += 'if (!(' + cond(x[1]) + ')) return new CalcError(err); ';\n            } else {\n                var type = x[1];\n                if (Array.isArray(type) && /^#?collect/.test(type[0])) {\n                    var n = type[2];\n                    force();\n                    code += 'try {' + 'var $' + name + ' = this.cellValues(args.slice(i';\n                    if (n) {\n                        code += ', i + ' + n;\n                    }\n                    code += ')).filter(function($' + name + '){ ';\n                    if (type[0] == 'collect') {\n                        code += 'if ($' + name + ' instanceof CalcError) throw $' + name + '; ';\n                    }\n                    code += 'return ' + cond(type[1]) + '; }, this); ';\n                    if (n) {\n                        code += 'i += ' + n + '; ';\n                    } else {\n                        code += 'i = args.length; ';\n                    }\n                    code += 'xargs.push($' + name + ')' + '} catch(ex) { if (ex instanceof CalcError) return ex; throw ex; } ';\n                    resolve += 'toResolve.push(args.slice(i)); ';\n                } else if (type == 'rest') {\n                    code += 'xargs.push(args.slice(i)); i = args.length; ';\n                } else {\n                    if (canBeArrayArg = /^\\*/.test(name)) {\n                        hasArrayArgs = true;\n                        name = name.substr(1);\n                    }\n                    code += 'var $' + name + ' = args[i++]; ';\n                    var allowError = false;\n                    if (/!$/.test(type)) {\n                        type = type.substr(0, type.length - 1);\n                        allowError = true;\n                    } else {\n                        code += 'if ($' + name + ' instanceof CalcError) return $' + name + '; ';\n                    }\n                    code += typeCheck(type, allowError) + 'xargs.push($' + name + '); ';\n                }\n            }\n            code += '} ';\n            return code;\n        }\n        function force() {\n            if (forced) {\n                return '$' + name + '';\n            }\n            haveForced = true;\n            forced = true;\n            resolve += 'toResolve.push(args[i++]); ';\n            return '($' + name + ' = this.force($' + name + '))';\n        }\n        function forceNum(round) {\n            return '(' + (round ? '(typeof ' + force() + ' == \\'number\\' ? ($' + name + ' = round($' + name + '), true) : false) || ' : '(typeof ' + force() + ' == \\'number\\') || ') + '(typeof $' + name + ' == \\'boolean\\') || ' + '(typeof $' + name + ' == \\'string\\' && !/^(?:=|true|false)/i.test($' + name + ') ? (' + 'tmp = kendo.spreadsheet.calc.parse(0, 0, 0, $' + name + '), ' + '/^date|number|percent$/.test(tmp.type) ? ($' + name + ' = +tmp.value, true) : false' + ') : false)' + ')';\n        }\n        function typeCheck(type, allowError) {\n            forced = false;\n            var ret = 'if (!(' + cond(type) + ')) { ';\n            if (forced && !allowError) {\n                ret += ' if ($' + name + ' instanceof CalcError) return $' + name + '; ';\n            }\n            ret += 'return new CalcError(err); } ';\n            if (!forced) {\n                resolve += 'i++; ';\n            }\n            if (canBeArrayArg) {\n                arrayArgs += 'var $' + name + ' = this.asMatrix(args[i]); ' + 'if ($' + name + ') { ' + 'xargs.push($' + name + '); ' + 'width = Math.max(width, $' + name + '.width); ' + 'height = Math.max(height, $' + name + '.height); ' + 'arrays.push(true) } else { ' + 'xargs.push(args[i]); ' + 'arrays.push(false); } i++; ';\n            } else {\n                arrayArgs += 'xargs.push(args[i++]); arrays.push(false); ';\n            }\n            return ret;\n        }\n        function cond(type) {\n            if (Array.isArray(type)) {\n                if (type[0] == 'or') {\n                    return '(' + type.slice(1).map(cond).join(') || (') + ')';\n                }\n                if (type[0] == 'and') {\n                    return '(' + type.slice(1).map(cond).join(') && (') + ')';\n                }\n                if (type[0] == 'values') {\n                    return '(' + type.slice(1).map(function (val) {\n                        return force() + ' === ' + val;\n                    }).join(') || (') + ')';\n                }\n                if (type[0] == 'null') {\n                    return '(' + cond('null') + ' ? (($' + name + ' = ' + type[1] + '), true) : false)';\n                }\n                if (type[0] == 'between' || type[0] == '[between]') {\n                    return '(' + force() + ' >= ' + type[1] + ' && ' + '$' + name + ' <= ' + type[2] + ' ? true : ((err = \\'NUM\\'), false))';\n                }\n                if (type[0] == '(between)') {\n                    return '(' + force() + ' > ' + type[1] + ' && ' + '$' + name + ' < ' + type[2] + ' ? true : ((err = \\'NUM\\'), false))';\n                }\n                if (type[0] == '(between]') {\n                    return '(' + force() + ' > ' + type[1] + ' && ' + '$' + name + ' <= ' + type[2] + ' ? true : ((err = \\'NUM\\'), false))';\n                }\n                if (type[0] == '[between)') {\n                    return '(' + force() + ' >= ' + type[1] + ' && ' + '$' + name + ' < ' + type[2] + ' ? true : ((err = \\'NUM\\'), false))';\n                }\n                if (type[0] == 'assert') {\n                    var err = type[2] || 'N/A';\n                    return '((' + type[1] + ') ? true : (err = ' + JSON.stringify(err) + ', false))';\n                }\n                if (type[0] == 'not') {\n                    return '!(' + cond(type[1]) + ')';\n                }\n                throw new Error('Unknown array type condition: ' + type[0]);\n            }\n            if (type == 'number' || type == 'datetime') {\n                return forceNum(true);\n            }\n            if (type == 'integer' || type == 'date') {\n                return '(' + forceNum() + ' && (($' + name + ' |= 0), true))';\n            }\n            if (type == 'divisor') {\n                return '(' + forceNum(true) + ' && ($' + name + ' == 0 ? ((err = \\'DIV/0\\'), false) : true))';\n            }\n            if (type == 'number+') {\n                return '(' + forceNum(true) + ' && ($' + name + ' >= 0 ? true : ((err = \\'NUM\\'), false)))';\n            }\n            if (type == 'integer+') {\n                return '(' + forceNum() + ' && (($' + name + ' |= 0) >= 0 ? true : ((err = \\'NUM\\'), false)))';\n            }\n            if (type == 'number++') {\n                return '(' + forceNum(true) + ' && ($' + name + ' > 0 ? true : ((err = \\'NUM\\'), false)))';\n            }\n            if (type == 'integer++') {\n                return '(' + forceNum() + ' && (($' + name + ' |= 0) > 0 ? true : ((err = \\'NUM\\'), false)))';\n            }\n            if (type == 'string') {\n                return '((typeof ' + force() + ' == \\'string\\' || typeof $' + name + ' == \\'boolean\\' || typeof $' + name + ' == \\'number\\') ? ($' + name + ' += \\'\\', true) : ($' + name + ' === undefined ? (($' + name + ' = \\'\\'), true) : false))';\n            }\n            if (type == 'boolean') {\n                return '(typeof ' + force() + ' == \\'boolean\\')';\n            }\n            if (type == 'logical') {\n                return '(typeof ' + force() + ' == \\'boolean\\' || (typeof $' + name + ' == \\'number\\' ? ($' + name + ' = !!$' + name + ', true) : false))';\n            }\n            if (type == 'matrix') {\n                force();\n                return '((m = this.asMatrix($' + name + ')) ? ($' + name + ' = m) : false)';\n            }\n            if (type == '#matrix') {\n                return '((m = this.asMatrix($' + name + ')) ? ($' + name + ' = m) : false)';\n            }\n            if (type == 'ref') {\n                return '($' + name + ' instanceof kendo.spreadsheet.Ref)';\n            }\n            if (type == 'area') {\n                return '($' + name + ' instanceof kendo.spreadsheet.CellRef || $' + name + ' instanceof kendo.spreadsheet.RangeRef)';\n            }\n            if (type == 'cell') {\n                return '($' + name + ' instanceof kendo.spreadsheet.CellRef)';\n            }\n            if (type == 'null') {\n                return '(' + force() + ' == null)';\n            }\n            if (type == 'anyvalue') {\n                return '(' + force() + ' != null && i <= args.length)';\n            }\n            if (type == 'forced') {\n                return '(' + force() + ', i <= args.length)';\n            }\n            if (type == 'anything') {\n                return '(i <= args.length)';\n            }\n            if (type == 'blank') {\n                return '(' + force() + ' == null || $' + name + ' === \\'\\')';\n            }\n            throw new Error('Can\\'t check for type: ' + type);\n        }\n    }\n    function roundFloatErrors(num) {\n        return Math.round(num * 1000000000000000) / 1000000000000000;\n    }\n    function maybeRoundFloatErrors(num) {\n        if (typeof num == 'number') {\n            return roundFloatErrors(num);\n        } else {\n            return num;\n        }\n    }\n    function withErrorHandling(obj, f, args) {\n        if (args instanceof CalcError) {\n            return args;\n        }\n        try {\n            return f.apply(obj, args);\n        } catch (ex) {\n            if (ex instanceof CalcError) {\n                return ex;\n            } else {\n                throw ex;\n            }\n        }\n    }\n    function makeSyncFunction(handler, resolve, check, arrayArgs) {\n        return function (callback, args) {\n            function doit() {\n                if (arrayArgs) {\n                    var x = arrayArgs.call(this, args);\n                    args = x.args;\n                    if (x.width > 0 && x.height > 0) {\n                        var result = new Matrix(this);\n                        for (var row = 0; row < x.height; ++row) {\n                            for (var col = 0; col < x.width; ++col) {\n                                var xargs = [];\n                                for (var i = 0; i < args.length; ++i) {\n                                    if (x.arrays[i]) {\n                                        var m = args[i];\n                                        xargs[i] = m.get(row % m.height, col % m.width);\n                                    } else {\n                                        xargs[i] = args[i];\n                                    }\n                                }\n                                xargs = check.call(this, xargs);\n                                result.set(row, col, withErrorHandling(this, handler, xargs));\n                            }\n                        }\n                        return callback(result);\n                    }\n                }\n                var xargs = check.call(this, args);\n                callback(withErrorHandling(this, handler, xargs));\n            }\n            if (resolve) {\n                resolve.call(this, args, doit);\n            } else {\n                doit.call(this);\n            }\n        };\n    }\n    function makeAsyncFunction(handler, resolve, check, arrayArgs) {\n        return function (callback, args) {\n            function doit() {\n                if (arrayArgs) {\n                    var x = arrayArgs.call(this, args);\n                    args = x.args;\n                    if (x.width > 0 && x.height > 0) {\n                        var result = new Matrix(this);\n                        var count = x.width * x.height;\n                        var makeCallback = function (row, col) {\n                            return function (value) {\n                                result.set(row, col, value);\n                                --count;\n                                if (count === 0) {\n                                    return callback(result);\n                                }\n                            };\n                        };\n                        for (var row = 0; row < x.height && count > 0; ++row) {\n                            for (var col = 0; col < x.width && count > 0; ++col) {\n                                var xargs = [];\n                                for (var i = 0; i < args.length; ++i) {\n                                    if (x.arrays[i]) {\n                                        var m = args[i];\n                                        xargs[i] = m.get(row % m.height, col % m.width);\n                                    } else {\n                                        xargs[i] = args[i];\n                                    }\n                                }\n                                xargs = check.call(this, xargs);\n                                if (xargs instanceof CalcError) {\n                                    result.set(row, col, xargs);\n                                    --count;\n                                    if (count === 0) {\n                                        return callback(result);\n                                    }\n                                } else {\n                                    xargs.unshift(makeCallback(row, col));\n                                    handler.apply(this, xargs);\n                                }\n                            }\n                        }\n                        return;\n                    }\n                }\n                var x = check.call(this, args);\n                if (x instanceof CalcError) {\n                    callback(x);\n                } else {\n                    x.unshift(callback);\n                    handler.apply(this, x);\n                }\n            }\n            if (resolve) {\n                resolve.call(this, args, doit);\n            } else {\n                doit.call(this);\n            }\n        };\n    }\n    function defineFunction(name, func) {\n        name = name.toLowerCase();\n        FUNCS[name] = func;\n        return {\n            args: function (args, log) {\n                var code = compileArgumentChecks(name, args);\n                if (log) {\n                    if (code.arrayArgs) {\n                        console.log(code.arrayArgs.toString());\n                    }\n                    if (code.resolve) {\n                        console.log(code.resolve.toString());\n                    }\n                    if (code.check) {\n                        console.log(code.check.toString());\n                    }\n                }\n                var f = FUNCS[name] = makeSyncFunction(func, code.resolve, code.check, code.arrayArgs);\n                f.kendoSpreadsheetArgs = args;\n                return this;\n            },\n            argsAsync: function (args, log) {\n                var code = compileArgumentChecks(name, args);\n                if (log) {\n                    if (code.arrayArgs) {\n                        console.log(code.arrayArgs.toString());\n                    }\n                    if (code.resolve) {\n                        console.log(code.resolve.toString());\n                    }\n                    if (code.check) {\n                        console.log(code.check.toString());\n                    }\n                }\n                var f = FUNCS[name] = makeAsyncFunction(func, code.resolve, code.check, code.arrayArgs);\n                f.kendoSpreadsheetArgs = args;\n                return this;\n            }\n        };\n    }\n    function dateToJulianDays(y, m, d) {\n        m++;\n        return (1461 * (y + 4800 + ((m - 14) / 12 | 0)) / 4 | 0) + (367 * (m - 2 - 12 * ((m - 14) / 12 | 0)) / 12 | 0) - (3 * ((y + 4900 + ((m - 14) / 12 | 0)) / 100 | 0) / 4 | 0) + d - 32075;\n    }\n    function julianDaysToDate(jd) {\n        var l, n, j, i, m, d, y;\n        l = jd + 68569;\n        n = 4 * l / 146097 | 0;\n        l = l - ((146097 * n + 3) / 4 | 0);\n        i = 4000 * (l + 1) / 1461001 | 0;\n        l = l - (1461 * i / 4 | 0) + 31;\n        j = 80 * l / 2447 | 0;\n        d = l - (2447 * j / 80 | 0);\n        l = j / 11 | 0;\n        m = j + 2 - 12 * l;\n        y = 100 * (n - 49) + i + l;\n        m--;\n        return {\n            year: y,\n            month: m,\n            date: d,\n            day: (jd + 1) % 7,\n            ord: ORDINAL_ADD_DAYS[isLeapYear(y)][m] + d\n        };\n    }\n    var BASE_DATE = dateToJulianDays(1900, 0, -1);\n    var DAYS_IN_MONTH = [\n        31,\n        28,\n        31,\n        30,\n        31,\n        30,\n        31,\n        31,\n        30,\n        31,\n        30,\n        31\n    ];\n    var ORDINAL_ADD_DAYS = [\n        [\n            0,\n            31,\n            59,\n            90,\n            120,\n            151,\n            181,\n            212,\n            243,\n            273,\n            304,\n            334\n        ],\n        [\n            0,\n            31,\n            60,\n            91,\n            121,\n            152,\n            182,\n            213,\n            244,\n            274,\n            305,\n            335\n        ]\n    ];\n    function isLeapYear(yr) {\n        if (yr % 4) {\n            return 0;\n        }\n        if (yr % 100) {\n            return 1;\n        }\n        if (yr % 400) {\n            return 0;\n        }\n        return 1;\n    }\n    function daysInYear(yr) {\n        return isLeapYear(yr) ? 366 : 365;\n    }\n    function daysInMonth(yr, mo) {\n        return isLeapYear(yr) && mo == 1 ? 29 : DAYS_IN_MONTH[mo];\n    }\n    function unpackDate(serial) {\n        return julianDaysToDate((serial | 0) + BASE_DATE);\n    }\n    function packDate(year, month, date) {\n        return dateToJulianDays(year, month, date) - BASE_DATE;\n    }\n    var MS_IN_MIN = 60 * 1000;\n    var MS_IN_HOUR = 60 * MS_IN_MIN;\n    var MS_IN_DAY = 24 * MS_IN_HOUR;\n    function unpackTime(serial) {\n        var frac = serial - (serial | 0);\n        if (frac < 0) {\n            frac++;\n        }\n        var ms = Math.round(MS_IN_DAY * frac);\n        var hours = Math.floor(ms / MS_IN_HOUR);\n        ms -= hours * MS_IN_HOUR;\n        var minutes = Math.floor(ms / MS_IN_MIN);\n        ms -= minutes * MS_IN_MIN;\n        var seconds = Math.floor(ms / 1000);\n        ms -= seconds * 1000;\n        return {\n            hours: hours,\n            minutes: minutes,\n            seconds: seconds,\n            milliseconds: ms\n        };\n    }\n    function serialToDate(serial) {\n        var d = unpackDate(serial), t = unpackTime(serial);\n        return new Date(d.year, d.month, d.date, t.hours, t.minutes, t.seconds, t.milliseconds);\n    }\n    function packTime(hh, mm, ss, ms) {\n        return (hh + (mm + (ss + ms / 1000) / 60) / 60) / 24;\n    }\n    function dateToSerial(date) {\n        var time = packTime(date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n        date = packDate(date.getFullYear(), date.getMonth(), date.getDate());\n        if (date < 0) {\n            return date - 1 + time;\n        } else {\n            return date + time;\n        }\n    }\n    function parseDate(str) {\n        return kendo.parseDate(str) || kendo.parseDate(str, [\n            'MMMM dd yyyy',\n            'MMMM dd yy',\n            'MMM dd yyyy',\n            'MMM dd yy',\n            'dd MMMM yyyy',\n            'dd MMMM yy',\n            'dd MMM yyyy',\n            'dd MMM yy',\n            'MMMM dd, yyyy',\n            'MMMM dd, yy',\n            'MMM dd, yyyy',\n            'MMM dd, yy',\n            'MMMM dd',\n            'MMM dd',\n            'MMMM yyyy',\n            'MMM yyyy',\n            'dd MMMM',\n            'dd MMM'\n        ]);\n    }\n    exports.CalcError = CalcError;\n    exports.Formula = Formula;\n    exports.Matrix = Matrix;\n    exports.packDate = packDate;\n    exports.unpackDate = unpackDate;\n    exports.packTime = packTime;\n    exports.unpackTime = unpackTime;\n    exports.serialToDate = serialToDate;\n    exports.dateToSerial = dateToSerial;\n    exports.daysInMonth = daysInMonth;\n    exports.isLeapYear = isLeapYear;\n    exports.daysInYear = daysInYear;\n    exports.parseDate = parseDate;\n    spreadsheet.dateToNumber = dateToSerial;\n    spreadsheet.numberToDate = serialToDate;\n    spreadsheet.defineFunction = defineFunction;\n    spreadsheet.CalcError = CalcError;\n    exports.defineFunction = defineFunction;\n    exports.defineAlias = function (alias, name) {\n        var orig = FUNCS[name];\n        if (!orig) {\n            throw new Error('Function ' + name + ' is not yet defined');\n        }\n        if (!orig.kendoSpreadsheetAliases) {\n            orig.kendoSpreadsheetAliases = [name];\n        }\n        orig.kendoSpreadsheetAliases.push(alias);\n        FUNCS[alias] = orig;\n    };\n    exports.FUNCS = FUNCS;\n    var NUMBER_OR_ZERO = [\n        'or',\n        'number',\n        [\n            'null',\n            0\n        ]\n    ];\n    var ARGS_NUMERIC = [\n        [\n            '*a',\n            NUMBER_OR_ZERO\n        ],\n        [\n            '*b',\n            NUMBER_OR_ZERO\n        ]\n    ];\n    var ARGS_ANYVALUE = [\n        [\n            '*a',\n            [\n                'or',\n                'anyvalue',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            '*b',\n            [\n                'or',\n                'anyvalue',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ]\n    ];\n    defineFunction('binary+', function (a, b) {\n        return a + b;\n    }).args(ARGS_NUMERIC);\n    defineFunction('binary-', function (a, b) {\n        return a - b;\n    }).args(ARGS_NUMERIC);\n    defineFunction('binary*', function (a, b) {\n        return a * b;\n    }).args(ARGS_NUMERIC);\n    defineFunction('binary/', function (a, b) {\n        return a / b;\n    }).args([\n        [\n            '*a',\n            NUMBER_OR_ZERO\n        ],\n        [\n            '*b',\n            'divisor'\n        ]\n    ]);\n    defineFunction('binary^', function (a, b) {\n        return Math.pow(a, b);\n    }).args(ARGS_NUMERIC);\n    defineFunction('binary&', function (a, b) {\n        if (a == null) {\n            a = '';\n        }\n        if (b == null) {\n            b = '';\n        }\n        return '' + a + b;\n    }).args([\n        [\n            '*a',\n            [\n                'or',\n                'number',\n                'string',\n                'boolean',\n                'null'\n            ]\n        ],\n        [\n            '*b',\n            [\n                'or',\n                'number',\n                'string',\n                'boolean',\n                'null'\n            ]\n        ]\n    ]);\n    defineFunction('binary=', function (a, b) {\n        return a === b;\n    }).args(ARGS_ANYVALUE);\n    defineFunction('binary<>', function (a, b) {\n        return a !== b;\n    }).args(ARGS_ANYVALUE);\n    defineFunction('binary<', binaryCompare(function (a, b) {\n        return a < b;\n    })).args(ARGS_ANYVALUE);\n    defineFunction('binary<=', binaryCompare(function (a, b) {\n        return a <= b;\n    })).args(ARGS_ANYVALUE);\n    defineFunction('binary>', binaryCompare(function (a, b) {\n        return a > b;\n    })).args(ARGS_ANYVALUE);\n    defineFunction('binary>=', binaryCompare(function (a, b) {\n        return a >= b;\n    })).args(ARGS_ANYVALUE);\n    defineFunction('unary+', function (a) {\n        return a;\n    }).args([[\n            '*a',\n            NUMBER_OR_ZERO\n        ]]);\n    defineFunction('unary-', function (a) {\n        return -a;\n    }).args([[\n            '*a',\n            NUMBER_OR_ZERO\n        ]]);\n    defineFunction('unary%', function (a) {\n        return a / 100;\n    }).args([[\n            '*a',\n            NUMBER_OR_ZERO\n        ]]);\n    defineFunction('binary:', function (a, b) {\n        return new RangeRef(a, b).setSheet(a.sheet || this.formula.sheet, a.hasSheet());\n    }).args([\n        [\n            'a',\n            'cell'\n        ],\n        [\n            'b',\n            'cell'\n        ]\n    ]);\n    defineFunction('binary,', function (a, b) {\n        return new UnionRef([\n            a,\n            b\n        ]);\n    }).args([\n        [\n            'a',\n            'ref'\n        ],\n        [\n            'b',\n            'ref'\n        ]\n    ]);\n    defineFunction('binary ', function (a, b) {\n        return a.intersect(b);\n    }).args([\n        [\n            'a',\n            'ref'\n        ],\n        [\n            'b',\n            'ref'\n        ]\n    ]);\n    defineFunction('not', function (a) {\n        return !this.bool(a);\n    }).args([[\n            '*a',\n            [\n                'or',\n                'anyvalue',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ]]);\n    defineFunction('isblank', function (val) {\n        if (val instanceof CellRef) {\n            val = this.getRefData(val);\n            return val == null;\n        }\n        return false;\n    }).args([[\n            '*value',\n            'anything!'\n        ]]);\n    defineFunction('iserror', function (val) {\n        return val instanceof CalcError;\n    }).args([[\n            '*value',\n            'forced!'\n        ]]);\n    defineFunction('iserr', function (val) {\n        return val instanceof CalcError && val.code != 'N/A';\n    }).args([[\n            '*value',\n            'forced!'\n        ]]);\n    defineFunction('isna', function (val) {\n        return val instanceof CalcError && val.code == 'N/A';\n    }).args([[\n            '*value',\n            'forced!'\n        ]]);\n    defineFunction('islogical', function (val) {\n        return typeof val == 'boolean';\n    }).args([[\n            '*value',\n            'forced!'\n        ]]);\n    defineFunction('isnontext', function (val) {\n        return typeof val != 'string';\n    }).args([[\n            '*value',\n            'forced!'\n        ]]);\n    defineFunction('istext', function (val) {\n        return typeof val == 'string';\n    }).args([[\n            '*value',\n            'forced!'\n        ]]);\n    defineFunction('isnumber', function (val) {\n        return typeof val == 'number';\n    }).args([[\n            '*value',\n            'forced!'\n        ]]);\n    defineFunction('isref', function (val) {\n        return val instanceof CellRef || val instanceof RangeRef;\n    }).args([[\n            '*value',\n            'anything!'\n        ]]);\n    FUNCS[',getname'] = function (callback, args) {\n        this.fetchName(args[0], callback);\n    };\n    function binaryCompare(func) {\n        return function (left, right) {\n            if (typeof left == 'string' && typeof right != 'string') {\n                right = right == null ? '' : right + '';\n            }\n            if (typeof left != 'string' && typeof right == 'string') {\n                left = left == null ? '' : left + '';\n            }\n            if (typeof left == 'number' && right == null) {\n                right = 0;\n            }\n            if (typeof right == 'number' && left == null) {\n                left = 0;\n            }\n            if (typeof left == 'string' && typeof right == 'string') {\n                left = left.toLowerCase();\n                right = right.toLowerCase();\n            }\n            if (typeof right == typeof left) {\n                return func(left, right);\n            } else {\n                return new CalcError('VALUE');\n            }\n        };\n    }\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/validation', ['spreadsheet/runtime'], f);\n}(function () {\n    'use strict';\n    var $ = kendo.jQuery;\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var spreadsheet = kendo.spreadsheet;\n    var exports = {};\n    spreadsheet.validation = exports;\n    var calc = spreadsheet.calc;\n    var Class = kendo.Class;\n    var TRANSPOSE_FORMAT = '_matrix({0})';\n    var DATE_FORMAT = 'DATEVALUE(\"{0}\")';\n    calc.runtime.defineFunction('_matrix', function (m) {\n        return m;\n    }).args([[\n            'm',\n            'matrix'\n        ]]);\n    function compileValidation(sheet, row, col, validation) {\n        var validationHandler;\n        var comparer;\n        var parsedFromDate;\n        var parsedToDate;\n        if (typeof validation === 'string') {\n            validation = JSON.parse(validation);\n        }\n        if (validation.from) {\n            if (validation.dataType === 'list' && !validation.fromIsListValue) {\n                validation.from = kendo.format(TRANSPOSE_FORMAT, validation.from);\n                validation.fromIsListValue = true;\n            }\n            if (validation.dataType === 'date') {\n                parsedFromDate = calc.runtime.parseDate(validation.from);\n                if (parsedFromDate) {\n                    validation.from = kendo.format(DATE_FORMAT, validation.from);\n                    validation.fromIsDateValue = true;\n                }\n            }\n            validation.from = calc.compile(calc.parseFormula(sheet, row, col, validation.from));\n        }\n        if (validation.to) {\n            if (validation.dataType === 'date') {\n                parsedToDate = calc.runtime.parseDate(validation.to);\n                if (parsedToDate) {\n                    validation.to = kendo.format(DATE_FORMAT, validation.to);\n                    validation.toIsDateValue = true;\n                }\n            }\n            validation.to = calc.compile(calc.parseFormula(sheet, row, col, validation.to));\n        }\n        if (validation.dataType == 'custom') {\n            comparer = exports.validationComparers.custom;\n        } else if (validation.dataType == 'list') {\n            comparer = exports.validationComparers.list;\n        } else {\n            comparer = exports.validationComparers[validation.comparerType];\n        }\n        if (!comparer) {\n            throw kendo.format('\\'{0}\\' comparer is not implemented.', validation.comparerType);\n        }\n        validationHandler = function (valueToCompare) {\n            var toValue = this.to && this.to_value ? this.to_value : undefined;\n            if (valueToCompare === null || valueToCompare === '') {\n                if (this.allowNulls) {\n                    this.value = true;\n                } else {\n                    this.value = false;\n                }\n            } else if (this.dataType == 'custom') {\n                this.value = comparer(valueToCompare, this.from_value, toValue);\n            } else if (this.dataType == 'list') {\n                var data = this._getListData();\n                this.value = comparer(valueToCompare, data, toValue);\n            } else {\n                this.value = comparer(valueToCompare, this.from_value, toValue);\n            }\n            return this.value;\n        };\n        return new kendo.spreadsheet.validation.Validation($.extend(validation, {\n            handler: validationHandler,\n            sheet: sheet,\n            row: row,\n            col: col\n        }));\n    }\n    var Validation = Class.extend({\n        init: function Validation(options) {\n            this.handler = options.handler;\n            this.from = options.from;\n            this.to = options.to;\n            this.dataType = options.dataType;\n            this.comparerType = options.comparerType;\n            this.type = options.type ? options.type : 'warning';\n            this.allowNulls = options.allowNulls ? true : false;\n            this.fromIsDateValue = options.fromIsDateValue ? true : false;\n            this.toIsDateValue = options.toIsDateValue ? true : false;\n            this.showButton = options.showButton;\n            this.fromIsListValue = options.fromIsListValue ? true : false;\n            this.sheet = options.sheet;\n            this.row = options.row;\n            this.col = options.col;\n            if (options.tooltipMessageTemplate) {\n                this.tooltipMessageTemplate = options.tooltipMessageTemplate;\n            }\n            if (options.tooltipTitleTemplate) {\n                this.tooltipTitleTemplate = options.tooltipTitleTemplate;\n            }\n            if (options.messageTemplate) {\n                this.messageTemplate = options.messageTemplate;\n            }\n            if (options.titleTemplate) {\n                this.titleTemplate = options.titleTemplate;\n            }\n        },\n        _formatMessages: function (format) {\n            var from = this.from ? this.from_value : '';\n            var to = this.to ? this.to_value : '';\n            var fromFormula = this.from ? this.from.toString() : '';\n            var toFormula = this.to ? this.to.toString() : '';\n            var dataType = this.dataType;\n            var type = this.type;\n            var comparerType = this.comparerType;\n            return kendo.format(format, from, to, fromFormula, toFormula, dataType, type, comparerType);\n        },\n        _setMessages: function () {\n            this.title = '';\n            this.message = '';\n            if (this.tooltipTitleTemplate) {\n                this.tooltipTitle = this._formatMessages(this.tooltipTitleTemplate);\n            }\n            if (this.tooltipMessageTemplate) {\n                this.tooltipMessage = this._formatMessages(this.tooltipMessageTemplate);\n            }\n            if (this.titleTemplate) {\n                this.title = this._formatMessages(this.titleTemplate);\n            }\n            if (this.messageTemplate) {\n                this.message = this._formatMessages(this.messageTemplate);\n            }\n        },\n        _getListData: function () {\n            if (!this.from_value || !this.from_value.data) {\n                return [];\n            }\n            var cube = this.from_value.data;\n            var i;\n            var y;\n            var data = [];\n            for (i = 0; i < cube.length; i++) {\n                var array = cube[i];\n                if (array) {\n                    for (y = 0; y < array.length; y++) {\n                        data.push(array[y]);\n                    }\n                }\n            }\n            return data;\n        },\n        clone: function (sheet, row, col) {\n            var options = this._getOptions();\n            if (options.from) {\n                options.from = options.from.clone(sheet, row, col);\n            }\n            if (options.to) {\n                options.to = options.to.clone(sheet, row, col);\n            }\n            return new Validation($.extend(options, { handler: this.handler }, {\n                sheet: sheet,\n                row: row,\n                col: col\n            }));\n        },\n        exec: function (ss, compareValue, compareFormat, callback) {\n            var self = this;\n            function getValue(val) {\n                if (val instanceof kendo.spreadsheet.Ref) {\n                    val = ss.getData(val);\n                    if (Array.isArray(val)) {\n                        val = val[0];\n                    }\n                }\n                return val;\n            }\n            var calculateFromCallBack = function (val) {\n                self.from_value = getValue(val);\n                self.value = self.handler.call(self, compareValue, compareFormat);\n                self._setMessages();\n                if (callback) {\n                    callback(self.value);\n                }\n            };\n            if (self.to) {\n                self.to.exec(ss, function (val) {\n                    self.to_value = getValue(val);\n                    self.from.exec(ss, calculateFromCallBack);\n                });\n            } else {\n                self.from.exec(ss, calculateFromCallBack);\n            }\n        },\n        reset: function () {\n            if (this.from) {\n                this.from.reset();\n            }\n            if (this.to) {\n                this.to.reset();\n            }\n            delete this.value;\n        },\n        adjust: function (affectedSheet, operation, start, delta) {\n            if (this.from) {\n                this.from.adjust(affectedSheet, operation, start, delta);\n            }\n            if (this.to) {\n                this.to.adjust(affectedSheet, operation, start, delta);\n            }\n            if (this.sheet.toLowerCase() == affectedSheet.toLowerCase()) {\n                var formulaRow = this.row;\n                var formulaCol = this.col;\n                switch (operation) {\n                case 'row':\n                    if (formulaRow >= start) {\n                        this.row += delta;\n                    }\n                    break;\n                case 'col':\n                    if (formulaCol >= start) {\n                        this.col += delta;\n                    }\n                    break;\n                }\n            }\n        },\n        toJSON: function () {\n            var options = this._getOptions();\n            if (options.from) {\n                options.from = options.from.toString();\n                if (options.dataType === 'list') {\n                    options.from = options.from.replace(/^_matrix\\((.*)\\)$/i, '$1');\n                    delete options.fromIsListValue;\n                }\n                if (options.dataType === 'date') {\n                    if (this.fromIsDateValue) {\n                        options.from = options.from.replace(/^DATEVALUE\\(\"(.*)\"\\)$/i, '$1');\n                        delete options.fromIsDateValue;\n                    }\n                }\n            }\n            if (options.to) {\n                options.to = options.to.toString();\n                if (options.dataType === 'date') {\n                    if (this.toIsDateValue) {\n                        options.to = options.to.replace(/^DATEVALUE\\(\"(.*)\"\\)$/i, '$1');\n                        delete options.toIsDateValue;\n                    }\n                }\n            }\n            return options;\n        },\n        _getOptions: function () {\n            return {\n                from: this.from,\n                to: this.to,\n                dataType: this.dataType,\n                type: this.type,\n                comparerType: this.comparerType,\n                row: this.row,\n                col: this.col,\n                sheet: this.sheet,\n                allowNulls: this.allowNulls,\n                fromIsListValue: this.fromIsListValue,\n                fromIsDateValue: this.fromIsDateValue,\n                toIsDateValue: this.toIsDateValue,\n                tooltipMessageTemplate: this.tooltipMessageTemplate,\n                tooltipTitleTemplate: this.tooltipTitleTemplate,\n                messageTemplate: this.messageTemplate,\n                titleTemplate: this.titleTemplate,\n                showButton: this.showButton\n            };\n        }\n    });\n    exports.compile = compileValidation;\n    exports.validationComparers = {\n        greaterThan: function (valueToCompare, from) {\n            return valueToCompare > from;\n        },\n        lessThan: function (valueToCompare, from) {\n            return valueToCompare < from;\n        },\n        between: function (valueToCompare, from, to) {\n            return valueToCompare >= from && valueToCompare <= to;\n        },\n        equalTo: function (valueToCompare, from) {\n            return valueToCompare == from;\n        },\n        notEqualTo: function (valueToCompare, from) {\n            return valueToCompare != from;\n        },\n        greaterThanOrEqualTo: function (valueToCompare, from) {\n            return valueToCompare >= from;\n        },\n        lessThanOrEqualTo: function (valueToCompare, from) {\n            return valueToCompare <= from;\n        },\n        notBetween: function (valueToCompare, from, to) {\n            return valueToCompare < from || valueToCompare > to;\n        },\n        custom: function (valueToCompare, from) {\n            return from;\n        },\n        list: function (valueToCompare, data) {\n            return data.indexOf(valueToCompare) > -1;\n        }\n    };\n    exports.Validation = Validation;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/sheet', [\n        'kendo.core',\n        'kendo.color',\n        'spreadsheet/runtime',\n        'spreadsheet/validation',\n        'spreadsheet/references'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var RangeRef = kendo.spreadsheet.RangeRef;\n        var CellRef = kendo.spreadsheet.CellRef;\n        var Range = kendo.spreadsheet.Range;\n        var Selection = kendo.Class.extend({\n            init: function (sheet) {\n                this._sheet = sheet;\n                this.selection = kendo.spreadsheet.FIRSTREF.toRangeRef();\n                this.originalSelection = kendo.spreadsheet.FIRSTREF.toRangeRef();\n                this._activeCell = kendo.spreadsheet.FIRSTREF.toRangeRef();\n                this.originalActiveCell = kendo.spreadsheet.FIRSTREF;\n            },\n            currentSelectionRange: function () {\n                return this.selection.rangeAt(this.selectionRangeIndex).toRangeRef();\n            },\n            currentOriginalNavigationRange: function () {\n                return this.originalSelection.rangeAt(this.selectionRangeIndex).toRangeRef();\n            },\n            currentNavigationRange: function () {\n                if (this.singleCellSelection()) {\n                    return this._sheet._sheetRef;\n                } else {\n                    return this.selection.rangeAt(this.selectionRangeIndex).toRangeRef();\n                }\n            },\n            nextNavigationRange: function () {\n                if (!this.singleCellSelection()) {\n                    this.selectionRangeIndex = this.selection.nextRangeIndex(this.selectionRangeIndex);\n                }\n                return this.currentNavigationRange();\n            },\n            previousNavigationRange: function () {\n                if (!this.singleCellSelection()) {\n                    this.selectionRangeIndex = this.selection.previousRangeIndex(this.selectionRangeIndex);\n                }\n                return this.currentNavigationRange();\n            },\n            activeCell: function (ref) {\n                if (ref) {\n                    this.originalActiveCell = ref.first();\n                    this._activeCell = this._sheet.unionWithMerged(ref.toRangeRef());\n                    this._sheet.focus(ref);\n                    this._sheet.triggerChange({\n                        activeCell: true,\n                        selection: true\n                    });\n                }\n                return this._activeCell;\n            },\n            select: function (ref, expanded, changeActiveCell) {\n                if (ref) {\n                    if (ref.eq(this.originalSelection)) {\n                        return;\n                    }\n                    this.originalSelection = ref;\n                    this.selection = expanded;\n                    if (changeActiveCell !== false) {\n                        if (ref.isCell()) {\n                            this.activeCell(ref);\n                        } else {\n                            this.activeCell(this.selection.lastRange().first());\n                        }\n                        this.selectionRangeIndex = this.selection.size() - 1;\n                    } else {\n                        this._sheet.triggerChange({ selection: true });\n                    }\n                }\n                return this.selection;\n            },\n            singleCellSelection: function () {\n                return this._activeCell.eq(this.selection);\n            }\n        });\n        var Sheet = kendo.Observable.extend({\n            init: function () {\n                kendo.Observable.prototype.init.call(this);\n                this._reinit.apply(this, arguments);\n            },\n            _reinit: function (rowCount, columnCount, rowHeight, columnWidth, headerHeight, headerWidth) {\n                var cellCount = rowCount * columnCount - 1;\n                this._rows = new kendo.spreadsheet.Axis(rowCount, rowHeight);\n                this._columns = new kendo.spreadsheet.Axis(columnCount, columnWidth);\n                this._mergedCells = [];\n                this._frozenRows = 0;\n                this._frozenColumns = 0;\n                this._suspendChanges = false;\n                this._filter = null;\n                this._showGridLines = true;\n                this._gridLinesColor = null;\n                this._grid = new kendo.spreadsheet.Grid(this._rows, this._columns, rowCount, columnCount, headerHeight, headerWidth);\n                this._sheetRef = this._grid.normalize(kendo.spreadsheet.SHEETREF);\n                this._properties = new kendo.spreadsheet.PropertyBag(cellCount);\n                this._sorter = new kendo.spreadsheet.Sorter(this._grid, this._properties.sortable());\n                this._viewSelection = new Selection(this);\n                this._editSelection = new Selection(this);\n                this._formulaSelections = [];\n            },\n            _selectionState: function () {\n                return this._inEdit ? this._editSelection : this._viewSelection;\n            },\n            navigator: function () {\n                if (!this._navigator) {\n                    this._navigator = new kendo.spreadsheet.SheetNavigator(this);\n                }\n                return this._navigator;\n            },\n            axisManager: function () {\n                if (!this._axisManager) {\n                    this._axisManager = new kendo.spreadsheet.AxisManager(this);\n                }\n                return this._axisManager;\n            },\n            _name: function (value) {\n                if (!value) {\n                    return this._sheetName;\n                }\n                this._sheetName = value;\n                return this;\n            },\n            name: function () {\n                return this._name();\n            },\n            _property: function (accessor, value, reason) {\n                if (value === undefined) {\n                    return accessor();\n                } else {\n                    accessor(value);\n                    return this.triggerChange(reason);\n                }\n            },\n            _field: function (name, value, reason) {\n                if (value === undefined) {\n                    return this[name];\n                } else {\n                    this[name] = value;\n                    return this.triggerChange(reason);\n                }\n            },\n            suspendChanges: function (value) {\n                if (value === undefined) {\n                    return this._suspendChanges;\n                }\n                this._suspendChanges = value;\n                return this;\n            },\n            triggerChange: function (reason) {\n                if (!this._suspendChanges) {\n                    this.trigger('change', reason);\n                }\n                return this;\n            },\n            setDataSource: function (dataSource, columns) {\n                if (this.dataSourceBinder) {\n                    this.dataSourceBinder.destroy();\n                }\n                this.dataSourceBinder = new kendo.spreadsheet.SheetDataSourceBinder({\n                    dataSource: dataSource,\n                    sheet: this,\n                    columns: columns\n                });\n                this.dataSource = this.dataSourceBinder.dataSource;\n            },\n            hideColumn: function (columnIndex) {\n                return this._property(this._columns.hide.bind(this._columns), columnIndex, { layout: true });\n            },\n            unhideColumn: function (columnIndex) {\n                return this._property(this._columns.unhide.bind(this._columns), columnIndex, { layout: true });\n            },\n            isHiddenColumn: function (columnIndex) {\n                return this._grid._columns.hidden(columnIndex);\n            },\n            _copyRange: function (sourceRangeRef, targetRef) {\n                var grid = this._grid;\n                var rowCount = grid.rowCount;\n                var nextRefTopLeft = grid.normalize(sourceRangeRef.topLeft);\n                var nextRefBottomRight = grid.normalize(sourceRangeRef.bottomRight);\n                var nextIndex = nextRefTopLeft.col * rowCount + nextRefTopLeft.row;\n                var nextBottomIndex = nextRefBottomRight.col * rowCount + nextRefBottomRight.row;\n                var targetIndex = targetRef.col * rowCount + targetRef.row;\n                this._properties.copy(nextIndex, nextBottomIndex, targetIndex);\n            },\n            _adjustReferences: function (operation, start, delta, mergedCells) {\n                this._mergedCells = mergedCells.reduce(function (a, ref) {\n                    ref = ref.adjust(null, null, null, null, operation == 'row', start, delta);\n                    if (ref instanceof RangeRef) {\n                        a.push(ref);\n                    }\n                    return a;\n                }, []);\n                if (this._workbook) {\n                    var affectedSheet = this._name();\n                    this._workbook._sheets.forEach(function (sheet) {\n                        sheet._forFormulas(function (formula) {\n                            formula.adjust(affectedSheet, operation, start, delta);\n                        });\n                        sheet._forValidations(function (validation) {\n                            validation.adjust(affectedSheet, operation, start, delta);\n                        });\n                    });\n                    this._workbook.adjustNames(affectedSheet, operation == 'row', start, delta);\n                }\n                var selection = this.select();\n                selection = selection.adjust(null, null, null, null, operation == 'row', start, delta);\n                if (selection !== kendo.spreadsheet.NULLREF) {\n                    this.select(selection);\n                }\n                var axis = operation == 'col' ? this._columns : this._rows;\n                axis.adjust(start, delta);\n            },\n            _forFormulas: function (callback) {\n                var props = this._properties;\n                var formulas = props.get('formula').values();\n                var n = formulas.length;\n                formulas.forEach(function (f, i) {\n                    callback.call(this, f.value, i, n);\n                }, this);\n            },\n            _forValidations: function (callback) {\n                var props = this._properties;\n                props.get('validation').values().forEach(function (v) {\n                    callback.call(this, v.value);\n                }, this);\n            },\n            canInsertRow: function (rowIndex, count) {\n                count = count || 1;\n                var grid = this._grid;\n                var range = this.range(grid.rowCount - count, 0, count, grid.columnCount);\n                return !range.hasValue();\n            },\n            insertRow: function (rowIndex) {\n                if (!this.canInsertRow(rowIndex)) {\n                    throw new Error('Shifting nonblank cells off the worksheet is not supported!');\n                }\n                this.batch(function () {\n                    var grid = this._grid;\n                    var columnCount = grid.columnCount;\n                    var rowCount = grid.rowCount;\n                    var frozenRows = this.frozenRows();\n                    if (rowIndex < frozenRows) {\n                        this.frozenRows(frozenRows + 1);\n                    }\n                    var mergedCells = this._mergedCells.slice();\n                    for (var ci = 0; ci < columnCount; ci++) {\n                        var ref = new RangeRef(new CellRef(rowIndex, ci), new CellRef(rowIndex, ci));\n                        var topLeft = grid.normalize(ref.topLeft);\n                        var bottomRight = grid.normalize(ref.bottomRight);\n                        var nextRef = new RangeRef(new CellRef(topLeft.row, topLeft.col), new CellRef(rowCount - 2, bottomRight.col));\n                        this._copyRange(nextRef, new CellRef(topLeft.row + 1, topLeft.col));\n                        new Range(ref, this).clear();\n                    }\n                    this._adjustReferences('row', rowIndex, 1, mergedCells);\n                }, {\n                    recalc: true,\n                    layout: true,\n                    insertRow: { index: rowIndex },\n                    ref: new RangeRef(new CellRef(rowIndex, 0), new CellRef(Infinity, Infinity))\n                });\n                this.trigger('insertRow', { index: rowIndex });\n                return this;\n            },\n            isEnabledRow: function (rowIndex) {\n                var ref = new RangeRef(new CellRef(rowIndex, 0), new CellRef(rowIndex, this._grid.columnCount));\n                return new Range(ref, this).enable();\n            },\n            deleteRow: function (rowIndex) {\n                if (!this.isEnabledRow(rowIndex)) {\n                    return this;\n                }\n                this.batch(function () {\n                    var grid = this._grid;\n                    var columnCount = grid.columnCount;\n                    var frozenRows = this.frozenRows();\n                    if (rowIndex < frozenRows) {\n                        this.frozenRows(frozenRows - 1);\n                    }\n                    var mergedCells = this._mergedCells.slice();\n                    for (var ci = 0; ci < columnCount; ci++) {\n                        var ref = new RangeRef(new CellRef(rowIndex, ci), new CellRef(rowIndex, ci));\n                        new Range(ref, this).clear();\n                        var topLeft = grid.normalize(ref.topLeft);\n                        var bottomRight = grid.normalize(ref.bottomRight);\n                        var nextRef = new RangeRef(new CellRef(topLeft.row + 1, topLeft.col), new CellRef(Infinity, bottomRight.col));\n                        this._copyRange(nextRef, topLeft);\n                        var nextRefBottomRight = grid.normalize(nextRef.bottomRight);\n                        new Range(new RangeRef(nextRefBottomRight, nextRefBottomRight), this).clear();\n                    }\n                    this._adjustReferences('row', rowIndex, -1, mergedCells);\n                }, {\n                    recalc: true,\n                    layout: true,\n                    deleteRow: { index: rowIndex },\n                    ref: new RangeRef(new CellRef(rowIndex, 0), new CellRef(Infinity, Infinity))\n                });\n                this.trigger('deleteRow', { index: rowIndex });\n                return this;\n            },\n            insertColumn: function (columnIndex) {\n                this.batch(function () {\n                    var grid = this._grid;\n                    var columnCount = grid.columnCount;\n                    var frozenColumns = this.frozenColumns();\n                    if (columnIndex < frozenColumns) {\n                        this.frozenColumns(frozenColumns + 1);\n                    }\n                    var mergedCells = this._mergedCells.slice();\n                    for (var ci = columnCount; ci >= columnIndex; ci--) {\n                        var ref = new RangeRef(new CellRef(0, ci), new CellRef(Infinity, ci));\n                        new Range(ref, this).clear();\n                        if (ci == columnIndex) {\n                            break;\n                        }\n                        var topLeft = grid.normalize(ref.topLeft);\n                        var bottomRight = grid.normalize(ref.bottomRight);\n                        var nextRef = new RangeRef(new CellRef(topLeft.row, topLeft.col - 1), new CellRef(bottomRight.row, bottomRight.col - 1));\n                        this._copyRange(nextRef, topLeft);\n                    }\n                    this._adjustReferences('col', columnIndex, 1, mergedCells);\n                }, {\n                    recalc: true,\n                    layout: true,\n                    insertColumn: { index: columnIndex },\n                    ref: new RangeRef(new CellRef(0, columnIndex), new CellRef(Infinity, Infinity))\n                });\n                return this;\n            },\n            isEnabledColumn: function (columnIndex) {\n                var ref = new RangeRef(new CellRef(0, columnIndex), new CellRef(Infinity, columnIndex));\n                return new Range(ref, this).enable();\n            },\n            deleteColumn: function (columnIndex) {\n                if (!this.isEnabledColumn(columnIndex)) {\n                    return this;\n                }\n                this.batch(function () {\n                    var grid = this._grid;\n                    var columnCount = grid.columnCount;\n                    var frozenColumns = this.frozenColumns();\n                    if (columnIndex < frozenColumns) {\n                        this.frozenColumns(frozenColumns - 1);\n                    }\n                    var mergedCells = this._mergedCells.slice();\n                    for (var ci = columnIndex; ci < columnCount; ci++) {\n                        var ref = new RangeRef(new CellRef(0, ci), new CellRef(Infinity, ci));\n                        new Range(ref, this).clear();\n                        if (ci == columnCount - 1) {\n                            break;\n                        }\n                        var topLeft = grid.normalize(ref.topLeft);\n                        var bottomRight = grid.normalize(ref.bottomRight);\n                        var nextRef = new RangeRef(new CellRef(topLeft.row, topLeft.col + 1), new CellRef(bottomRight.row, bottomRight.col + 1));\n                        this._copyRange(nextRef, topLeft);\n                    }\n                    this._adjustReferences('col', columnIndex, -1, mergedCells);\n                }, {\n                    recalc: true,\n                    layout: true,\n                    deleteColumn: { index: columnIndex },\n                    ref: new RangeRef(new CellRef(0, columnIndex), new CellRef(Infinity, Infinity))\n                });\n                return this;\n            },\n            hideRow: function (rowIndex) {\n                return this._property(this._rows.hide.bind(this._rows), rowIndex, { layout: true });\n            },\n            unhideRow: function (rowIndex) {\n                return this._property(this._rows.unhide.bind(this._rows), rowIndex, { layout: true });\n            },\n            isHiddenRow: function (rowIndex) {\n                return this._grid._rows.hidden(rowIndex);\n            },\n            columnWidth: function (columnIndex, width) {\n                return this._property(this._columns.value.bind(this._columns, columnIndex, columnIndex), width, { layout: true });\n            },\n            rowHeight: function (rowIndex, height) {\n                return this._property(this._rows.value.bind(this._rows, rowIndex, rowIndex), height, { layout: true });\n            },\n            frozenRows: function (value) {\n                return this._field('_frozenRows', value, { layout: true });\n            },\n            frozenColumns: function (value) {\n                return this._field('_frozenColumns', value, { layout: true });\n            },\n            showGridLines: function (value) {\n                return this._field('_showGridLines', value, { layout: true });\n            },\n            gridLinesColor: function (value) {\n                return this._field('_gridLinesColor', value, { layout: true });\n            },\n            _ref: function (row, column, numRows, numColumns) {\n                var ref = null;\n                if (row instanceof kendo.spreadsheet.Ref) {\n                    return row;\n                }\n                if (row instanceof kendo.spreadsheet.Range) {\n                    return row._ref.toRangeRef();\n                }\n                if (typeof row === 'string') {\n                    ref = kendo.spreadsheet.calc.parseReference(row);\n                } else {\n                    if (!numRows) {\n                        numRows = 1;\n                    }\n                    if (!numColumns) {\n                        numColumns = 1;\n                    }\n                    ref = new RangeRef(new CellRef(row, column), new CellRef(row + numRows - 1, column + numColumns - 1));\n                }\n                return ref;\n            },\n            range: function (row, column, numRows, numColumns) {\n                return new Range(this._ref(row, column, numRows, numColumns), this);\n            },\n            forEachMergedCell: function (ref, callback) {\n                var selectAll = false;\n                if (typeof callback === 'undefined') {\n                    callback = ref;\n                    selectAll = true;\n                }\n                this._mergedCells.forEach(function (merged) {\n                    if (selectAll || merged.intersects(ref)) {\n                        callback(merged);\n                    }\n                });\n            },\n            forEachFilterHeader: function (ref, callback) {\n                var selectAll = false;\n                if (typeof callback === 'undefined') {\n                    callback = ref;\n                    selectAll = true;\n                }\n                if (this._filter) {\n                    var refs = [];\n                    this._filter.ref.forEachColumn(function (columnRef) {\n                        if (selectAll || columnRef.intersects(ref)) {\n                            refs.push(columnRef.topLeft);\n                        }\n                    });\n                    this._mergedCells.forEach(function (merged) {\n                        refs = refs.map(function (ref) {\n                            if (merged.intersects(ref)) {\n                                return merged;\n                            }\n                            return ref;\n                        });\n                    });\n                    refs.reduce(function unique(result, element) {\n                        if (result.indexOf(element) < 0) {\n                            result.push(element);\n                        }\n                        return result;\n                    }, []).forEach(callback);\n                }\n            },\n            forEach: function (ref, callback) {\n                if (!(ref instanceof RangeRef)) {\n                    ref = this._ref(ref);\n                }\n                var topLeft = this._grid.normalize(ref.topLeft);\n                var bottomRight = this._grid.normalize(ref.bottomRight);\n                for (var ci = topLeft.col; ci <= bottomRight.col; ci++) {\n                    var ri = topLeft.row;\n                    var startCellIndex = this._grid.index(ri, ci);\n                    var endCellIndex = this._grid.index(bottomRight.row, ci);\n                    this._properties.forEach(startCellIndex, endCellIndex, function (value) {\n                        callback(ri++, ci, value);\n                    });\n                }\n            },\n            startResizing: function (initialPosition) {\n                this._initialPosition = initialPosition;\n                this._resizeInProgress = true;\n            },\n            startAutoFill: function () {\n                this._autoFillInProgress = true;\n                var selection = this.select();\n                this._autoFillOrigin = selection;\n                this._autoFillDest = selection;\n                this.triggerChange({ selection: true });\n            },\n            updateAutoFill: function (dest, punch, hint, direction) {\n                this._autoFillDest = dest;\n                this._autoFillPunch = punch;\n                this._autoFillHint = hint;\n                this._autoFillDirection = direction;\n                this.triggerChange({ selection: true });\n            },\n            autoFillRef: function () {\n                return this._autoFillDest;\n            },\n            autoFillPunch: function () {\n                return this._autoFillPunch;\n            },\n            autoFillInProgress: function () {\n                return this._autoFillInProgress;\n            },\n            resizingInProgress: function () {\n                return this._resizeInProgress;\n            },\n            completeResizing: function () {\n                if (this._resizeInProgress) {\n                    this._resizeInProgress = false;\n                    var hintPosition = this.resizeHintPosition();\n                    if (this._initialPosition && hintPosition) {\n                        var handlePosition = this.resizeHandlePosition();\n                        if (handlePosition.col !== -Infinity) {\n                            this.trigger('commandRequest', {\n                                command: 'ColumnWidthCommand',\n                                options: {\n                                    target: handlePosition.col,\n                                    value: this.columnWidth(handlePosition.col) - (this._initialPosition.x - hintPosition.x)\n                                }\n                            });\n                        } else {\n                            this.trigger('commandRequest', {\n                                command: 'RowHeightCommand',\n                                options: {\n                                    target: handlePosition.row,\n                                    value: this.rowHeight(handlePosition.row) - (this._initialPosition.y - hintPosition.y)\n                                }\n                            });\n                        }\n                    } else {\n                        this.trigger('change', { resize: true });\n                    }\n                }\n            },\n            resizeHandlePosition: function () {\n                return this._resizeHandlePosition;\n            },\n            resizeHintPosition: function (location) {\n                if (location !== undefined) {\n                    this._resizeHintPosition = location;\n                    this.trigger('change', { resize: true });\n                }\n                return this._resizeHintPosition;\n            },\n            removeResizeHandle: function () {\n                if (this._resizeHandlePosition) {\n                    this._resizeHintPosition = undefined;\n                    this._resizeHandlePosition = undefined;\n                    this._initialPosition = undefined;\n                    this.trigger('change', { resize: true });\n                }\n            },\n            positionResizeHandle: function (ref) {\n                this._resizeHandlePosition = ref;\n                this.trigger('change', { resize: true });\n            },\n            startSelection: function () {\n                this._selectionInProgress = true;\n            },\n            completeSelection: function () {\n                if (this._selectionInProgress) {\n                    this._selectionInProgress = false;\n                    this._resizeHintPosition = undefined;\n                    this.trigger('change', { selection: true });\n                }\n                if (this._autoFillInProgress) {\n                    this._autoFillInProgress = false;\n                    var dest = this._autoFillDest;\n                    var origin = this._autoFillOrigin;\n                    if (this._autoFillPunch) {\n                        this.trigger('commandRequest', {\n                            command: 'ClearContentCommand',\n                            options: { operatingRange: this.range(this._autoFillPunch) }\n                        });\n                    } else {\n                        if (!dest.eq(origin)) {\n                            this.trigger('commandRequest', {\n                                command: 'AutoFillCommand',\n                                options: {\n                                    operatingRange: this.range(dest),\n                                    origin: this.range(origin)\n                                }\n                            });\n                        } else {\n                            this.triggerChange({ selection: true });\n                        }\n                    }\n                    this._autoFillDest = null;\n                    this._autoFillPunch = null;\n                    this._autoFillOrigin = null;\n                    this.select(dest);\n                }\n            },\n            selectionInProgress: function () {\n                return this._selectionInProgress;\n            },\n            select: function (ref, changeActiveCell) {\n                var selectionState = this._selectionState();\n                var expandedRef;\n                if (ref) {\n                    ref = this._ref(ref);\n                    ref = this._grid.normalize(ref);\n                    expandedRef = this._grid.isAxis(ref) ? ref : this.unionWithMerged(ref);\n                }\n                return selectionState.select(ref, expandedRef, changeActiveCell);\n            },\n            originalSelect: function () {\n                return this._selectionState().originalSelection;\n            },\n            currentSelectionRange: function () {\n                return this._selectionState().currentSelectionRange();\n            },\n            currentOriginalSelectionRange: function () {\n                return this._selectionState().currentOriginalNavigationRange();\n            },\n            currentNavigationRange: function () {\n                return this._selectionState().currentNavigationRange();\n            },\n            nextNavigationRange: function () {\n                return this._selectionState().nextNavigationRange();\n            },\n            previousNavigationRange: function () {\n                return this._selectionState().previousNavigationRange();\n            },\n            selectionRangeIndex: function () {\n                return this._selectionState().selectionRangeIndex;\n            },\n            activeCell: function (ref) {\n                return this._selectionState().activeCell(ref);\n            },\n            originalActiveCell: function () {\n                return this._selectionState().originalActiveCell;\n            },\n            singleCellSelection: function () {\n                return this._selectionState().singleCellSelection();\n            },\n            unionWithMerged: function (ref) {\n                var mergedCells = this._mergedCells;\n                return ref.map(function (ref) {\n                    return ref.toRangeRef().union(mergedCells);\n                });\n            },\n            trim: function (ref) {\n                var trims = [];\n                var grid = this._grid;\n                this._properties.forEachProperty(function (property) {\n                    trims.push(grid.trim(ref, property.list));\n                });\n                return this.unionWithMerged(ref.topLeft.toRangeRef().union(trims));\n            },\n            focus: function (ref) {\n                if (ref) {\n                    this._focus = ref.toRangeRef();\n                } else {\n                    var focus = this._focus;\n                    this._focus = null;\n                    return focus;\n                }\n            },\n            activeCellSelection: function () {\n                return new Range(this._grid.normalize(this.activeCell()), this);\n            },\n            selection: function () {\n                return new Range(this._grid.normalize(this._selectionState().selection), this);\n            },\n            selectedHeaders: function () {\n                var selection = this.select();\n                var rows = {};\n                var cols = {};\n                var allCols = false;\n                var allRows = false;\n                var maxRow = this._grid.rowCount - 1;\n                var maxCol = this._grid.columnCount - 1;\n                selection.forEach(function (ref) {\n                    var i;\n                    var rowState = 'partial';\n                    var colState = 'partial';\n                    ref = ref.toRangeRef();\n                    var bottomRight = ref.bottomRight;\n                    var rowSelection = bottomRight.col >= maxCol;\n                    var colSelection = bottomRight.row >= maxRow;\n                    if (colSelection) {\n                        allRows = true;\n                        colState = 'full';\n                    }\n                    if (rowSelection) {\n                        allCols = true;\n                        rowState = 'full';\n                    }\n                    if (!colSelection) {\n                        for (i = ref.topLeft.row; i <= bottomRight.row; i++) {\n                            if (rows[i] !== 'full') {\n                                rows[i] = rowState;\n                            }\n                        }\n                    }\n                    if (!rowSelection) {\n                        for (i = ref.topLeft.col; i <= bottomRight.col; i++) {\n                            if (cols[i] !== 'full') {\n                                cols[i] = colState;\n                            }\n                        }\n                    }\n                });\n                return {\n                    rows: rows,\n                    cols: cols,\n                    allRows: allRows,\n                    allCols: allCols,\n                    all: allRows && allCols\n                };\n            },\n            isInEditMode: function (isInEdit) {\n                if (isInEdit === undefined) {\n                    return this._inEdit;\n                }\n                this._inEdit = isInEdit;\n                if (isInEdit) {\n                    this._editSelection.selection = this._viewSelection.selection.clone();\n                    this._editSelection.originalSelection = this._viewSelection.originalSelection.clone();\n                    this._editSelection._activeCell = this._viewSelection._activeCell.clone();\n                    this._editSelection.originalActiveCell = this._viewSelection.originalActiveCell.clone();\n                }\n            },\n            _setFormulaSelections: function (selection) {\n                this._formulaSelections = (selection || []).slice();\n                this.triggerChange({ selection: true });\n            },\n            _viewActiveCell: function () {\n                return this._viewSelection._activeCell.toRangeRef();\n            },\n            toJSON: function () {\n                var positions = {};\n                var rows = this._rows.toJSON('height', positions);\n                var columns = this._columns.toJSON('width', {});\n                var viewSelection = this._viewSelection;\n                var hyperlinks = [];\n                this.forEach(kendo.spreadsheet.SHEETREF, function (row, col, cell) {\n                    if (Object.keys(cell).length === 0) {\n                        return;\n                    }\n                    if (cell.link) {\n                        hyperlinks.push({\n                            ref: kendo.spreadsheet.Ref.display(null, row, col),\n                            target: cell.link\n                        });\n                    }\n                    var position = positions[row];\n                    if (position === undefined) {\n                        position = rows.length;\n                        rows.push({ index: row });\n                        positions[row] = position;\n                    }\n                    row = rows[position];\n                    cell.index = col;\n                    if (row.cells === undefined) {\n                        row.cells = [];\n                    }\n                    if (cell.formula) {\n                        cell.formula = cell.formula.toString();\n                    }\n                    if (cell.validation) {\n                        cell.validation = cell.validation.toJSON();\n                    }\n                    if (cell.color) {\n                        cell.color = kendo.parseColor(cell.color).toCss();\n                    }\n                    if (cell.background) {\n                        cell.background = kendo.parseColor(cell.background).toCss();\n                    }\n                    if (cell.borderTop && cell.borderTop.color) {\n                        cell.borderTop.color = kendo.parseColor(cell.borderTop.color).toCss();\n                    }\n                    if (cell.borderBottom && cell.borderBottom.color) {\n                        cell.borderBottom.color = kendo.parseColor(cell.borderBottom.color).toCss();\n                    }\n                    if (cell.borderRight && cell.borderRight.color) {\n                        cell.borderRight.color = kendo.parseColor(cell.borderRight.color).toCss();\n                    }\n                    if (cell.borderLeft && cell.borderLeft.color) {\n                        cell.borderLeft.color = kendo.parseColor(cell.borderLeft.color).toCss();\n                    }\n                    row.cells.push(cell);\n                });\n                var json = {\n                    name: this._name(),\n                    rows: rows,\n                    columns: columns,\n                    selection: viewSelection.selection.toString(),\n                    activeCell: viewSelection.activeCell().toString(),\n                    frozenRows: this.frozenRows(),\n                    frozenColumns: this.frozenColumns(),\n                    showGridLines: this.showGridLines(),\n                    gridLinesColor: this.gridLinesColor(),\n                    mergedCells: this._mergedCells.map(function (ref) {\n                        return ref.toString();\n                    }),\n                    hyperlinks: hyperlinks\n                };\n                if (this._sort) {\n                    json.sort = {\n                        ref: this._sort.ref.toString(),\n                        columns: this._sort.columns.map(function (column) {\n                            return {\n                                index: column.index,\n                                ascending: column.ascending\n                            };\n                        })\n                    };\n                }\n                if (this._filter) {\n                    json.filter = {\n                        ref: this._filter.ref.toString(),\n                        columns: this._filter.columns.map(function (column) {\n                            var filter = column.filter.toJSON();\n                            filter.index = column.index;\n                            return filter;\n                        })\n                    };\n                }\n                return json;\n            },\n            fromJSON: function (json) {\n                this.batch(function () {\n                    if (json.name !== undefined) {\n                        this._name(json.name);\n                    }\n                    if (json.frozenColumns !== undefined) {\n                        this.frozenColumns(json.frozenColumns);\n                    }\n                    if (json.frozenRows !== undefined) {\n                        this.frozenRows(json.frozenRows);\n                    }\n                    if (json.columns !== undefined) {\n                        this._columns.fromJSON('width', json.columns);\n                    }\n                    if (json.rows !== undefined) {\n                        this._rows.fromJSON('height', json.rows);\n                        for (var ri = 0; ri < json.rows.length; ri++) {\n                            var row = json.rows[ri];\n                            var rowIndex = row.index;\n                            if (rowIndex === undefined) {\n                                rowIndex = ri;\n                            }\n                            if (row.cells) {\n                                for (var ci = 0; ci < row.cells.length; ci++) {\n                                    var cell = row.cells[ci];\n                                    var columnIndex = cell.index;\n                                    if (columnIndex === undefined) {\n                                        columnIndex = ci;\n                                    }\n                                    if (cell.formula) {\n                                        cell.formula = this._compileFormula(rowIndex, columnIndex, cell.formula);\n                                    }\n                                    if (cell.validation) {\n                                        cell.validation = this._compileValidation(rowIndex, columnIndex, cell.validation);\n                                    }\n                                    this._properties.fromJSON(this._grid.index(rowIndex, columnIndex), cell);\n                                }\n                            }\n                        }\n                    }\n                    if (json.selection) {\n                        this._viewSelection.selection = this._viewSelection.originalSelection = this._ref(json.selection);\n                    }\n                    if (json.activeCell) {\n                        var activeCellRef = this._ref(json.activeCell);\n                        this._viewSelection._activeCell = activeCellRef.toRangeRef();\n                        this._viewSelection.originalActiveCell = activeCellRef;\n                    }\n                    if (json.mergedCells) {\n                        json.mergedCells.forEach(function (ref) {\n                            this.range(ref).merge();\n                        }, this);\n                    }\n                    if (json.sort) {\n                        this._sort = {\n                            ref: this._ref(json.sort.ref),\n                            columns: json.sort.columns.slice(0)\n                        };\n                    }\n                    if (json.filter) {\n                        var ref = json.filter.ref;\n                        var columns = json.filter.columns === undefined ? [] : json.filter.columns;\n                        if (!ref) {\n                            kendo.logToConsole('Dropping filter for sheet \\'' + json.name + '\\' due to missing ref');\n                        } else {\n                            this._filter = {\n                                ref: this._ref(ref),\n                                columns: columns.map(function (column) {\n                                    return {\n                                        index: column.index,\n                                        filter: kendo.spreadsheet.Filter.create(column)\n                                    };\n                                })\n                            };\n                            this._refreshFilter();\n                        }\n                    }\n                    if (json.showGridLines !== undefined) {\n                        this._showGridLines = json.showGridLines;\n                    }\n                    this._gridLinesColor = json.gridLinesColor;\n                });\n                this._rows._refresh();\n                this._columns._refresh();\n            },\n            formula: function (ref) {\n                return this._properties.get('formula', this._grid.cellRefIndex(ref));\n            },\n            validation: function (ref) {\n                return this._properties.get('validation', this._grid.cellRefIndex(ref));\n            },\n            resetFormulas: function () {\n                this._forFormulas(function (formula) {\n                    formula.reset();\n                });\n            },\n            resetValidations: function () {\n                this._forValidations(function (validation) {\n                    validation.reset();\n                });\n            },\n            recalc: function (context, callback) {\n                var formulas = this._properties.get('formula').values();\n                var count = formulas.length, pending = 0, i = 0;\n                if (!count && callback) {\n                    return callback();\n                }\n                function next() {\n                    pending--;\n                    if (i == count && !pending) {\n                        callback();\n                    }\n                }\n                while (i < count) {\n                    pending++;\n                    formulas[i++].value.exec(context, callback ? next : null);\n                }\n            },\n            revalidate: function (context) {\n                var self = this;\n                this._forValidations(function (validation) {\n                    var cellRef = new CellRef(validation.row, validation.col);\n                    var ref = new RangeRef(cellRef, cellRef);\n                    validation.exec(context, self._get(ref, 'value'), self._get(ref, 'format'));\n                });\n            },\n            _value: function (row, col, value) {\n                var index = this._grid.index(row, col);\n                if (value !== undefined) {\n                    this._properties.set('value', index, index, value);\n                } else {\n                    return this._properties.get('value', index);\n                }\n            },\n            _validation: function (row, col) {\n                var index = this._grid.index(row, col);\n                return this._properties.get('validation', index);\n            },\n            _compileValidation: function (row, col, validation) {\n                if (validation instanceof kendo.spreadsheet.validation.Validation) {\n                    return validation.clone(this._name(), row, col);\n                }\n                if (validation.from != null) {\n                    validation.from = (validation.from + '').replace(/^=/, '');\n                }\n                if (validation.to != null) {\n                    validation.to = (validation.to + '').replace(/^=/, '');\n                }\n                return kendo.spreadsheet.validation.compile(this._name(), row, col, validation);\n            },\n            _compileFormula: function (row, col, f) {\n                f = f.replace(/^=/, '');\n                f = kendo.spreadsheet.calc.parseFormula(this._name(), row, col, f);\n                return kendo.spreadsheet.calc.compile(f);\n            },\n            _copyValuesInRange: function (topLeft, bottomRight, value, property) {\n                var ci, start, end;\n                for (ci = topLeft.col; ci <= bottomRight.col; ci++) {\n                    start = this._grid.index(topLeft.row, ci);\n                    end = this._grid.index(bottomRight.row, ci);\n                    for (var index = start, row = topLeft.row; index <= end; ++index, ++row) {\n                        value = value.clone(this._name(), row, ci);\n                        this._properties.set(property, index, index, value);\n                    }\n                }\n                return value;\n            },\n            _set: function (ref, name, value) {\n                var topLeft = this._grid.normalize(ref.topLeft);\n                var bottomRight = this._grid.normalize(ref.bottomRight);\n                var ci, start, end;\n                if (value && name == 'formula') {\n                    if (typeof value == 'string') {\n                        value = this._compileFormula(topLeft.row, topLeft.col, value);\n                    }\n                    value = this._copyValuesInRange(topLeft, bottomRight, value, 'formula');\n                } else if (value && name == 'validation') {\n                    value = this._compileValidation(topLeft.row, topLeft.col, value);\n                    value = this._copyValuesInRange(topLeft, bottomRight, value, 'validation');\n                } else {\n                    for (ci = topLeft.col; ci <= bottomRight.col; ci++) {\n                        start = this._grid.index(topLeft.row, ci);\n                        end = this._grid.index(bottomRight.row, ci);\n                        this._properties.set(name, start, end, value);\n                        if (name == 'formula') {\n                            this._properties.set('value', start, end, null);\n                        }\n                    }\n                }\n            },\n            _get: function (ref, name) {\n                var topLeft = this._grid.normalize(ref.topLeft);\n                var index = this._grid.index(topLeft.row, topLeft.col);\n                return this._properties.get(name, index);\n            },\n            batch: function (callback, reason) {\n                var suspended = this.suspendChanges();\n                this.suspendChanges(true);\n                callback.call(this);\n                return this.suspendChanges(suspended).triggerChange(reason || { recalc: true });\n            },\n            _sortBy: function (ref, columns) {\n                var indices = null;\n                columns.forEach(function (column) {\n                    indices = this._sorter.sortBy(ref, column.index, this._properties.get('value'), column.ascending, indices);\n                }, this);\n                this._sort = {\n                    ref: ref,\n                    columns: columns\n                };\n                this._refreshFilter();\n                this.triggerChange({ recalc: true });\n            },\n            _refreshFilter: function () {\n                if (this._filter) {\n                    this._filterBy(this._filter.ref, this._filter.columns);\n                }\n            },\n            _filterBy: function (ref, columns) {\n                this.batch(function () {\n                    for (var ri = ref.topLeft.row; ri <= ref.bottomRight.row; ri++) {\n                        if (this._rows.hidden(ri)) {\n                            this._rows.unhide(ri);\n                        }\n                    }\n                    columns.forEach(function (column) {\n                        var columnRef = ref.resize({ top: 1 }).toColumn(column.index);\n                        var cells = [];\n                        if (columnRef === kendo.spreadsheet.NULLREF) {\n                            return;\n                        }\n                        this.forEach(columnRef, function (row, col, cell) {\n                            cell.row = row;\n                            cells.push(cell);\n                        });\n                        column.filter.prepare(cells);\n                        for (var ci = 0; ci < cells.length; ci++) {\n                            var cell = cells[ci];\n                            var value = column.filter.value(cell);\n                            if (column.filter.matches(value) === false) {\n                                this.hideRow(cell.row);\n                            }\n                        }\n                    }, this);\n                    this._filter = {\n                        ref: ref,\n                        columns: columns\n                    };\n                }, {\n                    layout: true,\n                    filter: true\n                });\n            },\n            filterColumn: function (ref) {\n                var filterRef = this.filter().ref;\n                return ref.toRangeRef().topLeft.col - filterRef.topLeft.col;\n            },\n            filter: function () {\n                return this._filter;\n            },\n            clearFilter: function (spec) {\n                this._clearFilter(spec instanceof Array ? spec : [spec]);\n            },\n            _clearFilter: function (indices) {\n                if (this._filter) {\n                    this.batch(function () {\n                        this._filter.columns = this._filter.columns.filter(function (column) {\n                            return indices.indexOf(column.index) < 0;\n                        });\n                        this._refreshFilter();\n                    }, {\n                        layout: true,\n                        filter: true\n                    });\n                }\n            },\n            getAxisState: function () {\n                return {\n                    rows: this._rows.getState(),\n                    columns: this._columns.getState()\n                };\n            },\n            setAxisState: function (state) {\n                this._rows.setState(state.rows);\n                this._columns.setState(state.columns);\n                this.triggerChange({ layout: true });\n            },\n            getState: function () {\n                return {\n                    rows: this._rows.getState(),\n                    columns: this._columns.getState(),\n                    mergedCells: this._mergedCells.map(function (cell) {\n                        return cell.clone();\n                    }),\n                    properties: this._properties.getState()\n                };\n            },\n            setState: function (state) {\n                this._rows.setState(state.rows);\n                this._columns.setState(state.columns);\n                this._mergedCells = state.mergedCells;\n                this._properties.setState(state.properties);\n                this.triggerChange(kendo.spreadsheet.ALL_REASONS);\n            },\n            _merge: function (ref) {\n                var mergedCells = this._mergedCells;\n                var sheet = this;\n                var mergedRef;\n                this.batch(function () {\n                    mergedRef = ref.map(function (ref) {\n                        if (ref instanceof kendo.spreadsheet.CellRef) {\n                            return ref;\n                        }\n                        var currentRef = ref.toRangeRef().union(mergedCells, function (ref) {\n                            mergedCells.splice(mergedCells.indexOf(ref), 1);\n                        });\n                        var range = new Range(currentRef, sheet);\n                        var formula = range._get('formula');\n                        var value = range.value();\n                        var format = range.format();\n                        var background = range.background();\n                        range.value(null);\n                        range.format(null);\n                        range.background(null);\n                        var topLeft = new Range(currentRef.collapse(), sheet);\n                        if (formula) {\n                            topLeft._set('formula', formula);\n                        } else {\n                            topLeft.value(value);\n                        }\n                        topLeft.format(format);\n                        topLeft.background(background);\n                        mergedCells.push(currentRef);\n                        return currentRef;\n                    });\n                    var viewSelection = sheet._viewSelection;\n                    viewSelection.selection = sheet.unionWithMerged(viewSelection.originalSelection);\n                    viewSelection._activeCell = sheet.unionWithMerged(viewSelection.originalActiveCell);\n                }, {\n                    activeCell: true,\n                    selection: true\n                });\n                return mergedRef;\n            }\n        });\n        kendo.spreadsheet.Sheet = Sheet;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/sheetsbar', [\n        'kendo.core',\n        'kendo.sortable'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var outerWidth = kendo._outerWidth;\n        var DOT = '.';\n        var EMPTYCHAR = ' ';\n        var sheetsBarClassNames = {\n            sheetsBarWrapper: 'k-widget k-header',\n            sheetsBarSheetsWrapper: 'k-tabstrip k-floatwrap k-tabstrip-bottom',\n            sheetsBarActive: 'k-spreadsheet-sheets-bar-active',\n            sheetsBarInactive: 'k-spreadsheet-sheets-bar-inactive',\n            sheetsBarAdd: 'k-spreadsheet-sheets-bar-add',\n            sheetsBarRemove: 'k-spreadsheet-sheets-remove',\n            sheetsBarItems: 'k-spreadsheet-sheets-items',\n            sheetsBarEditor: 'k-spreadsheet-sheets-editor',\n            sheetsBarScrollable: 'k-tabstrip-scrollable',\n            sheetsBarNext: 'k-tabstrip-next',\n            sheetsBarPrev: 'k-tabstrip-prev',\n            sheetsBarKItem: 'k-item k-state-default',\n            sheetsBarKActive: 'k-state-active k-state-tab-on-top',\n            sheetsBarKTextbox: 'k-textbox',\n            sheetsBarKLink: 'k-link',\n            sheetsBarKIcon: 'k-icon',\n            sheetsBarKFontIcon: 'k-font-icon',\n            sheetsBarKButton: 'k-button k-button-icon',\n            sheetsBarKButtonBare: 'k-button-bare',\n            sheetsBarKArrowW: 'k-i-arrow-w',\n            sheetsBarKArrowE: 'k-i-arrow-e',\n            sheetsBarKReset: 'k-reset k-tabstrip-items',\n            sheetsBarKIconX: 'k-i-x',\n            sheetsBarKSprite: 'k-sprite',\n            sheetsBarKIconPlus: 'k-i-plus',\n            sheetsBarHintWrapper: 'k-widget k-tabstrip k-tabstrip-bottom k-spreadsheet-sheets-items-hint',\n            sheetsBarKResetItems: 'k-reset k-tabstrip-items'\n        };\n        var SheetsBar = kendo.ui.Widget.extend({\n            init: function (element, options) {\n                var classNames = SheetsBar.classNames;\n                kendo.ui.Widget.call(this, element, options);\n                element = this.element;\n                element.addClass(classNames.sheetsBarWrapper);\n                this._tree = new kendo.dom.Tree(element[0]);\n                this._tree.render([\n                    this._addButton(),\n                    this._createSheetsWrapper([])\n                ]);\n                this._toggleScrollEvents(true);\n                this._createSortable();\n                this._sortable.bind('start', this._onSheetReorderStart.bind(this));\n                this._sortable.bind('end', this._onSheetReorderEnd.bind(this));\n                element.on('click', DOT + classNames.sheetsBarRemove, this._onSheetRemove.bind(this));\n                element.on('click', 'li', this._onSheetSelect.bind(this));\n                element.on('dblclick', 'li' + DOT + classNames.sheetsBarActive, this._createEditor.bind(this));\n                element.on('click', DOT + classNames.sheetsBarAdd, this._onAddSelect.bind(this));\n            },\n            options: {\n                name: 'SheetsBar',\n                scrollable: { distance: 200 }\n            },\n            events: [\n                'select',\n                'reorder',\n                'rename'\n            ],\n            _createEditor: function () {\n                if (this._editor) {\n                    return;\n                }\n                this._renderSheets(this._sheets, this._selectedIndex, true);\n                this._editor = this.element.find(kendo.format('input{0}{1}', DOT, SheetsBar.classNames.sheetsBarEditor)).focus().on('keydown', this._onEditorKeydown.bind(this)).on('blur', this._onEditorBlur.bind(this));\n            },\n            _destroyEditor: function (canceled) {\n                var newSheetName = canceled ? null : this._editor.val();\n                this._editor.off();\n                this._editor = null;\n                this._renderSheets(this._sheets, this._selectedIndex, false);\n                this._onSheetRename(newSheetName);\n            },\n            renderSheets: function (sheets, selectedIndex) {\n                if (!sheets || selectedIndex < 0) {\n                    return;\n                }\n                this._renderSheets(sheets, selectedIndex, false);\n            },\n            _renderSheets: function (sheets, selectedIndex, isInEditMode) {\n                var that = this;\n                var wrapperOffsetWidth;\n                var sheetsGroupScrollWidth;\n                var classNames = SheetsBar.classNames;\n                that._isRtl = kendo.support.isRtl(that.element);\n                that._sheets = sheets;\n                that._selectedIndex = selectedIndex;\n                that._renderHtml(isInEditMode, true);\n                if (!that._scrollableAllowed()) {\n                    return;\n                }\n                var sheetsWrapper = that._sheetsWrapper();\n                var scrollPrevButton = sheetsWrapper.children(DOT + classNames.sheetsBarPrev);\n                var scrollNextButton = sheetsWrapper.children(DOT + classNames.sheetsBarNext);\n                var gapWidth = 2;\n                var addButton = that.element.find(DOT + classNames.sheetsBarAdd);\n                var addButtonWidth = outerWidth(addButton) + addButton.position().left + gapWidth;\n                var scrollPrevButtonWidth = outerWidth(scrollPrevButton) + gapWidth;\n                var sheetsGroup = that._sheetsGroup();\n                scrollPrevButton.css({ left: addButtonWidth });\n                sheetsWrapper.addClass(classNames.sheetsBarScrollable + EMPTYCHAR + classNames.sheetsBarSheetsWrapper);\n                sheetsGroup.css({ marginLeft: addButtonWidth });\n                wrapperOffsetWidth = sheetsWrapper[0].offsetWidth;\n                sheetsGroupScrollWidth = sheetsGroup[0].scrollWidth;\n                if (sheetsGroupScrollWidth + addButtonWidth > wrapperOffsetWidth) {\n                    var scrollNextButtonRight = Math.ceil(kendo.parseFloat(scrollNextButton.css('right')));\n                    if (!that._scrollableModeActive) {\n                        that._nowScrollingSheets = false;\n                        that._scrollableModeActive = true;\n                    }\n                    sheetsGroup.css({\n                        marginLeft: scrollPrevButtonWidth + addButtonWidth,\n                        marginRight: outerWidth(scrollNextButton) + scrollNextButtonRight + gapWidth\n                    });\n                } else {\n                    if (that._scrollableModeActive && sheetsGroupScrollWidth <= wrapperOffsetWidth) {\n                        that._scrollableModeActive = false;\n                        sheetsGroup.css({\n                            marginLeft: addButtonWidth,\n                            marginRight: ''\n                        });\n                    } else {\n                        sheetsGroup.css({ marginLeft: addButtonWidth });\n                    }\n                }\n                that._toggleScrollButtons();\n            },\n            _toggleScrollButtons: function (toggle) {\n                var that = this;\n                var ul = that._sheetsGroup();\n                var wrapper = that._sheetsWrapper();\n                var scrollLeft = ul.scrollLeft();\n                var prev = wrapper.find(DOT + SheetsBar.classNames.sheetsBarPrev);\n                var next = wrapper.find(DOT + SheetsBar.classNames.sheetsBarNext);\n                if (toggle === false) {\n                    prev.toggle(false);\n                    next.toggle(false);\n                } else {\n                    prev.toggle(that._isRtl ? scrollLeft < ul[0].scrollWidth - ul[0].offsetWidth - 1 : scrollLeft !== 0);\n                    next.toggle(that._isRtl ? scrollLeft !== 0 : scrollLeft < ul[0].scrollWidth - ul[0].offsetWidth - 1);\n                }\n            },\n            _toggleScrollEvents: function (toggle) {\n                var that = this;\n                var classNames = SheetsBar.classNames;\n                var options = that.options;\n                var scrollPrevButton;\n                var scrollNextButton;\n                var sheetsWrapper = that._sheetsWrapper();\n                scrollPrevButton = sheetsWrapper.children(DOT + classNames.sheetsBarPrev);\n                scrollNextButton = sheetsWrapper.children(DOT + classNames.sheetsBarNext);\n                if (toggle) {\n                    scrollPrevButton.on('mousedown', function () {\n                        that._nowScrollingSheets = true;\n                        that._scrollSheetsByDelta(options.scrollable.distance * (that._isRtl ? 1 : -1));\n                    });\n                    scrollNextButton.on('mousedown', function () {\n                        that._nowScrollingSheets = true;\n                        that._scrollSheetsByDelta(options.scrollable.distance * (that._isRtl ? -1 : 1));\n                    });\n                    scrollPrevButton.add(scrollNextButton).on('mouseup', function () {\n                        that._nowScrollingSheets = false;\n                    });\n                } else {\n                    scrollPrevButton.off();\n                    scrollNextButton.off();\n                }\n            },\n            _renderHtml: function (isInEditMode, renderScrollButtons) {\n                var idx;\n                var sheetElements = [];\n                var dom = kendo.dom;\n                var element = dom.element;\n                var sheets = this._sheets;\n                var selectedIndex = this._selectedIndex;\n                var classNames = SheetsBar.classNames;\n                for (idx = 0; idx < sheets.length; idx++) {\n                    var sheet = sheets[idx];\n                    var isSelectedSheet = idx === selectedIndex;\n                    var attr = { className: classNames.sheetsBarKItem + EMPTYCHAR };\n                    var elementContent = [];\n                    if (isSelectedSheet) {\n                        attr.className += classNames.sheetsBarKActive + EMPTYCHAR + classNames.sheetsBarActive;\n                    } else {\n                        attr.className += classNames.sheetsBarInactive;\n                    }\n                    if (isSelectedSheet && isInEditMode) {\n                        elementContent.push(element('input', {\n                            type: 'text',\n                            value: sheet.name(),\n                            className: classNames.sheetsBarKTextbox + EMPTYCHAR + classNames.sheetsBarEditor,\n                            maxlength: 50\n                        }, []));\n                    } else {\n                        elementContent.push(element('span', {\n                            className: classNames.sheetsBarKLink,\n                            title: sheet.name()\n                        }, [dom.text(sheet.name())]));\n                        var deleteIcon = element('span', { className: classNames.sheetsBarKIcon + EMPTYCHAR + classNames.sheetsBarKFontIcon + EMPTYCHAR + classNames.sheetsBarKIconX }, []);\n                        elementContent.push(element('span', { className: classNames.sheetsBarKLink + EMPTYCHAR + classNames.sheetsBarRemove }, [deleteIcon]));\n                    }\n                    sheetElements.push(element('li', attr, elementContent));\n                }\n                this._tree.render([\n                    this._addButton(),\n                    this._createSheetsWrapper(sheetElements, renderScrollButtons)\n                ]);\n            },\n            _createSheetsWrapper: function (sheetElements, renderScrollButtons) {\n                var element = kendo.dom.element;\n                var classNames = SheetsBar.classNames;\n                var childrenElements = [element('ul', { className: classNames.sheetsBarKReset }, sheetElements)];\n                renderScrollButtons = true;\n                if (renderScrollButtons) {\n                    var baseButtonClass = classNames.sheetsBarKButton + EMPTYCHAR + classNames.sheetsBarKButtonBare + EMPTYCHAR;\n                    childrenElements.push(element('span', { className: baseButtonClass + classNames.sheetsBarPrev }, [element('span', { className: classNames.sheetsBarKIcon + EMPTYCHAR + classNames.sheetsBarKArrowW }, [])]));\n                    childrenElements.push(element('span', { className: baseButtonClass + classNames.sheetsBarNext }, [element('span', { className: classNames.sheetsBarKIcon + EMPTYCHAR + classNames.sheetsBarKArrowE }, [])]));\n                }\n                return element('div', { className: classNames.sheetsBarItems }, childrenElements);\n            },\n            _createSortable: function () {\n                var classNames = SheetsBar.classNames;\n                this._sortable = new kendo.ui.Sortable(this.element, {\n                    filter: kendo.format('ul li.{0},ul li.{1}', classNames.sheetsBarActive, classNames.sheetsBarInactive),\n                    container: DOT + classNames.sheetsBarItems,\n                    axis: 'x',\n                    animation: false,\n                    ignore: 'input',\n                    end: function () {\n                        if (this.draggable.hint) {\n                            this.draggable.hint.remove();\n                        }\n                    },\n                    hint: function (element) {\n                        var hint = $(element).clone();\n                        return hint.wrap('<div class=\\'' + classNames.sheetsBarHintWrapper + '\\'><ul class=\\'' + classNames.sheetsBarKResetItems + '\\'></ul></div>').closest('div');\n                    }\n                });\n            },\n            _onEditorKeydown: function (e) {\n                if (this._editor) {\n                    if (e.which === 13) {\n                        this._destroyEditor();\n                    }\n                    if (e.which === 27) {\n                        this._destroyEditor(true);\n                    }\n                }\n            },\n            _onEditorBlur: function () {\n                if (this._editor) {\n                    this._destroyEditor();\n                }\n            },\n            _onSheetReorderEnd: function (e) {\n                e.preventDefault();\n                this.trigger('reorder', {\n                    oldIndex: e.oldIndex,\n                    newIndex: e.newIndex\n                });\n            },\n            _onSheetReorderStart: function (e) {\n                if (this._editor) {\n                    e.preventDefault();\n                }\n            },\n            _onSheetRemove: function (e) {\n                var removedSheetName = $(e.target).closest('li').text();\n                if (this._editor) {\n                    this._destroyEditor();\n                }\n                this.trigger('remove', { name: removedSheetName });\n            },\n            _onSheetSelect: function (e) {\n                var selectedSheetText = $(e.target).text();\n                if ($(e.target).is(DOT + SheetsBar.classNames.sheetsBarEditor) || !selectedSheetText) {\n                    e.preventDefault();\n                    return;\n                }\n                if (this._editor) {\n                    this._destroyEditor();\n                }\n                this._scrollSheetsToItem($(e.target).closest('li'));\n                this.trigger('select', {\n                    name: selectedSheetText,\n                    isAddButton: false\n                });\n            },\n            _onSheetRename: function (newSheetName) {\n                this.trigger('rename', {\n                    name: newSheetName,\n                    sheetIndex: this._selectedIndex\n                });\n            },\n            _onAddSelect: function () {\n                this.trigger('select', { isAddButton: true });\n            },\n            _addButton: function () {\n                var element = kendo.dom.element;\n                var classNames = SheetsBar.classNames;\n                return element('a', { className: classNames.sheetsBarAdd + EMPTYCHAR + classNames.sheetsBarKButton }, [element('span', { className: classNames.sheetsBarKSprite + EMPTYCHAR + classNames.sheetsBarKIcon + EMPTYCHAR + classNames.sheetsBarKFontIcon + EMPTYCHAR + classNames.sheetsBarKIconPlus }, [])]);\n            },\n            destroy: function () {\n                this._sortable.destroy();\n            },\n            _scrollableAllowed: function () {\n                var options = this.options;\n                return options.scrollable && !isNaN(options.scrollable.distance);\n            },\n            _scrollSheetsToItem: function (item) {\n                var that = this;\n                if (!that._scrollableModeActive) {\n                    return;\n                }\n                var sheetsGroup = that._sheetsGroup();\n                var currentScrollOffset = sheetsGroup.scrollLeft();\n                var itemWidth = outerWidth(item);\n                var itemOffset = that._isRtl ? item.position().left : item.position().left - sheetsGroup.children().first().position().left;\n                var sheetsGroupWidth = sheetsGroup[0].offsetWidth;\n                var sheetsGroupPadding = Math.ceil(parseFloat(sheetsGroup.css('padding-left')));\n                var itemPosition;\n                if (that._isRtl) {\n                    if (itemOffset < 0) {\n                        itemPosition = currentScrollOffset + itemOffset - (sheetsGroupWidth - currentScrollOffset) - sheetsGroupPadding;\n                    } else if (itemOffset + itemWidth > sheetsGroupWidth) {\n                        itemPosition = currentScrollOffset + itemOffset - itemWidth + sheetsGroupPadding * 2;\n                    }\n                } else {\n                    if (currentScrollOffset + sheetsGroupWidth < itemOffset + itemWidth) {\n                        itemPosition = itemOffset + itemWidth - sheetsGroupWidth + sheetsGroupPadding * 2;\n                    } else if (currentScrollOffset > itemOffset) {\n                        itemPosition = itemOffset - sheetsGroupPadding;\n                    }\n                }\n                sheetsGroup.finish().animate({ 'scrollLeft': itemPosition }, 'fast', 'linear', function () {\n                    that._toggleScrollButtons();\n                });\n            },\n            _sheetsGroup: function () {\n                return this._sheetsWrapper().children('ul');\n            },\n            _sheetsWrapper: function () {\n                return this.element.find(DOT + SheetsBar.classNames.sheetsBarItems);\n            },\n            _scrollSheetsByDelta: function (delta) {\n                var that = this;\n                var sheetsGroup = that._sheetsGroup();\n                var scrLeft = sheetsGroup.scrollLeft();\n                sheetsGroup.finish().animate({ 'scrollLeft': scrLeft + delta }, 'fast', 'linear', function () {\n                    if (that._nowScrollingSheets) {\n                        that._scrollSheetsByDelta(delta);\n                    } else {\n                        that._toggleScrollButtons();\n                    }\n                });\n            }\n        });\n        kendo.spreadsheet.SheetsBar = SheetsBar;\n        $.extend(true, SheetsBar, { classNames: sheetsBarClassNames });\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/calc', ['spreadsheet/runtime'], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var spreadsheet = kendo.spreadsheet;\n    var Ref = spreadsheet.Ref;\n    var RangeRef = spreadsheet.RangeRef;\n    var CellRef = spreadsheet.CellRef;\n    var NameRef = spreadsheet.NameRef;\n    var exports = spreadsheet.calc;\n    var runtime = exports.runtime;\n    var OPERATORS = Object.create(null);\n    var ParseError = kendo.Class.extend({\n        init: function ParseError(message, pos) {\n            this.message = message;\n            this.pos = pos;\n        },\n        toString: function () {\n            return this.message;\n        }\n    });\n    (function (ops) {\n        ops.forEach(function (cls, i) {\n            cls.forEach(function (op) {\n                OPERATORS[op] = ops.length - i;\n            });\n        });\n    }([\n        [':'],\n        [' '],\n        [','],\n        ['%'],\n        ['^'],\n        [\n            '*',\n            '/'\n        ],\n        [\n            '+',\n            '-'\n        ],\n        ['&'],\n        [\n            '=',\n            '<',\n            '>',\n            '<=',\n            '>=',\n            '<>'\n        ]\n    ]));\n    var TRUE = {\n        type: 'bool',\n        value: true\n    };\n    var FALSE = {\n        type: 'bool',\n        value: false\n    };\n    function getcol(str) {\n        str = str.toUpperCase();\n        for (var col = 0, i = 0; i < str.length; ++i) {\n            col = col * 26 + str.charCodeAt(i) - 64;\n        }\n        return col - 1;\n    }\n    function getrow(str) {\n        return parseInt(str, 10) - 1;\n    }\n    function parseReference(name, noThrow) {\n        if (name.toLowerCase() == '#sheet') {\n            return spreadsheet.SHEETREF;\n        }\n        OUT: {\n            var m;\n            if (m = /^(\\$)?([a-z]+)(\\$)?(\\d+)$/i.exec(name)) {\n                var row = getrow(m[4]), col = getcol(m[2]);\n                if (row < 1048576 && col < 16384) {\n                    return new CellRef(getrow(m[4]), getcol(m[2]));\n                }\n                break OUT;\n            }\n            var stream = TokenStream(name, {});\n            var a = [];\n            while (true) {\n                var ref = stream.next();\n                if (ref instanceof CellRef) {\n                    ref.rel = 0;\n                } else if (ref instanceof RangeRef) {\n                    ref.topLeft.rel = 0;\n                    ref.bottomRight.rel = 0;\n                } else {\n                    break OUT;\n                }\n                a.push(ref);\n                if (stream.eof()) {\n                    break;\n                }\n                if (!stream.is('op', ',')) {\n                    break OUT;\n                }\n                stream.next();\n            }\n            return a.length == 1 ? a[0] : new spreadsheet.UnionRef(a);\n        }\n        if (!noThrow) {\n            throw new Error('Cannot parse reference: ' + name);\n        }\n    }\n    function parseFormula(sheet, row, col, input) {\n        var refs = [];\n        input = TokenStream(input, {\n            row: row,\n            col: col\n        });\n        var is = input.is;\n        return {\n            type: 'exp',\n            ast: parseExpression(true),\n            refs: refs,\n            sheet: sheet,\n            row: row,\n            col: col\n        };\n        function addReference(ref) {\n            ref.index = refs.length;\n            refs.push(ref);\n            return ref;\n        }\n        function skip(type, value, allowEOF) {\n            if (is(type, value)) {\n                return input.next();\n            } else {\n                var tok = input.peek();\n                if (tok) {\n                    input.croak('Expected ' + type + ' \\xAB' + value + '\\xBB but found ' + tok.type + ' \\xAB' + tok.value + '\\xBB');\n                } else if (!allowEOF) {\n                    input.croak('Expected ' + type + ' \\xAB' + value + '\\xBB');\n                }\n            }\n        }\n        function parseExpression(commas) {\n            return maybeBinary(maybeIntersect(parseAtom(commas)), 0, commas);\n        }\n        function parseSymbol(tok) {\n            if (tok.upper == 'TRUE' || tok.upper == 'FALSE') {\n                return tok.upper == 'TRUE' ? TRUE : FALSE;\n            }\n            return addReference(new NameRef(tok.value));\n        }\n        function parseFuncall() {\n            var fname = input.next();\n            fname = fname.value;\n            skip('punc', '(');\n            var args = [];\n            while (1) {\n                if (is('punc', ')')) {\n                    break;\n                }\n                if (is('op', ',')) {\n                    args.push({ type: 'null' });\n                    input.next();\n                    continue;\n                }\n                args.push(parseExpression(false));\n                if (input.eof() || is('punc', ')')) {\n                    break;\n                }\n                skip('op', ',');\n            }\n            skip('punc', ')', true);\n            return {\n                type: 'func',\n                func: fname,\n                args: args\n            };\n        }\n        function fixReference(ref) {\n            if (!ref.hasSheet()) {\n                ref.setSheet(sheet);\n            }\n            return addReference(ref);\n        }\n        function parseAtom(commas) {\n            var exp;\n            if (is('ref')) {\n                exp = fixReference(input.next());\n            } else if (is('func')) {\n                exp = parseFuncall();\n            } else if (is('punc', '(')) {\n                input.next();\n                exp = parseExpression(true);\n                skip('punc', ')', true);\n            } else if (is('punc', '{')) {\n                input.next();\n                exp = parseArray();\n                skip('punc', '}', true);\n            } else if (is('num') || is('str') || is('error')) {\n                exp = input.next();\n            } else if (is('sym')) {\n                exp = parseSymbol(input.next());\n            } else if (is('op', '+') || is('op', '-')) {\n                exp = {\n                    type: 'prefix',\n                    op: input.next().value,\n                    exp: parseAtom(commas)\n                };\n            } else if (!input.peek()) {\n                input.croak('Incomplete expression');\n            } else {\n                input.croak('Parse error');\n            }\n            return maybePercent(exp);\n        }\n        function parseArray() {\n            var row = [], value = [row], first = true;\n            while (!input.eof() && !is('punc', '}')) {\n                if (first) {\n                    first = false;\n                } else if (is('punc', ';')) {\n                    value.push(row = []);\n                    input.next();\n                } else {\n                    skip('op', ',');\n                }\n                row.push(parseExpression(false));\n            }\n            return {\n                type: 'matrix',\n                value: value\n            };\n        }\n        function maybeIntersect(exp) {\n            if (is('punc', '(') || is('ref') || is('num') || is('func')) {\n                return {\n                    type: 'binary',\n                    op: ' ',\n                    left: exp,\n                    right: parseExpression(false)\n                };\n            } else {\n                return exp;\n            }\n        }\n        function maybePercent(exp) {\n            if (is('op', '%')) {\n                input.next();\n                return maybePercent({\n                    type: 'postfix',\n                    op: '%',\n                    exp: exp\n                });\n            } else {\n                return exp;\n            }\n        }\n        function maybeBinary(left, my_prec, commas) {\n            var tok = is('op');\n            if (tok && (commas || tok.value != ',')) {\n                var his_prec = OPERATORS[tok.value];\n                if (his_prec > my_prec) {\n                    input.next();\n                    var right = maybeBinary(parseAtom(commas), his_prec, commas);\n                    return maybeBinary({\n                        type: 'binary',\n                        op: tok.value,\n                        left: left,\n                        right: right\n                    }, my_prec, commas);\n                }\n            }\n            return left;\n        }\n    }\n    function parseNameDefinition(name, def) {\n        var nameRef = parseFormula(null, 0, 0, name);\n        if (!(nameRef.ast instanceof NameRef)) {\n            throw new ParseError('Invalid name: ' + name);\n        }\n        nameRef = nameRef.ast;\n        if (!(def instanceof Ref)) {\n            var defAST = parseFormula(nameRef.sheet, 0, 0, def);\n            if (defAST.ast instanceof Ref) {\n                def = defAST.ast;\n            } else if (/^(?:str|num|bool|error)$/.test(defAST.ast.type)) {\n                def = defAST.ast.value;\n            } else {\n                def = makeFormula(defAST);\n            }\n        }\n        return {\n            name: nameRef,\n            value: def\n        };\n    }\n    function makePrinter(exp) {\n        return makeClosure('function(row, col, mod){return(' + print(exp.ast, exp, 0) + ')}');\n        function print(node, parent, prec) {\n            switch (node.type) {\n            case 'num':\n            case 'bool':\n                return JSON.stringify(node.value);\n            case 'error':\n                return JSON.stringify('#' + node.value);\n            case 'str':\n                return JSON.stringify(JSON.stringify(node.value));\n            case 'ref':\n                return 'this.refs[' + node.index + '].print(row, col, mod)';\n            case 'prefix':\n                return withParens(function () {\n                    return JSON.stringify(node.op) + ' + ' + print(node.exp, node, OPERATORS[node.op]);\n                });\n            case 'postfix':\n                return withParens(function () {\n                    return print(node.exp, node, OPERATORS[node.op]) + ' + ' + JSON.stringify(node.op);\n                });\n            case 'binary':\n                return withParens(function () {\n                    var left = parenthesize(print(node.left, node, OPERATORS[node.op]), node.left instanceof NameRef && node.op == ':');\n                    var right = parenthesize(print(node.right, node, OPERATORS[node.op]), node.right instanceof NameRef && node.op == ':');\n                    return left + ' + ' + JSON.stringify(node.op) + ' + ' + right;\n                });\n            case 'func':\n                return JSON.stringify(node.func + '(') + ' + ' + (node.args.length > 0 ? node.args.map(function (arg) {\n                    return print(arg, node, 0);\n                }).join(' + \\', \\' + ') : '\\'\\'') + ' + \\')\\'';\n            case 'matrix':\n                return '\\'{ \\' + ' + node.value.map(function (el) {\n                    return el.map(function (el) {\n                        return print(el, node, 0);\n                    }).join(' + \\', \\' + ');\n                }).join(' + \\'; \\' + ') + '+ \\' }\\'';\n            case 'null':\n                return '\\'\\'';\n            }\n            throw new Error('Cannot make printer for node ' + node.type);\n            function withParens(f) {\n                var op = node.op;\n                var needParens = OPERATORS[op] < prec || !prec && op == ',' || parent.type == 'binary' && prec == OPERATORS[op] && node === parent.right;\n                return parenthesize(f(), needParens);\n            }\n        }\n        function parenthesize(code, cond) {\n            return cond ? '\\'(\\' + ' + code + ' + \\')\\'' : code;\n        }\n    }\n    function toCPS(ast, k) {\n        var GENSYM = 0;\n        return cps(ast, k);\n        function cps(node, k) {\n            switch (node.type) {\n            case 'ref':\n                return cpsRef(node, k);\n            case 'num':\n            case 'str':\n            case 'null':\n            case 'error':\n            case 'bool':\n                return cpsAtom(node, k);\n            case 'prefix':\n            case 'postfix':\n                return cpsUnary(node, k);\n            case 'binary':\n                return cpsBinary(node, k);\n            case 'func':\n                return cpsFunc(node, k);\n            case 'lambda':\n                return cpsLambda(node, k);\n            case 'matrix':\n                return cpsMatrix(node.value, k, true);\n            }\n            throw new Error('Cannot CPS ' + node.type);\n        }\n        function cpsRef(node, k) {\n            return node.ref == 'name' ? cpsNameRef(node, k) : cpsAtom(node, k);\n        }\n        function cpsAtom(node, k) {\n            return k(node);\n        }\n        function cpsNameRef(node, k) {\n            return {\n                type: 'func',\n                func: ',getname',\n                args: [\n                    makeContinuation(k),\n                    node\n                ]\n            };\n        }\n        function cpsUnary(node, k) {\n            return cps({\n                type: 'func',\n                func: 'unary' + node.op,\n                args: [node.exp]\n            }, k);\n        }\n        function cpsBinary(node, k) {\n            return cps({\n                type: 'func',\n                func: 'binary' + node.op,\n                args: [\n                    node.left,\n                    node.right\n                ]\n            }, k);\n        }\n        function cpsIf(co, th, el, k) {\n            return cps(co, function (co) {\n                var rest = makeContinuation(k);\n                var thenK = gensym('T');\n                var elseK = gensym('E');\n                return {\n                    type: 'func',\n                    func: 'if',\n                    args: [\n                        rest,\n                        co,\n                        {\n                            type: 'lambda',\n                            vars: [thenK],\n                            body: cps(th || TRUE, function (th) {\n                                return {\n                                    type: 'call',\n                                    func: {\n                                        type: 'var',\n                                        name: thenK\n                                    },\n                                    args: [th]\n                                };\n                            })\n                        },\n                        {\n                            type: 'lambda',\n                            vars: [elseK],\n                            body: cps(el || FALSE, function (el) {\n                                return {\n                                    type: 'call',\n                                    func: {\n                                        type: 'var',\n                                        name: elseK\n                                    },\n                                    args: [el]\n                                };\n                            })\n                        }\n                    ]\n                };\n            });\n        }\n        function cpsAnd(args, k) {\n            if (args.length === 0) {\n                return cpsAtom(TRUE, k);\n            }\n            return cps({\n                type: 'func',\n                func: 'IF',\n                args: [\n                    args[0],\n                    {\n                        type: 'func',\n                        func: 'AND',\n                        args: args.slice(1)\n                    },\n                    FALSE\n                ]\n            }, k);\n        }\n        function cpsOr(args, k) {\n            if (args.length === 0) {\n                return cpsAtom(FALSE, k);\n            }\n            return cps({\n                type: 'func',\n                func: 'IF',\n                args: [\n                    args[0],\n                    TRUE,\n                    {\n                        type: 'func',\n                        func: 'OR',\n                        args: args.slice(1)\n                    }\n                ]\n            }, k);\n        }\n        function cpsFunc(node, k) {\n            switch (node.func.toLowerCase()) {\n            case 'if':\n                return cpsIf(node.args[0], node.args[1], node.args[2], k);\n            case 'and':\n                return cpsAnd(node.args, k);\n            case 'or':\n                return cpsOr(node.args, k);\n            case 'true':\n                return k(TRUE);\n            case 'false':\n                return k(FALSE);\n            }\n            return function loop(args, i) {\n                if (i == node.args.length) {\n                    return {\n                        type: 'func',\n                        func: node.func,\n                        args: args\n                    };\n                } else {\n                    return cps(node.args[i], function (value) {\n                        return loop(args.concat([value]), i + 1);\n                    });\n                }\n            }([makeContinuation(k)], 0);\n        }\n        function cpsLambda(node, k) {\n            var cont = gensym('K');\n            var body = cps(node.body, function (body) {\n                return {\n                    type: 'call',\n                    func: {\n                        type: 'var',\n                        value: cont\n                    },\n                    args: [body]\n                };\n            });\n            return k({\n                type: 'lambda',\n                vars: [cont].concat(node.vars),\n                body: body\n            });\n        }\n        function cpsMatrix(elements, k, isMatrix) {\n            var a = [];\n            return function loop(i) {\n                if (i == elements.length) {\n                    return k({\n                        type: 'matrix',\n                        value: a\n                    });\n                } else {\n                    return (isMatrix ? cpsMatrix : cps)(elements[i], function (val) {\n                        a[i] = val;\n                        return loop(i + 1);\n                    });\n                }\n            }(0);\n        }\n        function makeContinuation(k) {\n            var cont = gensym('R');\n            return {\n                type: 'lambda',\n                vars: [cont],\n                body: k({\n                    type: 'var',\n                    name: cont\n                })\n            };\n        }\n        function gensym(name) {\n            if (!name) {\n                name = '';\n            }\n            name = '_' + name;\n            return name + ++GENSYM;\n        }\n    }\n    var makeClosure = function (cache) {\n        return function (code) {\n            var f = cache[code];\n            if (!f) {\n                f = cache[code] = new Function('\\'use strict\\';return(' + code + ')')();\n            }\n            return f;\n        };\n    }(Object.create(null));\n    var FORMULA_CACHE = Object.create(null);\n    function makeFormula(exp) {\n        var printer = makePrinter(exp);\n        var hash = printer.call(exp);\n        var formula = FORMULA_CACHE[hash];\n        if (formula) {\n            return formula.clone(exp.sheet, exp.row, exp.col);\n        }\n        var code = js(toCPS(exp.ast, function (ret) {\n            return {\n                type: 'return',\n                value: ret\n            };\n        }));\n        code = [\n            'function(){',\n            'var context = this, refs = context.formula.absrefs',\n            code,\n            '}'\n        ].join(';\\n');\n        formula = new runtime.Formula(exp.refs, makeClosure(code), printer, exp.sheet, exp.row, exp.col);\n        FORMULA_CACHE[hash] = formula;\n        return formula;\n        function js(node) {\n            var type = node.type;\n            if (type == 'num') {\n                return node.value + '';\n            } else if (type == 'str') {\n                return JSON.stringify(node.value);\n            } else if (type == 'error') {\n                return 'context.error(' + JSON.stringify(node.value) + ')';\n            } else if (type == 'return') {\n                return 'context.resolve(' + js(node.value) + ')';\n            } else if (type == 'func') {\n                return 'context.func(' + JSON.stringify(node.func) + ', ' + js(node.args[0]) + ', ' + jsArray(node.args.slice(1)) + ')';\n            } else if (type == 'call') {\n                return js(node.func) + '(' + node.args.map(js).join(', ') + ')';\n            } else if (type == 'ref') {\n                return 'refs[' + node.index + ']';\n            } else if (type == 'bool') {\n                return '' + node.value;\n            } else if (type == 'if') {\n                return '(context.bool(' + js(node.co) + ') ? ' + js(node.th) + ' : ' + js(node.el) + ')';\n            } else if (type == 'lambda') {\n                return '(function(' + node.vars.join(', ') + '){ return(' + js(node.body) + ') })';\n            } else if (type == 'var') {\n                return node.name;\n            } else if (type == 'matrix') {\n                return jsArray(node.value);\n            } else if (type == 'null') {\n                return 'null';\n            } else {\n                throw new Error('Cannot compile expression ' + type);\n            }\n        }\n        function jsArray(a) {\n            return '[ ' + a.map(js).join(', ') + ' ]';\n        }\n    }\n    function identity(x) {\n        return x;\n    }\n    function TokenStream(input, options) {\n        input = RawTokenStream(InputStream(input), options);\n        var ahead = input.ahead;\n        var skip = input.skip;\n        var token = null;\n        var fixCell = options.row != null && options.col != null ? function (cell) {\n            if (cell.rel & 1) {\n                cell.col -= options.col;\n            }\n            if (cell.rel & 2) {\n                cell.row -= options.row;\n            }\n            return cell;\n        } : identity;\n        var addPos = options.forEditor ? function (thing, startToken, endToken) {\n            thing.begin = startToken.begin;\n            thing.end = endToken.end;\n            return thing;\n        } : identity;\n        return {\n            peek: peek,\n            next: next,\n            croak: input.croak,\n            eof: input.eof,\n            is: is\n        };\n        function is(type, value) {\n            var tok = peek();\n            return tok != null && (type == null || tok.type === type) && (value == null || tok.value === value) ? tok : null;\n        }\n        function peek() {\n            if (token == null) {\n                token = readNext();\n            }\n            return token;\n        }\n        function next() {\n            if (token != null) {\n                var tmp = token;\n                token = null;\n                return tmp;\n            }\n            return readNext();\n        }\n        function readNext() {\n            var ret;\n            var t = input.peek();\n            if (t) {\n                if (t.type == 'sym' || t.type == 'rc' || t.type == 'num') {\n                    ret = ahead(8, refRange3D) || ahead(6, refCell3D) || ahead(6, refSheetRange) || ahead(4, refSheetCell) || ahead(4, refRange) || ahead(2, refCell) || ahead(2, funcall);\n                }\n                if (!ret) {\n                    ret = input.next();\n                }\n            }\n            return ret;\n        }\n        function toCell(tok, isFirst) {\n            if (tok.type == 'rc') {\n                if (tok.rel && !options.forEditor && (options.row == null || options.col == null)) {\n                    input.croak('Cannot read relative cell in RC notation');\n                }\n                return new CellRef(tok.row, tok.col, tok.rel);\n            }\n            if (tok.type == 'num') {\n                if (tok.value <= 1048577) {\n                    return fixCell(new CellRef(getrow(tok.value), isFirst ? -Infinity : +Infinity, 2));\n                } else {\n                    return null;\n                }\n            }\n            var name = tok.value;\n            var m = /^(\\$)?([a-z]+)(\\$)?(\\d+)$/i.exec(name);\n            if (m) {\n                var row = getrow(m[4]), col = getcol(m[2]);\n                if (row <= 1048576 && col <= 16383) {\n                    return fixCell(new CellRef(getrow(m[4]), getcol(m[2]), (m[1] ? 0 : 1) | (m[3] ? 0 : 2)));\n                } else {\n                    return null;\n                }\n            }\n            var abs = name.charAt(0) == '$';\n            if (abs) {\n                name = name.substr(1);\n            }\n            if (/^\\d+$/.test(name)) {\n                var row = getrow(name);\n                if (row <= 1048576) {\n                    return fixCell(new CellRef(getrow(name), isFirst ? -Infinity : +Infinity, abs ? 0 : 2));\n                }\n            } else {\n                var col = getcol(name);\n                if (col <= 16383) {\n                    return fixCell(new CellRef(isFirst ? -Infinity : +Infinity, getcol(name), abs ? 0 : 1));\n                }\n            }\n        }\n        function refRange3D(a, b, c, d, e, f, g, h) {\n            if (a.type == 'sym' && b.type == 'op' && b.value == ':' && c.type == 'sym' && d.type == 'punc' && d.value == '!' && (e.type == 'sym' || e.type == 'rc' || e.type == 'num' && e.value == e.value | 0) && f.type == 'op' && f.value == ':' && (g.type == 'sym' || g.type == 'rc' || g.type == 'num' && g.value == g.value | 0) && g.type == e.type && !(h.type == 'punc' && h.value == '(' && !g.space)) {\n                var tl = toCell(e, true), br = toCell(g, false);\n                if (tl && br) {\n                    skip(7);\n                    return addPos(new RangeRef(tl.setSheet(a.value, true), br.setSheet(c.value, true)).setSheet(a.value, true), a, g);\n                }\n            }\n        }\n        function refCell3D(a, b, c, d, e, f) {\n            if (a.type == 'sym' && b.type == 'op' && b.value == ':' && c.type == 'sym' && d.type == 'punc' && d.value == '!' && (e.type == 'sym' || e.type == 'rc' || e.type == 'num' && e.value == e.value | 0) && !(f.type == 'punc' && f.value == '(' && !e.space)) {\n                var tl = toCell(e);\n                if (tl) {\n                    skip(5);\n                    var br = tl.clone();\n                    return addPos(new RangeRef(tl.setSheet(a.value, true), br.setSheet(c.value, true)).setSheet(a.value, true), a, e);\n                }\n            }\n        }\n        function refSheetRange(a, b, c, d, e, f) {\n            if (a.type == 'sym' && b.type == 'punc' && b.value == '!' && (c.type == 'sym' || c.type == 'rc' || c.type == 'num' && c.value == c.value | 0) && d.type == 'op' && d.value == ':' && (e.type == 'sym' || e.type == 'rc' || e.type == 'num' && e.value == e.value | 0) && !(f.type == 'punc' && f.value == '(' && !e.space)) {\n                var tl = toCell(c, true), br = toCell(e, false);\n                if (tl && br) {\n                    skip(5);\n                    return addPos(new RangeRef(tl, br).setSheet(a.value, true), a, e);\n                }\n            }\n        }\n        function refSheetCell(a, b, c, d) {\n            if (a.type == 'sym' && b.type == 'punc' && b.value == '!' && (c.type == 'sym' || c.type == 'rc' || c.type == 'num' && c.value == c.value | 0) && !(d.type == 'punc' && d.value == '(' && !c.space)) {\n                skip(3);\n                var x = toCell(c);\n                if (!x || !isFinite(x.row)) {\n                    x = new NameRef(c.value);\n                }\n                return addPos(x.setSheet(a.value, true), a, c);\n            }\n        }\n        function refRange(a, b, c, d) {\n            if ((a.type == 'sym' || a.type == 'rc' || a.type == 'num' && a.value == a.value | 0) && (b.type == 'op' && b.value == ':') && (c.type == 'sym' || c.type == 'rc' || c.type == 'num' && c.value == c.value | 0) && !(d.type == 'punc' && d.value == '(' && !c.space)) {\n                var tl = toCell(a, true), br = toCell(c, false);\n                if (tl && br) {\n                    skip(3);\n                    return addPos(new RangeRef(tl, br), a, c);\n                }\n            }\n        }\n        function refCell(a, b) {\n            if ((a.type == 'sym' || a.type == 'rc') && !(b.type == 'punc' && b.value == '(' && !a.space)) {\n                var x = toCell(a);\n                if (x && isFinite(x.row) && isFinite(x.col)) {\n                    skip(1);\n                    return addPos(x, a, a);\n                }\n            }\n        }\n        function funcall(a, b) {\n            if (a.type == 'sym' && b.type == 'punc' && b.value == '(' && !a.space) {\n                a.type = 'func';\n                skip(1);\n                return a;\n            }\n        }\n    }\n    function isWhitespace(ch) {\n        return ' \\t\\n\\xA0\\u200B'.indexOf(ch) >= 0;\n    }\n    function RawTokenStream(input, options) {\n        var tokens = [], index = 0;\n        var readWhile = input.readWhile;\n        return {\n            next: next,\n            peek: peek,\n            eof: eof,\n            croak: input.croak,\n            ahead: ahead,\n            skip: skip\n        };\n        function isDigit(ch) {\n            return /[0-9]/i.test(ch);\n        }\n        function isIdStart(ch) {\n            return /[a-z$_]/i.test(ch) || ch.toLowerCase() != ch.toUpperCase();\n        }\n        function isId(ch) {\n            return isIdStart(ch) || isDigit(ch) || ch == '.';\n        }\n        function isOpChar(ch) {\n            return ch in OPERATORS;\n        }\n        function isPunc(ch) {\n            return '!;(){}[]'.indexOf(ch) >= 0;\n        }\n        function readNumber() {\n            var has_dot = false;\n            var number = readWhile(function (ch) {\n                if (ch == '.') {\n                    if (has_dot) {\n                        return false;\n                    }\n                    has_dot = true;\n                    return true;\n                }\n                return isDigit(ch);\n            });\n            return {\n                type: 'num',\n                value: parseFloat(number)\n            };\n        }\n        function symbol(id, quote) {\n            return {\n                type: 'sym',\n                value: id,\n                upper: id.toUpperCase(),\n                space: isWhitespace(input.peek()),\n                quote: quote\n            };\n        }\n        function getRC(a, b, c) {\n            if (!a && !b && !c) {\n                return 0;\n            }\n            if (!a && !c || a && c) {\n                var negative = a && /-$/.test(a);\n                var num = parseInt(b, 10);\n                if (negative) {\n                    num = -num;\n                }\n                if (!a) {\n                    num--;\n                }\n                return num;\n            }\n        }\n        function readSymbol() {\n            var m = input.lookingAt(/^R(\\[-?)?([0-9]+)?(\\])?C(\\[-?)?([0-9]+)?(\\])?/i);\n            if (m) {\n                var row = getRC(m[1], m[2], m[3]);\n                var col = getRC(m[4], m[5], m[6]);\n                if (row != null && col != null) {\n                    input.skip(m);\n                    return {\n                        type: 'rc',\n                        row: row,\n                        col: col,\n                        rel: (m[4] || !(m[4] || m[5] || m[6]) ? 1 : 0) | (m[1] || !(m[1] || m[2] || m[3]) ? 2 : 0)\n                    };\n                }\n            }\n            return symbol(readWhile(isId));\n        }\n        function readString() {\n            input.next();\n            return {\n                type: 'str',\n                value: input.readEscaped('\"')\n            };\n        }\n        function readSheetName() {\n            input.next();\n            return symbol(input.readEscaped('\\''), true);\n        }\n        function readOperator() {\n            return {\n                type: 'op',\n                value: readWhile(function (ch, op) {\n                    return op + ch in OPERATORS;\n                })\n            };\n        }\n        function readPunc() {\n            return {\n                type: 'punc',\n                value: input.next()\n            };\n        }\n        function readNext() {\n            if (input.eof()) {\n                return null;\n            }\n            var ch = input.peek(), m;\n            if (ch == '\"') {\n                return readString();\n            }\n            if (ch == '\\'') {\n                return readSheetName();\n            }\n            if (isDigit(ch) || ch == '.') {\n                return readNumber();\n            }\n            if (isIdStart(ch)) {\n                return readSymbol();\n            }\n            if (isOpChar(ch)) {\n                return readOperator();\n            }\n            if (isPunc(ch)) {\n                return readPunc();\n            }\n            if (m = input.lookingAt(/^#([a-z\\/]+)[?!]?/i)) {\n                input.skip(m);\n                return {\n                    type: 'error',\n                    value: m[1]\n                };\n            }\n            if (!options.forEditor) {\n                input.croak('Can\\'t handle character: ' + ch);\n            }\n            return {\n                type: 'error',\n                value: input.next()\n            };\n        }\n        function peek() {\n            while (tokens.length <= index) {\n                readWhile(isWhitespace);\n                var begin = input.pos();\n                var tok = readNext();\n                if (options.forEditor && tok) {\n                    tok.begin = begin;\n                    tok.end = input.pos();\n                }\n                tokens.push(tok);\n            }\n            return tokens[index];\n        }\n        function next() {\n            var tok = peek();\n            if (tok) {\n                index++;\n            }\n            return tok;\n        }\n        function ahead(n, f) {\n            var pos = index, a = [];\n            while (n-- > 0) {\n                a.push(next() || EOF);\n            }\n            index = pos;\n            return f.apply(a, a);\n        }\n        function skip(n) {\n            index += n;\n        }\n        function eof() {\n            return peek() == null;\n        }\n    }\n    var EOF = { type: 'eof' };\n    function InputStream(input) {\n        var pos = 0, line = 1, col = 0;\n        return {\n            next: next,\n            peek: peek,\n            eof: eof,\n            croak: croak,\n            readWhile: readWhile,\n            readEscaped: readEscaped,\n            lookingAt: lookingAt,\n            skip: skip,\n            forward: forward,\n            pos: location\n        };\n        function location() {\n            return pos;\n        }\n        function next() {\n            var ch = input.charAt(pos++);\n            if (ch == '\\n') {\n                line++;\n                col = 0;\n            } else {\n                col++;\n            }\n            return ch;\n        }\n        function peek() {\n            return input.charAt(pos);\n        }\n        function eof() {\n            return peek() === '';\n        }\n        function croak(msg) {\n            throw new ParseError(msg + ' (input: ' + input + ')', pos);\n        }\n        function skip(ch) {\n            if (typeof ch == 'string') {\n                if (input.substr(pos, ch.length) != ch) {\n                    croak('Expected ' + ch);\n                }\n                forward(ch.length);\n            } else if (ch instanceof RegExp) {\n                var m = ch.exec(input.substr(pos));\n                if (m) {\n                    forward(m[0].length);\n                    return m;\n                }\n            } else {\n                forward(ch[0].length);\n            }\n        }\n        function forward(n) {\n            while (n-- > 0) {\n                next();\n            }\n        }\n        function readEscaped(end) {\n            var escaped = false, str = '';\n            while (!eof()) {\n                var ch = next();\n                if (escaped) {\n                    str += ch;\n                    escaped = false;\n                } else if (ch == '\\\\') {\n                    escaped = true;\n                } else if (ch == end) {\n                    break;\n                } else {\n                    str += ch;\n                }\n            }\n            return str;\n        }\n        function readWhile(predicate) {\n            var str = '';\n            while (!eof() && predicate(peek(), str)) {\n                str += next();\n            }\n            return str;\n        }\n        function lookingAt(rx) {\n            return rx.exec(input.substr(pos));\n        }\n    }\n    var FORMAT_PARSERS = [];\n    var registerFormatParser = exports.registerFormatParser = function (p) {\n        FORMAT_PARSERS.push(p);\n    };\n    exports.parse = function (sheet, row, col, input) {\n        if (input instanceof Date) {\n            return {\n                type: 'date',\n                value: runtime.dateToSerial(input)\n            };\n        }\n        if (typeof input == 'number') {\n            return {\n                type: 'number',\n                value: input\n            };\n        }\n        if (typeof input == 'boolean') {\n            return {\n                type: 'boolean',\n                value: input\n            };\n        }\n        input += '';\n        if (/^'/.test(input)) {\n            return {\n                type: 'string',\n                value: input.substr(1)\n            };\n        }\n        if (/^[0-9.]+%$/.test(input)) {\n            var str = input.substr(0, input.length - 1);\n            var num = parseFloat(str);\n            if (!isNaN(num) && num == str) {\n                return {\n                    type: 'percent',\n                    value: num / 100\n                };\n            }\n        }\n        if (/^=/.test(input)) {\n            input = input.substr(1);\n            if (/\\S/.test(input)) {\n                return parseFormula(sheet, row, col, input);\n            } else {\n                return {\n                    type: 'string',\n                    value: '=' + input\n                };\n            }\n        }\n        for (var i = 0; i < FORMAT_PARSERS.length; ++i) {\n            var result = FORMAT_PARSERS[i](input);\n            if (result) {\n                return result;\n            }\n        }\n        if (input.toLowerCase() == 'true') {\n            return {\n                type: 'boolean',\n                value: true\n            };\n        }\n        if (input.toLowerCase() == 'false') {\n            return {\n                type: 'boolean',\n                value: false\n            };\n        }\n        var date = runtime.parseDate(input);\n        if (date) {\n            return {\n                type: 'date',\n                value: runtime.dateToSerial(date)\n            };\n        }\n        var num = parseFloat(input);\n        if (!isNaN(num) && input.length > 0 && num == input) {\n            return {\n                type: 'number',\n                value: num\n            };\n        }\n        return {\n            type: 'string',\n            value: input\n        };\n    };\n    function tokenize(input, row, col) {\n        var tokens = [];\n        input = TokenStream(input, {\n            forEditor: true,\n            row: row,\n            col: col\n        });\n        while (!input.eof()) {\n            tokens.push(next());\n        }\n        var tok = tokens[0];\n        if (tok.type == 'op' && tok.value == '=') {\n            tok.type = 'startexp';\n        }\n        return tokens;\n        function next() {\n            var tok = input.next();\n            if (tok.type == 'sym') {\n                if (tok.upper == 'TRUE') {\n                    tok.type = 'bool';\n                    tok.value = true;\n                } else if (tok.upper == 'FALSE') {\n                    tok.type = 'bool';\n                    tok.value = false;\n                }\n            } else if (tok.type == 'ref') {\n                tok = {\n                    type: 'ref',\n                    ref: row != null && col != null ? tok.absolute(row, col) : tok,\n                    begin: tok.begin,\n                    end: tok.end\n                };\n            }\n            return tok;\n        }\n    }\n    exports.parseNameDefinition = parseNameDefinition;\n    exports.parseFormula = parseFormula;\n    exports.parseReference = parseReference;\n    exports.compile = makeFormula;\n    exports.InputStream = InputStream;\n    exports.ParseError = ParseError;\n    exports.tokenize = tokenize;\n    registerFormatParser(function (input) {\n        var m;\n        if (m = /^(\\d+):(\\d+)$/.exec(input)) {\n            var hh = parseInt(m[1], 10);\n            var mm = parseInt(m[2], 10);\n            return {\n                type: 'date',\n                format: 'hh:mm',\n                value: runtime.packTime(hh, mm, 0, 0)\n            };\n        }\n        if (m = /^(\\d+):(\\d+)(\\.\\d+)$/.exec(input)) {\n            var mm = parseInt(m[1], 10);\n            var ss = parseInt(m[2], 10);\n            var ms = parseFloat(m[3]) * 1000;\n            return {\n                type: 'date',\n                format: 'mm:ss.00',\n                value: runtime.packTime(0, mm, ss, ms)\n            };\n        }\n        if (m = /^(\\d+):(\\d+):(\\d+)$/.exec(input)) {\n            var hh = parseInt(m[1], 10);\n            var mm = parseInt(m[2], 10);\n            var ss = parseInt(m[3], 10);\n            return {\n                type: 'date',\n                format: 'hh:mm:ss',\n                value: runtime.packTime(hh, mm, ss, 0)\n            };\n        }\n        if (m = /^(\\d+):(\\d+):(\\d+)(\\.\\d+)$/.exec(input)) {\n            var hh = parseInt(m[1], 10);\n            var mm = parseInt(m[2], 10);\n            var ss = parseInt(m[3], 10);\n            var ms = parseFloat(m[4]) * 1000;\n            return {\n                type: 'date',\n                format: 'hh:mm:ss.00',\n                value: runtime.packTime(hh, mm, ss, ms)\n            };\n        }\n    });\n    registerFormatParser(function (input) {\n        var m, n;\n        var culture = kendo.culture();\n        var comma = culture.numberFormat[','];\n        var dot = culture.numberFormat['.'];\n        var currency = culture.numberFormat.currency.symbol;\n        var rxnum = getNumberRegexp(comma, dot);\n        var rxcur = new RegExp('^\\\\s*\\\\' + currency + '\\\\s*');\n        var sign = 1;\n        var format = '';\n        var suffix = '';\n        var has_currency = false;\n        input = InputStream(input.replace(/^\\s+|\\s+$/g, ''));\n        if (input.skip(/^-\\s*/)) {\n            sign = -1;\n        }\n        if (m = input.skip(rxcur)) {\n            has_currency = true;\n            format += '\"' + m[0] + '\"';\n        }\n        if (input.skip(/^-\\s*/)) {\n            if (sign < 0) {\n                return null;\n            }\n            sign = -1;\n        }\n        if (!(n = input.skip(rxnum))) {\n            return null;\n        }\n        format += '#';\n        if (m = input.skip(rxcur)) {\n            if (has_currency) {\n                return null;\n            }\n            has_currency = true;\n            suffix = '\"' + m[0] + '\"';\n        }\n        if (!input.eof()) {\n            return null;\n        }\n        if (n[2] || has_currency) {\n            format += ',#';\n        }\n        if (n[3]) {\n            format += '.' + repeat('0', n[3].length - 1);\n        }\n        var value = n[0].replace(new RegExp('\\\\' + comma, 'g'), '').replace(new RegExp('\\\\' + dot, 'g'), '.');\n        format += suffix;\n        if (has_currency) {\n            format += ';-' + format;\n        }\n        return {\n            type: 'number',\n            format: format,\n            value: sign * parseFloat(value)\n        };\n    });\n    var NUMBER_FORMAT_RX = {};\n    function getNumberRegexp(comma, dot) {\n        var id = comma + dot;\n        var rx = NUMBER_FORMAT_RX[id];\n        if (!rx) {\n            rx = '^(\\\\d+(COM\\\\d{3})*(DOT\\\\d+)?)';\n            rx = rx.replace(/DOT/g, '\\\\' + dot).replace(/COM/g, '\\\\' + comma);\n            rx = new RegExp(rx);\n            NUMBER_FORMAT_RX[id] = rx;\n        }\n        return rx;\n    }\n    function repeat(str, len) {\n        var out = '';\n        while (len-- > 0) {\n            out += str;\n        }\n        return out;\n    }\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/excel-reader', [\n        'kendo.core',\n        'kendo.color',\n        'util/parse-xml',\n        'spreadsheet/calc'\n    ], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var $ = kendo.jQuery;\n    var parseXML = kendo.util.parseXML;\n    var parseReference = kendo.spreadsheet.calc.parseReference;\n    function readExcel(file, workbook, deferred) {\n        var reader = new FileReader();\n        reader.onload = function (e) {\n            var zip = new JSZip(e.target.result);\n            readWorkbook(zip, workbook, deferred);\n        };\n        reader.readAsArrayBuffer(file);\n    }\n    var SEL_CELL = [\n        'sheetData',\n        'row',\n        'c'\n    ];\n    var SEL_COL = [\n        'cols',\n        'col'\n    ];\n    var SEL_DEFINED_NAME = [\n        'definedNames',\n        'definedName'\n    ];\n    var SEL_FORMULA = [\n        'sheetData',\n        'row',\n        'c',\n        'f'\n    ];\n    var SEL_MERGE = [\n        'mergeCells',\n        'mergeCell'\n    ];\n    var SEL_PANE = [\n        'sheetViews',\n        'sheetView',\n        'pane'\n    ];\n    var SEL_ROW = [\n        'sheetData',\n        'row'\n    ];\n    var SEL_SELECTION = [\n        'sheetViews',\n        'sheetView',\n        'selection'\n    ];\n    var SEL_SHEET = [\n        'sheets',\n        'sheet'\n    ];\n    var SEL_STRING = [\n        'sheetData',\n        'row',\n        'c',\n        'is'\n    ];\n    var SEL_TEXT = ['t'];\n    var SEL_SHARED_STRING = ['si'];\n    var SEL_VALUE = [\n        'sheetData',\n        'row',\n        'c',\n        'v'\n    ];\n    var SEL_VIEW = [\n        'bookViews',\n        'workbookView'\n    ];\n    var SEL_SHEET_VIEW = [\n        'sheetViews',\n        'sheetView'\n    ];\n    var SEL_HYPERLINK = [\n        'hyperlinks',\n        'hyperlink'\n    ];\n    function xl(file) {\n        if (!/^\\//.test(file)) {\n            file = 'xl/' + file;\n        } else {\n            file = file.substr(1);\n        }\n        return file;\n    }\n    function readWorkbook(zip, workbook, progress) {\n        var strings = readStrings(zip);\n        var relationships = readRelationships(zip, '_rels/workbook.xml');\n        var theme = readTheme(zip, relationships.byType.theme[0]);\n        var styles = readStyles(zip, theme);\n        var items = [];\n        var activeSheet = 0;\n        parse(zip, 'xl/workbook.xml', {\n            enter: function (tag, attrs) {\n                if (this.is(SEL_SHEET)) {\n                    var relId = attrs['r:id'];\n                    var file = relationships.byId[relId];\n                    var name = attrs.name;\n                    var dim = sheetDimensions(zip, file);\n                    items.push({\n                        workbook: workbook,\n                        zip: zip,\n                        strings: strings,\n                        styles: styles,\n                        file: file,\n                        options: {\n                            name: name,\n                            rows: Math.max(workbook.options.rows || 0, dim.rows),\n                            columns: Math.max(workbook.options.columns || 0, dim.cols),\n                            columnWidth: dim.columnWidth,\n                            rowHeight: dim.rowHeight\n                        }\n                    });\n                } else if (this.is(SEL_VIEW)) {\n                    if (attrs.activeTab) {\n                        activeSheet = integer(attrs.activeTab);\n                    }\n                }\n            },\n            text: function (text) {\n                var attrs = this.is(SEL_DEFINED_NAME);\n                if (attrs && !(bool(attrs['function']) || bool(attrs.vbProcedure))) {\n                    var localSheetId = attrs.localSheetId;\n                    var sheet = null;\n                    if (localSheetId != null) {\n                        sheet = items[localSheetId].options.name;\n                    }\n                    var name = attrs.name;\n                    if (sheet) {\n                        name = '\\'' + sheet.replace(/\\'/g, '\\\\\\'') + '\\'!' + name;\n                    }\n                    workbook.defineName(name, text, bool(attrs.hidden));\n                }\n            }\n        });\n        var loading = new $.Deferred();\n        loading.progress(function (args) {\n            if (progress) {\n                progress.notify(args);\n            }\n        }).then(function () {\n            var sheets = workbook.sheets();\n            recalcSheets(sheets);\n            workbook.activeSheet(sheets[activeSheet]);\n            if (progress) {\n                progress.resolve();\n            }\n        });\n        loadSheets(items, workbook, loading);\n    }\n    function loadSheets(items, workbook, progress) {\n        var ready = new $.Deferred().resolve();\n        for (var i = 0; i < items.length; i++) {\n            (function (entry, i) {\n                ready = ready.then(function () {\n                    var sheet = workbook.insertSheet(entry.options);\n                    sheet.suspendChanges(true);\n                    var promise = queueSheet(sheet, entry);\n                    var args = {\n                        sheet: sheet,\n                        progress: i / (items.length - 1)\n                    };\n                    promise.then(function () {\n                        progress.notify(args);\n                    });\n                    return promise;\n                });\n            }(items[i], i));\n        }\n        ready.then(function () {\n            progress.resolve();\n        });\n    }\n    function queueSheet(sheet, ctx) {\n        var deferred = new $.Deferred();\n        setTimeout(function () {\n            readSheet(ctx.zip, ctx.file, sheet, ctx.strings, ctx.styles);\n            deferred.resolve();\n        }, 0);\n        return deferred;\n    }\n    function recalcSheets(sheets) {\n        for (var i = 0; i < sheets.length; i++) {\n            sheets[i].suspendChanges(false).triggerChange({ recalc: true });\n        }\n    }\n    function sheetDimensions(zip, file) {\n        var dim = {\n            rows: 0,\n            cols: 0\n        };\n        parse(zip, xl(file), {\n            enter: function (tag, attrs) {\n                if (tag == 'dimension') {\n                    var ref = parseReference(attrs.ref);\n                    if (ref.bottomRight) {\n                        dim.cols = ref.bottomRight.col + 1;\n                        dim.rows = ref.bottomRight.row + 1;\n                    }\n                } else if (tag === 'sheetFormatPr') {\n                    if (attrs.defaultColWidth) {\n                        dim.columnWidth = toColWidth(parseFloat(attrs.defaultColWidth));\n                    }\n                    if (attrs.defaultRowHeight) {\n                        dim.rowHeight = toRowHeight(parseFloat(attrs.defaultRowHeight));\n                    }\n                } else if (this.is(SEL_ROW)) {\n                    this.exit();\n                }\n            }\n        });\n        return dim;\n    }\n    function toColWidth(size) {\n        var maximumDigitWidth = 7;\n        var fraction = (256 * size + Math.floor(128 / maximumDigitWidth)) / 256;\n        return Math.floor(fraction) * maximumDigitWidth;\n    }\n    function toRowHeight(pts) {\n        return pts * 1.5625;\n    }\n    function readSheet(zip, file, sheet, strings, styles) {\n        var ref, type, value, formula, formulaRange;\n        var nCols = sheet._columns._count;\n        var prevCellRef = null;\n        var relsFile = file.replace(/worksheets\\//, 'worksheets/_rels/');\n        var relationships = readRelationships(zip, relsFile);\n        parse(zip, xl(file), {\n            enter: function (tag, attrs) {\n                if (this.is(SEL_CELL)) {\n                    value = null;\n                    formula = null;\n                    formulaRange = null;\n                    ref = attrs.r;\n                    if (ref == null) {\n                        ref = parseReference(prevCellRef);\n                        ref.col++;\n                        ref = ref.toString();\n                    }\n                    prevCellRef = ref;\n                    type = attrs.t;\n                    var styleIndex = attrs.s;\n                    if (styleIndex != null) {\n                        applyStyle(sheet, ref, styles, styleIndex);\n                    }\n                } else if (this.is(SEL_MERGE)) {\n                    sheet.range(attrs.ref).merge();\n                } else if (this.is(SEL_COL)) {\n                    var start = integer(attrs.min) - 1;\n                    var stop = Math.min(nCols, integer(attrs.max)) - 1;\n                    var width;\n                    if (attrs.width) {\n                        width = toColWidth(parseFloat(attrs.width));\n                        if (width !== 0) {\n                            sheet._columns.values.value(start, stop, width);\n                        }\n                    }\n                    if (attrs.hidden === '1' || width === 0) {\n                        for (var ci = start; ci <= stop; ci++) {\n                            sheet.hideColumn(ci);\n                        }\n                    }\n                } else if (this.is(SEL_ROW)) {\n                    var row = integer(attrs.r) - 1;\n                    var height;\n                    if (attrs.ht) {\n                        height = toRowHeight(parseFloat(attrs.ht));\n                        if (height !== 0) {\n                            sheet._rows.values.value(row, row, height);\n                        }\n                    }\n                    if (attrs.hidden === '1' || height === 0) {\n                        sheet.hideRow(row);\n                    }\n                } else if (this.is(SEL_SELECTION)) {\n                    if (attrs.activeCell) {\n                        var acRef = parseReference(attrs.activeCell);\n                        sheet.select(acRef, true);\n                    }\n                } else if (this.is(SEL_PANE)) {\n                    if (attrs.state == 'frozen') {\n                        if (attrs.xSplit) {\n                            sheet.frozenColumns(integer(attrs.xSplit));\n                        }\n                        if (attrs.ySplit) {\n                            sheet.frozenRows(integer(attrs.ySplit));\n                        }\n                    }\n                } else if (this.is(SEL_SHEET_VIEW)) {\n                    sheet.showGridLines(bool(attrs.showGridLines, true));\n                } else if (this.is(SEL_HYPERLINK)) {\n                    var relId = attrs['r:id'];\n                    var target = relationships.byId[relId];\n                    if (target) {\n                        sheet.range(attrs.ref).link(target);\n                    }\n                }\n            },\n            leave: function (tag) {\n                if (this.is(SEL_CELL)) {\n                    if (formula != null) {\n                        try {\n                            sheet.range(formulaRange || ref).formula(formula);\n                        } catch (ex) {\n                            sheet.range(formulaRange || ref).value(formula).background('#ffaaaa');\n                        }\n                    } else if (value != null) {\n                        var range = sheet.range(ref);\n                        if (!range._get('formula')) {\n                            if (!type || type == 'n') {\n                                value = parseFloat(value);\n                            } else if (type == 's') {\n                                value = strings[integer(value)];\n                            } else if (type == 'b') {\n                                value = value === '1';\n                            } else if (type == 'd') {\n                                value = kendo.parseDate(value);\n                            }\n                            if (value != null) {\n                                range.value(value);\n                            }\n                        }\n                    }\n                } else if (tag == 'cols') {\n                    sheet._columns._refresh();\n                } else if (tag == 'sheetData') {\n                    sheet._rows._refresh();\n                }\n            },\n            text: function (text) {\n                var attrs;\n                if (this.is(SEL_VALUE) || this.is(SEL_STRING)) {\n                    value = text;\n                } else if (attrs = this.is(SEL_FORMULA)) {\n                    formula = text;\n                    if (attrs.t == 'shared') {\n                        formulaRange = attrs.ref;\n                    }\n                }\n            }\n        });\n    }\n    var BORDER_WIDTHS = {\n        'none': 0,\n        'thin': 1,\n        'medium': 2,\n        'dashed': 1,\n        'dotted': 1,\n        'thick': 3,\n        'double': 3,\n        'hair': 1,\n        'mediumDashed': 2,\n        'dashDot': 1,\n        'mediumDashDot': 2,\n        'dashDotDot': 1,\n        'mediumDashDotDot': 2,\n        'slantDashDot': 1\n    };\n    var DEFAULT_FORMATS = {\n        0: 'General',\n        1: '0',\n        2: '0.00',\n        3: '#,##0',\n        4: '#,##0.00',\n        9: '0%',\n        10: '0.00%',\n        11: '0.00E+00',\n        12: '# ?/?',\n        13: '# ??/??',\n        14: 'mm-dd-yy',\n        15: 'd-mmm-yy',\n        16: 'd-mmm',\n        17: 'mmm-yy',\n        18: 'h:mm AM/PM',\n        19: 'h:mm:ss AM/PM',\n        20: 'h:mm',\n        21: 'h:mm:ss',\n        22: 'm/d/yy h:mm',\n        37: '#,##0 ;(#,##0)',\n        38: '#,##0 ;[Red](#,##0)',\n        39: '#,##0.00;(#,##0.00)',\n        40: '#,##0.00;[Red](#,##0.00)',\n        45: 'mm:ss',\n        46: '[h]:mm:ss',\n        47: 'mmss.0',\n        48: '##0.0E+0',\n        49: '@'\n    };\n    function applyStyle(sheet, ref, styles, styleIndex) {\n        var range = sheet.range(ref);\n        var xf = styles.inlineStyles[styleIndex], base, value;\n        if (xf.xfId) {\n            base = styles.namedStyles[xf.xfId];\n        }\n        if (shouldSet('applyBorder', 'borderId')) {\n            setBorder(styles.borders[value]);\n        }\n        if (shouldSet('applyFont', 'fontId')) {\n            setFont(styles.fonts[value]);\n        }\n        if (shouldSet('applyAlignment', 'textAlign')) {\n            range.textAlign(value);\n        }\n        if (shouldSet('applyAlignment', 'verticalAlign')) {\n            range.verticalAlign(value);\n        }\n        if (shouldSet('applyAlignment', 'wrapText')) {\n            range._property('wrap', value);\n        }\n        if (shouldSet('applyFill', 'fillId')) {\n            setFill(styles.fills[value]);\n        }\n        if (shouldSet('applyNumberFormat', 'numFmtId')) {\n            setFormat(styles.numFmts[value] || DEFAULT_FORMATS[value]);\n        }\n        function setFormat(f) {\n            var format = typeof f == 'string' ? f : f.formatCode;\n            if (format != null && !/^general$/i.test(format)) {\n                format = format.replace(/^\\[\\$-[0-9]+\\]/, '');\n                range.format(format);\n            }\n        }\n        function setFill(f) {\n            if (f.type == 'solid') {\n                range.background(f.color);\n            }\n        }\n        function setFont(f) {\n            range.fontFamily(f.name);\n            range._property('fontSize', f.size);\n            if (f.bold) {\n                range.bold(true);\n            }\n            if (f.italic) {\n                range.italic(true);\n            }\n        }\n        function setBorder(b) {\n            function set(side, prop) {\n                var border = b[side];\n                if (!border) {\n                    return;\n                }\n                var width = BORDER_WIDTHS[border.style];\n                if (width === 0) {\n                    return;\n                }\n                var color = border.color;\n                if (color == null) {\n                    color = '#000';\n                }\n                range._property(prop, {\n                    size: width,\n                    color: color\n                });\n            }\n            set('left', 'borderLeft');\n            set('top', 'borderTop');\n            set('right', 'borderRight');\n            set('bottom', 'borderBottom');\n        }\n        function shouldSet(applyName, propName) {\n            var t = xf[applyName];\n            if (t != null && !t) {\n                return false;\n            }\n            value = xf[propName];\n            if (base && value == null) {\n                t = base[applyName];\n                if (t != null && !t) {\n                    return false;\n                }\n                value = base[propName];\n            }\n            return value != null;\n        }\n    }\n    function parse(zip, file, callbacks) {\n        var part = zip.files[file];\n        if (part) {\n            parseXML(part.asUint8Array(), callbacks);\n        }\n    }\n    function readStrings(zip) {\n        var strings = [];\n        var current = null;\n        parse(zip, 'xl/sharedStrings.xml', {\n            leave: function () {\n                if (this.is(SEL_SHARED_STRING)) {\n                    strings.push(current);\n                    current = null;\n                }\n            },\n            text: function (text) {\n                if (this.is(SEL_TEXT)) {\n                    if (current == null) {\n                        current = '';\n                    }\n                    current += text;\n                }\n            }\n        });\n        return strings;\n    }\n    function readRelationships(zip, file) {\n        var map = {\n            byId: {},\n            byType: { theme: [] }\n        };\n        parse(zip, xl(file) + '.rels', {\n            enter: function (tag, attrs) {\n                if (tag == 'Relationship') {\n                    map.byId[attrs.Id] = attrs.Target;\n                    var type = attrs.Type.match(/\\w+$/)[0];\n                    var entries = map.byType[type] || [];\n                    entries.push(attrs.Target);\n                    map.byType[type] = entries;\n                }\n            }\n        });\n        return map;\n    }\n    var SEL_BORDER = [\n        'borders',\n        'border'\n    ];\n    var SEL_FILL = [\n        'fills',\n        'fill'\n    ];\n    var SEL_FONT = [\n        'fonts',\n        'font'\n    ];\n    var SEL_INLINE_STYLE = [\n        'cellXfs',\n        'xf'\n    ];\n    var SEL_NAMED_STYLE = [\n        'cellStyleXfs',\n        'xf'\n    ];\n    var SEL_NUM_FMT = [\n        'numFmts',\n        'numFmt'\n    ];\n    var INDEXED_COLORS = [\n        toCSSColor('FF000000'),\n        toCSSColor('FFFFFFFF'),\n        toCSSColor('FFFF0000'),\n        toCSSColor('FF00FF00'),\n        toCSSColor('FF0000FF'),\n        toCSSColor('FFFFFF00'),\n        toCSSColor('FFFF00FF'),\n        toCSSColor('FF00FFFF'),\n        toCSSColor('FF000000'),\n        toCSSColor('FFFFFFFF'),\n        toCSSColor('FFFF0000'),\n        toCSSColor('FF00FF00'),\n        toCSSColor('FF0000FF'),\n        toCSSColor('FFFFFF00'),\n        toCSSColor('FFFF00FF'),\n        toCSSColor('FF00FFFF'),\n        toCSSColor('FF800000'),\n        toCSSColor('FF008000'),\n        toCSSColor('FF000080'),\n        toCSSColor('FF808000'),\n        toCSSColor('FF800080'),\n        toCSSColor('FF008080'),\n        toCSSColor('FFC0C0C0'),\n        toCSSColor('FF808080'),\n        toCSSColor('FF9999FF'),\n        toCSSColor('FF993366'),\n        toCSSColor('FFFFFFCC'),\n        toCSSColor('FFCCFFFF'),\n        toCSSColor('FF660066'),\n        toCSSColor('FFFF8080'),\n        toCSSColor('FF0066CC'),\n        toCSSColor('FFCCCCFF'),\n        toCSSColor('FF000080'),\n        toCSSColor('FFFF00FF'),\n        toCSSColor('FFFFFF00'),\n        toCSSColor('FF00FFFF'),\n        toCSSColor('FF800080'),\n        toCSSColor('FF800000'),\n        toCSSColor('FF008080'),\n        toCSSColor('FF0000FF'),\n        toCSSColor('FF00CCFF'),\n        toCSSColor('FFCCFFFF'),\n        toCSSColor('FFCCFFCC'),\n        toCSSColor('FFFFFF99'),\n        toCSSColor('FF99CCFF'),\n        toCSSColor('FFFF99CC'),\n        toCSSColor('FFCC99FF'),\n        toCSSColor('FFFFCC99'),\n        toCSSColor('FF3366FF'),\n        toCSSColor('FF33CCCC'),\n        toCSSColor('FF99CC00'),\n        toCSSColor('FFFFCC00'),\n        toCSSColor('FFFF9900'),\n        toCSSColor('FFFF6600'),\n        toCSSColor('FF666699'),\n        toCSSColor('FF969696'),\n        toCSSColor('FF003366'),\n        toCSSColor('FF339966'),\n        toCSSColor('FF003300'),\n        toCSSColor('FF333300'),\n        toCSSColor('FF993300'),\n        toCSSColor('FF993366'),\n        toCSSColor('FF333399'),\n        toCSSColor('FF333333'),\n        toCSSColor('FF000000'),\n        toCSSColor('FFFFFFFF')\n    ];\n    function readStyles(zip, theme) {\n        var styles = {\n            fonts: [],\n            numFmts: {},\n            fills: [],\n            borders: [],\n            namedStyles: [],\n            inlineStyles: []\n        };\n        var font = null;\n        var fill = null;\n        var border = null;\n        var xf = null;\n        parse(zip, 'xl/styles.xml', {\n            enter: function (tag, attrs, closed) {\n                if (this.is(SEL_NUM_FMT)) {\n                    styles.numFmts[attrs.numFmtId] = attrs;\n                } else if (this.is(SEL_FONT)) {\n                    styles.fonts.push(font = {});\n                } else if (font) {\n                    if (tag == 'sz') {\n                        font.size = parseFloat(attrs.val);\n                    } else if (tag == 'name') {\n                        font.name = attrs.val;\n                    } else if (tag == 'b') {\n                        font.bold = bool(attrs.val, true);\n                    } else if (tag == 'i') {\n                        font.italic = bool(attrs.val, true);\n                    }\n                } else if (this.is(SEL_FILL)) {\n                    styles.fills.push(fill = {});\n                } else if (fill) {\n                    if (tag == 'patternFill') {\n                        fill.type = attrs.patternType;\n                    } else if (tag == 'fgColor' && fill.type === 'solid') {\n                        fill.color = getColor(attrs);\n                    } else if (tag == 'bgColor' && fill.type !== 'solid') {\n                        fill.color = getColor(attrs);\n                    }\n                } else if (this.is(SEL_BORDER)) {\n                    styles.borders.push(border = {});\n                } else if (border) {\n                    if (/^(?:left|top|right|bottom)$/.test(tag) && attrs.style) {\n                        border[tag] = { style: attrs.style };\n                    }\n                    if (tag == 'color') {\n                        var side = this.stack[this.stack.length - 2].$tag;\n                        border[side].color = getColor(attrs);\n                    }\n                } else if (this.is(SEL_NAMED_STYLE)) {\n                    xf = getXf(attrs);\n                    styles.namedStyles.push(xf);\n                    if (closed) {\n                        xf = null;\n                    }\n                } else if (this.is(SEL_INLINE_STYLE)) {\n                    xf = getXf(attrs);\n                    styles.inlineStyles.push(xf);\n                    if (closed) {\n                        xf = null;\n                    }\n                } else if (xf) {\n                    if (tag == 'alignment') {\n                        if (/^(?:left|center|right|justify)$/.test(attrs.horizontal)) {\n                            xf.textAlign = attrs.horizontal;\n                        }\n                        if (/^(?:top|center|bottom)$/.test(attrs.vertical)) {\n                            xf.verticalAlign = attrs.vertical;\n                        }\n                        if (attrs.wrapText != null) {\n                            xf.wrapText = bool(attrs.wrapText);\n                        }\n                    }\n                }\n            },\n            leave: function (tag) {\n                if (this.is(SEL_FONT)) {\n                    font = null;\n                } else if (this.is(SEL_FILL)) {\n                    fill = null;\n                } else if (this.is(SEL_BORDER)) {\n                    border = null;\n                } else if (tag == 'xf') {\n                    xf = null;\n                }\n            }\n        });\n        function getXf(attrs) {\n            var xf = {\n                borderId: integer(attrs.borderId),\n                fillId: integer(attrs.fillId),\n                fontId: integer(attrs.fontId),\n                numFmtId: integer(attrs.numFmtId),\n                pivotButton: bool(attrs.pivotButton),\n                quotePrefix: bool(attrs.quotePrefix),\n                xfId: integer(attrs.xfId)\n            };\n            addBool('applyAlignment');\n            addBool('applyBorder');\n            addBool('applyFill');\n            addBool('applyFont');\n            addBool('applyNumberFormat');\n            addBool('applyProtection');\n            function addBool(name) {\n                if (attrs[name] != null) {\n                    xf[name] = bool(attrs[name]);\n                }\n            }\n            return xf;\n        }\n        function getColor(attrs) {\n            if (attrs.rgb) {\n                return toCSSColor(attrs.rgb);\n            } else if (attrs.indexed) {\n                return INDEXED_COLORS[integer(attrs.indexed)];\n            } else if (attrs.theme) {\n                var themeColor = theme.colorScheme[integer(attrs.theme)];\n                if (!themeColor) {\n                    return INDEXED_COLORS[0];\n                }\n                var color = kendo.parseColor(themeColor);\n                if (attrs.tint) {\n                    color = color.toHSL();\n                    var tint = parseFloat(attrs.tint);\n                    if (tint < 0) {\n                        color.l = color.l * (1 + tint);\n                    } else {\n                        color.l = color.l * (1 - tint) + (100 - 100 * (1 - tint));\n                    }\n                }\n                return color.toCssRgba();\n            }\n        }\n        return styles;\n    }\n    var SEL_SCHEME_RGBCLR = [\n        'a:clrScheme',\n        '*',\n        'a:srgbClr'\n    ];\n    var SEL_SCHEME_SYSCLR = [\n        'a:clrScheme',\n        '*',\n        'a:sysClr'\n    ];\n    function readTheme(zip, rel) {\n        var scheme = [];\n        var theme = { colorScheme: scheme };\n        var file = xl(rel);\n        if (zip.files[file]) {\n            parse(zip, file, {\n                enter: function (tag, attrs) {\n                    if (this.is(SEL_SCHEME_SYSCLR)) {\n                        scheme.push(toCSSColor(attrs.val == 'window' ? 'FFFFFFFF' : 'FF000000'));\n                    } else if (this.is(SEL_SCHEME_RGBCLR)) {\n                        scheme.push(toCSSColor('FF' + attrs.val));\n                    }\n                }\n            });\n            if (scheme.length > 3) {\n                swap(scheme, 0, 1);\n                swap(scheme, 2, 3);\n            }\n        }\n        function swap(arr, a, b) {\n            var tmp = arr[a];\n            arr[a] = arr[b];\n            arr[b] = tmp;\n        }\n        return theme;\n    }\n    function integer(val) {\n        return val == null ? null : parseInt(val, 10);\n    }\n    function bool(val, def) {\n        if (val == null) {\n            return def;\n        }\n        return val == 'true' || val === true || val == 1;\n    }\n    function toCSSColor(rgb) {\n        var m = /^([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(rgb);\n        return 'rgba(' + parseInt(m[2], 16) + ', ' + parseInt(m[3], 16) + ', ' + parseInt(m[4], 16) + ', ' + parseInt(m[1], 16) / 255 + ')';\n    }\n    kendo.spreadsheet.readExcel = readExcel;\n    kendo.spreadsheet._readSheet = readSheet;\n    kendo.spreadsheet._readStrings = readStrings;\n    kendo.spreadsheet._readStyles = readStyles;\n    kendo.spreadsheet._readTheme = readTheme;\n    kendo.spreadsheet._readWorkbook = readWorkbook;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/workbook', [\n        'kendo.core',\n        'spreadsheet/runtime',\n        'spreadsheet/references',\n        'spreadsheet/excel-reader'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var Formula = kendo.spreadsheet.calc.runtime.Formula;\n        var Ref = kendo.spreadsheet.Ref;\n        var CalcError = kendo.spreadsheet.CalcError;\n        var Workbook = kendo.Observable.extend({\n            init: function (options, view) {\n                kendo.Observable.fn.init.call(this);\n                this.options = options;\n                this._view = view;\n                this._sheets = [];\n                this._sheetsSearchCache = {};\n                this._sheet = this.insertSheet({\n                    rows: this.options.rows,\n                    columns: this.options.columns,\n                    rowHeight: this.options.rowHeight,\n                    columnWidth: this.options.columnWidth,\n                    headerHeight: this.options.headerHeight,\n                    headerWidth: this.options.headerWidth,\n                    dataSource: this.options.dataSource\n                });\n                this.undoRedoStack = new kendo.util.UndoRedoStack();\n                this.undoRedoStack.bind([\n                    'undo',\n                    'redo'\n                ], this._onUndoRedo.bind(this));\n                this._context = new kendo.spreadsheet.FormulaContext(this);\n                this._validationContext = new kendo.spreadsheet.ValidationFormulaContext(this);\n                this._names = Object.create(null);\n                this.fromJSON(this.options);\n            },\n            clipboard: function () {\n                if (!this._clipboard) {\n                    this._clipboard = new kendo.spreadsheet.Clipboard(this);\n                }\n                return this._clipboard;\n            },\n            destroy: function () {\n                this.unbind();\n                if (this._clipboard) {\n                    this._clipboard.destroy();\n                }\n            },\n            events: [\n                'change',\n                'excelImport',\n                'excelExport'\n            ],\n            _sheetChange: function (e) {\n                this.trigger('change', e);\n            },\n            _sheetCommandRequest: function (e) {\n                this.trigger('commandRequest', e);\n            },\n            _inputForRef: function (ref) {\n                return new kendo.spreadsheet.Range(ref, this._sheet).input();\n            },\n            _onUndoRedo: function (e) {\n                e.command.range().select();\n            },\n            execute: function (options) {\n                var commandOptions = $.extend({ workbook: this }, options.options);\n                var command = new kendo.spreadsheet[options.command](commandOptions);\n                var sheet = this.activeSheet();\n                if (commandOptions.origin) {\n                    command.origin(commandOptions.origin);\n                }\n                if (commandOptions.operatingRange) {\n                    command.range(commandOptions.operatingRange);\n                } else if (commandOptions.editActiveCell) {\n                    command.range(sheet.activeCellSelection());\n                } else {\n                    command.range(sheet.selection());\n                }\n                var result = command.exec();\n                if (!result || result.reason !== 'error') {\n                    if (command.cannotUndo) {\n                        this.undoRedoStack.clear();\n                    } else {\n                        this.undoRedoStack.push(command);\n                    }\n                }\n                return result;\n            },\n            resetFormulas: function () {\n                this._sheets.forEach(function (sheet) {\n                    sheet.resetFormulas();\n                });\n            },\n            resetValidations: function () {\n                this._sheets.forEach(function (sheet) {\n                    sheet.resetValidations();\n                });\n            },\n            refresh: function (reason) {\n                if (reason.recalc) {\n                    this.resetFormulas();\n                    this.resetValidations();\n                    this._sheet.recalc(this._context);\n                    this._sheet.revalidate(this._validationContext);\n                }\n            },\n            activeSheet: function (sheet) {\n                if (sheet === undefined) {\n                    return this._sheet;\n                }\n                if (!this.sheetByName(sheet.name())) {\n                    return;\n                }\n                this._sheet = sheet;\n                sheet.triggerChange(kendo.spreadsheet.ALL_REASONS);\n            },\n            moveSheetToIndex: function (sheet, toIndex) {\n                var fromIndex = this.sheetIndex(sheet);\n                var sheets = this._sheets;\n                if (fromIndex === -1) {\n                    return;\n                }\n                this._sheetsSearchCache = {};\n                sheets.splice(toIndex, 0, sheets.splice(fromIndex, 1)[0]);\n                this.trigger('change', { sheetSelection: true });\n            },\n            insertSheet: function (options) {\n                options = options || {};\n                var that = this;\n                var insertIndex = typeof options.index === 'number' ? options.index : that._sheets.length;\n                var sheetName;\n                var sheets = that._sheets;\n                var getUniqueSheetName = function (sheetNameSuffix) {\n                    sheetNameSuffix = sheetNameSuffix ? sheetNameSuffix : 1;\n                    var name = 'Sheet' + sheetNameSuffix;\n                    if (!that.sheetByName(name)) {\n                        return name;\n                    }\n                    return getUniqueSheetName(sheetNameSuffix + 1);\n                };\n                if (options.name && that.sheetByName(options.name)) {\n                    return;\n                }\n                this._sheetsSearchCache = {};\n                sheetName = options.name || getUniqueSheetName();\n                var sheet = new kendo.spreadsheet.Sheet(options.rows || this.options.rows, options.columns || this.options.columns, options.rowHeight || this.options.rowHeight, options.columnWidth || this.options.columnWidth, options.headerHeight || this.options.headerHeight, options.headerWidth || this.options.headerWidth);\n                sheet._workbook = this;\n                sheet._name(sheetName);\n                sheet.bind('change', this._sheetChange.bind(this));\n                sheet.bind('commandRequest', this._sheetCommandRequest.bind(this));\n                sheets.splice(insertIndex, 0, sheet);\n                if (options.data) {\n                    sheet.fromJSON(options.data);\n                }\n                if (options.dataSource) {\n                    sheet.setDataSource(options.dataSource);\n                }\n                this.trigger('change', { sheetSelection: true });\n                return sheet;\n            },\n            sheets: function () {\n                return this._sheets.slice();\n            },\n            sheetByName: function (sheetName) {\n                return this._sheets[this.sheetIndex(sheetName)];\n            },\n            sheetByIndex: function (index) {\n                return this._sheets[index];\n            },\n            sheetIndex: function (sheet) {\n                var sheets = this._sheets;\n                var sheetName = (typeof sheet == 'string' ? sheet : sheet.name()).toLowerCase();\n                var idx = this._sheetsSearchCache[sheetName];\n                if (idx >= 0) {\n                    return idx;\n                }\n                for (idx = 0; idx < sheets.length; idx++) {\n                    var name = sheets[idx].name().toLowerCase();\n                    this._sheetsSearchCache[name] = idx;\n                    if (name === sheetName) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            renameSheet: function (sheet, newSheetName) {\n                var oldSheetName = sheet.name().toLowerCase();\n                if (!newSheetName || oldSheetName === newSheetName.toLowerCase() || this.sheetByName(newSheetName)) {\n                    return;\n                }\n                sheet = this.sheetByName(oldSheetName);\n                if (!sheet) {\n                    return;\n                }\n                this._sheetsSearchCache = {};\n                this._sheets.forEach(function (sheet) {\n                    sheet._forFormulas(function (formula) {\n                        formula.renameSheet(oldSheetName, newSheetName);\n                    });\n                });\n                this.forEachName(function (def, name) {\n                    if (def.nameref.renameSheet(oldSheetName, newSheetName)) {\n                        this.undefineName(name);\n                        def.name = def.nameref.print();\n                        this.nameDefinition(def.name, def);\n                    }\n                    if (def.value instanceof Ref || def.value instanceof Formula) {\n                        def.value.renameSheet(oldSheetName, newSheetName);\n                    }\n                }.bind(this));\n                sheet._name(newSheetName);\n                this.trigger('change', { sheetSelection: true });\n                return sheet;\n            },\n            removeSheet: function (sheet) {\n                var that = this;\n                var sheets = that._sheets;\n                var name = sheet.name();\n                var index = that.sheetIndex(sheet);\n                if (sheets.length === 1) {\n                    return;\n                }\n                this._sheetsSearchCache = {};\n                if (index > -1) {\n                    sheet.unbind();\n                    sheets.splice(index, 1);\n                    if (that.activeSheet().name() === name) {\n                        var newSheet = sheets[index === sheets.length ? index - 1 : index];\n                        that.activeSheet(newSheet);\n                    } else {\n                        this.trigger('change', {\n                            recalc: true,\n                            sheetSelection: true\n                        });\n                    }\n                }\n            },\n            _clearSheets: function () {\n                for (var i = 0; i < this._sheets.length; i++) {\n                    this._sheets[i].unbind();\n                }\n                this._sheets = [];\n                this._sheetsSearchCache = {};\n                this._names = {};\n            },\n            fromJSON: function (json) {\n                if (json.sheets) {\n                    this._clearSheets();\n                    for (var idx = 0; idx < json.sheets.length; idx++) {\n                        var data = json.sheets[idx];\n                        var args = sheetParamsFromJSON(data, this.options);\n                        var sheet = this.insertSheet({\n                            rows: args.rowCount,\n                            columns: args.columnCount,\n                            rowHeight: args.rowHeight,\n                            columnWidth: args.columnWidth,\n                            headerHeight: args.headerHeight,\n                            headerWidth: args.headerWidth,\n                            data: data\n                        });\n                        if (data.dataSource) {\n                            sheet.setDataSource(data.dataSource);\n                        }\n                    }\n                }\n                if (json.activeSheet) {\n                    this.activeSheet(this.sheetByName(json.activeSheet));\n                } else {\n                    this.activeSheet(this._sheets[0]);\n                }\n                if (json.names) {\n                    json.names.forEach(function (def) {\n                        this.defineName(def.name, def.value, def.hidden);\n                    }, this);\n                }\n            },\n            toJSON: function () {\n                this.resetFormulas();\n                this.resetValidations();\n                var names = Object.keys(this._names).map(function (name) {\n                    var def = this._names[name];\n                    var val = def.value;\n                    if (val instanceof Ref || val instanceof Formula) {\n                        val = val.print(0, 0, true);\n                    } else if (val instanceof CalcError) {\n                        val = val + '';\n                    } else {\n                        val = JSON.stringify(val);\n                    }\n                    return {\n                        value: val,\n                        hidden: def.hidden,\n                        name: def.name,\n                        sheet: def.nameref.sheet,\n                        localName: def.nameref.name\n                    };\n                }, this);\n                return {\n                    activeSheet: this.activeSheet().name(),\n                    sheets: this._sheets.map(function (sheet) {\n                        sheet.recalc(this._context);\n                        sheet.revalidate(this._validationContext);\n                        return sheet.toJSON();\n                    }, this),\n                    names: names\n                };\n            },\n            fromFile: function (file) {\n                var deferred = new $.Deferred();\n                var promise = deferred.promise();\n                var args = {\n                    file: file,\n                    promise: promise\n                };\n                if (file && !this.trigger('excelImport', args)) {\n                    this._clearSheets();\n                    kendo.spreadsheet.readExcel(file, this, deferred);\n                } else {\n                    deferred.reject();\n                }\n                return promise;\n            },\n            saveAsExcel: function (options) {\n                options = $.extend({}, this.options.excel, options);\n                var data = this.toJSON();\n                if (!this.trigger('excelExport', { workbook: data })) {\n                    var workbook = new kendo.ooxml.Workbook(data);\n                    kendo.saveAs({\n                        dataURI: workbook.toDataURL(),\n                        fileName: data.fileName || options.fileName,\n                        proxyURL: options.proxyURL,\n                        forceProxy: options.forceProxy\n                    });\n                }\n            },\n            draw: function (options, callback) {\n                if (typeof options == 'function' && !callback) {\n                    callback = options;\n                    options = {};\n                }\n                var parts = [], sheets = this._sheets;\n                (function loop(i) {\n                    if (i < sheets.length) {\n                        sheets[i].draw(kendo.spreadsheet.SHEETREF, options, function (group) {\n                            parts.push(group);\n                            loop(i + 1);\n                        });\n                    } else {\n                        var group = parts[0];\n                        for (i = 1; i < parts.length; ++i) {\n                            group.children = group.children.concat(parts[i].children);\n                        }\n                        callback(group);\n                    }\n                }(0));\n            },\n            nameForRef: function (ref, sheet) {\n                if (sheet === undefined) {\n                    sheet = ref.sheet;\n                }\n                sheet = sheet.toLowerCase();\n                var str = ref + '';\n                for (var name in this._names) {\n                    var def = this._names[name];\n                    var val = def.value;\n                    if (val instanceof Ref) {\n                        if (!val.sheet || val.sheet && sheet == val.sheet.toLowerCase()) {\n                            if (val + '' == str) {\n                                return def;\n                            }\n                        }\n                    }\n                }\n                return { name: str };\n            },\n            defineName: function (name, value, hidden) {\n                var x = kendo.spreadsheet.calc.parseNameDefinition(name, value);\n                name = x.name.print();\n                this._names[name.toLowerCase()] = {\n                    value: x.value,\n                    hidden: hidden,\n                    name: name,\n                    nameref: x.name\n                };\n            },\n            undefineName: function (name) {\n                delete this._names[name.toLowerCase()];\n            },\n            nameValue: function (name) {\n                name = name.toLowerCase();\n                if (name in this._names) {\n                    return this._names[name].value;\n                }\n                return null;\n            },\n            nameDefinition: function (name, def) {\n                name = name.toLowerCase();\n                if (arguments.length > 1) {\n                    if (def === undefined) {\n                        delete this._names[name];\n                    } else {\n                        this._names[name] = def;\n                    }\n                }\n                return this._names[name];\n            },\n            forEachName: function (func) {\n                Object.keys(this._names).forEach(function (name) {\n                    func(this._names[name], name);\n                }, this);\n            },\n            adjustNames: function (affectedSheet, forRow, start, delta) {\n                affectedSheet = affectedSheet.toLowerCase();\n                Object.keys(this._names).forEach(function (name) {\n                    var def = this._names[name];\n                    var x = def.value;\n                    if (x instanceof Ref && x.sheet.toLowerCase() == affectedSheet) {\n                        def.value = x.adjust(null, null, null, null, forRow, start, delta);\n                    } else if (x instanceof Formula) {\n                        x.adjust(affectedSheet, forRow ? 'row' : 'col', start, delta);\n                    }\n                }, this);\n            },\n            options: {}\n        });\n        function sheetParamsFromJSON(data, options) {\n            function or(a, b, c) {\n                return a !== undefined ? a : b !== undefined ? b : c;\n            }\n            var rowCount = or(data.rowCount, options.rows, 200), columnCount = or(data.columnCount, options.columns, 50), rowHeight = or(data.rowHeight, options.rowHeight, 20), columnWidth = or(data.columnWidth, options.columnWidth, 64), headerHeight = or(data.headerHeight, options.headerHeight, 20), headerWidth = or(data.headerWidth, options.headerWidth, 32);\n            if (data.rows !== undefined) {\n                for (var i = 0; i < data.rows.length; ++i) {\n                    var row = data.rows[i];\n                    var ri = or(row.index, i);\n                    if (ri >= rowCount) {\n                        rowCount = ri + 1;\n                    }\n                    if (row.cells) {\n                        for (var j = 0; j < row.cells.length; ++j) {\n                            var cell = row.cells[j];\n                            var ci = or(cell.index, j);\n                            if (ci >= columnCount) {\n                                columnCount = ci + 1;\n                            }\n                        }\n                    }\n                }\n            }\n            return {\n                rowCount: rowCount,\n                columnCount: columnCount,\n                rowHeight: rowHeight,\n                columnWidth: columnWidth,\n                headerHeight: headerHeight,\n                headerWidth: headerWidth\n            };\n        }\n        kendo.spreadsheet.Workbook = Workbook;\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Workbook.prototype);\n            Workbook.prototype.saveAsPDF = function (options) {\n                var progress = new $.Deferred();\n                var promise = progress.promise();\n                var args = { promise: promise };\n                if (this.trigger('pdfExport', args)) {\n                    return;\n                }\n                this._drawPDF(options, progress).then(function (root) {\n                    return kendo.drawing.exportPDF(root);\n                }).done(function (dataURI) {\n                    kendo.saveAs({\n                        dataURI: dataURI,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL,\n                        forceProxy: options.forceProxy,\n                        proxyTarget: options.proxyTarget\n                    });\n                    progress.resolve();\n                }).fail(function (err) {\n                    progress.reject(err);\n                });\n                return promise;\n            };\n            Workbook.prototype._drawPDF = function (options) {\n                var result = new $.Deferred();\n                var callback = function (group) {\n                    result.resolve(group);\n                };\n                switch (options.area) {\n                case 'workbook':\n                    options.workbook.draw(options, callback);\n                    break;\n                case 'sheet':\n                    options.workbook.activeSheet().draw(options, callback);\n                    break;\n                case 'selection':\n                    options.workbook.activeSheet().selection().draw(options, callback);\n                    break;\n                }\n                return result.promise();\n            };\n        }\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/formulacontext', ['kendo.core'], f);\n}(function () {\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var spreadsheet = kendo.spreadsheet;\n    var CellRef = spreadsheet.CellRef;\n    var RangeRef = spreadsheet.RangeRef;\n    var UnionRef = spreadsheet.UnionRef;\n    var NameRef = spreadsheet.NameRef;\n    var Ref = spreadsheet.Ref;\n    var FormulaContext = kendo.Class.extend({\n        init: function (workbook) {\n            this.workbook = workbook;\n        },\n        getRefCells: function (ref, hiddenInfo, fsheet, frow, fcol) {\n            var sheet, formula, value, i;\n            if (ref instanceof CellRef) {\n                sheet = this.workbook.sheetByName(ref.sheet);\n                if (!sheet || !ref.valid()) {\n                    return [{ value: new kendo.spreadsheet.calc.runtime.CalcError('REF') }];\n                }\n                formula = sheet.formula(ref);\n                value = sheet.range(ref.row, ref.col).value();\n                if (formula != null || value != null) {\n                    return [{\n                            formula: formula,\n                            value: value,\n                            row: ref.row,\n                            col: ref.col,\n                            sheet: ref.sheet,\n                            hidden: hiddenInfo ? sheet.columnWidth(ref.col) === 0 || sheet.rowHeight(ref.row) === 0 : false\n                        }];\n                } else {\n                    return [];\n                }\n            }\n            if (ref instanceof RangeRef) {\n                i = this.workbook.sheetIndex(ref.sheet);\n                var states = [], n = i;\n                if (ref.endSheet) {\n                    n = this.workbook.sheetIndex(ref.endSheet);\n                    if (i > n) {\n                        var tmp = i;\n                        i = n;\n                        n = tmp;\n                    }\n                }\n                if (i < 0 || n < 0 || !ref.valid()) {\n                    return [{ value: new kendo.spreadsheet.calc.runtime.CalcError('REF') }];\n                }\n                while (i <= n) {\n                    sheet = this.workbook.sheetByIndex(i++);\n                    var tl = sheet._grid.normalize(ref.topLeft);\n                    var br = sheet._grid.normalize(ref.bottomRight);\n                    var startCellIndex = sheet._grid.cellRefIndex(tl);\n                    var endCellIndex = sheet._grid.cellRefIndex(br);\n                    var values = sheet._properties.iterator('value', startCellIndex, endCellIndex);\n                    for (var col = tl.col; col <= br.col; ++col) {\n                        for (var row = tl.row; row <= br.row; ++row) {\n                            var index = sheet._grid.index(row, col);\n                            formula = sheet._properties.get('formula', index);\n                            value = values.at(index);\n                            if (formula != null || value != null) {\n                                states.push({\n                                    formula: formula,\n                                    value: value,\n                                    row: row,\n                                    col: col,\n                                    sheet: sheet.name(),\n                                    hidden: hiddenInfo ? sheet.columnWidth(col) === 0 || sheet.rowHeight(row) === 0 : false\n                                });\n                            }\n                        }\n                    }\n                }\n                return states;\n            }\n            if (ref instanceof UnionRef) {\n                var a = [];\n                for (i = 0; i < ref.refs.length; ++i) {\n                    a = a.concat(this.getRefCells(ref.refs[i], hiddenInfo, fsheet, frow, fcol));\n                }\n                return a;\n            }\n            if (ref instanceof NameRef) {\n                var val = this.nameValue(ref, fsheet, frow, fcol);\n                if (val instanceof Ref) {\n                    return this.getRefCells(val, hiddenInfo, fsheet, frow, fcol);\n                }\n                return [{ value: val == null ? new kendo.spreadsheet.calc.runtime.CalcError('NAME') : val }];\n            }\n            return [];\n        },\n        nameValue: function (ref, fsheet, frow, fcol) {\n            var val;\n            if (ref.hasSheet()) {\n                val = this.workbook.nameValue(ref.print());\n            } else {\n                ref = ref.clone().setSheet(fsheet, true);\n                val = this.workbook.nameValue(ref.print());\n                if (val == null) {\n                    val = this.workbook.nameValue(ref.name);\n                }\n            }\n            if (val instanceof Ref) {\n                val = val.absolute(frow, fcol);\n            }\n            return val;\n        },\n        getData: function (ref, fsheet, frow, fcol) {\n            var single = ref instanceof CellRef;\n            if (ref instanceof NameRef) {\n                single = this.workbook.nameValue(ref.name) instanceof CellRef;\n            }\n            var data = this.getRefCells(ref, false, fsheet, frow, fcol).map(function (cell) {\n                var val = cell.value;\n                if (val instanceof kendo.spreadsheet.calc.runtime.Formula) {\n                    val = val.value;\n                }\n                return val;\n            });\n            return single ? data[0] : data;\n        },\n        onFormula: function (f) {\n            var sheet = this.workbook.sheetByName(f.sheet);\n            var row = f.row, col = f.col, value = f.value;\n            var currentFormula = sheet.formula({\n                row: row,\n                col: col\n            });\n            if (currentFormula !== f) {\n                return false;\n            }\n            if (value instanceof Ref) {\n                value = this.getData(value, f.sheet, row, col);\n                if (Array.isArray(value)) {\n                    value = value[0];\n                }\n                if (value === undefined) {\n                    value = null;\n                }\n            }\n            if (value instanceof kendo.spreadsheet.calc.runtime.Matrix) {\n                value.each(function (value, r, c) {\n                    sheet._value(row + r, col + c, value);\n                });\n            } else {\n                sheet._value(row, col, value);\n            }\n            clearTimeout(sheet._formulaContextRefresh);\n            sheet._formulaContextRefresh = setTimeout(function () {\n                sheet.batch(function () {\n                }, { layout: true });\n            }, 50);\n            return true;\n        }\n    });\n    var ValidationFormulaContext = FormulaContext.extend({\n        onFormula: function () {\n            return true;\n        }\n    });\n    spreadsheet.FormulaContext = FormulaContext;\n    spreadsheet.ValidationFormulaContext = ValidationFormulaContext;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/controller', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        'use strict';\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var alphaNumRegExp = /:alphanum$/;\n        var ACTIONS = {\n            'up': 'up',\n            'down': 'down',\n            'left': 'left',\n            'right': 'right',\n            'home': 'first-col',\n            'ctrl+left': 'first-col',\n            'end': 'last-col',\n            'ctrl+right': 'last-col',\n            'ctrl+up': 'first-row',\n            'ctrl+down': 'last-row',\n            'ctrl+home': 'first',\n            'ctrl+end': 'last',\n            'pageup': 'prev-page',\n            'pagedown': 'next-page'\n        };\n        var ENTRY_ACTIONS = {\n            'tab': 'next',\n            'shift+tab': 'previous',\n            'enter': 'lower',\n            'shift+enter': 'upper',\n            'delete': 'clearContents',\n            'backspace': 'clearContents',\n            'shift+:alphanum': 'edit',\n            ':alphanum': 'edit',\n            'ctrl+:alphanum': 'ctrl',\n            'alt+ctrl+:alphanum': 'edit',\n            ':edit': 'edit'\n        };\n        var CONTAINER_EVENTS = {\n            'wheel': 'onWheel',\n            '*+mousedown': 'onMouseDown',\n            'contextmenu': 'onContextMenu',\n            '*+mousedrag': 'onMouseDrag',\n            '*+mouseup': 'onMouseUp',\n            '*+dblclick': 'onDblClick',\n            'mousemove': 'onMouseMove'\n        };\n        var CLIPBOARD_EVENTS = {\n            '*+pageup': 'onPageUp',\n            '*+pagedown': 'onPageDown',\n            'mouseup': 'onMouseUp',\n            '*+cut': 'onCut',\n            '*+paste': 'onPaste',\n            '*+copy': 'onCopy'\n        };\n        var EDITOR_EVENTS = {\n            'esc': 'onEditorEsc',\n            'enter': 'onEditorBlur',\n            'alt+enter': 'insertNewline',\n            'shift+enter': 'onEditorBlur',\n            'tab': 'onEditorBlur',\n            'shift+tab': 'onEditorBlur'\n        };\n        var FORMULABAR_EVENTS = $.extend({ focus: 'onEditorBarFocus' }, EDITOR_EVENTS);\n        var FORMULAINPUT_EVENTS = $.extend({ focus: 'onEditorCellFocus' }, EDITOR_EVENTS);\n        var SELECTION_MODES = {\n            cell: 'range',\n            rowheader: 'row',\n            columnheader: 'column',\n            topcorner: 'sheet',\n            autofill: 'autofill'\n        };\n        function toActionSelector(selectors) {\n            return selectors.map(function (action) {\n                return '[data-action=\"' + action + '\"]';\n            }).join(',');\n        }\n        var COMPOSITE_UNAVAILABLE_ACTION_SELECTORS = toActionSelector([\n            'cut',\n            'copy',\n            'paste',\n            'insert-left',\n            'insert-right',\n            'insert-above',\n            'insert-below'\n        ]);\n        var UNHIDE_ACTION_SELECTORS = toActionSelector([\n            'unhide-row',\n            'unhide-column'\n        ]);\n        var ACTION_KEYS = [];\n        var SHIFT_ACTION_KEYS = [];\n        var ENTRY_ACTION_KEYS = [];\n        for (var key in ACTIONS) {\n            ACTION_KEYS.push(key);\n            SHIFT_ACTION_KEYS.push('shift+' + key);\n        }\n        for (key in ENTRY_ACTIONS) {\n            ENTRY_ACTION_KEYS.push(key);\n        }\n        CLIPBOARD_EVENTS[ACTION_KEYS] = 'onAction';\n        CLIPBOARD_EVENTS[SHIFT_ACTION_KEYS] = 'onShiftAction';\n        CLIPBOARD_EVENTS[ENTRY_ACTION_KEYS] = 'onEntryAction';\n        FORMULAINPUT_EVENTS[ACTION_KEYS] = 'onEditorAction';\n        FORMULAINPUT_EVENTS[SHIFT_ACTION_KEYS] = 'onEditorShiftAction';\n        var Controller = kendo.Class.extend({\n            init: function (view, workbook) {\n                this.view = view;\n                this.workbook(workbook);\n                this.container = $(view.container);\n                this.clipboardElement = $(view.clipboard);\n                this.cellContextMenu = view.cellContextMenu;\n                this.rowHeaderContextMenu = view.rowHeaderContextMenu;\n                this.colHeaderContextMenu = view.colHeaderContextMenu;\n                this.scroller = view.scroller;\n                this.tabstrip = view.tabstrip;\n                this.sheetsbar = view.sheetsbar;\n                view.nameEditor.bind('enter', this.onNameEditorEnter.bind(this));\n                view.nameEditor.bind('cancel', this.onNameEditorCancel.bind(this));\n                view.nameEditor.bind('select', this.onNameEditorSelect.bind(this));\n                view.nameEditor.bind('delete', this.onNameEditorDelete.bind(this));\n                this.editor = view.editor;\n                this.editor.bind('change', this.onEditorChange.bind(this));\n                this.editor.bind('activate', this.onEditorActivate.bind(this));\n                this.editor.bind('deactivate', this.onEditorDeactivate.bind(this));\n                this.editor.bind('update', this.onEditorUpdate.bind(this));\n                $(view.scroller).on('scroll', this.onScroll.bind(this));\n                this.listener = new kendo.spreadsheet.EventListener(this.container, this, CONTAINER_EVENTS);\n                this._enableEditorEvents();\n                if (this.sheetsbar) {\n                    this.sheetsbar.bind('select', this.onSheetBarSelect.bind(this));\n                    this.sheetsbar.bind('reorder', this.onSheetBarReorder.bind(this));\n                    this.sheetsbar.bind('rename', this.onSheetBarRename.bind(this));\n                    this.sheetsbar.bind('remove', this.onSheetBarRemove.bind(this));\n                }\n                this.cellContextMenu.bind('select', this.onContextMenuSelect.bind(this));\n                this.rowHeaderContextMenu.bind('select', this.onContextMenuSelect.bind(this));\n                this.colHeaderContextMenu.bind('select', this.onContextMenuSelect.bind(this));\n                this.cellContextMenu.element.add(this.rowHeaderContextMenu.element).add(this.colHeaderContextMenu.element).on('contextmenu', false);\n                if (this.tabstrip) {\n                    this.tabstrip.bind('action', this.onCommandRequest.bind(this));\n                    this.tabstrip.bind('dialog', this.onDialogRequest.bind(this));\n                }\n            },\n            _enableEditorEvents: function (enable) {\n                if (enable === undefined || enable) {\n                    this.keyListener = new kendo.spreadsheet.EventListener(this.clipboardElement, this, CLIPBOARD_EVENTS);\n                    this.barKeyListener = new kendo.spreadsheet.EventListener(this.editor.barElement(), this, FORMULABAR_EVENTS);\n                    this.inputKeyListener = new kendo.spreadsheet.EventListener(this.editor.cellElement(), this, FORMULAINPUT_EVENTS);\n                } else {\n                    this.keyListener.destroy();\n                    this.barKeyListener.destroy();\n                    this.inputKeyListener.destroy();\n                }\n            },\n            _execute: function (options) {\n                var result = this._workbook.execute(options);\n                if (options.command === 'EditCommand' && !result) {\n                    this._workbook.trigger('change', { editorClose: true });\n                }\n                if (result) {\n                    var closeHandler;\n                    if (this.view.editor.isActive()) {\n                        this.enableEditor(false);\n                        closeHandler = this.enableEditor.bind(this, true, true);\n                    }\n                    if (result.reason === 'error') {\n                        this._lastCommandRequest = null;\n                        this.view.showError(result, closeHandler);\n                    } else {\n                        this.view.openDialog(result.reason, { close: closeHandler });\n                    }\n                }\n                return result;\n            },\n            _activeTooltip: function () {\n                return this._workbook.activeSheet().activeCell().simplify().toString();\n            },\n            onContextMenuSelect: function (e) {\n                var action = $(e.item).data('action');\n                var command;\n                switch (action) {\n                case 'cut':\n                    command = {\n                        command: 'ToolbarCutCommand',\n                        options: { workbook: this._workbook }\n                    };\n                    break;\n                case 'copy':\n                    command = {\n                        command: 'ToolbarCopyCommand',\n                        options: { workbook: this._workbook }\n                    };\n                    break;\n                case 'paste':\n                    command = {\n                        command: 'ToolbarPasteCommand',\n                        options: { workbook: this._workbook }\n                    };\n                    break;\n                case 'unmerge':\n                    command = {\n                        command: 'MergeCellCommand',\n                        options: { value: 'unmerge' }\n                    };\n                    break;\n                case 'merge':\n                    this.view.openDialog('merge');\n                    break;\n                case 'hide-row':\n                    command = {\n                        command: 'HideLineCommand',\n                        options: { axis: 'row' }\n                    };\n                    break;\n                case 'hide-column':\n                    command = {\n                        command: 'HideLineCommand',\n                        options: { axis: 'column' }\n                    };\n                    break;\n                case 'unhide-row':\n                    command = {\n                        command: 'UnHideLineCommand',\n                        options: { axis: 'row' }\n                    };\n                    break;\n                case 'unhide-column':\n                    command = {\n                        command: 'UnHideLineCommand',\n                        options: { axis: 'column' }\n                    };\n                    break;\n                case 'delete-row':\n                    command = { command: 'DeleteRowCommand' };\n                    break;\n                case 'delete-column':\n                    command = { command: 'DeleteColumnCommand' };\n                    break;\n                }\n                if (command) {\n                    this._execute(command);\n                }\n            },\n            onSheetBarRemove: function (e) {\n                var sheet = this._workbook.sheetByName(e.name);\n                if (!sheet) {\n                    return;\n                }\n                this._workbook.removeSheet(sheet);\n            },\n            destroy: function () {\n                this.listener.destroy();\n                this._enableEditorEvents(false);\n                this.keyListener.destroy();\n                this.inputKeyListener.destroy();\n            },\n            onSheetBarSelect: function (e) {\n                var sheet;\n                var workbook = this._workbook;\n                if (e.isAddButton) {\n                    sheet = workbook.insertSheet();\n                } else {\n                    sheet = workbook.sheetByName(e.name);\n                }\n                if (workbook.activeSheet().name() !== sheet.name()) {\n                    workbook.activeSheet(sheet);\n                }\n            },\n            onSheetBarReorder: function (e) {\n                var sheet = this._workbook.sheetByIndex(e.oldIndex);\n                this._workbook.moveSheetToIndex(sheet, e.newIndex);\n                this._workbook.activeSheet(sheet);\n            },\n            onSheetBarRename: function (e) {\n                var sheet = this._workbook.sheetByIndex(e.sheetIndex);\n                if (this._workbook.sheetByName(e.name)) {\n                    this.view.showError({\n                        reason: 'error',\n                        type: 'duplicateSheetName'\n                    });\n                    return;\n                }\n                this._workbook.renameSheet(sheet, e.name);\n                this.clipboardElement.focus();\n            },\n            sheet: function (sheet) {\n                this.navigator = sheet.navigator();\n                this.axisManager = sheet.axisManager();\n            },\n            workbook: function (workbook) {\n                this._workbook = workbook;\n                this.clipboard = workbook.clipboard();\n                workbook.bind('commandRequest', this.onCommandRequest.bind(this));\n            },\n            refresh: function () {\n                var editor = this.editor;\n                var workbook = this._workbook;\n                var sheet = workbook.activeSheet();\n                this._viewPortHeight = this.view.scroller.clientHeight;\n                this.navigator.height(this._viewPortHeight);\n                if (!editor.isActive() && !this.isEditorDisabled) {\n                    editor.enable(sheet.selection().enable() !== false);\n                    editor.value(workbook._inputForRef(sheet.activeCell()));\n                }\n                var ref = sheet.selection()._ref.simplify();\n                var def = this._workbook.nameForRef(ref, sheet.name());\n                this.view.nameEditor.value(def.name);\n            },\n            onScroll: function () {\n                this.view.render();\n            },\n            onWheel: function (event) {\n                var deltaX = event.originalEvent.deltaX;\n                var deltaY = event.originalEvent.deltaY;\n                if (event.originalEvent.deltaMode === 1) {\n                    deltaX *= 10;\n                    deltaY *= 10;\n                }\n                this.scrollWith(deltaX, deltaY);\n                event.preventDefault();\n            },\n            onAction: function (event, action) {\n                this.navigator.moveActiveCell(ACTIONS[action]);\n                event.preventDefault();\n            },\n            onPageUp: function () {\n                this.scrollDown(-this._viewPortHeight);\n            },\n            onPageDown: function () {\n                this.scrollDown(this._viewPortHeight);\n            },\n            onEntryAction: function (event, action) {\n                if (event.mod) {\n                    var shouldPrevent = true;\n                    var key = String.fromCharCode(event.keyCode);\n                    switch (key) {\n                    case 'A':\n                        this.navigator.selectAll();\n                        break;\n                    case 'Y':\n                        this._workbook.undoRedoStack.redo();\n                        break;\n                    case 'Z':\n                        this._workbook.undoRedoStack.undo();\n                        break;\n                    default:\n                        shouldPrevent = false;\n                        break;\n                    }\n                    if (shouldPrevent) {\n                        event.preventDefault();\n                    }\n                } else {\n                    var disabled = this._workbook.activeSheet().selection().enable() === false;\n                    if (action == 'delete' || action == 'backspace') {\n                        if (!disabled) {\n                            this._execute({ command: 'ClearContentCommand' });\n                        }\n                        event.preventDefault();\n                    } else if (alphaNumRegExp.test(action) || action === ':edit') {\n                        if (disabled) {\n                            event.preventDefault();\n                            return;\n                        }\n                        if (action !== ':edit') {\n                            this.editor.value('');\n                        }\n                        this.editor.activate({\n                            range: this._workbook.activeSheet()._viewActiveCell(),\n                            rect: this.view.activeCellRectangle(),\n                            tooltip: this._activeTooltip()\n                        }).focus();\n                    } else {\n                        this.navigator.navigateInSelection(ENTRY_ACTIONS[action]);\n                        event.preventDefault();\n                    }\n                }\n            },\n            onShiftAction: function (event, action) {\n                this.navigator.modifySelection(ACTIONS[action.replace('shift+', '')], this.appendSelection);\n                event.preventDefault();\n            },\n            onMouseMove: function (event) {\n                var sheet = this._workbook.activeSheet();\n                if (sheet.resizingInProgress() || sheet.selectionInProgress()) {\n                    return;\n                }\n                var object = this.objectAt(event);\n                if (object.type === 'columnresizehandle' || object.type === 'rowresizehandle') {\n                    sheet.positionResizeHandle(object.ref);\n                } else {\n                    sheet.removeResizeHandle();\n                }\n            },\n            onMouseDown: function (event) {\n                var object = this.objectAt(event);\n                if (object.pane) {\n                    this.originFrame = object.pane;\n                }\n                if (object.type === 'editor') {\n                    this.onEditorEsc();\n                    this.openCustomEditor();\n                    event.preventDefault();\n                    return;\n                }\n                if (this.editor.canInsertRef(false) && object.ref) {\n                    this._workbook.activeSheet()._setFormulaSelections(this.editor.highlightedRefs());\n                    this.navigator.startSelection(object.ref, this._selectionMode, this.appendSelection, event.shiftKey);\n                    event.preventDefault();\n                    return;\n                } else {\n                    this.editor.deactivate();\n                    if (this.editor.isActive()) {\n                        event.preventDefault();\n                        return;\n                    }\n                }\n                var sheet = this._workbook.activeSheet();\n                if (object.type === 'columnresizehandle' || object.type === 'rowresizehandle') {\n                    sheet.startResizing({\n                        x: object.x,\n                        y: object.y\n                    });\n                    event.preventDefault();\n                    return;\n                }\n                if (object.type === 'filtericon') {\n                    this.openFilterMenu(event);\n                    event.preventDefault();\n                    return;\n                }\n                this._selectionMode = SELECTION_MODES[object.type];\n                this.appendSelection = event.mod;\n                this.navigator.startSelection(object.ref, this._selectionMode, this.appendSelection, event.shiftKey);\n            },\n            onContextMenu: function (event) {\n                var sheet = this._workbook.activeSheet();\n                if (sheet.resizingInProgress()) {\n                    return;\n                }\n                event.preventDefault();\n                this.cellContextMenu.close();\n                this.colHeaderContextMenu.close();\n                this.rowHeaderContextMenu.close();\n                var menu;\n                var location = {\n                    pageX: event.pageX,\n                    pageY: event.pageY\n                };\n                var object = this.objectAt(location);\n                if (object.type === 'columnresizehandle' || object.type === 'rowresizehandle') {\n                    return;\n                }\n                this.navigator.selectForContextMenu(object.ref, SELECTION_MODES[object.type]);\n                var isComposite = this.navigator._sheet.select() instanceof kendo.spreadsheet.UnionRef;\n                var showUnhide = false;\n                var showUnmerge = false;\n                if (object.type == 'columnheader') {\n                    menu = this.colHeaderContextMenu;\n                    showUnhide = !isComposite && this.axisManager.selectionIncludesHiddenColumns();\n                } else if (object.type == 'rowheader') {\n                    menu = this.rowHeaderContextMenu;\n                    showUnhide = !isComposite && this.axisManager.selectionIncludesHiddenRows();\n                } else {\n                    menu = this.cellContextMenu;\n                    showUnmerge = this.navigator.selectionIncludesMergedCells();\n                }\n                menu.element.find(COMPOSITE_UNAVAILABLE_ACTION_SELECTORS).toggle(!isComposite);\n                menu.element.find(UNHIDE_ACTION_SELECTORS).toggle(showUnhide);\n                menu.element.find('[data-action=unmerge]').toggle(showUnmerge);\n                setTimeout(function () {\n                    menu.open(event.pageX, event.pageY);\n                });\n            },\n            prevent: function (event) {\n                event.preventDefault();\n            },\n            constrainResize: function (type, ref) {\n                var sheet = this._workbook.activeSheet();\n                var resizeHandle = sheet.resizeHandlePosition();\n                return !resizeHandle || type === 'outside' || type === 'topcorner' || ref.col < resizeHandle.col || ref.row < resizeHandle.row;\n            },\n            onMouseDrag: function (event) {\n                if (this._selectionMode === 'sheet') {\n                    return;\n                }\n                var location = {\n                    pageX: event.pageX,\n                    pageY: event.pageY\n                };\n                var object = this.objectAt(location);\n                var sheet = this._workbook.activeSheet();\n                if (sheet.resizingInProgress()) {\n                    if (!this.constrainResize(object.type, object.ref)) {\n                        sheet.resizeHintPosition({\n                            x: object.x,\n                            y: object.y\n                        });\n                    }\n                    return;\n                }\n                if (object.type === 'outside') {\n                    this.startAutoScroll(object);\n                    return;\n                }\n                if (this.originFrame === object.pane) {\n                    this.selectToLocation(location);\n                } else {\n                    var frame = this.originFrame._grid;\n                    if (object.x > frame.right) {\n                        this.scrollLeft();\n                    }\n                    if (object.y > frame.bottom) {\n                        this.scrollTop();\n                    }\n                    if (object.y < frame.top || object.x < frame.left) {\n                        this.startAutoScroll(object, location);\n                    } else {\n                        this.selectToLocation(location);\n                    }\n                }\n                event.preventDefault();\n            },\n            onMouseUp: function (event) {\n                var sheet = this._workbook.activeSheet();\n                sheet.completeResizing();\n                this.navigator.completeSelection();\n                this.stopAutoScroll();\n                var editor = this.editor.activeEditor();\n                if (!editor) {\n                    return;\n                }\n                var el = event.target;\n                while (el) {\n                    if (el === editor.element[0]) {\n                        return;\n                    }\n                    el = el.parentNode;\n                }\n                var object = this.objectAt(event);\n                if (object && object.ref && editor.canInsertRef(false)) {\n                    editor.refAtPoint(sheet.selection()._ref);\n                    sheet._setFormulaSelections(editor.highlightedRefs());\n                }\n            },\n            onDblClick: function (event) {\n                var object = this.objectAt(event);\n                var disabled = this._workbook.activeSheet().selection().enable() === false;\n                if (object.type !== 'cell' || disabled) {\n                    return;\n                }\n                this.editor.activate({\n                    range: this._workbook.activeSheet()._viewActiveCell(),\n                    rect: this.view.activeCellRectangle(),\n                    tooltip: this._activeTooltip()\n                }).focus();\n                this.onEditorUpdate();\n            },\n            onCut: function (e) {\n                if (e) {\n                    var table = this.clipboardElement.find('table.kendo-clipboard-' + this.clipboard._uid).detach();\n                    this.clipboardElement.append(table.clone(false));\n                    setTimeout(function () {\n                        this.clipboardElement.empty().append(table);\n                    }.bind(this));\n                }\n                this._execute({\n                    command: 'CutCommand',\n                    options: { workbook: this.view._workbook }\n                });\n            },\n            clipBoardValue: function () {\n                return this.clipboardElement.html();\n            },\n            onPaste: function (e) {\n                var html = '';\n                var plain = '';\n                this.clipboard.menuInvoked = e === undefined;\n                if (e) {\n                    if (e.originalEvent.clipboardData && e.originalEvent.clipboardData.getData) {\n                        e.preventDefault();\n                        var hasHTML = false;\n                        var hasPlainText = false;\n                        if (window.DOMStringList && e.originalEvent.clipboardData.types instanceof window.DOMStringList) {\n                            hasHTML = e.originalEvent.clipboardData.types.contains('text/html');\n                            hasPlainText = e.originalEvent.clipboardData.types.contains('text/plain');\n                        } else {\n                            hasHTML = /text\\/html/.test(e.originalEvent.clipboardData.types);\n                            hasPlainText = /text\\/plain/.test(e.originalEvent.clipboardData.types);\n                        }\n                        if (hasHTML) {\n                            html = e.originalEvent.clipboardData.getData('text/html');\n                        }\n                        if (hasPlainText) {\n                            plain = e.originalEvent.clipboardData.getData('text/plain').trim();\n                        }\n                    } else {\n                        var table = this.clipboardElement.find('table.kendo-clipboard-' + this.clipboard._uid).detach();\n                        this.clipboardElement.empty();\n                        setTimeout(function () {\n                            var html = this.clipboardElement.html();\n                            var plain = window.clipboardData.getData('Text').trim();\n                            if (!html && !plain) {\n                                return;\n                            }\n                            this.clipboard.external({\n                                html: html,\n                                plain: plain\n                            });\n                            this.clipboardElement.empty().append(table);\n                            this._execute({\n                                command: 'PasteCommand',\n                                options: { workbook: this.view._workbook }\n                            });\n                            this.clipboard.menuInvoked = true;\n                        }.bind(this));\n                        return;\n                    }\n                } else {\n                    if (kendo.support.browser.msie) {\n                        this.clipboardElement.focus().select();\n                        document.execCommand('paste');\n                        return;\n                    } else {\n                        this.clipboard.menuInvoked = true;\n                    }\n                }\n                if (!html && !plain) {\n                    return;\n                }\n                this.clipboard.external({\n                    html: html,\n                    plain: plain\n                });\n                this._execute({\n                    command: 'PasteCommand',\n                    options: { workbook: this.view._workbook }\n                });\n            },\n            onCopy: function (e) {\n                this.clipboard.menuInvoked = e === undefined;\n                this._execute({\n                    command: 'CopyCommand',\n                    options: { workbook: this.view._workbook }\n                });\n            },\n            scrollTop: function () {\n                this.scroller.scrollTop = 0;\n            },\n            scrollLeft: function () {\n                this.scroller.scrollLeft = 0;\n            },\n            scrollDown: function (value) {\n                this.scroller.scrollTop += value;\n            },\n            scrollRight: function (value) {\n                this.scroller.scrollLeft += value;\n            },\n            scrollWith: function (right, down) {\n                this.scroller.scrollTop += down;\n                this.scroller.scrollLeft += right;\n            },\n            objectAt: function (location) {\n                var offset = this.container.offset();\n                var coordinates = {\n                    left: location.pageX - offset.left,\n                    top: location.pageY - offset.top\n                };\n                return this.view.objectAt(coordinates.left, coordinates.top);\n            },\n            selectToLocation: function (cellLocation) {\n                var object = this.objectAt(cellLocation);\n                if (object.pane) {\n                    this.extendSelection(object);\n                    this.lastKnownCellLocation = cellLocation;\n                    this.originFrame = object.pane;\n                }\n                this.stopAutoScroll();\n            },\n            extendSelection: function (object) {\n                this.navigator.extendSelection(object.ref, this._selectionMode, this.appendSelection);\n            },\n            autoScroll: function () {\n                var x = this._autoScrollTarget.x;\n                var y = this._autoScrollTarget.y;\n                var boundaries = this.originFrame._grid;\n                var scroller = this.view.scroller;\n                var scrollStep = 8;\n                var scrollLeft = scroller.scrollLeft;\n                var scrollTop = scroller.scrollTop;\n                if (x < boundaries.left) {\n                    this.scrollRight(-scrollStep);\n                }\n                if (x > boundaries.right) {\n                    this.scrollRight(scrollStep);\n                }\n                if (y < boundaries.top) {\n                    this.scrollDown(-scrollStep);\n                }\n                if (y > boundaries.bottom) {\n                    this.scrollDown(scrollStep);\n                }\n                if (scrollTop === scroller.scrollTop && scrollLeft === scroller.scrollLeft) {\n                    this.selectToLocation(this.finalLocation);\n                } else {\n                    this.extendSelection(this.objectAt(this.lastKnownCellLocation));\n                }\n            },\n            startAutoScroll: function (viewObject, location) {\n                if (!this._scrollInterval) {\n                    this._scrollInterval = setInterval(this.autoScroll.bind(this), 50);\n                }\n                this.finalLocation = location || this.lastKnownCellLocation;\n                this._autoScrollTarget = viewObject;\n            },\n            stopAutoScroll: function () {\n                clearInterval(this._scrollInterval);\n                this._scrollInterval = null;\n            },\n            openCustomEditor: function () {\n                this.view.openCustomEditor();\n            },\n            openFilterMenu: function (event) {\n                var object = this.objectAt(event);\n                var sheet = this._workbook.activeSheet();\n                var column = sheet.filterColumn(object.ref);\n                var filterMenu = this.view.createFilterMenu(column);\n                filterMenu.bind('action', this.onCommandRequest.bind(this));\n                filterMenu.bind('action', filterMenu.close.bind(filterMenu));\n                filterMenu.openFor(event.target);\n            },\n            onEditorChange: function (e) {\n                this._workbook.activeSheet().isInEditMode(false);\n                var result = this._execute({\n                    command: 'EditCommand',\n                    options: {\n                        editActiveCell: true,\n                        value: e.value\n                    }\n                });\n                if (result && result.reason === 'error') {\n                    e.preventDefault();\n                }\n            },\n            onEditorActivate: function () {\n                var workbook = this._workbook;\n                var sheet = workbook.activeSheet();\n                sheet._setFormulaSelections(this.editor.highlightedRefs());\n                sheet.isInEditMode(true);\n            },\n            onEditorDeactivate: function () {\n                var sheet = this._workbook.activeSheet();\n                sheet.isInEditMode(false);\n                sheet._setFormulaSelections([]);\n            },\n            onEditorUpdate: function () {\n                this._workbook.activeSheet()._setFormulaSelections(this.editor.highlightedRefs());\n            },\n            onEditorBarFocus: function () {\n                var disabled = this._workbook.activeSheet().selection().enable() === false;\n                if (disabled) {\n                    return;\n                }\n                this.editor.activate({\n                    range: this._workbook.activeSheet()._viewActiveCell(),\n                    rect: this.view.activeCellRectangle(),\n                    tooltip: this._activeTooltip()\n                });\n            },\n            onEditorCellFocus: function () {\n                this.editor.scale();\n            },\n            onEditorEsc: function () {\n                this.resetEditorValue();\n                this.editor.deactivate();\n                this.clipboardElement.focus();\n            },\n            insertNewline: function (e) {\n                e.preventDefault();\n                this.editor.insertNewline();\n            },\n            onEditorBlur: function (_, action) {\n                if (this.editor.isFiltered()) {\n                    return;\n                }\n                this.editor.deactivate();\n                if (!this.editor.isActive()) {\n                    this.clipboardElement.focus();\n                    this.navigator.navigateInSelection(ENTRY_ACTIONS[action]);\n                }\n            },\n            onEditorAction: function (event, action) {\n                var editor = this.editor;\n                var sheet = this._workbook.activeSheet();\n                if (editor.canInsertRef(true)) {\n                    this.navigator.moveActiveCell(ACTIONS[action]);\n                    editor.activeEditor().refAtPoint(sheet.selection()._ref);\n                    sheet._setFormulaSelections(editor.highlightedRefs());\n                    event.preventDefault();\n                }\n            },\n            onEditorShiftAction: function (event, action) {\n                var editor = this.editor;\n                var sheet = this._workbook.activeSheet();\n                if (editor.canInsertRef(true)) {\n                    this.navigator.modifySelection(ACTIONS[action.replace('shift+', '')], this.appendSelection);\n                    editor.activeEditor().refAtPoint(sheet.selection()._ref);\n                    sheet._setFormulaSelections(editor.highlightedRefs());\n                    event.preventDefault();\n                }\n            },\n            resetEditorValue: function () {\n                this.editor.value(this._workbook._inputForRef(this._workbook.activeSheet()._viewActiveCell()));\n            },\n            deactivateEditor: function (callback, options) {\n                var viewEditor = this.view.editor;\n                this._lastCommandRequest = {\n                    callback: callback,\n                    options: options\n                };\n                if (!this.isEditorDeactivateBound) {\n                    this.isEditorDeactivateBound = true;\n                    viewEditor.one('deactivate', function () {\n                        this.isEditorDeactivateBound = false;\n                        if (this._lastCommandRequest) {\n                            this._lastCommandRequest.callback(this._lastCommandRequest.options);\n                            this._lastCommandRequest = null;\n                        }\n                    }.bind(this));\n                }\n                viewEditor.deactivate();\n                this.enableEditor(false);\n            },\n            enableEditor: function (enable, focusLastActive, event) {\n                if (event && event.action === 'revert') {\n                    this.resetEditorValue();\n                }\n                enable = enable === undefined || enable;\n                this._enableEditorEvents(enable);\n                this.editor.enableEditing(enable);\n                this.isEditorDisabled = !enable;\n                this.view.enableClipboard(enable);\n                if (focusLastActive) {\n                    this.editor.focusLastActive();\n                }\n            },\n            executeRequest: function (callback, options) {\n                if (this.view.editor.isActive()) {\n                    this.deactivateEditor(callback, options);\n                } else {\n                    callback(options);\n                }\n            },\n            onCommandRequest: function (e) {\n                var executeCommand = function (e) {\n                    if (e.command) {\n                        this._execute(e);\n                    } else {\n                        this._workbook.undoRedoStack[e.action]();\n                    }\n                }.bind(this);\n                this.executeRequest(executeCommand, e);\n            },\n            onDialogRequest: function (e) {\n                var executeDialog = function (e) {\n                    this.enableEditor(false);\n                    var additionalOptions = {\n                        pdfExport: this._workbook.options.pdf,\n                        excelExport: this._workbook.options.excel,\n                        close: this.enableEditor.bind(this, true, false)\n                    };\n                    if (e.options) {\n                        $.extend(true, e.options, additionalOptions);\n                    } else {\n                        e.options = additionalOptions;\n                    }\n                    this.view.openDialog(e.name, e.options);\n                }.bind(this);\n                this.executeRequest(executeDialog, e);\n            },\n            onNameEditorEnter: function () {\n                var ref;\n                var workbook = this._workbook;\n                var sheet = workbook.activeSheet();\n                var name = this.view.nameEditor.value();\n                ref = kendo.spreadsheet.calc.parseReference(name, true) || workbook.nameValue(name);\n                if (ref instanceof kendo.spreadsheet.Ref) {\n                    if (ref.sheet && ref.sheet.toLowerCase() != sheet.name().toLowerCase()) {\n                        var tmp = workbook.sheetByName(ref.sheet);\n                        if (tmp) {\n                            workbook.activeSheet(tmp);\n                            sheet = tmp;\n                        }\n                    }\n                    sheet.range(ref).select();\n                    return;\n                }\n                ref = sheet.selection()._ref.clone().simplify().setSheet(sheet.name(), true);\n                this._execute({\n                    command: 'DefineNameCommand',\n                    options: {\n                        name: name,\n                        value: ref\n                    }\n                });\n                this.clipboardElement.focus();\n            },\n            onNameEditorCancel: function () {\n                this.clipboardElement.focus();\n            },\n            onNameEditorSelect: function (ev) {\n                var name = ev.name;\n                var workbook = this._workbook;\n                var sheet = workbook.activeSheet();\n                var ref = workbook.nameValue(name);\n                if (ref instanceof kendo.spreadsheet.Ref) {\n                    if (ref.sheet && ref.sheet.toLowerCase() != sheet.name().toLowerCase()) {\n                        var tmp = workbook.sheetByName(ref.sheet);\n                        if (tmp) {\n                            workbook.activeSheet(tmp);\n                            sheet = tmp;\n                        }\n                    }\n                    sheet.range(ref).select();\n                    return;\n                }\n                this.clipboardElement.focus();\n            },\n            onNameEditorDelete: function (ev) {\n                this._execute({\n                    command: 'DeleteNameCommand',\n                    options: { name: ev.name }\n                });\n                this.clipboardElement.focus();\n            }\n        });\n        kendo.spreadsheet.Controller = Controller;\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/view', [\n        'kendo.core',\n        'kendo.menu',\n        'spreadsheet/sheetsbar'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var CellRef = kendo.spreadsheet.CellRef;\n        var DOT = '.';\n        var RESIZE_HANDLE_WIDTH = 7;\n        var viewClassNames = {\n            view: 'k-spreadsheet-view',\n            fixedContainer: 'k-spreadsheet-fixed-container',\n            editContainer: 'k-spreadsheet-edit-container',\n            scroller: 'k-spreadsheet-scroller',\n            viewSize: 'k-spreadsheet-view-size',\n            clipboard: 'k-spreadsheet-clipboard',\n            cellEditor: 'k-spreadsheet-cell-editor',\n            barEditor: 'k-spreadsheet-editor',\n            topCorner: 'k-spreadsheet-top-corner',\n            filterHeadersWrapper: 'k-filter-wrapper',\n            filterRange: 'k-filter-range',\n            filterButton: 'k-spreadsheet-filter',\n            filterButtonActive: 'k-state-active',\n            horizontalResize: 'k-horizontal-resize',\n            verticalResize: 'k-vertical-resize',\n            icon: 'k-icon k-font-icon',\n            iconFilterDefault: 'k-i-arrow-s',\n            sheetsBar: 'k-spreadsheet-sheets-bar',\n            sheetsBarActive: 'k-spreadsheet-sheets-bar-active',\n            sheetsBarInactive: 'k-spreadsheet-sheets-bar-inactive',\n            cellContextMenu: 'k-spreadsheet-cell-context-menu',\n            rowHeaderContextMenu: 'k-spreadsheet-row-header-context-menu',\n            colHeaderContextMenu: 'k-spreadsheet-col-header-context-menu'\n        };\n        kendo.spreadsheet.messages.view = {\n            errors: {\n                openUnsupported: 'Unsupported format. Please select an .xlsx file.',\n                shiftingNonblankCells: 'Cannot insert cells due to data loss possibility. Select another insert location or delete the data from the end of your worksheet.',\n                filterRangeContainingMerges: 'Cannot create a filter within a range containing merges',\n                sortRangeContainingMerges: 'Cannot sort a range containing merges',\n                validationError: 'The value that you entered violates the validation rules set on the cell.'\n            },\n            tabs: {\n                home: 'Home',\n                insert: 'Insert',\n                data: 'Data'\n            }\n        };\n        function selectElementContents(el) {\n            var sel = window.getSelection();\n            sel.removeAllRanges();\n            var range = document.createRange();\n            range.selectNodeContents(el);\n            sel.addRange(range);\n        }\n        function cellBefore(table, row) {\n            var cells = table.trs[row].children;\n            return cells[cells.length - 2];\n        }\n        function cellAbove(table, row) {\n            var prevRow = table.trs[row - 1];\n            var index = table.trs[row].children.length - 1;\n            if (prevRow && index >= 0) {\n                return prevRow.children[index];\n            }\n        }\n        function cellBorder(value) {\n            return [\n                'solid',\n                (value.size || 1) + 'px',\n                value.color || '#000'\n            ].join(' ');\n        }\n        function asURL(link) {\n            if (!/:\\/\\//.test(link)) {\n                link = 'http://' + link;\n            }\n            return link;\n        }\n        function drawCell(collection, cell, cls, hBorders, vBorders, showGrid) {\n            function maybeLink(el) {\n                var link = cell.link;\n                if (!link) {\n                    if (typeof cell.value == 'object') {\n                        link = cell.value.link;\n                    }\n                }\n                if (link) {\n                    var style = { textDecoration: 'none' };\n                    if (cell.color) {\n                        style.color = cell.color;\n                    }\n                    if (cell.underline) {\n                        style.textDecoration = 'underline';\n                    }\n                    return kendo.dom.element('a', {\n                        href: asURL(link),\n                        style: style,\n                        target: '_blank'\n                    }, el ? [el] : []);\n                }\n                return el;\n            }\n            if (!cls && !kendo.spreadsheet.draw.shouldDrawCell(cell)) {\n                return;\n            }\n            var left = cell.left;\n            var top = cell.top;\n            var width = cell.width + 1;\n            var height = cell.height + 1;\n            var style = {};\n            var background = cell.background;\n            var defaultBorder = null;\n            if (background) {\n                defaultBorder = background;\n                if (showGrid) {\n                    defaultBorder = kendo.parseColor(defaultBorder).toHSV();\n                    defaultBorder.v *= 0.9;\n                    defaultBorder = defaultBorder.toCssRgba();\n                }\n                defaultBorder = cellBorder({ color: defaultBorder });\n            }\n            if (background) {\n                style.backgroundColor = background;\n            }\n            if (cell.color) {\n                style.color = cell.color;\n            }\n            if (cell.fontFamily) {\n                style.fontFamily = cell.fontFamily;\n            }\n            if (cell.underline) {\n                style.textDecoration = 'underline';\n            }\n            if (cell.italic) {\n                style.fontStyle = 'italic';\n            }\n            if (cell.textAlign) {\n                style.textAlign = cell.textAlign;\n            }\n            if (cell.bold) {\n                style.fontWeight = 'bold';\n            }\n            if (cell.fontSize) {\n                style.fontSize = cell.fontSize + 'px';\n            }\n            if (cell.wrap === true) {\n                style.whiteSpace = 'pre-wrap';\n                style.wordBreak = 'break-all';\n            }\n            if (cell.borderLeft) {\n                style.borderLeft = cellBorder(cell.borderLeft);\n                if (vBorders) {\n                    vBorders[cell.left] = true;\n                }\n            } else if (defaultBorder && vBorders && !vBorders[cell.left]) {\n                style.borderLeft = defaultBorder;\n            } else {\n                left++;\n                width--;\n            }\n            if (cell.borderTop) {\n                style.borderTop = cellBorder(cell.borderTop);\n                if (hBorders) {\n                    hBorders[cell.top] = true;\n                }\n            } else if (defaultBorder && hBorders && !hBorders[cell.top]) {\n                style.borderTop = defaultBorder;\n            } else {\n                top++;\n                height--;\n            }\n            if (cell.borderRight) {\n                style.borderRight = cellBorder(cell.borderRight);\n                if (vBorders) {\n                    vBorders[cell.right] = true;\n                }\n            } else if (defaultBorder && vBorders && !vBorders[cell.right]) {\n                style.borderRight = defaultBorder;\n            } else {\n                width--;\n            }\n            if (cell.borderBottom) {\n                style.borderBottom = cellBorder(cell.borderBottom);\n                if (hBorders) {\n                    hBorders[cell.bottom] = true;\n                }\n            } else if (defaultBorder && hBorders && !hBorders[cell.bottom]) {\n                style.borderBottom = defaultBorder;\n            } else {\n                height--;\n            }\n            style.left = left + 'px';\n            style.top = top + 'px';\n            style.width = width + 'px';\n            style.height = height + 'px';\n            var data = cell.value, type = typeof data;\n            if (cell.format && data != null) {\n                data = kendo.spreadsheet.formatting.format(data, cell.format);\n                if (data.__dataType) {\n                    type = data.__dataType;\n                }\n            } else if (data !== null && data !== undefined) {\n                data = kendo.dom.text(data);\n            }\n            if (!style.textAlign) {\n                switch (type) {\n                case 'number':\n                case 'date':\n                case 'percent':\n                    style.textAlign = 'right';\n                    break;\n                case 'boolean':\n                    style.textAlign = 'center';\n                    break;\n                }\n            }\n            var classNames = [paneClassNames.cell];\n            if (cls) {\n                classNames.push(cls);\n            }\n            if (cell.enable === false) {\n                classNames.push('k-state-disabled');\n            }\n            if (cell.merged) {\n                classNames.push('k-spreadsheet-merged-cell');\n            }\n            var verticalAlign = cell.verticalAlign || 'bottom';\n            if (verticalAlign && data) {\n                data = kendo.dom.element('div', { className: 'k-vertical-align-' + verticalAlign }, [maybeLink(data)]);\n            } else {\n                data = maybeLink(data);\n            }\n            var children = data ? [data] : [];\n            var properties = { style: style };\n            var validation = cell.validation;\n            if (validation && !validation.value) {\n                children.push(kendo.dom.element('span', { className: 'k-dirty' }));\n                classNames.push('k-dirty-cell');\n                properties.title = validation._getOptions().messageTemplate;\n            }\n            properties.className = classNames.join(' ');\n            var div = kendo.dom.element('div', properties, children);\n            collection.push(div);\n            return div;\n        }\n        function addCell(table, row, cell) {\n            var style = {};\n            if (cell.background) {\n                style.backgroundColor = cell.background;\n            }\n            if (cell.color) {\n                style.color = cell.color;\n            }\n            if (cell.fontFamily) {\n                style.fontFamily = cell.fontFamily;\n            }\n            if (cell.underline) {\n                style.textDecoration = 'underline';\n            }\n            if (cell.italic) {\n                style.fontStyle = 'italic';\n            }\n            if (cell.textAlign) {\n                style.textAlign = cell.textAlign;\n            }\n            if (cell.verticalAlign) {\n                style.verticalAlign = cell.verticalAlign === 'center' ? 'middle' : cell.verticalAlign;\n            }\n            if (cell.bold) {\n                style.fontWeight = 'bold';\n            }\n            if (cell.fontSize) {\n                style.fontSize = cell.fontSize + 'px';\n            }\n            if (cell.wrap === true) {\n                style.whiteSpace = 'pre-wrap';\n                style.wordBreak = 'break-all';\n            }\n            if (cell.borderRight) {\n                style.borderRight = cellBorder(cell.borderRight);\n            } else if (cell.background) {\n                style.borderRightColor = cell.background;\n            }\n            if (cell.borderBottom) {\n                style.borderBottom = cellBorder(cell.borderBottom);\n            } else if (cell.background) {\n                style.borderBottomColor = cell.background;\n            }\n            var data = cell.value, type = typeof data;\n            if (cell.format && data != null) {\n                data = kendo.spreadsheet.formatting.format(data, cell.format);\n                if (data.__dataType) {\n                    type = data.__dataType;\n                }\n            }\n            if (!style.textAlign) {\n                switch (type) {\n                case 'number':\n                case 'date':\n                case 'percent':\n                    style.textAlign = 'right';\n                    break;\n                case 'boolean':\n                    style.textAlign = 'center';\n                    break;\n                }\n            }\n            var className = null;\n            if (cell.enable === false) {\n                className = 'k-state-disabled';\n            }\n            var td = table.addCell(row, data, style, className, cell.validation);\n            var border, sibling;\n            if (cell.borderLeft) {\n                sibling = cellBefore(table, row);\n                border = cellBorder(cell.borderLeft);\n                if (sibling && border) {\n                    sibling.attr.style.borderRight = border;\n                }\n            } else if (cell.background) {\n                style.borderLeftColor = cell.background;\n            }\n            if (cell.borderTop) {\n                sibling = cellAbove(table, row);\n                border = cellBorder(cell.borderTop);\n                if (sibling && border) {\n                    sibling.attr.style.borderBottom = border;\n                }\n            } else if (cell.background) {\n                style.borderTopColor = cell.background;\n            }\n            return td;\n        }\n        var HtmlTable = kendo.Class.extend({\n            init: function () {\n                this.cols = [];\n                this.trs = [];\n                this._height = 0;\n                this._width = 0;\n            },\n            addColumn: function (width) {\n                this._width += width;\n                var col = kendo.dom.element('col', { style: { width: width + 'px' } });\n                col.visible = width > 0;\n                this.cols.push(col);\n            },\n            addRow: function (height) {\n                var attr = null;\n                attr = { style: { height: height + 'px' } };\n                this._height += height;\n                var tr = kendo.dom.element('tr', attr);\n                tr.visible = height > 0;\n                this.trs.push(tr);\n            },\n            addCell: function (rowIndex, text, style, className, validation) {\n                if (text === null || text === undefined) {\n                    text = '';\n                }\n                if (!(text instanceof kendo.dom.Node)) {\n                    text = kendo.dom.text(text);\n                }\n                var children = [text];\n                var properties = { style: style };\n                if (validation && !validation.value) {\n                    children.push(kendo.dom.element('span', { className: 'k-dirty' }));\n                    className = (className || '') + (className ? ' ' : '') + 'k-dirty-cell';\n                    properties.title = validation._getOptions().messageTemplate;\n                }\n                if (className) {\n                    properties.className = className;\n                }\n                var td = kendo.dom.element('td', properties, children);\n                this.trs[rowIndex].children.push(td);\n                return td;\n            },\n            toDomTree: function (x, y, className) {\n                this.trs = this.trs.filter(function (tr) {\n                    return tr.visible;\n                });\n                var offset = 0;\n                this.cols = this.cols.filter(function (col, ci) {\n                    if (!col.visible) {\n                        this.trs.forEach(function (tr) {\n                            tr.children.splice(ci - offset, 1);\n                        });\n                        offset++;\n                    }\n                    return col.visible;\n                }, this);\n                return kendo.dom.element('table', {\n                    style: {\n                        left: x + 'px',\n                        top: y + 'px',\n                        height: this._height + 'px',\n                        width: this._width + 'px'\n                    },\n                    className: className\n                }, [\n                    kendo.dom.element('colgroup', null, this.cols),\n                    kendo.dom.element('tbody', null, this.trs)\n                ]);\n            }\n        });\n        var CELL_CONTEXT_MENU = '<ul class=\"#=classNames.cellContextMenu#\">' + '<li data-action=cut>Cut</li>' + '<li data-action=copy>Copy</li>' + '<li data-action=paste>Paste</li>' + '<li class=\"k-separator\"></li>' + '<li data-action=merge>Merge</li>' + '<li data-action=unmerge>Unmerge</li>' + '</ul>';\n        var ROW_HEADER_CONTEXT_MENU = '<ul class=\"#=classNames.rowHeaderContextMenu#\">' + '<li data-action=cut>Cut</li>' + '<li data-action=copy>Copy</li>' + '<li data-action=paste>Paste</li>' + '<li class=\"k-separator\"></li>' + '<li data-action=\"delete-row\">Delete</li>' + '<li data-action=\"hide-row\">Hide</li>' + '<li data-action=\"unhide-row\">Unhide</li>' + '</ul>';\n        var COL_HEADER_CONTEXT_MENU = '<ul class=\"#=classNames.colHeaderContextMenu#\">' + '<li data-action=cut>Cut</li>' + '<li data-action=copy>Copy</li>' + '<li data-action=paste>Paste</li>' + '<li class=\"k-separator\"></li>' + '<li data-action=\"delete-column\">Delete</li>' + '<li data-action=\"hide-column\">Hide</li>' + '<li data-action=\"unhide-column\">Unhide</li>' + '</ul>';\n        kendo.spreadsheet.ContextMenu = kendo.ui.ContextMenu;\n        var VIEW_CONTENTS = kendo.template('<div class=\"#=classNames.view#\"><div class=\"#=classNames.fixedContainer#\"></div><div class=\"#=classNames.scroller#\"><div class=\"#=classNames.viewSize#\"></div></div>' + '<div tabindex=\"0\" class=\"#=classNames.clipboard#\" contenteditable=true></div><div class=\"#=classNames.cellEditor#\"></div></div><div class=\"#=classNames.sheetsBar#\"></div>' + CELL_CONTEXT_MENU + ROW_HEADER_CONTEXT_MENU + COL_HEADER_CONTEXT_MENU);\n        function within(value, min, max) {\n            return value >= min && value <= max;\n        }\n        var View = kendo.Class.extend({\n            init: function (element, options) {\n                var classNames = View.classNames;\n                this.element = element;\n                this.options = $.extend(true, { messages: kendo.spreadsheet.messages.view }, this.options, options);\n                this._chrome();\n                this._dialogs = [];\n                element.append(VIEW_CONTENTS({ classNames: classNames }));\n                this._formulaInput();\n                this.wrapper = element.find(DOT + classNames.view);\n                this.container = element.find(DOT + classNames.fixedContainer)[0];\n                this.scroller = element.find(DOT + classNames.scroller)[0];\n                this.clipboard = element.find(DOT + classNames.clipboard);\n                this.viewSize = $(this.scroller.firstChild);\n                this.tree = new kendo.dom.Tree(this.container);\n                this.clipboardContents = new kendo.dom.Tree(this.clipboard[0]);\n                this.editor = new kendo.spreadsheet.SheetEditor(this);\n                this._sheetsbar();\n                var contextMenuConfig = {\n                    target: element,\n                    animation: false,\n                    showOn: 'never'\n                };\n                this.cellContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.cellContextMenu), contextMenuConfig);\n                this.colHeaderContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.colHeaderContextMenu), contextMenuConfig);\n                this.rowHeaderContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.rowHeaderContextMenu), contextMenuConfig);\n                var scrollbar = kendo.support.scrollbar();\n                $(this.container).css({\n                    width: this.wrapper[0].clientWidth - scrollbar,\n                    height: this.wrapper[0].clientHeight - scrollbar\n                });\n            },\n            enableClipboard: function (enable) {\n                this.isClipboardDeactivated = !enable;\n                if (enable) {\n                    this.clipboard.attr('contenteditable', enable);\n                } else {\n                    this.clipboard.removeAttr('contenteditable');\n                }\n            },\n            _resize: function () {\n                var outerHeight = kendo._outerHeight;\n                var tabstripHeight = this.tabstrip ? outerHeight(this.tabstrip.element) : 0;\n                var formulaBarHeight = this.formulaBar ? outerHeight(this.formulaBar.element) : 0;\n                var sheetsBarHeight = this.sheetsbar ? outerHeight(this.sheetsbar.element) : 0;\n                this.wrapper.height(this.element.height() - (tabstripHeight + formulaBarHeight + sheetsBarHeight));\n                if (this.tabstrip) {\n                    this.tabstrip.quickAccessAdjust();\n                }\n            },\n            _chrome: function () {\n                var wrapper = $('<div class=\\'k-spreadsheet-action-bar\\' />').prependTo(this.element);\n                var nameEditor = $('<div class=\\'k-spreadsheet-name-editor\\' />').appendTo(wrapper);\n                this.nameEditor = new kendo.spreadsheet.NameEditor(nameEditor);\n                var formulaBar = $('<div />').appendTo(wrapper);\n                this.formulaBar = new kendo.spreadsheet.FormulaBar(formulaBar);\n                if (this.options.toolbar) {\n                    this._tabstrip();\n                }\n            },\n            _formulaInput: function () {\n                var editor = this.element.find(DOT + View.classNames.cellEditor);\n                this.formulaInput = new kendo.spreadsheet.FormulaInput(editor, { autoScale: true });\n            },\n            _sheetsbar: function () {\n                if (this.options.sheetsbar) {\n                    this.sheetsbar = new kendo.spreadsheet.SheetsBar(this.element.find(DOT + View.classNames.sheetsBar), $.extend(true, {}, this.options.sheetsbar));\n                }\n            },\n            _tabstrip: function () {\n                var messages = this.options.messages.tabs;\n                var options = $.extend(true, {\n                    home: true,\n                    insert: true,\n                    data: true\n                }, this.options.toolbar);\n                var tabs = [];\n                if (this.tabstrip) {\n                    this.tabstrip.destroy();\n                    this.element.children('.k-tabstrip').remove();\n                }\n                for (var name in options) {\n                    if (options[name] === true || options[name] instanceof Array) {\n                        tabs.push({\n                            id: name,\n                            text: messages[name],\n                            content: ''\n                        });\n                    }\n                }\n                this.tabstrip = new kendo.spreadsheet.TabStrip($('<div />').prependTo(this.element), {\n                    animation: false,\n                    dataTextField: 'text',\n                    dataContentField: 'content',\n                    dataSource: tabs,\n                    toolbarOptions: options,\n                    view: this\n                });\n                this.tabstrip.select(0);\n            },\n            _executeCommand: function (e) {\n                this._sheet.trigger('commandRequest', e);\n            },\n            workbook: function (workbook) {\n                this._workbook = workbook;\n                this.nameEditor._workbook = workbook;\n            },\n            sheet: function (sheet) {\n                this._sheet = sheet;\n            },\n            activeCellRectangle: function () {\n                return this.cellRectangle(this._sheet._viewActiveCell());\n            },\n            _rectangle: function (pane, ref) {\n                return pane._grid.boundingRectangle(ref.toRangeRef());\n            },\n            isColumnResizer: function (x, pane, ref) {\n                var rectangle = this._rectangle(pane, ref);\n                x -= this._sheet._grid._headerWidth;\n                var handleWidth = RESIZE_HANDLE_WIDTH / 2;\n                var right = rectangle.right - this.scroller.scrollLeft;\n                return right - handleWidth <= x && x <= right + handleWidth;\n            },\n            isRowResizer: function (y, pane, ref) {\n                var rectangle = this._rectangle(pane, ref);\n                y -= this._sheet._grid._headerHeight;\n                var handleWidth = RESIZE_HANDLE_WIDTH / 2;\n                var bottom = rectangle.bottom - this.scroller.scrollTop;\n                return bottom - handleWidth <= y && y <= bottom + handleWidth;\n            },\n            isFilterIcon: function (x, y, pane, ref) {\n                var theGrid = pane._grid;\n                var scrollTop = theGrid.rows.frozen ? 0 : this.scroller.scrollTop;\n                var scrollLeft = theGrid.columns.frozen ? 0 : this.scroller.scrollLeft;\n                x -= this._sheet._grid._headerWidth - scrollLeft;\n                y -= this._sheet._grid._headerHeight - scrollTop;\n                var result = false;\n                this._sheet.forEachFilterHeader(ref, function (ref) {\n                    if (!result) {\n                        var rect = this._rectangle(pane, ref);\n                        result = pane.filterIconRect(rect).intersects(x, y);\n                    }\n                }.bind(this));\n                return result;\n            },\n            isAutoFill: function (x, y, pane) {\n                var selection = this._sheet.select();\n                if (selection.size > 1) {\n                    return false;\n                }\n                x -= this._sheet._grid._headerWidth;\n                y -= this._sheet._grid._headerHeight;\n                if (!pane._grid.columns.frozen) {\n                    x += this.scroller.scrollLeft;\n                }\n                if (!pane._grid.rows.frozen) {\n                    y += this.scroller.scrollTop;\n                }\n                var rectangle = this._rectangle(pane, selection);\n                return Math.abs(rectangle.right - x) < 8 && Math.abs(rectangle.bottom - y) < 8;\n            },\n            isEditButton: function (x, y) {\n                var ed = this._sheet.activeCellCustomEditor();\n                if (ed) {\n                    var r = this.activeCellRectangle();\n                    if (x > r.right && x <= r.right + 20 && y >= r.top && y <= r.bottom) {\n                        return true;\n                    }\n                }\n            },\n            objectAt: function (x, y) {\n                var grid = this._sheet._grid;\n                var object, pane;\n                if (x < 0 || y < 0 || x > this.scroller.clientWidth || y > this.scroller.clientHeight) {\n                    object = { type: 'outside' };\n                } else if (x < grid._headerWidth && y < grid._headerHeight) {\n                    object = { type: 'topcorner' };\n                } else {\n                    pane = this.paneAt(x, y);\n                    if (!pane) {\n                        object = { type: 'outside' };\n                    } else {\n                        var row = pane._grid.rows.index(y, this.scroller.scrollTop);\n                        var column = pane._grid.columns.index(x, this.scroller.scrollLeft);\n                        var type = 'cell';\n                        var ref = new CellRef(row, column);\n                        var selecting = this._sheet.selectionInProgress();\n                        if (this.isAutoFill(x, y, pane)) {\n                            type = 'autofill';\n                        } else if (this.isFilterIcon(x, y, pane, ref)) {\n                            type = 'filtericon';\n                        } else if (!selecting && x < grid._headerWidth) {\n                            ref = new CellRef(row, -Infinity);\n                            type = this.isRowResizer(y, pane, ref) ? 'rowresizehandle' : 'rowheader';\n                        } else if (!selecting && y < grid._headerHeight) {\n                            ref = new CellRef(-Infinity, column);\n                            type = this.isColumnResizer(x, pane, ref) ? 'columnresizehandle' : 'columnheader';\n                        } else if (this.isEditButton(x, y)) {\n                            type = 'editor';\n                        }\n                        object = {\n                            type: type,\n                            ref: ref\n                        };\n                    }\n                }\n                object.pane = pane;\n                object.x = x;\n                object.y = y;\n                return object;\n            },\n            paneAt: function (x, y) {\n                return this.panes.filter(function paneLocationWithin(pane) {\n                    var grid = pane._grid;\n                    return within(y, grid.top, grid.bottom) && within(x, grid.left, grid.right);\n                })[0];\n            },\n            containingPane: function (cell) {\n                return this.panes.filter(function (pane) {\n                    if (pane._grid.contains(cell)) {\n                        return true;\n                    }\n                    return false;\n                })[0];\n            },\n            cellRectangle: function (cell) {\n                var theGrid = this.containingPane(cell)._grid;\n                var rectangle = this._sheet._grid.rectangle(cell);\n                return rectangle.offset(theGrid.headerWidth - (theGrid.columns.frozen ? 0 : this.scroller.scrollLeft), theGrid.headerHeight - (theGrid.rows.frozen ? 0 : this.scroller.scrollTop));\n            },\n            refresh: function (reason) {\n                var sheet = this._sheet;\n                if (this.tabstrip) {\n                    this.tabstrip.refreshTools(sheet.range(sheet.activeCell()));\n                }\n                if (reason.sheetSelection && this.sheetsbar) {\n                    this.sheetsbar.renderSheets(this._workbook.sheets(), this._workbook.sheetIndex(this._sheet));\n                }\n                this._resize();\n                this.viewSize[0].style.height = sheet._grid.totalHeight() + 'px';\n                this.viewSize[0].style.width = sheet._grid.totalWidth() + 'px';\n                if (reason.layout) {\n                    var frozenColumns = sheet.frozenColumns();\n                    var frozenRows = sheet.frozenRows();\n                    this.panes = [this._pane(frozenRows, frozenColumns)];\n                    if (frozenColumns > 0) {\n                        this.panes.push(this._pane(frozenRows, 0, null, frozenColumns));\n                    }\n                    if (frozenRows > 0) {\n                        this.panes.push(this._pane(0, frozenColumns, frozenRows, null));\n                    }\n                    if (frozenRows > 0 && frozenColumns > 0) {\n                        this.panes.push(this._pane(0, 0, frozenRows, frozenColumns));\n                    }\n                }\n                if (reason.filter) {\n                    this._destroyFilterMenu();\n                }\n                if (reason.activeCell) {\n                    this._focus = sheet.activeCell().toRangeRef();\n                }\n            },\n            createFilterMenu: function (column) {\n                if (this._filterMenu && this._filterMenu.options.column == column) {\n                    return this._filterMenu;\n                }\n                this._destroyFilterMenu();\n                var sheet = this._sheet;\n                var ref = sheet.filter().ref;\n                var range = new kendo.spreadsheet.Range(ref, sheet);\n                var element = $('<div />').appendTo(this.element);\n                var options = {\n                    column: column,\n                    range: range\n                };\n                var filterMenu = new kendo.spreadsheet.FilterMenu(element, options);\n                this._filterMenu = filterMenu;\n                return filterMenu;\n            },\n            selectClipBoardContents: function () {\n                if (!this.isClipboardDeactivated) {\n                    this.clipboard.focus();\n                    selectElementContents(this.clipboard[0]);\n                }\n            },\n            scrollIntoView: function (cell) {\n                var willScroll = false;\n                var theGrid = this.containingPane(cell)._grid;\n                var boundaries = theGrid.scrollBoundaries(cell);\n                var scroller = this.scroller;\n                var scrollTop = theGrid.rows.frozen ? 0 : scroller.scrollTop;\n                var scrollLeft = theGrid.columns.frozen ? 0 : scroller.scrollLeft;\n                if (boundaries.top < scrollTop) {\n                    willScroll = true;\n                    scroller.scrollTop = boundaries.scrollTop;\n                }\n                if (boundaries.bottom > scrollTop) {\n                    willScroll = true;\n                    scroller.scrollTop = boundaries.scrollBottom;\n                }\n                if (boundaries.left < scrollLeft) {\n                    willScroll = true;\n                    scroller.scrollLeft = boundaries.scrollLeft;\n                }\n                if (boundaries.right > scrollLeft) {\n                    willScroll = true;\n                    scroller.scrollLeft = boundaries.scrollRight;\n                }\n                return willScroll;\n            },\n            _destroyDialog: function () {\n                this._dialogs.pop();\n            },\n            openCustomEditor: function () {\n                var self = this;\n                var cell = self._sheet.activeCell().first();\n                var editor = self._sheet.activeCellCustomEditor();\n                var range = self._sheet.range(cell);\n                editor.edit({\n                    range: range,\n                    rect: self.activeCellRectangle(),\n                    view: this,\n                    validation: this._sheet.validation(cell),\n                    callback: function (value, parse) {\n                        self._executeCommand({\n                            command: 'EditCommand',\n                            options: {\n                                property: parse ? 'input' : 'value',\n                                value: value\n                            }\n                        });\n                    }\n                });\n            },\n            openDialog: function (name, options) {\n                var sheet = this._sheet;\n                var ref = sheet.activeCell();\n                var range = new kendo.spreadsheet.Range(ref, sheet);\n                var dialog = kendo.spreadsheet.dialogs.create(name, options);\n                if (dialog) {\n                    dialog.bind('action', this._executeCommand.bind(this));\n                    dialog.bind('deactivate', this._destroyDialog.bind(this));\n                    this._dialogs.push(dialog);\n                    dialog.open(range);\n                    return dialog;\n                }\n            },\n            showError: function (options, callback) {\n                var errorMessages = this.options.messages.errors;\n                if (kendo.spreadsheet.dialogs.registered(options.type)) {\n                    var dialogOptions = { close: callback };\n                    if (options.type === 'validationError') {\n                        dialogOptions = $.extend(dialogOptions, {\n                            title: options.title || 'Error',\n                            text: options.body ? options.body : errorMessages[options.type]\n                        });\n                    }\n                    this.openDialog(options.type, dialogOptions);\n                } else {\n                    this.openDialog('message', {\n                        title: options.title || 'Error',\n                        text: options.body ? options.body : errorMessages[options.type],\n                        activate: function (e) {\n                            e.sender.dialog().element.find('.k-button').focus();\n                        }.bind(this),\n                        close: callback\n                    });\n                }\n            },\n            destroy: function () {\n                this._dialogs.forEach(function (dialog) {\n                    dialog.destroy();\n                });\n                this.cellContextMenu.destroy();\n                this.rowHeaderContextMenu.destroy();\n                this.colHeaderContextMenu.destroy();\n                if (this.tabstrip) {\n                    this.tabstrip.destroy();\n                }\n                this._destroyFilterMenu();\n            },\n            _destroyFilterMenu: function () {\n                if (this._filterMenu) {\n                    this._filterMenu.destroy();\n                    this._filterMenu = undefined;\n                    this._filterMenuColumn = undefined;\n                }\n            },\n            render: function () {\n                if (!this.element.is(':visible')) {\n                    return;\n                }\n                var sheet = this._sheet;\n                var focus = sheet.focus();\n                if (focus && this.scrollIntoView(focus)) {\n                    return;\n                }\n                var resizeDirection = !sheet.resizingInProgress() ? 'none' : sheet.resizeHandlePosition().col === -Infinity ? 'column' : 'row';\n                this.wrapper.toggleClass(viewClassNames.editContainer, this.editor.isActive()).toggleClass(viewClassNames.horizontalResize, resizeDirection == 'row').toggleClass(viewClassNames.verticalResize, resizeDirection == 'column');\n                var grid = sheet._grid;\n                var scrollTop = this.scroller.scrollTop;\n                var scrollLeft = this.scroller.scrollLeft;\n                if (scrollTop < 0) {\n                    scrollTop = 0;\n                }\n                if (scrollLeft < 0) {\n                    scrollLeft = 0;\n                }\n                var result = this.panes.map(function (pane) {\n                    return pane.render(scrollLeft, scrollTop);\n                }, this);\n                var merged = [];\n                merged = Array.prototype.concat.apply(merged, result);\n                var topCorner = kendo.dom.element('div', {\n                    style: {\n                        width: grid._headerWidth + 'px',\n                        height: grid._headerHeight + 'px'\n                    },\n                    className: View.classNames.topCorner\n                });\n                merged.push(topCorner);\n                if (sheet.resizeHandlePosition() && sheet.resizeHintPosition()) {\n                    merged.push(this.renderResizeHint());\n                }\n                this.tree.render(merged);\n                if (this.editor.isActive()) {\n                    this.editor.toggleTooltip(this.activeCellRectangle());\n                } else if (!sheet.selectionInProgress() && !sheet.resizingInProgress() && !sheet.isInEditMode()) {\n                    this.renderClipboardContents();\n                }\n            },\n            renderResizeHint: function () {\n                var sheet = this._sheet;\n                var ref = sheet.resizeHandlePosition();\n                var horizontal = ref.col !== -Infinity;\n                var style;\n                if (horizontal) {\n                    style = {\n                        height: this.scroller.clientHeight + 'px',\n                        width: RESIZE_HANDLE_WIDTH + 'px',\n                        left: sheet.resizeHintPosition().x + 'px',\n                        top: '0px'\n                    };\n                } else {\n                    style = {\n                        height: RESIZE_HANDLE_WIDTH + 'px',\n                        width: this.scroller.clientWidth + 'px',\n                        top: sheet.resizeHintPosition().y + 'px',\n                        left: '0px'\n                    };\n                }\n                var classNames = Pane.classNames;\n                return kendo.dom.element('div', {\n                    className: classNames.resizeHint + (!horizontal ? ' ' + classNames.resizeHintVertical : ''),\n                    style: style\n                }, [\n                    kendo.dom.element('div', { className: classNames.resizeHintHandle }),\n                    kendo.dom.element('div', { className: classNames.resizeHintMarker })\n                ]);\n            },\n            renderClipboardContents: function () {\n                var sheet = this._sheet;\n                var grid = sheet._grid;\n                var selection = sheet.select().toRangeRef();\n                var status = this._workbook.clipboard().canCopy();\n                if (status.canCopy === false && status.multiSelection) {\n                    this.clipboardContents.render([]);\n                    this.selectClipBoardContents();\n                    return;\n                }\n                selection = sheet.trim(selection);\n                var table = new HtmlTable();\n                var selectionView = grid.rangeDimensions(selection);\n                selectionView.rows.forEach(function (height) {\n                    table.addRow(height);\n                });\n                selectionView.columns.forEach(function (width) {\n                    table.addColumn(width);\n                });\n                var primaryMergedCells = {};\n                var secondaryMergedCells = {};\n                sheet.forEachMergedCell(selection, function (ref) {\n                    var topLeft = ref.topLeft;\n                    grid.forEach(ref, function (cellRef) {\n                        if (topLeft.eq(cellRef)) {\n                            primaryMergedCells[cellRef.print()] = ref;\n                        } else {\n                            secondaryMergedCells[cellRef.print()] = true;\n                        }\n                    });\n                });\n                sheet.forEach(selection, function (row, col, cell) {\n                    var location = new CellRef(row, col).print();\n                    if (!secondaryMergedCells[location]) {\n                        var td = addCell(table, row - selection.topLeft.row, cell);\n                        var mergedCell = primaryMergedCells[location];\n                        if (mergedCell) {\n                            td.attr.colspan = mergedCell.width();\n                            td.attr.rowspan = mergedCell.height();\n                        }\n                    }\n                });\n                this.clipboardContents.render([table.toDomTree(0, 0, 'kendo-clipboard-' + this._workbook.clipboard()._uid)]);\n                this.selectClipBoardContents();\n            },\n            _pane: function (row, column, rowCount, columnCount) {\n                var pane = new Pane(this._sheet, this._sheet._grid.pane({\n                    row: row,\n                    column: column,\n                    rowCount: rowCount,\n                    columnCount: columnCount\n                }));\n                pane.refresh(this.scroller.clientWidth, this.scroller.clientHeight);\n                return pane;\n            }\n        });\n        var paneClassNames = {\n            cell: 'k-spreadsheet-cell',\n            vaxis: 'k-spreadsheet-vaxis',\n            haxis: 'k-spreadsheet-haxis',\n            rowHeader: 'k-spreadsheet-row-header',\n            columnHeader: 'k-spreadsheet-column-header',\n            pane: 'k-spreadsheet-pane',\n            data: 'k-spreadsheet-data',\n            mergedCell: 'k-spreadsheet-merged-cell',\n            mergedCellsWrapper: 'k-merged-cells-wrapper',\n            activeCell: 'k-spreadsheet-active-cell',\n            selection: 'k-spreadsheet-selection',\n            selectionWrapper: 'k-selection-wrapper',\n            autoFillWrapper: 'k-auto-fill-wrapper',\n            single: 'k-single',\n            top: 'k-top',\n            right: 'k-right',\n            bottom: 'k-bottom',\n            left: 'k-left',\n            resizeHandle: 'k-resize-handle',\n            columnResizeHandle: 'k-column-resize-handle',\n            rowResizeHandle: 'k-row-resize-handle',\n            resizeHint: 'k-resize-hint',\n            resizeHintHandle: 'k-resize-hint-handle',\n            resizeHintMarker: 'k-resize-hint-marker',\n            resizeHintVertical: 'k-resize-hint-vertical',\n            selectionHighlight: 'k-spreadsheet-selection-highlight',\n            series: [\n                'k-series-a',\n                'k-series-b',\n                'k-series-c',\n                'k-series-d',\n                'k-series-e',\n                'k-series-f'\n            ]\n        };\n        var Pane = kendo.Class.extend({\n            init: function (sheet, grid) {\n                this._sheet = sheet;\n                this._grid = grid;\n            },\n            refresh: function (width, height) {\n                this._grid.refresh(width, height);\n            },\n            isVisible: function (scrollLeft, scrollTop, ref) {\n                return this._grid.view(scrollLeft, scrollTop).ref.intersects(ref);\n            },\n            render: function (scrollLeft, scrollTop) {\n                var classNames = Pane.classNames;\n                var sheet = this._sheet;\n                var grid = this._grid;\n                var view = grid.view(scrollLeft, scrollTop);\n                this._currentView = view;\n                this._currentRect = this._rectangle(view.ref);\n                this._selectedHeaders = sheet.selectedHeaders();\n                var children = [];\n                children.push(this.renderData());\n                children.push(this.renderSelection());\n                children.push(this.renderAutoFill());\n                children.push(this.renderEditorSelection());\n                children.push(this.renderFilterHeaders());\n                if (grid.hasRowHeader) {\n                    var rowHeader = kendo.dom.element('div', {\n                        className: classNames.rowHeader,\n                        style: {\n                            width: grid.headerWidth + 'px',\n                            top: view.rowOffset + 'px'\n                        }\n                    });\n                    children.push(rowHeader);\n                    sheet.forEach(view.ref.leftColumn(), function (row) {\n                        if (!sheet.isHiddenRow(row)) {\n                            var text = row + 1, height = sheet.rowHeight(row);\n                            rowHeader.children.push(kendo.dom.element('div', {\n                                className: this.headerClassName(row, 'row'),\n                                style: {\n                                    width: grid.headerWidth + 'px',\n                                    height: height + 'px'\n                                }\n                            }, [kendo.dom.element('div', { className: 'k-vertical-align-center' }, [kendo.dom.text(text + '')])]));\n                        }\n                    }.bind(this));\n                }\n                if (grid.hasColumnHeader) {\n                    var columnHeader = kendo.dom.element('div', {\n                        className: classNames.columnHeader,\n                        style: {\n                            top: '0px',\n                            left: view.columnOffset + 'px',\n                            width: this._currentRect.width + 'px',\n                            height: grid.headerHeight + 'px'\n                        }\n                    });\n                    children.push(columnHeader);\n                    var left = 0;\n                    sheet.forEach(view.ref.topRow(), function (row, col) {\n                        if (!sheet.isHiddenColumn(col)) {\n                            var text = kendo.spreadsheet.Ref.display(null, Infinity, col), width = sheet.columnWidth(col);\n                            columnHeader.children.push(kendo.dom.element('div', {\n                                className: this.headerClassName(col, 'col'),\n                                style: {\n                                    position: 'absolute',\n                                    left: left + 'px',\n                                    width: width + 'px',\n                                    height: grid.headerHeight + 'px'\n                                }\n                            }, [kendo.dom.element('div', { className: 'k-vertical-align-center' }, [kendo.dom.text(text + '')])]));\n                            left += width;\n                        }\n                    }.bind(this));\n                }\n                if (sheet.resizeHandlePosition() && (grid.hasColumnHeader || grid.hasRowHeader)) {\n                    var ref = sheet._grid.normalize(sheet.resizeHandlePosition());\n                    if (view.ref.intersects(ref)) {\n                        if (!sheet.resizeHintPosition()) {\n                            children.push(this.renderResizeHandle());\n                        }\n                    }\n                }\n                var paneClasses = [classNames.pane];\n                if (grid.hasColumnHeader) {\n                    paneClasses.push(classNames.top);\n                }\n                if (grid.hasRowHeader) {\n                    paneClasses.push(classNames.left);\n                }\n                return kendo.dom.element('div', {\n                    style: grid.style,\n                    className: paneClasses.join(' ')\n                }, children);\n            },\n            headerClassName: function (index, type) {\n                var selectedHeaders = this._selectedHeaders;\n                var itemSelection;\n                var allHeaders;\n                if (type === 'row') {\n                    itemSelection = selectedHeaders.rows[index];\n                    allHeaders = selectedHeaders.allRows;\n                } else {\n                    itemSelection = selectedHeaders.cols[index];\n                    allHeaders = selectedHeaders.allCols;\n                }\n                var className = itemSelection || (selectedHeaders.all ? 'full' : allHeaders ? 'partial' : 'none');\n                if (className) {\n                    className = 'k-selection-' + className;\n                }\n                return className;\n            },\n            renderData: function () {\n                var sheet = this._sheet;\n                var view = this._currentView;\n                var cont = kendo.dom.element('div', {\n                    className: Pane.classNames.data,\n                    style: {\n                        position: 'relative',\n                        left: view.columnOffset + 'px',\n                        top: view.rowOffset + 'px'\n                    }\n                });\n                var rect = this._currentRect;\n                var layout = kendo.spreadsheet.draw.doLayout(sheet, view.ref, { forScreen: true }), prev;\n                var showGridLines = sheet._showGridLines;\n                if (showGridLines) {\n                    prev = null;\n                    layout.xCoords.forEach(function (x) {\n                        if (x !== prev) {\n                            prev = x;\n                            cont.children.push(kendo.dom.element('div', {\n                                className: paneClassNames.vaxis,\n                                style: {\n                                    left: x + 'px',\n                                    height: rect.height + 'px',\n                                    borderColor: sheet.gridLinesColor()\n                                }\n                            }));\n                        }\n                    });\n                    prev = null;\n                    layout.yCoords.forEach(function (y) {\n                        if (y !== prev) {\n                            prev = y;\n                            cont.children.push(kendo.dom.element('div', {\n                                className: paneClassNames.haxis,\n                                style: {\n                                    top: y + 'px',\n                                    width: rect.width + 'px',\n                                    borderColor: sheet.gridLinesColor()\n                                }\n                            }));\n                        }\n                    });\n                }\n                var vBorders = {}, hBorders = {};\n                layout.cells.forEach(function (cell) {\n                    var hb = hBorders[cell.col] || (hBorders[cell.col] = {});\n                    var vb = vBorders[cell.row] || (vBorders[cell.row] = {});\n                    drawCell(cont.children, cell, null, hb, vb, showGridLines);\n                });\n                return cont;\n            },\n            renderResizeHandle: function () {\n                var sheet = this._sheet;\n                var ref = sheet.resizeHandlePosition();\n                var rectangle = this._rectangle(ref);\n                var classNames = [Pane.classNames.resizeHandle];\n                var style;\n                if (ref.col !== -Infinity) {\n                    style = {\n                        height: this._grid.headerHeight + 'px',\n                        width: RESIZE_HANDLE_WIDTH + 'px',\n                        left: rectangle.right - RESIZE_HANDLE_WIDTH / 2 + 'px',\n                        top: '0px'\n                    };\n                    classNames.push(viewClassNames.horizontalResize);\n                } else {\n                    style = {\n                        height: RESIZE_HANDLE_WIDTH + 'px',\n                        width: this._grid.headerWidth + 'px',\n                        top: rectangle.bottom - RESIZE_HANDLE_WIDTH / 2 + 'px',\n                        left: '0px'\n                    };\n                    classNames.push(viewClassNames.verticalResize);\n                }\n                return kendo.dom.element('div', {\n                    className: classNames.join(' '),\n                    style: style\n                });\n            },\n            filterIconRect: function (rect) {\n                var BUTTON_SIZE = 16;\n                var BUTTON_OFFSET = 3;\n                return new kendo.spreadsheet.Rectangle(rect.right - BUTTON_SIZE - BUTTON_OFFSET, rect.top + BUTTON_OFFSET, BUTTON_SIZE, BUTTON_SIZE);\n            },\n            renderFilterHeaders: function () {\n                var sheet = this._sheet;\n                var children = [];\n                var classNames = View.classNames;\n                var filter = sheet.filter();\n                function icon(className) {\n                    return kendo.dom.element('span', { className: classNames.icon + ' ' + className });\n                }\n                function filterButton(classNames, position, index) {\n                    var style = {\n                        left: position.left + 'px',\n                        top: position.top + 'px'\n                    };\n                    var filtered = filter && filter.columns.some(function (c) {\n                        return c.index === index;\n                    });\n                    var classes = classNames.filterButton;\n                    if (filtered) {\n                        classes += ' ' + classNames.filterButtonActive;\n                    }\n                    var button = kendo.dom.element('span', {\n                        className: classes,\n                        style: style\n                    }, [icon(classNames.iconFilterDefault)]);\n                    return button;\n                }\n                if (filter) {\n                    this._addDiv(children, filter.ref, classNames.filterRange);\n                }\n                sheet.forEachFilterHeader(this._currentView.ref, function (ref) {\n                    var rect = this._rectangle(ref);\n                    var position = this.filterIconRect(rect);\n                    var column = this._sheet.filterColumn(ref);\n                    var button = filterButton(classNames, position, column);\n                    children.push(button);\n                }.bind(this));\n                return kendo.dom.element('div', { className: classNames.filterHeadersWrapper }, children);\n            },\n            renderEditorSelection: function () {\n                var classNames = Pane.classNames;\n                var sheet = this._sheet;\n                var selections = [];\n                sheet._formulaSelections.forEach(function (range) {\n                    var ref = range.ref;\n                    if (ref === kendo.spreadsheet.NULLREF) {\n                        return;\n                    }\n                    this._addDiv(selections, ref, classNames.selectionHighlight + ' ' + range.colorClass);\n                }.bind(this));\n                return kendo.dom.element('div', { className: classNames.selectionWrapper }, selections);\n            },\n            renderSelection: function () {\n                var classNames = Pane.classNames;\n                var selections = [];\n                var activeCellClasses = [classNames.activeCell];\n                var selectionClasses = [classNames.selection];\n                var sheet = this._sheet;\n                var activeCell = sheet.activeCell().toRangeRef();\n                var activeFormulaColor = this._activeFormulaColor();\n                var selection = sheet.select();\n                activeCellClasses = activeCellClasses.concat(activeFormulaColor, this._directionClasses(activeCell));\n                selectionClasses = selectionClasses.concat(activeFormulaColor);\n                if (sheet.singleCellSelection()) {\n                    activeCellClasses.push(classNames.single);\n                }\n                if (selection.size() === 1) {\n                    selectionClasses.push('k-single-selection');\n                }\n                if (this._sheet.autoFillPunch()) {\n                    selectionClasses.push('k-dim-auto-fill-handle');\n                }\n                selection.forEach(function (ref) {\n                    if (ref !== kendo.spreadsheet.NULLREF) {\n                        this._addDiv(selections, ref, selectionClasses.join(' '));\n                    }\n                }.bind(this));\n                this._addTable(selections, activeCell, activeCellClasses.join(' '));\n                return kendo.dom.element('div', { className: classNames.selectionWrapper }, selections);\n            },\n            renderAutoFill: function () {\n                var autoFillRectangle = [];\n                if (this._sheet.autoFillInProgress()) {\n                    var autoFillRef = this._sheet.autoFillRef();\n                    var punch = this._sheet.autoFillPunch();\n                    var direction = this._sheet._autoFillDirection;\n                    this._addDiv(autoFillRectangle, autoFillRef, 'k-auto-fill');\n                    if (punch) {\n                        this._addDiv(autoFillRectangle, punch, 'k-auto-fill-punch');\n                    } else if (direction !== undefined) {\n                        var ref, cssClass;\n                        switch (direction) {\n                        case 0:\n                            ref = autoFillRef.bottomRight;\n                            cssClass = 'k-auto-fill-br-hint';\n                            break;\n                        case 1:\n                            ref = autoFillRef.bottomRight;\n                            cssClass = 'k-auto-fill-br-hint';\n                            break;\n                        case 2:\n                            ref = new CellRef(autoFillRef.topLeft.row, autoFillRef.bottomRight.col);\n                            cssClass = 'k-auto-fill-tr-hint';\n                            break;\n                        case 3:\n                            ref = new CellRef(autoFillRef.bottomRight.row, autoFillRef.topLeft.col);\n                            cssClass = 'k-auto-fill-bl-hint';\n                            break;\n                        }\n                        var hint = kendo.dom.element('span', { className: 'k-tooltip' }, [kendo.dom.text(this._sheet._autoFillHint)]);\n                        var rectangle = this._addDiv(autoFillRectangle, ref, cssClass);\n                        if (rectangle) {\n                            rectangle.children.push(hint);\n                        }\n                    }\n                }\n                return kendo.dom.element('div', { className: Pane.classNames.autoFillWrapper }, autoFillRectangle);\n            },\n            _addDiv: function (collection, ref, className) {\n                var view = this._currentView, div;\n                if (view.ref.intersects(ref)) {\n                    div = this._rectangle(ref).resize(1, 1).toDiv(className);\n                    collection.push(div);\n                }\n                return div;\n            },\n            _addTable: function (collection, ref, className) {\n                var self = this;\n                var sheet = self._sheet;\n                var view = self._currentView;\n                if (view.ref.intersects(ref)) {\n                    var rectangle = self._rectangle(ref);\n                    var ed = self._sheet.activeCellCustomEditor();\n                    sheet.forEach(ref.collapse(), function (row, col, cell) {\n                        cell.left = rectangle.left;\n                        cell.top = rectangle.top;\n                        cell.width = rectangle.width;\n                        cell.height = rectangle.height;\n                        drawCell(collection, cell, className, null, null, true);\n                        if (ed) {\n                            var btn = kendo.dom.element('div', {\n                                className: 'k-button k-spreadsheet-editor-button',\n                                style: {\n                                    left: cell.left + cell.width + 'px',\n                                    top: cell.top + 'px',\n                                    height: cell.height + 'px'\n                                }\n                            });\n                            if (ed.icon) {\n                                btn.children.push(kendo.dom.element('span', { className: 'k-icon ' + ed.icon }));\n                            }\n                            collection.push(btn);\n                        }\n                    });\n                }\n            },\n            _activeFormulaColor: function () {\n                var activeFormulaSelection;\n                var colorClasses = [];\n                if (this._sheet.isInEditMode()) {\n                    activeFormulaSelection = this._sheet._formulaSelections.filter(function (sel) {\n                        return sel.active && sel.type == 'ref';\n                    })[0];\n                    if (activeFormulaSelection) {\n                        colorClasses.push(activeFormulaSelection.colorClass);\n                    }\n                }\n                return colorClasses;\n            },\n            _directionClasses: function (cell) {\n                var cellClasses = [];\n                var classNames = Pane.classNames;\n                var view = this._currentView.ref;\n                if (!cell.move(0, -1).intersects(view)) {\n                    cellClasses.push(classNames.left);\n                }\n                if (!cell.move(-1, 0).intersects(view)) {\n                    cellClasses.push(classNames.top);\n                }\n                if (!cell.move(0, 1).intersects(view)) {\n                    cellClasses.push(classNames.right);\n                }\n                if (!cell.move(1, 0).intersects(view)) {\n                    cellClasses.push(classNames.bottom);\n                }\n                return cellClasses;\n            },\n            _rectangle: function (ref) {\n                return this._grid.boundingRectangle(ref.toRangeRef()).offset(-this._currentView.mergedCellLeft, -this._currentView.mergedCellTop);\n            }\n        });\n        kendo.spreadsheet.View = View;\n        kendo.spreadsheet.Pane = Pane;\n        kendo.spreadsheet.drawCell = drawCell;\n        $.extend(true, View, { classNames: viewClassNames });\n        $.extend(true, Pane, { classNames: paneClassNames });\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/customeditors', [\n        'kendo.core',\n        'kendo.popup',\n        'kendo.calendar',\n        'kendo.listview',\n        'spreadsheet/sheet'\n    ], f);\n}(function () {\n    (function (kendo) {\n        'use strict';\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var EDITORS = {};\n        var registerEditor = kendo.spreadsheet.registerEditor = function (name, editor) {\n            EDITORS[name] = editor;\n        };\n        kendo.spreadsheet.Sheet.prototype.activeCellCustomEditor = function () {\n            var cell = this.activeCell().first();\n            if (this.range(cell).enable()) {\n                var val = this.validation(cell);\n                var key = this._properties.get('editor', this._grid.cellRefIndex(cell));\n                var editor;\n                if (key != null) {\n                    editor = EDITORS[key];\n                } else if (val && val.showButton) {\n                    key = '_validation_' + val.dataType;\n                    editor = EDITORS[key];\n                }\n                if (typeof editor == 'function') {\n                    editor = EDITORS[key] = editor();\n                }\n                return editor;\n            }\n        };\n        registerEditor('_validation_date', function () {\n            var context, calendar, popup;\n            function create() {\n                if (!calendar) {\n                    calendar = $('<div>').kendoCalendar();\n                    popup = $('<div>').kendoPopup();\n                    calendar.appendTo(popup);\n                    calendar = calendar.getKendoCalendar();\n                    popup = popup.getKendoPopup();\n                    calendar.bind('change', function () {\n                        popup.close();\n                        var date = calendar.value();\n                        if (!context.range.format()) {\n                            context.range.format('yyyy-mm-dd');\n                        }\n                        context.callback(kendo.spreadsheet.dateToNumber(date));\n                    });\n                }\n                popup.setOptions({ anchor: context.view.element.find('.k-spreadsheet-editor-button') });\n            }\n            function open() {\n                create();\n                var date = context.range.value();\n                if (date != null) {\n                    calendar.value(kendo.spreadsheet.numberToDate(date));\n                }\n                var val = context.validation;\n                if (val) {\n                    var min = kendo.ui.Calendar.fn.options.min;\n                    var max = kendo.ui.Calendar.fn.options.max;\n                    if (/^(?:greaterThan|between)/.test(val.comparerType)) {\n                        min = kendo.spreadsheet.numberToDate(val.from.value);\n                    }\n                    if (val.comparerType == 'between') {\n                        max = kendo.spreadsheet.numberToDate(val.to.value);\n                    }\n                    if (val.comparerType == 'lessThan') {\n                        max = kendo.spreadsheet.numberToDate(val.from.value);\n                    }\n                    calendar.setOptions({\n                        disableDates: function (date) {\n                            var from = val.from ? val.from.value | 0 : 0;\n                            var to = val.to ? val.to.value | 0 : 0;\n                            date = kendo.spreadsheet.dateToNumber(date) | 0;\n                            return !kendo.spreadsheet.validation.validationComparers[val.comparerType](date, from, to);\n                        },\n                        min: min,\n                        max: max\n                    });\n                } else {\n                    calendar.setOptions({\n                        disableDates: null,\n                        min: null,\n                        max: null\n                    });\n                }\n                popup.open();\n            }\n            return {\n                edit: function (options) {\n                    context = options;\n                    open();\n                },\n                icon: 'k-i-calendar'\n            };\n        });\n        registerEditor('_validation_list', function () {\n            var context, list, popup;\n            function create() {\n                if (!list) {\n                    list = $('<div/>').kendoStaticList({\n                        template: '<div>#:value#</div>',\n                        selectable: true,\n                        autoBind: false\n                    });\n                    popup = $('<div>').kendoPopup();\n                    list.appendTo(popup);\n                    popup = popup.getKendoPopup();\n                    list = list.getKendoStaticList();\n                    list.bind('change', function () {\n                        popup.close();\n                        var item = list.value()[0];\n                        if (item) {\n                            context.callback(item.value);\n                        }\n                    });\n                }\n                popup.setOptions({ anchor: context.view.element.find('.k-spreadsheet-editor-button') });\n            }\n            function open() {\n                create();\n                var matrix = context.validation.from.value;\n                var data = [];\n                if (matrix) {\n                    matrix.each(function (el) {\n                        data.push({ value: el });\n                    });\n                }\n                var dataSource = new kendo.data.DataSource({ data: data });\n                list.setDataSource(dataSource);\n                dataSource.read();\n                popup.open();\n            }\n            return {\n                edit: function (options) {\n                    context = options;\n                    open();\n                },\n                icon: 'k-i-arrow-s'\n            };\n        });\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/grid', [\n        'kendo.core',\n        'spreadsheet/references'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var CellRef = kendo.spreadsheet.CellRef;\n        var RangeRef = kendo.spreadsheet.RangeRef;\n        var UnionRef = kendo.spreadsheet.UnionRef;\n        var Rectangle = kendo.Class.extend({\n            init: function (left, top, width, height) {\n                this.left = left;\n                this.width = width;\n                this.right = left + width;\n                this.top = top;\n                this.height = height;\n                this.bottom = top + height;\n            },\n            offset: function (left, top) {\n                return new Rectangle(this.left + left, this.top + top, this.width, this.height);\n            },\n            resize: function (width, height) {\n                return new Rectangle(this.left, this.top, this.width + width, this.height + height);\n            },\n            intersects: function (x, y) {\n                return this.left < x && x < this.left + this.width && this.top < y && y < this.top + this.height;\n            },\n            toDiv: function (className) {\n                return kendo.dom.element('div', {\n                    className: className,\n                    style: {\n                        width: this.width + 'px',\n                        height: this.height + 'px',\n                        top: this.top + 'px',\n                        left: this.left + 'px'\n                    }\n                });\n            }\n        });\n        var Grid = kendo.Class.extend({\n            init: function (rows, columns, rowCount, columnCount, headerHeight, headerWidth) {\n                this.rowCount = rowCount;\n                this.columnCount = columnCount;\n                this._columns = columns;\n                this._rows = rows;\n                this._headerHeight = headerHeight;\n                this._headerWidth = headerWidth;\n            },\n            isAxis: function (ref) {\n                ref = ref.toRangeRef();\n                var topLeft = ref.topLeft;\n                var bottomRight = ref.bottomRight;\n                return topLeft.row === 0 && bottomRight.row === this.rowCount - 1 || topLeft.col === 0 && bottomRight.col === this.columnCount - 1;\n            },\n            width: function (start, end) {\n                return this._columns.sum(start, end);\n            },\n            height: function (start, end) {\n                return this._rows.sum(start, end);\n            },\n            totalHeight: function () {\n                return this._rows.total + this._headerHeight;\n            },\n            totalWidth: function () {\n                return this._columns.total + this._headerWidth;\n            },\n            index: function (row, column) {\n                return column * this.rowCount + row;\n            },\n            cellRef: function (index) {\n                return new CellRef(index % this.rowCount, index / this.rowCount >> 0);\n            },\n            rowRef: function (row) {\n                return new RangeRef(new CellRef(row, 0), new CellRef(row, this.columnCount - 1));\n            },\n            colRef: function (col) {\n                return new RangeRef(new CellRef(0, col), new CellRef(this.rowCount - 1, col));\n            },\n            cellRefIndex: function (ref) {\n                return this.index(ref.row, ref.col);\n            },\n            normalize: function (ref) {\n                if (ref instanceof RangeRef) {\n                    return new RangeRef(this.normalize(ref.topLeft), this.normalize(ref.bottomRight)).setSheet(ref.sheet, ref.hasSheet());\n                }\n                if (ref instanceof UnionRef) {\n                    return ref.map(function (ref) {\n                        return this.normalize(ref);\n                    }, this);\n                }\n                if (ref instanceof CellRef) {\n                    ref = ref.clone();\n                    ref.col = Math.max(0, Math.min(this.columnCount - 1, ref.col));\n                    ref.row = Math.max(0, Math.min(this.rowCount - 1, ref.row));\n                }\n                return ref;\n            },\n            rectangle: function (ref) {\n                var topLeft = this.normalize(ref.topLeft);\n                var bottomRight = this.normalize(ref.bottomRight);\n                return new Rectangle(this.width(0, topLeft.col - 1), this.height(0, topLeft.row - 1), this.width(topLeft.col, bottomRight.col), this.height(topLeft.row, bottomRight.row));\n            },\n            pane: function (options) {\n                return new PaneGrid(new kendo.spreadsheet.PaneAxis(this._rows, options.row, options.rowCount, this._headerHeight), new kendo.spreadsheet.PaneAxis(this._columns, options.column, options.columnCount, this._headerWidth), this);\n            },\n            rangeDimensions: function (rangeRef) {\n                return {\n                    rows: this._rows.values.iterator(rangeRef.topLeft.row, rangeRef.bottomRight.row),\n                    columns: this._columns.values.iterator(rangeRef.topLeft.col, rangeRef.bottomRight.col)\n                };\n            },\n            forEach: function (ref, callback) {\n                var topLeft = this.normalize(ref.topLeft);\n                var bottomRight = this.normalize(ref.bottomRight);\n                for (var ci = topLeft.col; ci <= bottomRight.col; ci++) {\n                    for (var ri = topLeft.row; ri <= bottomRight.row; ri++) {\n                        callback(new CellRef(ri, ci));\n                    }\n                }\n            },\n            trim: function (ref, property) {\n                var topLeft = ref.topLeft;\n                var bottomRight = ref.bottomRight;\n                var bottomRightRow = topLeft.row;\n                var bottomRightCol = topLeft.col;\n                for (var ci = topLeft.col; ci <= bottomRight.col; ci++) {\n                    var start = this.index(topLeft.row, ci);\n                    var end = this.index(bottomRight.row, ci);\n                    var values = property.tree.intersecting(start, end);\n                    if (values.length) {\n                        var cell = this.cellRef(values[values.length - 1].end);\n                        bottomRightRow = Math.max(bottomRightRow, cell.row);\n                        bottomRightCol = ci;\n                    }\n                }\n                return new RangeRef(ref.topLeft, new CellRef(Math.min(bottomRightRow, ref.bottomRight.row), bottomRightCol));\n            }\n        });\n        var PaneGrid = kendo.Class.extend({\n            init: function (rows, columns, grid) {\n                this.rows = rows;\n                this.columns = columns;\n                this._grid = grid;\n                this.headerHeight = rows.headerSize;\n                this.headerWidth = columns.headerSize;\n                this.hasRowHeader = columns.hasHeader;\n                this.hasColumnHeader = rows.hasHeader;\n            },\n            refresh: function (width, height) {\n                this.columns.viewSize(width);\n                this.rows.viewSize(height);\n                var x = this.columns.paneSegment();\n                var y = this.rows.paneSegment();\n                this.left = x.offset;\n                this.top = y.offset;\n                this.right = x.offset + x.length;\n                this.bottom = y.offset + y.length;\n                this.style = {\n                    top: y.offset + 'px',\n                    left: x.offset + 'px',\n                    height: y.length + 'px',\n                    width: x.length + 'px'\n                };\n            },\n            view: function (left, top) {\n                var rows = this.rows.visible(top);\n                var columns = this.columns.visible(left);\n                return {\n                    rows: rows,\n                    columns: columns,\n                    rowOffset: rows.offset,\n                    columnOffset: columns.offset,\n                    mergedCellLeft: columns.start,\n                    mergedCellTop: rows.start,\n                    ref: new RangeRef(new CellRef(rows.values.start, columns.values.start), new CellRef(rows.values.end, columns.values.end))\n                };\n            },\n            contains: function (ref) {\n                return this.rows.contains(ref.topLeft.row, ref.bottomRight.row) && this.columns.contains(ref.topLeft.col, ref.bottomRight.col);\n            },\n            index: function (row, column) {\n                return this._grid.index(row, column);\n            },\n            boundingRectangle: function (ref) {\n                return this._grid.rectangle(ref);\n            },\n            cellRefIndex: function (ref) {\n                return this._grid.cellRefIndex(ref);\n            },\n            scrollBoundaries: function (cell) {\n                var position = this.boundingRectangle(cell);\n                var boundaries = {\n                    top: Math.max(0, position.top - this.top + (this.hasColumnHeader ? 0 : this.headerHeight)),\n                    left: Math.max(0, position.left - this.left + (this.hasRowHeader ? 0 : this.headerWidth)),\n                    right: position.right - this.columns._viewSize + this.headerWidth,\n                    bottom: position.bottom - this.rows._viewSize + this.headerHeight\n                };\n                var widthCompensation = this.columns.defaultValue / 2;\n                var heightCompensation = this.rows.defaultValue / 2;\n                boundaries.scrollTop = boundaries.top - heightCompensation;\n                boundaries.scrollBottom = boundaries.bottom + heightCompensation;\n                boundaries.scrollLeft = boundaries.left - widthCompensation;\n                boundaries.scrollRight = boundaries.right + widthCompensation;\n                return boundaries;\n            }\n        });\n        kendo.spreadsheet.Grid = Grid;\n        kendo.spreadsheet.PaneGrid = PaneGrid;\n        kendo.spreadsheet.Rectangle = Rectangle;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/axis', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var Axis = kendo.Class.extend({\n            init: function (count, value) {\n                this._value = value;\n                this._count = count;\n                this.values = new kendo.spreadsheet.RangeList(0, count - 1, value);\n                this._hidden = new kendo.spreadsheet.RangeList(0, count - 1, 0);\n                this.scrollBarSize = kendo.support.scrollbar();\n                this._refresh();\n            },\n            adjust: function (start, delta) {\n                if (delta < 0) {\n                    this.values.copy(start - delta, this._count - 1, start);\n                    this._hidden.copy(start - delta, this._count - 1, start);\n                } else {\n                    this.values.copy(start, this._count, start + delta);\n                    this._hidden.copy(start, this._count, start + delta);\n                    this.values.value(start, start + delta - 1, this._value);\n                    this._hidden.value(start, start + delta - 1, 0);\n                }\n            },\n            toJSON: function (field, positions) {\n                var values = [];\n                var iterator = this.values.iterator(0, this._count - 1);\n                for (var idx = 0; idx < this._count; idx++) {\n                    var value = iterator.at(idx);\n                    if (value === this._value) {\n                        continue;\n                    }\n                    var position = positions[idx];\n                    if (position === undefined) {\n                        position = values.length;\n                        var item = { index: idx };\n                        item[field] = value;\n                        values.push(item);\n                        positions[idx] = position;\n                    }\n                }\n                return values;\n            },\n            fromJSON: function (field, values) {\n                for (var idx = 0; idx < values.length; idx++) {\n                    var value = values[idx][field];\n                    var index = values[idx].index;\n                    if (index === undefined) {\n                        index = idx;\n                    }\n                    this.value(index, index, value);\n                }\n            },\n            hide: function (index) {\n                if (!this.hidden(index)) {\n                    var value = this.value(index, index);\n                    this._hidden.value(index, index, value);\n                    this.value(index, index, 0);\n                }\n            },\n            hidden: function (index) {\n                return this._hidden.value(index, index) !== 0;\n            },\n            includesHidden: function (start, end) {\n                return this._hidden.intersecting(start, end).length > 1;\n            },\n            nextVisible: function (index, overflow) {\n                var end = this._count - 1;\n                if (index === end) {\n                    return overflow ? index + 1 : index;\n                }\n                index += 1;\n                var range = this._hidden.intersecting(index, index)[0];\n                if (range.value !== 0) {\n                    if (range.end === end) {\n                        return index - 1;\n                    } else {\n                        return range.end + 1;\n                    }\n                } else {\n                    return index;\n                }\n            },\n            nextPage: function (index, pageSize) {\n                return this.index(this.sum(0, index - 1) + pageSize);\n            },\n            prevPage: function (index, pageSize) {\n                return this.index(this.sum(0, index) - pageSize);\n            },\n            firstVisible: function () {\n                var firstHidden = this._hidden.first();\n                if (firstHidden.value === 0) {\n                    return 0;\n                } else {\n                    return firstHidden.end + 1;\n                }\n            },\n            lastVisible: function () {\n                var lastHidden = this._hidden.last();\n                if (lastHidden.value === 0) {\n                    return this._count - 1;\n                } else {\n                    return lastHidden.start - 1;\n                }\n            },\n            prevVisible: function (index, overflow) {\n                if (index === 0) {\n                    return overflow ? -1 : 0;\n                }\n                index -= 1;\n                var range = this._hidden.intersecting(index, index)[0];\n                if (range.value !== 0) {\n                    if (range.start === 0) {\n                        return index + 1;\n                    } else {\n                        return range.start - 1;\n                    }\n                } else {\n                    return index;\n                }\n            },\n            unhide: function (index) {\n                if (this.hidden(index)) {\n                    var value = this._hidden.value(index, index);\n                    this._hidden.value(index, index, 0);\n                    this.value(index, index, value);\n                }\n            },\n            value: function (start, end, value) {\n                if (value !== undefined) {\n                    this.values.value(start, end, value);\n                    this._refresh();\n                } else {\n                    return this.values.iterator(start, end).at(0);\n                }\n            },\n            sum: function (start, end) {\n                var values = this.values.iterator(start, end);\n                var sum = 0;\n                for (var idx = start; idx <= end; idx++) {\n                    sum += values.at(idx);\n                }\n                return sum;\n            },\n            visible: function (start, end) {\n                var startSegment = null;\n                var endSegment = null;\n                var lastPage = false;\n                if (end >= this.total + this.scrollBarSize) {\n                    lastPage = true;\n                }\n                var ranges = this._pixelValues.intersecting(start, end);\n                startSegment = ranges[0];\n                endSegment = ranges[ranges.length - 1];\n                if (!startSegment) {\n                    return {\n                        values: this.values.iterator(0, 0),\n                        offset: 0\n                    };\n                }\n                var startOffset = start - startSegment.start;\n                var startIndex = (startOffset / startSegment.value.value >> 0) + startSegment.value.start;\n                var offset = startOffset - (startIndex - startSegment.value.start) * startSegment.value.value;\n                var endOffset = end - endSegment.start;\n                var endIndex = (endOffset / endSegment.value.value >> 0) + endSegment.value.start;\n                if (endIndex > endSegment.value.end) {\n                    endIndex = endSegment.value.end;\n                }\n                if (lastPage) {\n                    offset += endSegment.value.value - (endOffset - (endIndex - endSegment.value.start) * endSegment.value.value);\n                }\n                offset = Math.min(-offset, 0);\n                return {\n                    values: this.values.iterator(startIndex, endIndex),\n                    offset: offset\n                };\n            },\n            index: function (value) {\n                var index = 0;\n                var iterator = this.values.iterator(0, this._count - 1);\n                var current = iterator.at(0);\n                while (current < value && index < this._count - 1) {\n                    current += iterator.at(++index);\n                }\n                return index;\n            },\n            _refresh: function () {\n                var current = 0;\n                this._pixelValues = this.values.map(function (range) {\n                    var start = current;\n                    current += (range.end - range.start + 1) * range.value;\n                    var end = current - 1;\n                    return new kendo.spreadsheet.ValueRange(start, end, range);\n                });\n                this.total = current;\n            },\n            getState: function () {\n                return {\n                    values: this.values.getState(),\n                    hidden: this._hidden.getState()\n                };\n            },\n            setState: function (state) {\n                this.values.setState(state.values);\n                this._hidden.setState(state.hidden);\n                this._refresh();\n            }\n        });\n        var PaneAxis = kendo.Class.extend({\n            init: function (axis, start, count, headerSize) {\n                this._axis = axis;\n                this._start = start;\n                this._count = count;\n                this.hasHeader = start === 0;\n                this.headerSize = headerSize;\n                this.defaultValue = axis._value;\n                this.frozen = count > 0;\n            },\n            viewSize: function (viewSize) {\n                this._viewSize = viewSize;\n            },\n            sum: function (start, end) {\n                return this._axis.sum(start, end - 1);\n            },\n            start: function () {\n                return this.sum(0, this._start);\n            },\n            size: function () {\n                return this.sum(this._start, this._start + this._count);\n            },\n            index: function (value, offset) {\n                return this._axis.index(value + (this.frozen ? 0 : offset) - this.headerSize);\n            },\n            paneSegment: function () {\n                var offset = this.start();\n                var length;\n                if (!this.hasHeader) {\n                    offset += this.headerSize;\n                }\n                if (this.frozen) {\n                    length = this.size();\n                    if (this.hasHeader) {\n                        length += this.headerSize;\n                    } else {\n                        length -= this.headerSize;\n                    }\n                } else {\n                    length = this._viewSize - offset;\n                }\n                return {\n                    offset: offset,\n                    length: length\n                };\n            },\n            visible: function (offset) {\n                var start = this.start();\n                var size;\n                if (this.frozen) {\n                    size = this.size();\n                    if (!this.hasHeader) {\n                        size -= this.headerSize;\n                    }\n                } else {\n                    size = this._viewSize - start - this.headerSize;\n                    start += offset;\n                }\n                var result = this._axis.visible(start, start + size - 1);\n                if (this.frozen) {\n                    result.offset = 0;\n                }\n                result.start = start;\n                if (this.hasHeader) {\n                    result.offset += this.headerSize;\n                    result.start -= this.headerSize;\n                }\n                return result;\n            },\n            contains: function (start, end) {\n                if (this.frozen) {\n                    if (start > this._start + this._count) {\n                        return false;\n                    }\n                    if (end < this._start) {\n                        return false;\n                    }\n                    return true;\n                } else {\n                    return end >= this._start;\n                }\n            }\n        });\n        kendo.spreadsheet.Axis = Axis;\n        kendo.spreadsheet.PaneAxis = PaneAxis;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/filter', [\n        'kendo.core',\n        'kendo.data'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var Filter = kendo.spreadsheet.Filter = kendo.Class.extend({\n            prepare: function () {\n            },\n            value: function (cell) {\n                return cell.value;\n            },\n            matches: function () {\n                throw new Error('The \\'matches\\' method is not implemented.');\n            },\n            toJSON: function () {\n                throw new Error('The \\'toJSON\\' method is not implemented.');\n            }\n        });\n        Filter.create = function (options) {\n            var filter = options.filter;\n            if (!filter) {\n                throw new Error('Filter type not specified.');\n            }\n            var constructor = kendo.spreadsheet[filter.charAt(0).toUpperCase() + filter.substring(1) + 'Filter'];\n            if (!constructor) {\n                throw new Error('Filter type not recognized.');\n            }\n            return new constructor(options);\n        };\n        kendo.spreadsheet.ValueFilter = Filter.extend({\n            _values: [],\n            _dates: [],\n            _blanks: false,\n            init: function (options) {\n                if (options.values !== undefined) {\n                    this._values = options.values;\n                }\n                if (options.blanks !== undefined) {\n                    this._blanks = options.blanks;\n                }\n                if (options.dates !== undefined) {\n                    this._dates = options.dates;\n                }\n            },\n            value: function (cell) {\n                var value = cell.value;\n                if (this._dates.length > 0 && cell.format && typeof value === 'number') {\n                    var type = kendo.spreadsheet.formatting.type(value, cell.format);\n                    if (type === 'date') {\n                        value = kendo.spreadsheet.numberToDate(value);\n                    }\n                }\n                return value;\n            },\n            matches: function (value) {\n                if (value === null || value === undefined) {\n                    return this._blanks;\n                }\n                if (value instanceof Date) {\n                    return this._dates.some(function (date) {\n                        return date.year === value.getFullYear() && (date.month === undefined || date.month === value.getMonth()) && (date.day === undefined || date.day === value.getDate()) && (date.hours === undefined || date.hours === value.getHours()) && (date.minutes === undefined || date.minutes === value.getMinutes()) && (date.seconds === undefined || date.seconds === value.getSeconds());\n                    });\n                }\n                return this._values.indexOf(value) >= 0;\n            },\n            toJSON: function () {\n                return {\n                    filter: 'value',\n                    values: this._values.slice(0)\n                };\n            }\n        });\n        kendo.spreadsheet.CustomFilter = Filter.extend({\n            _logic: 'and',\n            init: function (options) {\n                if (options.logic !== undefined) {\n                    this._logic = options.logic;\n                }\n                if (options.criteria === undefined) {\n                    throw new Error('Must specify criteria.');\n                }\n                this._criteria = options.criteria;\n                var expression = kendo.data.Query.filterExpr({\n                    logic: this._logic,\n                    filters: this._criteria\n                }).expression;\n                this._matches = new Function('d', 'return ' + expression);\n            },\n            matches: function (value) {\n                if (value === null) {\n                    return false;\n                }\n                return this._matches(value);\n            },\n            value: function (cell) {\n                var value = cell.value;\n                var criterionValue = this._criteria[0].value;\n                var criterionType = criterionValue instanceof Date ? 'date' : typeof criterionValue;\n                var valueType = typeof value;\n                if (cell.format) {\n                    valueType = kendo.spreadsheet.formatting.type(value, cell.format);\n                }\n                if (valueType != criterionType) {\n                    if (criterionType == 'string') {\n                        if (cell.format) {\n                            value = kendo.spreadsheet.formatting.text(value, cell.format);\n                        }\n                        value = value + '';\n                    }\n                } else if (valueType == 'date') {\n                    value = kendo.spreadsheet.numberToDate(value);\n                }\n                return value;\n            },\n            toJSON: function () {\n                return {\n                    filter: 'custom',\n                    logic: this._logic,\n                    criteria: this._criteria\n                };\n            }\n        });\n        kendo.spreadsheet.TopFilter = Filter.extend({\n            init: function (options) {\n                this._type = options.type;\n                this._value = options.value;\n                this._values = [];\n            },\n            prepare: function (cells) {\n                var values = cells.map(this.value).sort().filter(function (value, index, array) {\n                    return index === 0 || value !== array[index - 1];\n                });\n                if (this._type === 'topNumber' || this._type == 'topPercent') {\n                    values.sort(function (x, y) {\n                        return y - x;\n                    });\n                } else {\n                    values.sort(function (x, y) {\n                        return x - y;\n                    });\n                }\n                var count = this._value;\n                if (this._type === 'topPercent' || this._type === 'bottomPercent') {\n                    count = values.length * count / 100 >> 0;\n                }\n                this._values = values.slice(0, count);\n            },\n            matches: function (value) {\n                return this._values.indexOf(value) >= 0;\n            },\n            toJSON: function () {\n                return {\n                    filter: 'top',\n                    type: this._type,\n                    value: this._value\n                };\n            }\n        });\n        kendo.spreadsheet.DynamicFilter = Filter.extend({\n            init: function (options) {\n                this._type = options.type;\n                this._predicate = this[options.type];\n                if (typeof this._predicate !== 'function') {\n                    throw new Error('DynamicFilter type \\'' + options.type + '\\' not recognized.');\n                }\n            },\n            value: function (cell) {\n                var value = cell.value;\n                if (cell.format) {\n                    var type = kendo.spreadsheet.formatting.type(value, cell.format);\n                    if (type === 'date') {\n                        value = kendo.spreadsheet.numberToDate(value);\n                    }\n                }\n                return value;\n            },\n            prepare: function (cells) {\n                var sum = 0;\n                var count = 0;\n                for (var ci = 0; ci < cells.length; ci++) {\n                    var value = this.value(cells[ci]);\n                    if (typeof value === 'number') {\n                        sum += value;\n                        count++;\n                    }\n                }\n                if (count > 0) {\n                    this._average = sum / count;\n                } else {\n                    this._average = 0;\n                }\n            },\n            matches: function (value) {\n                return this._predicate(value);\n            },\n            aboveAverage: function (value) {\n                if (value instanceof Date) {\n                    value = kendo.spreadsheet.dateToNumber(value);\n                }\n                if (typeof value !== 'number') {\n                    return false;\n                }\n                return value > this._average;\n            },\n            belowAverage: function (value) {\n                if (value instanceof Date) {\n                    value = kendo.spreadsheet.dateToNumber(value);\n                }\n                if (typeof value !== 'number') {\n                    return false;\n                }\n                return value < this._average;\n            },\n            tomorrow: function (value) {\n                if (value instanceof Date) {\n                    var tomorrow = kendo.date.addDays(kendo.date.today(), 1);\n                    return kendo.date.getDate(value).getTime() === tomorrow.getTime();\n                }\n                return false;\n            },\n            today: function (value) {\n                if (value instanceof Date) {\n                    return kendo.date.isToday(value);\n                }\n                return false;\n            },\n            yesterday: function (value) {\n                if (value instanceof Date) {\n                    var yesterday = kendo.date.addDays(kendo.date.today(), -1);\n                    return kendo.date.getDate(value).getTime() === yesterday.getTime();\n                }\n                return false;\n            },\n            nextWeek: function (value) {\n                return sameWeek(kendo.date.addDays(kendo.date.today(), 7), value);\n            },\n            thisWeek: function (value) {\n                return sameWeek(kendo.date.today(), value);\n            },\n            lastWeek: function (value) {\n                return sameWeek(kendo.date.addDays(kendo.date.today(), -7), value);\n            },\n            nextMonth: function (value) {\n                return sameMonth(value, 1);\n            },\n            thisMonth: function (value) {\n                return sameMonth(value, 0);\n            },\n            lastMonth: function (value) {\n                return sameMonth(value, -1);\n            },\n            nextQuarter: function (value) {\n                if (value instanceof Date) {\n                    var today = kendo.date.today();\n                    var diff = quarter(value) - quarter(today);\n                    return diff === 1 && today.getFullYear() === value.getFullYear() || diff == -3 && today.getFullYear() + 1 === value.getFullYear();\n                }\n                return false;\n            },\n            thisQuarter: function (value) {\n                if (value instanceof Date) {\n                    var today = kendo.date.today();\n                    var diff = quarter(value) - quarter(today);\n                    return diff === 0 && today.getFullYear() === value.getFullYear();\n                }\n                return false;\n            },\n            lastQuarter: function (value) {\n                if (value instanceof Date) {\n                    var today = kendo.date.today();\n                    var diff = quarter(today) - quarter(value);\n                    return diff === 1 && today.getFullYear() === value.getFullYear() || diff == -3 && today.getFullYear() - 1 === value.getFullYear();\n                }\n                return false;\n            },\n            nextYear: function (value) {\n                return sameYear(value, 1);\n            },\n            thisYear: function (value) {\n                return sameYear(value, 0);\n            },\n            lastYear: function (value) {\n                return sameYear(value, -1);\n            },\n            yearToDate: function (value) {\n                if (value instanceof Date) {\n                    var today = kendo.date.today();\n                    return value.getFullYear() === today.getFullYear() && value <= today;\n                }\n                return false;\n            },\n            toJSON: function () {\n                return {\n                    filter: 'dynamic',\n                    type: this._type\n                };\n            }\n        });\n        [\n            1,\n            2,\n            3,\n            4\n        ].forEach(function (target) {\n            kendo.spreadsheet.DynamicFilter.prototype['quarter' + target] = function (value) {\n                if (value instanceof Date) {\n                    return quarter(value) === target;\n                }\n                return false;\n            };\n        });\n        kendo.cultures['en-US'].calendar.months.names.forEach(function (month, index) {\n            kendo.spreadsheet.DynamicFilter.prototype[month.toLowerCase()] = function (value) {\n                if (value instanceof Date) {\n                    return value.getMonth() === index;\n                }\n                return false;\n            };\n        });\n        function quarter(value) {\n            var month = value.getMonth() + 1;\n            if (month >= 1 && month <= 3) {\n                return 1;\n            } else if (month >= 4 && month <= 6) {\n                return 2;\n            } else if (month >= 7 && month <= 9) {\n                return 3;\n            } else {\n                return 4;\n            }\n        }\n        function sameYear(value, offset) {\n            if (value instanceof Date) {\n                var today = kendo.date.today();\n                today.setFullYear(today.getFullYear() + offset);\n                return today.getFullYear() === value.getFullYear();\n            }\n            return false;\n        }\n        function sameMonth(value, offset) {\n            if (value instanceof Date) {\n                var today = kendo.date.firstDayOfMonth(kendo.date.today());\n                today.setMonth(today.getMonth() + offset, 1);\n                return today.getTime() === kendo.date.firstDayOfMonth(value).getTime();\n            }\n            return false;\n        }\n        function sameWeek(a, b) {\n            if (b instanceof Date) {\n                var firstWeek = kendo.date.dayOfWeek(kendo.date.getDate(a), 1);\n                var secondWeek = kendo.date.dayOfWeek(kendo.date.getDate(b), 1);\n                return firstWeek.getTime() === secondWeek.getTime();\n            }\n            return false;\n        }\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/sorter', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var Sorter = kendo.Class.extend({\n            init: function (grid, lists) {\n                this._grid = grid;\n                this._lists = lists;\n            },\n            indices: function (rangeRef, list, ascending, indices) {\n                var comparer = Sorter.ascendingComparer;\n                if (ascending === false) {\n                    comparer = Sorter.descendingComparer;\n                }\n                return list.sortedIndices(this._grid.cellRefIndex(rangeRef.topLeft), this._grid.cellRefIndex(rangeRef.bottomRight), comparer, indices);\n            },\n            sortBy: function (ref, column, list, ascending, indices) {\n                var sortedIndices = this.indices(ref.toColumn(column), list, ascending, indices);\n                for (var ci = ref.topLeft.col; ci <= ref.bottomRight.col; ci++) {\n                    var start = this._grid.index(ref.topLeft.row, ci);\n                    var end = this._grid.index(ref.bottomRight.row, ci);\n                    for (var li = 0; li < this._lists.length; li++) {\n                        if (start < this._lists[li].lastRangeStart()) {\n                            this._lists[li].sort(start, end, sortedIndices);\n                        }\n                    }\n                }\n                return sortedIndices;\n            }\n        });\n        Sorter.ascendingComparer = function (a, b) {\n            if (a === null && b === null) {\n                return 0;\n            }\n            if (a === null) {\n                return 1;\n            }\n            if (b === null) {\n                return -1;\n            }\n            var typeA = typeof a;\n            var typeB = typeof b;\n            if (typeA === 'number') {\n                if (typeB === 'number') {\n                    return a - b;\n                } else {\n                    return -1;\n                }\n            }\n            if (typeA === 'string') {\n                switch (typeB) {\n                case 'number':\n                    return 1;\n                case 'string':\n                    return a.localeCompare(b);\n                default:\n                    return -1;\n                }\n            }\n            if (typeA === 'boolean') {\n                switch (typeB) {\n                case 'number':\n                    return 1;\n                case 'string':\n                    return 1;\n                case 'boolean':\n                    return a - b;\n                default:\n                    return -1;\n                }\n            }\n            if (a instanceof kendo.spreadsheet.calc.runtime.CalcError) {\n                if (b instanceof kendo.spreadsheet.calc.runtime.CalcError) {\n                    return 0;\n                } else {\n                    return 1;\n                }\n            }\n            throw new Error('Cannot compare ' + a + ' and ' + b);\n        };\n        Sorter.descendingComparer = function (a, b) {\n            if (a === null && b === null) {\n                return 0;\n            }\n            if (a === null) {\n                return 1;\n            }\n            if (b === null) {\n                return -1;\n            }\n            return Sorter.ascendingComparer(b, a);\n        };\n        kendo.spreadsheet.Sorter = Sorter;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/numformat', [\n        'spreadsheet/calc',\n        'kendo.dom'\n    ], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var calc = kendo.spreadsheet.calc;\n    var dom = kendo.dom;\n    var RX_COLORS = /^\\[(black|green|white|blue|magenta|yellow|cyan|red)\\]/i;\n    var RX_CONDITION = /^\\[(<=|>=|<>|<|>|=)(-?[0-9.]+)\\]/;\n    function parse(input) {\n        input = calc.InputStream(input);\n        var sections = [], haveConditional = false, decimalPart;\n        while (!input.eof()) {\n            var sec = readSection();\n            sections.push(sec);\n            if (sec.cond) {\n                haveConditional = true;\n            }\n        }\n        if (!haveConditional) {\n            if (sections.length == 1) {\n                sections[0].cond = 'num';\n            } else if (sections.length == 2) {\n                sections[0].cond = {\n                    op: '>=',\n                    value: 0\n                };\n                sections[1].cond = {\n                    op: '<',\n                    value: 0\n                };\n            } else if (sections.length >= 3) {\n                sections[0].cond = {\n                    op: '>',\n                    value: 0\n                };\n                sections[1].cond = {\n                    op: '<',\n                    value: 0\n                };\n                sections[2].cond = {\n                    op: '=',\n                    value: 0\n                };\n                if (sections.length > 3) {\n                    sections[3].cond = 'text';\n                    sections = sections.slice(0, 4);\n                }\n            }\n        }\n        return sections;\n        function maybeColor() {\n            var m = input.skip(RX_COLORS);\n            if (m) {\n                return m[1].toLowerCase();\n            }\n        }\n        function maybeCondition() {\n            var m = input.skip(RX_CONDITION);\n            if (m) {\n                var val = parseFloat(m[2]);\n                if (!isNaN(val)) {\n                    return {\n                        op: m[1],\n                        value: val\n                    };\n                }\n            }\n        }\n        function readFormat() {\n            var format = [], tok, prev = null;\n            while (!input.eof() && (tok = readNext())) {\n                if (tok.type == 'date') {\n                    if (prev && /^(el)?time$/.test(prev.type) && prev.part == 'h' && tok.part == 'm' && tok.format < 3) {\n                        tok.type = 'time';\n                    }\n                } else if (/^(el)?time$/.test(tok.type) && tok.part == 's') {\n                    if (prev && prev.type == 'date' && prev.part == 'm' && prev.format < 3) {\n                        prev.type = 'time';\n                    }\n                }\n                if (!/^(?:str|space|fill)$/.test(tok.type)) {\n                    prev = tok;\n                }\n                format.push(tok);\n            }\n            return format;\n        }\n        function maybeFraction(tok) {\n            if (tok.type != 'date' || tok.part == 'm' && tok.format < 3) {\n                var m = input.skip(/^\\.(0+)/);\n                if (m) {\n                    tok.fraction = m[1].length;\n                    if (tok.type == 'date') {\n                        tok.type = 'time';\n                    }\n                }\n            }\n            return tok;\n        }\n        function readNext() {\n            var ch, m;\n            if (m = input.skip(/^([#0?]+)(?:,([#0?]+))+/)) {\n                return {\n                    type: 'digit',\n                    sep: true,\n                    format: m[1] + m[2],\n                    decimal: decimalPart\n                };\n            }\n            if (m = input.skip(/^[#0?]+/)) {\n                return {\n                    type: 'digit',\n                    sep: false,\n                    format: m[0],\n                    decimal: decimalPart\n                };\n            }\n            if (m = input.skip(/^(e)([+-])/i)) {\n                return {\n                    type: 'exp',\n                    ch: m[1],\n                    sign: m[2]\n                };\n            }\n            if (m = input.skip(/^(d{1,4}|m{1,5}|yyyy|yy)/i)) {\n                m = m[1].toLowerCase();\n                return maybeFraction({\n                    type: 'date',\n                    part: m.charAt(0),\n                    format: m.length\n                });\n            }\n            if (m = input.skip(/^(hh?|ss?)/i)) {\n                m = m[1].toLowerCase();\n                return maybeFraction({\n                    type: 'time',\n                    part: m.charAt(0),\n                    format: m.length\n                });\n            }\n            if (m = input.skip(/^\\[(hh?|mm?|ss?)\\]/i)) {\n                m = m[1].toLowerCase();\n                return maybeFraction({\n                    type: 'eltime',\n                    part: m.charAt(0),\n                    format: m.length\n                });\n            }\n            if (m = input.skip(/^(am\\/pm|a\\/p)/i)) {\n                m = m[1].split('/');\n                return {\n                    type: 'ampm',\n                    am: m[0],\n                    pm: m[1]\n                };\n            }\n            switch (ch = input.next()) {\n            case ';':\n                return null;\n            case '\\\\':\n                return {\n                    type: 'str',\n                    value: input.next()\n                };\n            case '\"':\n                return {\n                    type: 'str',\n                    value: input.readEscaped(ch)\n                };\n            case '@':\n                return { type: 'text' };\n            case '_':\n                return {\n                    type: 'space',\n                    value: input.next()\n                };\n            case '*':\n                return {\n                    type: 'fill',\n                    value: input.next()\n                };\n            case '.':\n                if (input.lookingAt(/^\\s*[#0?]/)) {\n                    decimalPart = true;\n                    return { type: 'dec' };\n                }\n                return {\n                    type: 'str',\n                    value: '.'\n                };\n            case '%':\n                return { type: 'percent' };\n            case ',':\n                return { type: 'comma' };\n            }\n            return {\n                type: 'str',\n                value: ch\n            };\n        }\n        function readSection() {\n            decimalPart = false;\n            var color = maybeColor(), cond = maybeCondition();\n            if (!color && cond) {\n                color = maybeColor();\n            }\n            return {\n                color: color,\n                cond: cond,\n                body: readFormat()\n            };\n        }\n    }\n    function print(sections) {\n        return sections.map(printSection).join(';');\n        function printSection(sec) {\n            var out = '';\n            if (sec.color) {\n                out += '[' + sec.color + ']';\n            }\n            if (sec.cond) {\n                if (!(sec.cond == 'text' || sec.cond == 'num')) {\n                    out += '[' + sec.cond.op + sec.cond.value + ']';\n                }\n            }\n            out += sec.body.map(printToken).join('');\n            return out;\n        }\n        function maybeFraction(fmt, tok) {\n            if (tok.fraction) {\n                fmt += '.' + padLeft('', tok.fraction, '0');\n            }\n            return fmt;\n        }\n        function printToken(tok) {\n            if (tok.type == 'digit') {\n                if (tok.sep) {\n                    return tok.format.charAt(0) + ',' + tok.format.substr(1);\n                } else {\n                    return tok.format;\n                }\n            } else if (tok.type == 'exp') {\n                return tok.ch + tok.sign;\n            } else if (tok.type == 'date' || tok.type == 'time') {\n                return maybeFraction(padLeft('', tok.format, tok.part), tok);\n            } else if (tok.type == 'eltime') {\n                return maybeFraction('[' + padLeft('', tok.format, tok.part) + ']', tok);\n            } else if (tok.type == 'ampm') {\n                return tok.am + '/' + tok.pm;\n            } else if (tok.type == 'str') {\n                return JSON.stringify(tok.value);\n            } else if (tok.type == 'text') {\n                return '@';\n            } else if (tok.type == 'space') {\n                return '_' + tok.value;\n            } else if (tok.type == 'fill') {\n                return '*' + tok.value;\n            } else if (tok.type == 'dec') {\n                return '.';\n            } else if (tok.type == 'percent') {\n                return '%';\n            } else if (tok.type == 'comma') {\n                return ',';\n            }\n        }\n    }\n    function adjustDecimals(sections, x) {\n        sections.forEach(function (sec) {\n            var diff = x;\n            if (sec.cond == 'text') {\n                return;\n            }\n            var body = sec.body, adjusted = false, i = body.length;\n            while (diff !== 0 && --i >= 0) {\n                var tok = body[i];\n                if (tok.type == 'digit') {\n                    if (tok.decimal) {\n                        adjusted = true;\n                        if (diff > 0) {\n                            tok.format += padLeft('', diff, '0');\n                        } else if (diff < 0) {\n                            var tmp = tok.format.length;\n                            tok.format = tok.format.substr(0, tmp + diff);\n                            diff += tmp - tok.format.length;\n                        }\n                        if (tok.format.length === 0) {\n                            body.splice(i, 1);\n                            while (--i >= 0) {\n                                tok = body[i];\n                                if (tok.type == 'digit' && tok.decimal) {\n                                    ++i;\n                                    break;\n                                }\n                                if (tok.type == 'dec') {\n                                    body.splice(i, 1);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    if (diff > 0) {\n                        break;\n                    }\n                }\n            }\n            if (!adjusted && diff > 0) {\n                body.splice(i + 1, 0, { type: 'dec' }, {\n                    type: 'digit',\n                    sep: false,\n                    decimal: true,\n                    format: padLeft('', diff, '0')\n                });\n            }\n        });\n    }\n    function TokenStream(parts) {\n        var index = 0;\n        return {\n            next: function () {\n                return parts[index++];\n            },\n            eof: function () {\n                return index >= parts.length;\n            },\n            ahead: function (n, f) {\n                if (index + n <= parts.length) {\n                    var val = f.apply(null, parts.slice(index, index + n));\n                    if (val) {\n                        index += n;\n                    }\n                    return val;\n                }\n            },\n            restart: function () {\n                index = 0;\n            }\n        };\n    }\n    function compileFormatPart(format) {\n        var input = TokenStream(format.body);\n        var hasDate = false;\n        var hasTime = false;\n        var hasAmpm = false;\n        var percentCount = 0;\n        var scaleCount = 0;\n        var code = '';\n        var separeThousands = false;\n        var declen = 0;\n        var intFormat = [], decFormat = [];\n        var condition = format.cond;\n        var preamble = '';\n        if (condition == 'text') {\n            preamble = 'if (typeof value == \\'string\\' || value instanceof kendo.spreadsheet.CalcError) { ';\n        } else if (condition == 'num') {\n            preamble = 'if (typeof value == \\'number\\') { ';\n        } else if (condition) {\n            var op = condition.op == '=' ? '==' : condition.op;\n            preamble = 'if (typeof value == \\'number\\' && value ' + op + ' ' + condition.value + ') { ';\n            code += 'value = Math.abs(value); ';\n        }\n        if (format.color) {\n            code += 'result.color = ' + JSON.stringify(format.color) + '; ';\n        }\n        function checkComma(a, b) {\n            if (a.type == 'digit' && b.type == 'comma' || a.type == 'comma' && a.hidden && b.type == 'comma') {\n                b.hidden = true;\n                scaleCount++;\n            }\n        }\n        while (!input.eof()) {\n            input.ahead(2, checkComma);\n            var tok = input.next();\n            if (tok.type == 'percent') {\n                percentCount++;\n            } else if (tok.type == 'digit') {\n                if (tok.decimal) {\n                    declen += tok.format.length;\n                    decFormat.push(tok.format);\n                } else {\n                    intFormat.push(tok.format);\n                    if (tok.sep) {\n                        separeThousands = true;\n                    }\n                }\n            } else if (tok.type == 'time') {\n                hasTime = true;\n            } else if (tok.type == 'date') {\n                hasDate = true;\n            } else if (tok.type == 'ampm') {\n                hasAmpm = hasTime = true;\n            }\n        }\n        if (percentCount > 0) {\n            code += 'value *= ' + Math.pow(100, percentCount) + '; ';\n        }\n        if (scaleCount > 0) {\n            code += 'value /= ' + Math.pow(1000, scaleCount) + '; ';\n        }\n        if (intFormat.length) {\n            code += 'var intPart = runtime.formatInt(culture, value, ' + JSON.stringify(intFormat) + ', ' + declen + ', ' + separeThousands + '); ';\n        }\n        if (decFormat.length) {\n            code += 'var decPart = runtime.formatDec(value, ' + JSON.stringify(decFormat) + ', ' + declen + '); ';\n        }\n        if (intFormat.length || decFormat.length) {\n            code += 'type = \\'number\\'; ';\n        }\n        if (hasDate) {\n            code += 'var date = runtime.unpackDate(value); ';\n        }\n        if (hasTime) {\n            code += 'var time = runtime.unpackTime(value); ';\n        }\n        if (hasDate || hasTime) {\n            code += 'type = \\'date\\'; ';\n        }\n        if (percentCount > 0 || scaleCount > 0 || intFormat.length || decFormat.length || hasDate || hasTime) {\n            if (!preamble) {\n                preamble = 'if (typeof value == \\'number\\') { ';\n            }\n        }\n        input.restart();\n        while (!input.eof()) {\n            var tok = input.next();\n            if (tok.type == 'dec') {\n                code += 'output += culture.numberFormat[\\'.\\']; ';\n            } else if (tok.type == 'comma' && !tok.hidden) {\n                code += 'output += \\',\\'; ';\n            } else if (tok.type == 'percent') {\n                code += 'type = \\'percent\\'; ';\n                code += 'output += culture.numberFormat.percent.symbol; ';\n            } else if (tok.type == 'str') {\n                code += 'output += ' + JSON.stringify(tok.value) + '; ';\n            } else if (tok.type == 'text') {\n                code += 'type = \\'text\\'; ';\n                code += 'output += value; ';\n            } else if (tok.type == 'space') {\n                code += 'if (output) result.body.push(output); ';\n                code += 'output = \\'\\'; ';\n                code += 'result.body.push({ type: \\'space\\', value: ' + JSON.stringify(tok.value) + ' }); ';\n            } else if (tok.type == 'fill') {\n                code += 'output += runtime.fill(' + JSON.stringify(tok.value) + '); ';\n            } else if (tok.type == 'digit') {\n                code += 'output += ' + (tok.decimal ? 'decPart' : 'intPart') + '.shift(); ';\n            } else if (tok.type == 'date') {\n                code += 'output += runtime.date(culture, date, ' + JSON.stringify(tok.part) + ', ' + tok.format + '); ';\n            } else if (tok.type == 'time') {\n                code += 'output += runtime.time(time, ' + JSON.stringify(tok.part) + ', ' + tok.format + ', ' + hasAmpm + ', ' + tok.fraction + '); ';\n            } else if (tok.type == 'eltime') {\n                code += 'output += runtime.eltime(value, ' + JSON.stringify(tok.part) + ', ' + tok.format + ', ' + tok.fraction + '); ';\n            } else if (tok.type == 'ampm') {\n                code += 'output += time.hours < 12 ? ' + JSON.stringify(tok.am) + ' : ' + JSON.stringify(tok.pm) + '; ';\n            }\n        }\n        code += 'if (output) result.body.push(output); ';\n        code += 'result.type = type; ';\n        code += 'return result; ';\n        if (preamble) {\n            code = preamble + code + '}';\n        }\n        return code;\n    }\n    var CACHE = Object.create(null);\n    var TEXT = compileFormatPart({\n        cond: 'text',\n        body: [{ type: 'text' }]\n    });\n    function compile(format) {\n        var f = CACHE[format];\n        if (!f) {\n            var tree = parse(format);\n            var code = tree.map(compileFormatPart);\n            code.push(TEXT);\n            code = code.join('\\n');\n            code = '\\'use strict\\'; return function(value, culture){ ' + 'if (!culture) culture = kendo.culture(); ' + 'var output = \\'\\', type = null, result = { body: [] }; ' + code + '; return result; };';\n            f = CACHE[format] = new Function('runtime', code)(runtime);\n        }\n        return f;\n    }\n    var runtime = {\n        unpackDate: calc.runtime.unpackDate,\n        unpackTime: calc.runtime.unpackTime,\n        date: function (culture, d, part, length) {\n            switch (part) {\n            case 'd':\n                switch (length) {\n                case 1:\n                    return d.date;\n                case 2:\n                    return padLeft(d.date, 2, '0');\n                case 3:\n                    return culture.calendars.standard.days.namesAbbr[d.day];\n                case 4:\n                    return culture.calendars.standard.days.names[d.day];\n                }\n                break;\n            case 'm':\n                switch (length) {\n                case 1:\n                    return d.month + 1;\n                case 2:\n                    return padLeft(d.month + 1, 2, '0');\n                case 3:\n                    return culture.calendars.standard.months.namesAbbr[d.month];\n                case 4:\n                    return culture.calendars.standard.months.names[d.month];\n                case 5:\n                    return culture.calendars.standard.months.names[d.month].charAt(0);\n                }\n                break;\n            case 'y':\n                switch (length) {\n                case 2:\n                    return d.year % 100;\n                case 4:\n                    return d.year;\n                }\n                break;\n            }\n            return '##';\n        },\n        time: function (t, part, length, ampm, fraclen) {\n            var ret, fraction;\n            switch (part) {\n            case 'h':\n                ret = padLeft(ampm ? t.hours % 12 || 12 : t.hours, length, '0');\n                if (fraclen) {\n                    fraction = (t.minutes + (t.seconds + t.milliseconds / 1000) / 60) / 60;\n                }\n                break;\n            case 'm':\n                ret = padLeft(t.minutes, length, '0');\n                if (fraclen) {\n                    fraction = (t.seconds + t.milliseconds / 1000) / 60;\n                }\n                break;\n            case 's':\n                ret = padLeft(t.seconds, length, '0');\n                if (fraclen) {\n                    fraction = t.milliseconds / 1000;\n                }\n                break;\n            }\n            if (fraction) {\n                ret += fraction.toFixed(fraclen).replace(/^0+/, '');\n            }\n            return ret;\n        },\n        eltime: function (value, part, length, fraclen) {\n            var ret, fraction;\n            switch (part) {\n            case 'h':\n                ret = value * 24;\n                break;\n            case 'm':\n                ret = value * 24 * 60;\n                break;\n            case 's':\n                ret = value * 24 * 60 * 60;\n                break;\n            }\n            if (fraclen) {\n                fraction = ret - (ret | 0);\n            }\n            ret = padLeft(ret | 0, length, '0');\n            if (fraction) {\n                ret += fraction.toFixed(fraclen).replace(/^0+/, '');\n            }\n            return ret;\n        },\n        fill: function (ch) {\n            return ch;\n        },\n        formatInt: function (culture, value, parts, declen, sep) {\n            value = value.toFixed(declen).replace(/\\..*$/, '');\n            if (declen > 0) {\n                if (value === '0') {\n                    value = '';\n                } else if (value === '-0') {\n                    value = '-';\n                }\n            }\n            var iv = value.length - 1;\n            var result = [];\n            var len = 0, str;\n            function add(ch) {\n                if (sep && len && len % 3 === 0 && /^[0-9]$/.test(ch)) {\n                    str = culture.numberFormat[','] + str;\n                }\n                str = ch + str;\n                len++;\n            }\n            for (var j = parts.length; --j >= 0;) {\n                var format = parts[j];\n                str = '';\n                for (var k = format.length; --k >= 0;) {\n                    var chf = format.charAt(k);\n                    if (iv < 0) {\n                        if (chf == '0') {\n                            add('0');\n                        } else if (chf == '?') {\n                            add(' ');\n                        }\n                    } else {\n                        add(value.charAt(iv--));\n                    }\n                }\n                if (j === 0) {\n                    while (iv >= 0) {\n                        add(value.charAt(iv--));\n                    }\n                }\n                result.unshift(str);\n            }\n            return result;\n        },\n        formatDec: function (value, parts, declen) {\n            value = value.toFixed(declen);\n            var pos = value.indexOf('.');\n            if (pos >= 0) {\n                value = value.substr(pos + 1).replace(/0+$/, '');\n            } else {\n                value = '';\n            }\n            var iv = 0;\n            var result = [];\n            for (var j = 0; j < parts.length; ++j) {\n                var format = parts[j];\n                var str = '';\n                for (var k = 0; k < format.length; ++k) {\n                    var chf = format.charAt(k);\n                    if (iv < value.length) {\n                        str += value.charAt(iv++);\n                    } else if (chf == '0') {\n                        str += '0';\n                    } else if (chf == '?') {\n                        str += ' ';\n                    }\n                }\n                result.push(str);\n            }\n            return result;\n        }\n    };\n    function padLeft(val, width, ch) {\n        val += '';\n        while (val.length < width) {\n            val = ch + val;\n        }\n        return val;\n    }\n    function text(f) {\n        var a = f.body;\n        var text = '';\n        for (var i = 0; i < a.length; ++i) {\n            var el = a[i];\n            if (typeof el == 'string') {\n                text += el;\n            } else if (el.type == 'space') {\n                text += ' ';\n            }\n        }\n        return text;\n    }\n    kendo.spreadsheet.formatting = {\n        compile: compile,\n        parse: parse,\n        format: function (value, format, culture) {\n            var f = compile(format)(value, culture);\n            var span = dom.element('span');\n            span.__dataType = f.type;\n            var a = f.body;\n            if (f.color) {\n                span.attr.style = { color: f.color };\n            }\n            for (var i = 0; i < a.length; ++i) {\n                var el = a[i];\n                if (typeof el == 'string') {\n                    span.children.push(dom.text(el));\n                } else if (el.type == 'space') {\n                    span.children.push(dom.element('span', { style: { visibility: 'hidden' } }, [dom.text(el.value)]));\n                }\n            }\n            return span;\n        },\n        text: function (value, format, culture) {\n            var f = compile(format)(value, culture);\n            return text(f);\n        },\n        textAndColor: function (value, format, culture) {\n            var f = compile(format)(value, culture);\n            return {\n                text: text(f),\n                color: f.color,\n                type: f.type\n            };\n        },\n        type: function (value, format) {\n            return compile(format)(value).type;\n        },\n        adjustDecimals: function (format, diff) {\n            var ast = parse(format);\n            adjustDecimals(ast, diff);\n            return print(ast);\n        }\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/runtime.functions', [\n        'spreadsheet/runtime',\n        'util/main'\n    ], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var util = kendo.util;\n    var spreadsheet = kendo.spreadsheet;\n    var calc = spreadsheet.calc;\n    var runtime = calc.runtime;\n    var defineFunction = runtime.defineFunction;\n    var defineAlias = runtime.defineAlias;\n    var CalcError = runtime.CalcError;\n    var RangeRef = spreadsheet.RangeRef;\n    var CellRef = spreadsheet.CellRef;\n    var UnionRef = spreadsheet.UnionRef;\n    var Matrix = runtime.Matrix;\n    var Ref = spreadsheet.Ref;\n    var daysInMonth = runtime.daysInMonth;\n    var packDate = runtime.packDate;\n    var unpackDate = runtime.unpackDate;\n    var daysInYear = runtime.daysInYear;\n    [\n        'abs',\n        'cos',\n        'sin',\n        'acos',\n        'asin',\n        'tan',\n        'atan',\n        'exp',\n        'sqrt'\n    ].forEach(function (name) {\n        defineFunction(name, Math[name]).args([[\n                '*n',\n                'number'\n            ]]);\n    });\n    defineFunction('ln', Math.log).args([[\n            '*n',\n            'number'\n        ]]);\n    defineFunction('log', function (num, base) {\n        return Math.log(num) / Math.log(base);\n    }).args([\n        [\n            '*num',\n            'number++'\n        ],\n        [\n            '*base',\n            [\n                'or',\n                'number++',\n                [\n                    'null',\n                    10\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$base != 1',\n                'DIV/0'\n            ]\n        ]\n    ]);\n    defineFunction('log10', function (num) {\n        return Math.log(num) / Math.log(10);\n    }).args([[\n            '*num',\n            'number++'\n        ]]);\n    defineFunction('pi', function () {\n        return Math.PI;\n    }).args([]);\n    defineFunction('sqrtpi', function (n) {\n        return Math.sqrt(n * Math.PI);\n    }).args([[\n            '*num',\n            'number+'\n        ]]);\n    defineFunction('degrees', function (rad) {\n        return 180 * rad / Math.PI % 360;\n    }).args([[\n            '*radians',\n            'number'\n        ]]);\n    defineFunction('radians', function (deg) {\n        return Math.PI * deg / 180;\n    }).args([[\n            '*degrees',\n            'number'\n        ]]);\n    function _cosh(n) {\n        return (Math.exp(n) + Math.exp(-n)) / 2;\n    }\n    defineFunction('cosh', _cosh).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('acosh', function (n) {\n        return Math.log(n + Math.sqrt(n - 1) * Math.sqrt(n + 1));\n    }).args([\n        [\n            '*num',\n            'number'\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$num >= 1'\n            ]\n        ]\n    ]);\n    function _sinh(n) {\n        return (Math.exp(n) - Math.exp(-n)) / 2;\n    }\n    defineFunction('sinh', _sinh).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('asinh', function (n) {\n        return Math.log(n + Math.sqrt(n * n + 1));\n    }).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('sec', function (n) {\n        return 1 / Math.cos(n);\n    }).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('sech', function (n) {\n        return 1 / _cosh(n);\n    }).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('csc', function (n) {\n        return 1 / Math.sin(n);\n    }).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('csch', function (n) {\n        return 1 / _sinh(n);\n    }).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('atan2', function (x, y) {\n        return Math.atan(y / x);\n    }).args([\n        [\n            '*x',\n            'divisor'\n        ],\n        [\n            '*y',\n            'number'\n        ]\n    ]);\n    function _tanh(n) {\n        return _sinh(n) / _cosh(n);\n    }\n    defineFunction('tanh', _tanh).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('atanh', function (n) {\n        return Math.log(Math.sqrt(1 - n * n) / (1 - n));\n    }).args([[\n            '*num',\n            [\n                'and',\n                'number',\n                [\n                    '(between)',\n                    -1,\n                    1\n                ]\n            ]\n        ]]);\n    defineFunction('cot', function (n) {\n        return 1 / Math.tan(n);\n    }).args([[\n            '*num',\n            'divisor'\n        ]]);\n    defineFunction('coth', function (n) {\n        return 1 / _tanh(n);\n    }).args([[\n            '*num',\n            'divisor'\n        ]]);\n    defineFunction('acot', function (n) {\n        return Math.PI / 2 - Math.atan(n);\n    }).args([[\n            '*num',\n            'number'\n        ]]);\n    defineFunction('acoth', function (n) {\n        return Math.log((n + 1) / (n - 1)) / 2;\n    }).args([\n        [\n            '*num',\n            'number'\n        ],\n        [\n            '?',\n            [\n                'or',\n                [\n                    'assert',\n                    '$num < -1'\n                ],\n                [\n                    'assert',\n                    '$num > 1'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('power', function (a, b) {\n        return Math.pow(a, b);\n    }).args([\n        [\n            '*a',\n            'number'\n        ],\n        [\n            '*b',\n            'number'\n        ]\n    ]);\n    defineFunction('mod', function (a, b) {\n        return a % b;\n    }).args([\n        [\n            '*a',\n            'number'\n        ],\n        [\n            '*b',\n            'divisor'\n        ]\n    ]);\n    defineFunction('quotient', function (a, b) {\n        return Math.floor(a / b);\n    }).args([\n        [\n            '*a',\n            'number'\n        ],\n        [\n            '*b',\n            'divisor'\n        ]\n    ]);\n    defineFunction('ceiling', function (num, s) {\n        return s ? s * Math.ceil(num / s) : 0;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*significance',\n            'number'\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$significance >= 0 || $number < 0'\n            ]\n        ]\n    ]);\n    defineFunction('ceiling.precise', function (num, s) {\n        s = Math.abs(s);\n        return s ? s * Math.ceil(num / s) : 0;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*significance',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineAlias('iso.ceiling', 'ceiling.precise');\n    defineFunction('ceiling.math', function (num, s, mode) {\n        if (!s || !num) {\n            return 0;\n        }\n        if (num < 0 && (!mode && s < 0 || mode && s > 0)) {\n            s = -s;\n        }\n        return s ? s * Math.ceil(num / s) : 0;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*significance',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    '$number < 0 ? -1 : 1'\n                ]\n            ]\n        ],\n        [\n            '*mode',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('floor', function (num, s) {\n        return s ? s * Math.floor(num / s) : 0;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*significance',\n            'number'\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$significance >= 0 || $number < 0'\n            ]\n        ]\n    ]);\n    defineFunction('floor.precise', function (num, s) {\n        s = Math.abs(s);\n        return s ? s * Math.floor(num / s) : 0;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*significance',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('floor.math', function (num, s, mode) {\n        if (!s || !num) {\n            return 0;\n        }\n        if (num < 0 && (!mode && s < 0 || mode && s > 0)) {\n            s = -s;\n        }\n        return s ? s * Math.floor(num / s) : 0;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*significance',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    '$number < 0 ? -1 : 1'\n                ]\n            ]\n        ],\n        [\n            '*mode',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('int', Math.floor).args([[\n            '*number',\n            'number'\n        ]]);\n    defineFunction('mround', function (num, mult) {\n        return mult ? mult * Math.round(num / mult) : 0;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*multiple',\n            'number'\n        ]\n    ]);\n    defineFunction('round', function (num, digits) {\n        var sign = num < 0 ? -1 : 1;\n        if (sign < 0) {\n            num = -num;\n        }\n        digits = Math.pow(10, digits);\n        num *= digits;\n        num = Math.round(num);\n        return sign * num / digits;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*digits',\n            'number'\n        ]\n    ]);\n    defineFunction('roundup', function (num, digits) {\n        digits = Math.pow(10, digits);\n        num *= digits;\n        num = num < 0 ? Math.floor(num) : Math.ceil(num);\n        return num / digits;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*digits',\n            'number'\n        ]\n    ]);\n    defineFunction('rounddown', function (num, digits) {\n        digits = Math.pow(10, digits);\n        num *= digits;\n        num = num < 0 ? Math.ceil(num) : Math.floor(num);\n        return num / digits;\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*digits',\n            'number'\n        ]\n    ]);\n    defineFunction('even', function (num) {\n        var n = num < 0 ? Math.floor(num) : Math.ceil(num);\n        return n % 2 ? n + (n < 0 ? -1 : 1) : n;\n    }).args([[\n            '*number',\n            'number'\n        ]]);\n    defineFunction('odd', function (num) {\n        var n = num < 0 ? Math.floor(num) : Math.ceil(num);\n        return n % 2 ? n : n + (n < 0 ? -1 : 1);\n    }).args([[\n            '*number',\n            'number'\n        ]]);\n    defineFunction('sign', function (num) {\n        return num < 0 ? -1 : num > 0 ? 1 : 0;\n    }).args([[\n            '*number',\n            'number'\n        ]]);\n    function _gcd(a, b) {\n        while (b) {\n            var r = a % b;\n            a = b;\n            b = r;\n        }\n        return a;\n    }\n    function _lcm(a, b) {\n        return Math.abs(a * b) / _gcd(a, b);\n    }\n    defineFunction('gcd', function (args) {\n        var a = args[0];\n        for (var i = 1; i < args.length; ++i) {\n            a = _gcd(a, args[i]);\n        }\n        return a;\n    }).args([[\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ]]);\n    defineFunction('lcm', function (args) {\n        var a = args[0];\n        for (var i = 1; i < args.length; ++i) {\n            a = _lcm(a, args[i]);\n        }\n        return a;\n    }).args([[\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ]]);\n    defineFunction('sum', function (numbers) {\n        return numbers.reduce(function (sum, num) {\n            return sum + num;\n        }, 0);\n    }).args([[\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ]]);\n    defineFunction('product', function (numbers) {\n        return numbers.reduce(function (prod, num) {\n            return prod * num;\n        }, 1);\n    }).args([[\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ]]);\n    defineFunction('sumproduct', function (first, rest) {\n        var sum = 0;\n        first.each(function (p, row, col) {\n            if (typeof p == 'number') {\n                for (var i = 0; i < rest.length; ++i) {\n                    var v = rest[i].get(row, col);\n                    if (typeof v != 'number') {\n                        return;\n                    }\n                    p *= v;\n                }\n                sum += p;\n            }\n        });\n        return sum;\n    }).args([\n        [\n            'a1',\n            'matrix'\n        ],\n        [\n            '+',\n            [\n                'a2',\n                [\n                    'and',\n                    'matrix',\n                    [\n                        'assert',\n                        '$a2.width == $a1.width'\n                    ],\n                    [\n                        'assert',\n                        '$a2.height == $a1.height'\n                    ]\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('sumsq', function (numbers) {\n        return numbers.reduce(function (sum, num) {\n            return sum + num * num;\n        }, 0);\n    }).args([[\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ]]);\n    defineFunction('sumx2my2', function (a, b) {\n        var sum = 0;\n        a.each(function (x, row, col) {\n            var y = b.get(row, col);\n            if (typeof x == 'number' && typeof y == 'number') {\n                sum += x * x - y * y;\n            }\n        });\n        return sum;\n    }).args([\n        [\n            'a',\n            'matrix'\n        ],\n        [\n            'b',\n            [\n                'and',\n                'matrix',\n                [\n                    'assert',\n                    '$b.width == $a.width'\n                ],\n                [\n                    'assert',\n                    '$b.height == $a.height'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('sumx2py2', function (a, b) {\n        var sum = 0;\n        a.each(function (x, row, col) {\n            var y = b.get(row, col);\n            if (typeof x == 'number' && typeof y == 'number') {\n                sum += x * x + y * y;\n            }\n        });\n        return sum;\n    }).args([\n        [\n            'a',\n            'matrix'\n        ],\n        [\n            'b',\n            [\n                'and',\n                'matrix',\n                [\n                    'assert',\n                    '$b.width == $a.width'\n                ],\n                [\n                    'assert',\n                    '$b.height == $a.height'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('sumxmy2', function (a, b) {\n        var sum = 0;\n        a.each(function (x, row, col) {\n            var y = b.get(row, col);\n            if (typeof x == 'number' && typeof y == 'number') {\n                sum += (x - y) * (x - y);\n            }\n        });\n        return sum;\n    }).args([\n        [\n            'a',\n            'matrix'\n        ],\n        [\n            'b',\n            [\n                'and',\n                'matrix',\n                [\n                    'assert',\n                    '$b.width == $a.width'\n                ],\n                [\n                    'assert',\n                    '$b.height == $a.height'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('seriessum', function (x, n, m, a) {\n        var sum = 0;\n        a.each(function (coef) {\n            if (typeof coef != 'number') {\n                throw new CalcError('VALUE');\n            }\n            sum += coef * Math.pow(x, n);\n            n += m;\n        });\n        return sum;\n    }).args([\n        [\n            'x',\n            'number'\n        ],\n        [\n            'y',\n            'number'\n        ],\n        [\n            'm',\n            'number'\n        ],\n        [\n            'a',\n            'matrix'\n        ]\n    ]);\n    defineFunction('min', function (numbers) {\n        return Math.min.apply(Math, numbers);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length > 0',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('max', function (numbers) {\n        return Math.max.apply(Math, numbers);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length > 0',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('counta', function (values) {\n        return values.length;\n    }).args([[\n            'values',\n            [\n                '#collect',\n                'anyvalue'\n            ]\n        ]]);\n    defineFunction('count', function (numbers) {\n        return numbers.length;\n    }).args([[\n            'numbers',\n            [\n                '#collect',\n                'number'\n            ]\n        ]]);\n    defineFunction('countunique', function (values) {\n        var count = 0, seen = [];\n        values.forEach(function (val) {\n            if (seen.indexOf(val) < 0) {\n                count++;\n                seen.push(val);\n            }\n        });\n        return count;\n    }).args([[\n            'values',\n            [\n                '#collect',\n                'anyvalue'\n            ]\n        ]]);\n    defineFunction('countblank', function (a) {\n        var count = 0;\n        function add(val) {\n            if (val == null || val === '') {\n                count++;\n            }\n        }\n        function loop(args) {\n            for (var i = 0; i < args.length; ++i) {\n                var x = args[i];\n                if (x instanceof Matrix) {\n                    x.each(add, true);\n                } else {\n                    add(x);\n                }\n            }\n        }\n        loop(a);\n        return count;\n    }).args([[\n            '+',\n            [\n                'args',\n                [\n                    'or',\n                    'matrix',\n                    'anyvalue'\n                ]\n            ]\n        ]]);\n    defineFunction('iseven', function (num) {\n        return num % 2 === 0;\n    }).args([[\n            '*number',\n            'number'\n        ]]);\n    defineFunction('isodd', function (num) {\n        return num % 2 !== 0;\n    }).args([[\n            '*number',\n            'number'\n        ]]);\n    defineFunction('n', function (val) {\n        if (typeof val == 'boolean') {\n            return val ? 1 : 0;\n        }\n        if (typeof val == 'number') {\n            return val;\n        }\n        return 0;\n    }).args([[\n            '*value',\n            'anyvalue'\n        ]]);\n    defineFunction('na', function () {\n        return new CalcError('N/A');\n    }).args([]);\n    function forIFS(args, f) {\n        var chunks = [], i = 0, matrix = args[0];\n        while (i < args.length) {\n            chunks.push({\n                matrix: args[i++],\n                pred: parseCriteria(args[i++])\n            });\n        }\n        ROW:\n            for (var row = 0; row < matrix.height; ++row) {\n                COL:\n                    for (var col = 0; col < matrix.width; ++col) {\n                        for (i = 0; i < chunks.length; ++i) {\n                            var val = chunks[i].matrix.get(row, col);\n                            if (!chunks[i].pred(val == null || val === '' ? 0 : val)) {\n                                continue COL;\n                            }\n                        }\n                        f(row, col);\n                    }\n            }\n    }\n    var ARGS_COUNTIFS = [\n        [\n            'm1',\n            'matrix'\n        ],\n        [\n            'c1',\n            'anyvalue'\n        ],\n        [\n            [\n                'm2',\n                'matrix'\n            ],\n            [\n                'c2',\n                'anyvalue'\n            ]\n        ]\n    ];\n    defineFunction('countifs', function (m1, c1, rest) {\n        var count = 0;\n        rest.unshift(m1, c1);\n        forIFS(rest, function () {\n            count++;\n        });\n        return count;\n    }).args(ARGS_COUNTIFS);\n    var ARGS_SUMIFS = [[\n            'range',\n            'matrix'\n        ]].concat(ARGS_COUNTIFS);\n    defineFunction('sumifs', function (range, m1, c1, args) {\n        args.unshift(range, numericPredicate, m1, c1);\n        var sum = 0;\n        forIFS(args, function (row, col) {\n            var val = range.get(row, col);\n            if (val) {\n                sum += val;\n            }\n        });\n        return sum;\n    }).args(ARGS_SUMIFS);\n    defineFunction('averageifs', function (range, m1, c1, args) {\n        args.unshift(range, numericPredicate, m1, c1);\n        var sum = 0, count = 0;\n        forIFS(args, function (row, col) {\n            var val = range.get(row, col);\n            if (val == null || val === '') {\n                val = 0;\n            }\n            sum += val;\n            count++;\n        });\n        return count ? sum / count : new CalcError('DIV/0');\n    }).args(ARGS_SUMIFS);\n    defineFunction('countif', function (matrix, criteria) {\n        criteria = parseCriteria(criteria);\n        var count = 0;\n        matrix.each(function (val) {\n            if (criteria(val)) {\n                count++;\n            }\n        });\n        return count;\n    }).args([\n        [\n            'range',\n            'matrix'\n        ],\n        [\n            '*criteria',\n            'anyvalue'\n        ]\n    ]);\n    var ARGS_SUMIF = [\n        [\n            'range',\n            'matrix'\n        ],\n        [\n            '*criteria',\n            'anyvalue'\n        ],\n        [\n            'sumRange',\n            [\n                'or',\n                [\n                    'and',\n                    'matrix',\n                    [\n                        'assert',\n                        '$sumRange.width == $range.width'\n                    ],\n                    [\n                        'assert',\n                        '$sumRange.height == $range.height'\n                    ]\n                ],\n                [\n                    'null',\n                    '$range'\n                ]\n            ]\n        ]\n    ];\n    defineFunction('sumif', function (range, criteria, sumRange) {\n        var sum = 0;\n        criteria = parseCriteria(criteria);\n        range.each(function (val, row, col) {\n            if (criteria(val)) {\n                var v = sumRange.get(row, col);\n                if (numericPredicate(v)) {\n                    sum += v || 0;\n                }\n            }\n        });\n        return sum;\n    }).args(ARGS_SUMIF);\n    defineFunction('averageif', function (range, criteria, sumRange) {\n        var sum = 0, count = 0;\n        criteria = parseCriteria(criteria);\n        range.each(function (val, row, col) {\n            if (criteria(val)) {\n                var v = sumRange.get(row, col);\n                if (numericPredicate(v)) {\n                    sum += v || 0;\n                    count++;\n                }\n            }\n        });\n        return count ? sum / count : new CalcError('DIV/0');\n    }).args(ARGS_SUMIF);\n    (function (def) {\n        def('large', function (numbers, nth) {\n            return numbers.sort(descending)[nth];\n        });\n        def('small', function (numbers, nth) {\n            return numbers.sort(ascending)[nth];\n        });\n    }(function (name, handler) {\n        defineFunction(name, function (matrix, nth) {\n            var numbers = [];\n            var error = matrix.each(function (val) {\n                if (val instanceof CalcError) {\n                    return val;\n                }\n                if (typeof val == 'number') {\n                    numbers.push(val);\n                }\n            });\n            if (error) {\n                return error;\n            }\n            if (nth > numbers.length) {\n                return new CalcError('NUM');\n            }\n            return handler(numbers, nth - 1);\n        }).args([\n            [\n                'array',\n                'matrix'\n            ],\n            [\n                '*nth',\n                'number++'\n            ]\n        ]);\n    }));\n    function _avg(numbers) {\n        return numbers.reduce(function (sum, num) {\n            return sum + num;\n        }, 0) / numbers.length;\n    }\n    function _var_sp(numbers, divisor, avg) {\n        if (avg == null) {\n            avg = _avg(numbers);\n        }\n        return numbers.reduce(function (sum, num) {\n            return sum + Math.pow(num - avg, 2);\n        }, 0) / divisor;\n    }\n    function _stdev_sp(numbers, divisor) {\n        return Math.sqrt(_var_sp(numbers, divisor));\n    }\n    defineFunction('stdev.s', function (numbers) {\n        return _stdev_sp(numbers, numbers.length - 1);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length >= 2',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('stdev.p', function (numbers) {\n        return _stdev_sp(numbers, numbers.length);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length >= 2',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('var.s', function (numbers) {\n        return _var_sp(numbers, numbers.length - 1);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length >= 2',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('var.p', function (numbers) {\n        return _var_sp(numbers, numbers.length);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length >= 2',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('median', function (numbers) {\n        var n = numbers.length;\n        numbers.sort(ascending);\n        if (n % 2) {\n            return numbers[n >> 1];\n        }\n        return (numbers[n >> 1] + numbers[n >> 1 + 1]) / 2;\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length > 0',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('mode.sngl', function (numbers) {\n        numbers.sort(ascending);\n        var prev = null, count = 0, max = 1, mode = null;\n        for (var i = 0; i < numbers.length; ++i) {\n            var n = numbers[i];\n            if (n != prev) {\n                count = 1;\n                prev = n;\n            } else {\n                count++;\n            }\n            if (count > max) {\n                max = count;\n                mode = n;\n            }\n        }\n        return mode == null ? new CalcError('N/A') : mode;\n    }).args([[\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ]]);\n    defineFunction('mode.mult', function (numbers) {\n        var seen = Object.create(null), max = 2, res = [];\n        numbers.forEach(function (num) {\n            var s = seen[num] || 0;\n            seen[num] = ++s;\n            if (s == max) {\n                res.push(num);\n            } else if (s > max) {\n                max = s;\n                res = [num];\n            }\n        });\n        var m = new Matrix(this);\n        res.forEach(function (num, i) {\n            m.set(i, 0, num);\n        });\n        return m;\n    }).args([[\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ]]);\n    defineFunction('geomean', function (numbers) {\n        var n = numbers.length;\n        var p = numbers.reduce(function (p, num) {\n            if (num < 0) {\n                throw new CalcError('NUM');\n            }\n            return p * num;\n        }, 1);\n        return Math.pow(p, 1 / n);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length > 0',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('harmean', function (numbers) {\n        var n = numbers.length;\n        var s = numbers.reduce(function (s, num) {\n            if (!num) {\n                throw new CalcError('DIV/0');\n            }\n            return s + 1 / num;\n        }, 0);\n        return n / s;\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length > 0',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('trimmean', function (numbers, p) {\n        var n = numbers.length;\n        numbers.sort(ascending);\n        var discard = Math.floor(n * p);\n        if (discard % 2) {\n            --discard;\n        }\n        discard /= 2;\n        var sum = 0;\n        for (var i = discard; i < n - discard; ++i) {\n            sum += numbers[i];\n        }\n        return sum / (n - discard * 2);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'percent',\n            [\n                'and',\n                'number',\n                [\n                    '[between)',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length > 0',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('frequency', function (data, bins) {\n        data.sort(ascending);\n        bins.sort(ascending);\n        var prev = -Infinity;\n        var i = 0;\n        function count(max) {\n            var n = 0;\n            while (i < data.length && data[i] > prev && data[i] <= max) {\n                ++n;\n                ++i;\n            }\n            return n;\n        }\n        var m = new Matrix(this);\n        bins.forEach(function (val, i) {\n            var n = count(val);\n            prev = val;\n            m.set(i, 0, n);\n        });\n        m.set(m.height, 0, data.length - i);\n        return m;\n    }).args([\n        [\n            'data',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'bins',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ]\n    ]);\n    defineFunction('rank.eq', function (val, numbers, asc) {\n        numbers.sort(asc ? ascending : descending);\n        var pos = numbers.indexOf(val);\n        return pos < 0 ? new CalcError('N/A') : pos + 1;\n    }).args([\n        [\n            'value',\n            'number'\n        ],\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            'order',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    false\n                ]\n            ]\n        ]\n    ]);\n    defineAlias('rank', 'rank.eq');\n    defineFunction('rank.avg', function (val, numbers, asc) {\n        numbers.sort(asc ? ascending : descending);\n        var pos = numbers.indexOf(val);\n        if (pos < 0) {\n            return new CalcError('N/A');\n        }\n        for (var i = pos; numbers[i] == val; ++i) {\n        }\n        return (pos + i + 1) / 2;\n    }).args([\n        [\n            'value',\n            'number'\n        ],\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            'order',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    false\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('kurt', function (numbers) {\n        var n = numbers.length;\n        var avg = _avg(numbers);\n        var variance = _var_sp(numbers, n - 1, avg);\n        var stddev = Math.sqrt(variance);\n        var sum = numbers.reduce(function (sum, num) {\n            return sum + Math.pow((num - avg) / stddev, 4);\n        }, 0);\n        return n * (n + 1) / ((n - 1) * (n - 2) * (n - 3)) * sum - 3 * Math.pow(n - 1, 2) / ((n - 2) * (n - 3));\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length >= 4',\n                'NUM'\n            ]\n        ]\n    ]);\n    function _percentrank(numbers, x, exc) {\n        var nlt = 0, ngt = 0, left = null, right = null, found = false;\n        numbers.forEach(function (num) {\n            if (num < x) {\n                nlt++;\n                left = left == null ? num : Math.max(left, num);\n            } else if (num > x) {\n                ngt++;\n                right = right == null ? num : Math.min(right, num);\n            } else {\n                found = true;\n            }\n        });\n        if (!nlt && !ngt) {\n            return new CalcError('N/A');\n        }\n        if (found) {\n            if (exc) {\n                return (nlt + 1) / (numbers.length + 1);\n            }\n            return nlt / (nlt + ngt);\n        }\n        return ((right - x) * _percentrank(numbers, left, exc) + (x - left) * _percentrank(numbers, right, exc)) / (right - left);\n    }\n    var ARGS_PERCENTRANK = [\n        [\n            'array',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'x',\n            'number'\n        ],\n        [\n            'significance',\n            [\n                'or',\n                [\n                    'null',\n                    3\n                ],\n                'integer++'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array.length > 0',\n                'NUM'\n            ]\n        ]\n    ];\n    defineFunction('percentrank.inc', function (numbers, x, significance) {\n        var p = _percentrank(numbers, x, 0);\n        p = p.toFixed(significance + 1);\n        return parseFloat(p.substr(0, p.length - 1));\n    }).args(ARGS_PERCENTRANK);\n    defineFunction('percentrank.exc', function (numbers, x, significance) {\n        var p = _percentrank(numbers, x, 1);\n        p = p.toFixed(significance + 1);\n        return parseFloat(p.substr(0, p.length - 1));\n    }).args(ARGS_PERCENTRANK);\n    defineAlias('percentrank', 'percentrank.inc');\n    function _covariance(x, y, divisor) {\n        var sum = 0;\n        var ax = _avg(x);\n        var ay = _avg(y);\n        var n = x.length;\n        for (var i = 0; i < n; ++i) {\n            sum += (x[i] - ax) * (y[i] - ay);\n        }\n        return sum / divisor;\n    }\n    defineFunction('covariance.p', function (x, y) {\n        return _covariance(x, y, x.length);\n    }).args([\n        [\n            'array1',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'array2',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array1.length == $array2.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array1.length > 0',\n                'DIV/0'\n            ]\n        ]\n    ]);\n    defineFunction('covariance.s', function (x, y) {\n        return _covariance(x, y, x.length - 1);\n    }).args([\n        [\n            'array1',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'array2',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array1.length == $array2.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array1.length > 1',\n                'DIV/0'\n            ]\n        ]\n    ]);\n    defineAlias('covar', 'covariance.p');\n    var _fact = util.memoize(function (n) {\n        for (var i = 2, fact = 1; i <= n; ++i) {\n            fact *= i;\n        }\n        return fact;\n    });\n    defineFunction('fact', _fact).args([[\n            '*n',\n            'integer+'\n        ]]);\n    defineFunction('factdouble', function (n) {\n        for (var i = 2 + (n & 1), fact = 1; i <= n; i += 2) {\n            fact *= i;\n        }\n        return fact;\n    }).args([[\n            '*n',\n            'integer+'\n        ]]);\n    defineFunction('multinomial', function (numbers) {\n        var div = 1, sum = 0;\n        numbers.forEach(function (n) {\n            if (n < 0) {\n                throw new CalcError('NUM');\n            }\n            sum += n;\n            div *= _fact(n);\n        });\n        return _fact(sum) / div;\n    }).args([[\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ]]);\n    var _combinations = util.memoize(function (n, k) {\n        for (var f1 = k + 1, f2 = 1, p1 = 1, p2 = 1; f2 <= n - k; ++f1, ++f2) {\n            p1 *= f1;\n            p2 *= f2;\n        }\n        return p1 / p2;\n    });\n    defineFunction('combin', _combinations).args([\n        [\n            '*n',\n            'integer++'\n        ],\n        [\n            '*k',\n            [\n                'and',\n                'integer',\n                [\n                    '[between]',\n                    0,\n                    '$n'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('combina', function (n, k) {\n        return _combinations(n + k - 1, n - 1);\n    }).args([\n        [\n            '*n',\n            'integer++'\n        ],\n        [\n            '*k',\n            [\n                'and',\n                'integer',\n                [\n                    '[between]',\n                    1,\n                    '$n'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('average', function (numbers) {\n        var sum = numbers.reduce(function (sum, num) {\n            return sum + num;\n        }, 0);\n        return sum / numbers.length;\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                [\n                    'and',\n                    'number',\n                    [\n                        'not',\n                        'boolean'\n                    ]\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length > 0',\n                'DIV/0'\n            ]\n        ]\n    ]);\n    defineFunction('averagea', function (values) {\n        var sum = 0, count = 0;\n        values.forEach(function (num) {\n            if (typeof num != 'string') {\n                sum += num;\n            }\n            ++count;\n        });\n        return count ? sum / count : new CalcError('DIV/0');\n    }).args([[\n            'values',\n            [\n                'collect',\n                'anyvalue'\n            ]\n        ]]);\n    function _percentile(numbers, rank) {\n        numbers.sort(ascending);\n        var n = numbers.length;\n        var k = rank | 0, d = rank - k;\n        if (k === 0) {\n            return numbers[0];\n        }\n        if (k >= n) {\n            return numbers[n - 1];\n        }\n        --k;\n        return numbers[k] + d * (numbers[k + 1] - numbers[k]);\n    }\n    function _percentile_inc(numbers, p) {\n        var rank = p * (numbers.length - 1) + 1;\n        return _percentile(numbers, rank);\n    }\n    function _percentile_exc(numbers, p) {\n        var rank = p * (numbers.length + 1);\n        return _percentile(numbers, rank);\n    }\n    defineFunction('percentile.inc', _percentile_inc).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('percentile.exc', _percentile_exc).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '(between)',\n                    0,\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('quartile.inc', function (numbers, quarter) {\n        return _percentile_inc(numbers, quarter / 4);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'quarter',\n            [\n                'values',\n                0,\n                1,\n                2,\n                3,\n                4\n            ]\n        ]\n    ]);\n    defineFunction('quartile.exc', function (numbers, quarter) {\n        return _percentile_exc(numbers, quarter / 4);\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'quarter',\n            [\n                'values',\n                0,\n                1,\n                2,\n                3,\n                4\n            ]\n        ]\n    ]);\n    defineAlias('quartile', 'quartile.inc');\n    defineAlias('percentile', 'percentile.inc');\n    var AGGREGATE_FUNCS = [\n        'AVERAGE',\n        'COUNT',\n        'COUNTA',\n        'MAX',\n        'MIN',\n        'PRODUCT',\n        'STDEV.S',\n        'STDEV.P',\n        'SUM',\n        'VAR.S',\n        'VAR.P',\n        'MEDIAN',\n        'MODE.SNGL',\n        'LARGE',\n        'SMALL',\n        'PERCENTILE.INC',\n        'QUARTILE.INC',\n        'PERCENTILE.EXC',\n        'QUARTILE.EXC'\n    ];\n    function fetchValuesForAggregate(self, args, options) {\n        var values = [];\n        var opt_ignore_hidden_rows = 1;\n        var opt_ignore_errors = 2;\n        var opt_use_aggregates = 4;\n        (function fetchValues(args) {\n            if (args instanceof Ref) {\n                self.getRefCells(args, true).forEach(function (cell) {\n                    var value = cell.value;\n                    if (options & opt_ignore_hidden_rows && cell.hidden) {\n                        return;\n                    }\n                    if (cell.formula) {\n                        var str = cell.formula.print(cell.row, cell.col);\n                        if (/^\\s*(?:aggregate|subtotal)\\s*\\(/i.test(str)) {\n                            if (!(options & opt_use_aggregates)) {\n                                return;\n                            }\n                        }\n                        if ('value' in cell.formula) {\n                            value = cell.formula.value;\n                        }\n                    }\n                    if (options & opt_ignore_errors && value instanceof CalcError) {\n                        return;\n                    }\n                    if (typeof value == 'number' || value instanceof CalcError) {\n                        values.push(value);\n                    }\n                });\n            } else if (Array.isArray(args)) {\n                for (var i = 0; i < args.length; ++i) {\n                    fetchValues(args[i]);\n                }\n            } else if (args instanceof Matrix) {\n                args.each(fetchValues);\n            } else if (typeof args == 'number') {\n                values.push(args);\n            } else if (args instanceof CalcError && !(options & opt_ignore_errors)) {\n                values.push(args);\n            }\n        }(args));\n        return values;\n    }\n    defineFunction('aggregate', function (callback, funcId, options, args) {\n        var self = this;\n        self.resolveCells(args, function () {\n            var values;\n            if (funcId > 12) {\n                values = fetchValuesForAggregate(self, args[0], options);\n                var k = args[1];\n                if (k instanceof CellRef) {\n                    k = self.getRefData(k);\n                }\n                if (typeof k != 'number') {\n                    return callback(new CalcError('VALUE'));\n                }\n            } else {\n                values = fetchValuesForAggregate(self, args, options);\n            }\n            self.func(AGGREGATE_FUNCS[funcId - 1], callback, values);\n        });\n    }).argsAsync([\n        [\n            'funcId',\n            [\n                'values',\n                1,\n                2,\n                3,\n                4,\n                5,\n                6,\n                7,\n                8,\n                9,\n                10,\n                11,\n                12,\n                13,\n                14,\n                15,\n                16,\n                17,\n                18,\n                19\n            ]\n        ],\n        [\n            'options',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'values',\n                    0,\n                    1,\n                    2,\n                    3,\n                    4,\n                    5,\n                    6,\n                    7\n                ]\n            ]\n        ],\n        [\n            'args',\n            'rest'\n        ]\n    ]);\n    defineFunction('subtotal', function (callback, funcId) {\n        var self = this;\n        var ignoreHidden = funcId > 100;\n        if (ignoreHidden) {\n            funcId -= 100;\n        }\n        var args = [];\n        for (var i = 2; i < arguments.length; ++i) {\n            args.push(arguments[i]);\n        }\n        self.resolveCells(args, function () {\n            var values = fetchValuesForAggregate(self, args, ignoreHidden ? 1 : 0);\n            self.func(AGGREGATE_FUNCS[funcId - 1], callback, values);\n        });\n    }).argsAsync([\n        [\n            'funcId',\n            [\n                'values',\n                1,\n                2,\n                3,\n                4,\n                5,\n                6,\n                7,\n                8,\n                9,\n                10,\n                11,\n                101,\n                102,\n                103,\n                104,\n                105,\n                106,\n                107,\n                108,\n                109,\n                110,\n                111\n            ]\n        ],\n        [\n            '+',\n            [\n                'ref',\n                [\n                    'or',\n                    'ref',\n                    '#matrix'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('avedev', function (numbers) {\n        var avg = numbers.reduce(function (sum, num) {\n            return sum + num;\n        }, 0) / numbers.length;\n        return numbers.reduce(function (sum, num) {\n            return sum + Math.abs(num - avg);\n        }, 0) / numbers.length;\n    }).args([\n        [\n            'numbers',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$numbers.length >= 2',\n                'NUM'\n            ]\n        ]\n    ]);\n    function _binom_dist(x, n, p, cumulative) {\n        if (!cumulative) {\n            return _combinations(n, x) * Math.pow(p, x) * Math.pow(1 - p, n - x);\n        } else {\n            var sum = 0;\n            for (var j = 0; j <= x; ++j) {\n                sum += _combinations(n, j) * Math.pow(p, j) * Math.pow(1 - p, n - j);\n            }\n            return sum;\n        }\n    }\n    defineFunction('binom.dist', _binom_dist).args([\n        [\n            'successes',\n            'integer+'\n        ],\n        [\n            'trials',\n            [\n                'and',\n                'integer',\n                [\n                    'assert',\n                    '$trials >= $successes'\n                ]\n            ]\n        ],\n        [\n            'probability',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineAlias('binomdist', 'binom.dist');\n    defineFunction('binom.inv', function (n, p, alpha) {\n        for (var x = 0; x <= n; ++x) {\n            if (_binom_dist(x, n, p, true) >= alpha) {\n                return x;\n            }\n        }\n        return new CalcError('N/A');\n    }).args([\n        [\n            'trials',\n            'integer+'\n        ],\n        [\n            'probability',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'alpha',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineAlias('critbinom', 'binom.inv');\n    defineFunction('binom.dist.range', function (n, p, s, s2) {\n        var sum = 0;\n        for (var k = s; k <= s2; ++k) {\n            sum += _combinations(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);\n        }\n        return sum;\n    }).args([\n        [\n            'trials',\n            'integer+'\n        ],\n        [\n            'probability',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'successes_min',\n            [\n                'and',\n                'integer',\n                [\n                    '[between]',\n                    0,\n                    '$trials'\n                ]\n            ]\n        ],\n        [\n            'successes_max',\n            [\n                'or',\n                [\n                    'and',\n                    'integer',\n                    [\n                        '[between]',\n                        '$successes_min',\n                        '$trials'\n                    ]\n                ],\n                [\n                    'null',\n                    '$successes_min'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('negbinom.dist', function (x, k, p, cumulative) {\n        if (cumulative) {\n            var sum = 0;\n            while (x >= 0) {\n                sum += _combinations(x + k - 1, x) * Math.pow(p, k) * Math.pow(1 - p, x);\n                x--;\n            }\n            return sum;\n        }\n        return _combinations(x + k - 1, x) * Math.pow(p, k) * Math.pow(1 - p, x);\n    }).args([\n        [\n            'number_f',\n            'integer+'\n        ],\n        [\n            'number_s',\n            'integer+'\n        ],\n        [\n            'probability_s',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineAlias('negbinomdist', 'negbinom.dist');\n    defineFunction('address', function (row, col, abs, a1, sheet) {\n        var cell = new CellRef(row - 1, col - 1, abs - 1);\n        if (sheet) {\n            cell.setSheet(sheet, true);\n        }\n        return a1 ? cell.print(0, 0) : cell.print();\n    }).args([\n        [\n            'row',\n            'integer++'\n        ],\n        [\n            'col',\n            'integer++'\n        ],\n        [\n            'abs',\n            [\n                'or',\n                [\n                    'null',\n                    1\n                ],\n                [\n                    'values',\n                    1,\n                    2,\n                    3,\n                    4\n                ]\n            ]\n        ],\n        [\n            'a1',\n            [\n                'or',\n                [\n                    'null',\n                    true\n                ],\n                'logical'\n            ]\n        ],\n        [\n            'sheet',\n            [\n                'or',\n                'null',\n                'string'\n            ]\n        ]\n    ]);\n    defineFunction('areas', function (ref) {\n        var count = 0;\n        (function loop(x) {\n            if (x instanceof CellRef || x instanceof RangeRef) {\n                count++;\n            } else if (x instanceof UnionRef) {\n                x.refs.forEach(loop);\n            }\n        }(ref));\n        return count;\n    }).args([[\n            'ref',\n            'ref'\n        ]]);\n    defineFunction('choose', function (index, args) {\n        if (index > args.length) {\n            return new CalcError('N/A');\n        } else {\n            return args[index - 1];\n        }\n    }).args([\n        [\n            '*index',\n            'integer'\n        ],\n        [\n            '+',\n            [\n                'value',\n                'anything'\n            ]\n        ]\n    ]);\n    defineFunction('column', function (ref) {\n        if (!ref) {\n            return this.formula.col + 1;\n        }\n        if (ref instanceof CellRef) {\n            return ref.col + 1;\n        }\n        return this.asMatrix(ref).mapCol(function (col) {\n            return col + ref.topLeft.col + 1;\n        });\n    }).args([[\n            'ref',\n            [\n                'or',\n                'area',\n                'null'\n            ]\n        ]]);\n    defineFunction('columns', function (m) {\n        return m instanceof Ref ? m.width() : m.width;\n    }).args([[\n            'ref',\n            [\n                'or',\n                'area',\n                '#matrix'\n            ]\n        ]]);\n    defineFunction('formulatext', function (ref) {\n        var cell = this.getRefCells(ref)[0];\n        if (!cell.formula) {\n            return new CalcError('N/A');\n        }\n        return cell.formula.print(cell.row, cell.col);\n    }).args([[\n            'ref',\n            'ref'\n        ]]);\n    defineFunction('hlookup', function (value, m, row, approx) {\n        var resultCol = null;\n        m.eachCol(function (col) {\n            var data = m.get(0, col);\n            if (approx) {\n                if (data > value) {\n                    return true;\n                }\n                resultCol = col;\n            } else if (data === value) {\n                resultCol = col;\n                return true;\n            }\n        });\n        if (resultCol == null) {\n            return new CalcError('N/A');\n        }\n        return m.get(row - 1, resultCol);\n    }).args([\n        [\n            'value',\n            'anyvalue'\n        ],\n        [\n            'range',\n            'matrix'\n        ],\n        [\n            'row',\n            'integer++'\n        ],\n        [\n            'approx',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    true\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('index', function (callback, ref, row, col, areanum) {\n        var self = this;\n        if (ref instanceof UnionRef) {\n            ref = ref.refs[areanum - 1];\n        }\n        if (!row && !col || !ref) {\n            return callback(new CalcError('N/A'));\n        }\n        if (ref instanceof CellRef) {\n            ref = ref.toRangeRef();\n        }\n        if (ref instanceof RangeRef) {\n            if (row && col) {\n                if (col > ref.width() || row > ref.height()) {\n                    return callback(new CalcError('REF'));\n                }\n                var cell = ref.toCell(row - 1, col - 1);\n                self.resolveCells([cell], function () {\n                    callback(self.getRefData(cell));\n                });\n                return;\n            }\n            if (!row) {\n                var colRange = ref.toColumn(col - 1);\n                self.resolveCells([colRange], function () {\n                    callback(self.asMatrix(colRange));\n                });\n                return;\n            }\n            if (!col) {\n                var rowRange = ref.toRow(row - 1);\n                self.resolveCells([rowRange], function () {\n                    callback(self.asMatrix(rowRange));\n                });\n                return;\n            }\n        } else if (ref instanceof Matrix) {\n            if (ref.width > 1 && ref.height > 1) {\n                if (row && col) {\n                    return callback(ref.get(row - 1, col - 1));\n                }\n                if (!row) {\n                    return callback(ref.mapRow(function (row) {\n                        return ref.get(row, col - 1);\n                    }));\n                }\n                if (!col) {\n                    return callback(ref.mapCol(function (col) {\n                        return ref.get(row - 1, col);\n                    }));\n                }\n            }\n            if (ref.width == 1) {\n                return callback(ref.get(row - 1, 0));\n            }\n            if (ref.height == 1) {\n                return callback(ref.get(0, col - 1));\n            }\n        } else {\n            callback(new CalcError('REF'));\n        }\n    }).argsAsync([\n        [\n            'range',\n            [\n                'or',\n                'ref',\n                'matrix'\n            ]\n        ],\n        [\n            'row',\n            [\n                'or',\n                'integer+',\n                'null'\n            ]\n        ],\n        [\n            'col',\n            [\n                'or',\n                'integer+',\n                'null'\n            ]\n        ],\n        [\n            'areanum',\n            [\n                'or',\n                'integer++',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('indirect', function (thing) {\n        try {\n            var f = this.formula;\n            var exp = calc.parseFormula(f.sheet, f.row, f.col, thing);\n            if (!(exp.ast instanceof Ref)) {\n                throw 1;\n            }\n            return exp.ast.absolute(f.row, f.col);\n        } catch (ex) {\n            return new CalcError('REF');\n        }\n    }).args([[\n            'thing',\n            'string'\n        ]]);\n    defineFunction('match', function (val, m, type) {\n        var index = 1, cmp;\n        if (type === 0) {\n            cmp = parseCriteria(val);\n        } else if (type === -1) {\n            cmp = parseCriteria('<=' + val);\n        } else if (type === 1) {\n            cmp = parseCriteria('>=' + val);\n        }\n        if (m.each(function (el) {\n                if (el != null && cmp(el)) {\n                    if (type !== 0 && val != el) {\n                        --index;\n                    }\n                    return true;\n                }\n                index++;\n            }, true) && index > 0) {\n            return index;\n        } else {\n            return new CalcError('N/A');\n        }\n    }).args([\n        [\n            'value',\n            'anyvalue'\n        ],\n        [\n            'range',\n            'matrix'\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    -1,\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('offset', function (ref, rows, cols, height, width) {\n        var topLeft = (ref instanceof CellRef ? ref : ref.topLeft).clone();\n        topLeft.row += rows;\n        topLeft.col += cols;\n        if (topLeft.row < 0 || topLeft.col < 0) {\n            return new CalcError('VALUE');\n        }\n        if (height > 1 || width > 1) {\n            return new RangeRef(topLeft, new CellRef(topLeft.row + height - 1, topLeft.col + width - 1)).setSheet(ref.sheet, ref.hasSheet());\n        }\n        return topLeft;\n    }).args([\n        [\n            'ref',\n            'area'\n        ],\n        [\n            '*rows',\n            'integer'\n        ],\n        [\n            '*cols',\n            'integer'\n        ],\n        [\n            '*height',\n            [\n                'or',\n                'integer++',\n                [\n                    'null',\n                    '$ref.height()'\n                ]\n            ]\n        ],\n        [\n            '*width',\n            [\n                'or',\n                'integer++',\n                [\n                    'null',\n                    '$ref.width()'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('row', function (ref) {\n        if (!ref) {\n            return this.formula.row + 1;\n        }\n        if (ref instanceof CellRef) {\n            return ref.row + 1;\n        }\n        return this.asMatrix(ref).mapRow(function (row) {\n            return row + ref.topLeft.row + 1;\n        });\n    }).args([[\n            'ref',\n            [\n                'or',\n                'area',\n                'null'\n            ]\n        ]]);\n    defineFunction('rows', function (m) {\n        return m instanceof Ref ? m.height() : m.height;\n    }).args([[\n            'ref',\n            [\n                'or',\n                'area',\n                '#matrix'\n            ]\n        ]]);\n    defineFunction('vlookup', function (value, m, col, approx) {\n        var resultRow = null;\n        if (typeof value != 'number') {\n            approx = false;\n        }\n        if (typeof value == 'string') {\n            value = value.toLowerCase();\n        }\n        m.eachRow(function (row) {\n            var data = m.get(row, 0);\n            if (approx) {\n                if (data > value) {\n                    return true;\n                }\n                resultRow = row;\n            } else {\n                if (typeof data == 'string') {\n                    data = data.toLowerCase();\n                }\n                if (data === value) {\n                    resultRow = row;\n                    return true;\n                }\n            }\n        });\n        if (resultRow == null) {\n            return new CalcError('N/A');\n        }\n        return m.get(resultRow, col - 1);\n    }).args([\n        [\n            'value',\n            'anyvalue'\n        ],\n        [\n            'range',\n            'matrix'\n        ],\n        [\n            'col',\n            'integer++'\n        ],\n        [\n            'approx',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    true\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('date', function (year, month, date) {\n        return packDate(year, month - 1, date);\n    }).args([\n        [\n            '*year',\n            'integer'\n        ],\n        [\n            '*month',\n            'integer'\n        ],\n        [\n            '*date',\n            'integer'\n        ]\n    ]);\n    defineFunction('day', function (date) {\n        return unpackDate(date).date;\n    }).args([[\n            '*date',\n            'date'\n        ]]);\n    defineFunction('month', function (date) {\n        return unpackDate(date).month + 1;\n    }).args([[\n            '*date',\n            'date'\n        ]]);\n    defineFunction('year', function (date) {\n        return unpackDate(date).year;\n    }).args([[\n            '*date',\n            'date'\n        ]]);\n    defineFunction('weekday', function (date) {\n        return unpackDate(date).day + 1;\n    }).args([[\n            '*date',\n            'date'\n        ]]);\n    defineFunction('weeknum', function (date, type) {\n        var fw = packDate(unpackDate(date).year, 0, 1);\n        var sy = unpackDate(fw);\n        var diff;\n        if (type == 21) {\n            diff = 3 - (sy.day + 6) % 7;\n            if (diff < 0) {\n                diff += 7;\n            }\n            fw += diff;\n            sy.date += diff;\n            sy.day = 4;\n            type = 1;\n        } else {\n            if (type == 1) {\n                type = 0;\n            } else if (type == 2) {\n                type = 1;\n            } else {\n                type = (type - 10) % 7;\n            }\n        }\n        diff = sy.day - type;\n        if (diff < 0) {\n            diff += 7;\n        }\n        fw -= diff;\n        return Math.ceil((date + 1 - fw) / 7);\n    }).args([\n        [\n            '*date',\n            'date'\n        ],\n        [\n            '*type',\n            [\n                'or',\n                [\n                    'null',\n                    1\n                ],\n                [\n                    'values',\n                    1,\n                    2,\n                    11,\n                    12,\n                    13,\n                    14,\n                    15,\n                    16,\n                    17,\n                    21\n                ]\n            ]\n        ]\n    ]);\n    function weeksInYear(year) {\n        var d = unpackDate(packDate(year, 0, 1));\n        if (d.day == 4 || d.day == 3 && runtime.isLeapYear(year)) {\n            return 53;\n        }\n        return 52;\n    }\n    defineFunction('isoweeknum', function isoweeknum(date) {\n        var d = unpackDate(date);\n        var dow = d.day || 7;\n        var wk = Math.floor((d.ord - dow + 10) / 7);\n        if (wk < 1) {\n            return weeksInYear(d.year - 1);\n        } else if (wk == 53 && wk > weeksInYear(d.year)) {\n            return 1;\n        }\n        return wk;\n    }).args([[\n            '*date',\n            'date'\n        ]]);\n    defineFunction('now', function () {\n        return runtime.dateToSerial(new Date());\n    }).args([]);\n    defineFunction('today', function () {\n        return runtime.dateToSerial(new Date()) | 0;\n    }).args([]);\n    defineFunction('time', function (hh, mm, ss) {\n        return runtime.packTime(hh, mm, ss, 0);\n    }).args([\n        [\n            '*hours',\n            'integer'\n        ],\n        [\n            '*minutes',\n            'integer'\n        ],\n        [\n            '*seconds',\n            'integer'\n        ]\n    ]);\n    defineFunction('hour', function (time) {\n        return runtime.unpackTime(time).hours;\n    }).args([[\n            '*time',\n            'datetime'\n        ]]);\n    defineFunction('minute', function (time) {\n        return runtime.unpackTime(time).minutes;\n    }).args([[\n            '*time',\n            'datetime'\n        ]]);\n    defineFunction('second', function (time) {\n        return runtime.unpackTime(time).seconds;\n    }).args([[\n            '*time',\n            'datetime'\n        ]]);\n    defineFunction('edate', function (base, months) {\n        var d = unpackDate(base);\n        var m = d.month + months;\n        var y = d.year + Math.floor(m / 12);\n        m %= 12;\n        if (m < 0) {\n            m += 12;\n        }\n        d = Math.min(d.date, daysInMonth(y, m));\n        return packDate(y, m, d);\n    }).args([\n        [\n            '*start_date',\n            'date'\n        ],\n        [\n            '*months',\n            'integer'\n        ]\n    ]);\n    defineFunction('eomonth', function (base, months) {\n        var d = unpackDate(base);\n        var m = d.month + months;\n        var y = d.year + Math.floor(m / 12);\n        m %= 12;\n        if (m < 0) {\n            m += 12;\n        }\n        d = daysInMonth(y, m);\n        return packDate(y, m, d);\n    }).args([\n        [\n            '*start_date',\n            'date'\n        ],\n        [\n            '*months',\n            'integer'\n        ]\n    ]);\n    defineFunction('workday', function (date, n, holidays) {\n        var inc = n > 0 ? 1 : -1;\n        n = Math.abs(n);\n        var dow = unpackDate(date).day;\n        while (n > 0) {\n            date += inc;\n            dow = (dow + inc) % 7;\n            if (dow > 0 && dow < 6 && holidays.indexOf(date) < 0) {\n                --n;\n            }\n        }\n        return date;\n    }).args([\n        [\n            'start_date',\n            'date'\n        ],\n        [\n            'days',\n            'integer'\n        ],\n        [\n            'holidays',\n            [\n                'collect',\n                'date'\n            ]\n        ]\n    ]);\n    defineFunction('networkdays', function (date, end, holidays) {\n        if (date > end) {\n            var tmp = date;\n            date = end;\n            end = tmp;\n        }\n        var count = 0;\n        var dow = unpackDate(date).day;\n        while (date <= end) {\n            if (dow > 0 && dow < 6 && holidays.indexOf(date) < 0) {\n                count++;\n            }\n            date++;\n            dow = (dow + 1) % 7;\n        }\n        return count;\n    }).args([\n        [\n            'start_date',\n            'date'\n        ],\n        [\n            'end_date',\n            'date'\n        ],\n        [\n            'holidays',\n            [\n                'collect',\n                'date'\n            ]\n        ]\n    ]);\n    defineFunction('days', function (start, end) {\n        return end - start;\n    }).args([\n        [\n            '*start_date',\n            'date'\n        ],\n        [\n            '*end_date',\n            'date'\n        ]\n    ]);\n    function _days_360(start, end, method) {\n        var d1 = unpackDate(start);\n        var d2 = unpackDate(end);\n        if (method) {\n            if (d1.date == 31) {\n                d1.date = 30;\n            }\n            if (d2.date == 31) {\n                d2.date = 30;\n            }\n        } else {\n            if (d1.month == 1 && d2.month == 1 && d1.date == daysInMonth(d1.year, 1) && d2.date == daysInMonth(d2.year, 1)) {\n                d2.date = 30;\n            }\n            if (d1.date == daysInMonth(d1.year, d1.month)) {\n                d1.date = 30;\n                if (d2.date == 31) {\n                    d2.date = 30;\n                }\n            } else {\n                if (d1.date == 30 && d2.date == 31) {\n                    d2.date = 30;\n                }\n            }\n        }\n        return 360 * (d2.year - d1.year) + 30 * (d2.month - d1.month) + (d2.date - d1.date);\n    }\n    runtime._days_360 = _days_360;\n    defineFunction('days360', _days_360).args([\n        [\n            '*start_date',\n            'date'\n        ],\n        [\n            '*end_date',\n            'date'\n        ],\n        [\n            '*method',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    false\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('yearfrac', function (start, end, method) {\n        switch (method) {\n        case 0:\n            return _days_360(start, end, false) / 360;\n        case 1:\n            return (end - start) / daysInYear(unpackDate(start).year);\n        case 2:\n            return (end - start) / 360;\n        case 3:\n            return (end - start) / 365;\n        case 4:\n            return _days_360(start, end, true) / 360;\n        }\n    }).args([\n        [\n            '*start_date',\n            'date'\n        ],\n        [\n            '*end_date',\n            'date'\n        ],\n        [\n            '*method',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'values',\n                    0,\n                    1,\n                    2,\n                    3,\n                    4\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('datevalue', function (text) {\n        var date = runtime.parseDate(text);\n        if (date) {\n            return runtime.dateToSerial(date);\n        }\n        return new CalcError('VALUE');\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('timevalue', function (text) {\n        var m = text.toLowerCase().match(/(\\d+):(\\d+)(:(\\d+)(\\.(\\d+))?)?\\s*(am?|pm?)?/);\n        if (m) {\n            var hh = parseFloat(m[1]);\n            var mm = parseFloat(m[2]);\n            var ss = m[3] ? parseFloat(m[4]) : 0;\n            var ampm = m[7];\n            if (ampm && (hh > 12 || hh < 1)) {\n                return new CalcError('VALUE');\n            }\n            if (/^p/.test(ampm)) {\n                hh += 12;\n            }\n            return runtime.packTime(hh, mm, ss, 0);\n        }\n        return new CalcError('VALUE');\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('mdeterm', function (m) {\n        var error = m.each(function (val) {\n            if (typeof val != 'number') {\n                return new CalcError('VALUE');\n            }\n        }, true);\n        return error || m.determinant();\n    }).args([[\n            'm',\n            [\n                'and',\n                'matrix',\n                [\n                    'assert',\n                    '$m.width == $m.height'\n                ]\n            ]\n        ]]);\n    defineFunction('transpose', function (m) {\n        return m.transpose();\n    }).args([[\n            'range',\n            'matrix'\n        ]]);\n    defineFunction('mmult', function (a, b) {\n        return a.multiply(b);\n    }).args([\n        [\n            'a',\n            'matrix'\n        ],\n        [\n            'b',\n            [\n                'and',\n                'matrix',\n                [\n                    'assert',\n                    '$b.height == $a.width'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('munit', function (n) {\n        return new Matrix(this).unit(n);\n    }).args([[\n            'n',\n            'integer+'\n        ]]);\n    defineFunction('minverse', function (m) {\n        var error = m.each(function (val) {\n            if (typeof val != 'number') {\n                return new CalcError('VALUE');\n            }\n        }, true);\n        return error || m.inverse() || new CalcError('VALUE');\n    }).args([[\n            'm',\n            [\n                'and',\n                'matrix',\n                [\n                    'assert',\n                    '$m.width == $m.height'\n                ]\n            ]\n        ]]);\n    defineFunction('rand', function () {\n        return Math.random();\n    }).args([]);\n    defineFunction('randbetween', function (min, max) {\n        return min + Math.floor((max - min + 1) * Math.random());\n    }).args([\n        [\n            'min',\n            'integer'\n        ],\n        [\n            'max',\n            [\n                'and',\n                'integer',\n                [\n                    'assert',\n                    '$max >= $min'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('true', function () {\n        return true;\n    }).args([]);\n    defineFunction('false', function () {\n        return true;\n    }).args([]);\n    defineFunction('roman', function (num) {\n        return util.arabicToRoman(num).toUpperCase();\n    }).args([[\n            '*number',\n            'integer'\n        ]]);\n    defineFunction('arabic', function (rom) {\n        var num = util.romanToArabic(rom);\n        return num == null ? new CalcError('VALUE') : num;\n    }).args([[\n            '*roman',\n            'string'\n        ]]);\n    defineFunction('base', function (number, radix, minLen) {\n        var str = number.toString(radix).toUpperCase();\n        while (str.length < minLen) {\n            str = '0' + str;\n        }\n        return str;\n    }).args([\n        [\n            '*number',\n            'integer'\n        ],\n        [\n            '*radix',\n            [\n                'and',\n                'integer',\n                [\n                    '[between]',\n                    2,\n                    36\n                ]\n            ]\n        ],\n        [\n            '*minLen',\n            [\n                'or',\n                'integer+',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('decimal', function (text, radix) {\n        text = text.toUpperCase();\n        var val = 0;\n        for (var i = 0; i < text.length; ++i) {\n            var d = text.charCodeAt(i);\n            if (d >= 48 && d <= 57) {\n                d -= 48;\n            } else if (d >= 65 && d < 55 + radix) {\n                d -= 55;\n            } else {\n                return new CalcError('VALUE');\n            }\n            val = val * radix + d;\n        }\n        return val;\n    }).args([\n        [\n            '*text',\n            'string'\n        ],\n        [\n            '*radix',\n            [\n                'and',\n                'integer',\n                [\n                    '[between]',\n                    2,\n                    36\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('char', function (code) {\n        return String.fromCharCode(code);\n    }).args([[\n            '*code',\n            'integer+'\n        ]]);\n    var RX_NON_PRINTABLE = /[\\0-\\x1F\\x7F-\\x9F\\xAD\\u0378\\u0379\\u037F-\\u0383\\u038B\\u038D\\u03A2\\u0528-\\u0530\\u0557\\u0558\\u0560\\u0588\\u058B-\\u058E\\u0590\\u05C8-\\u05CF\\u05EB-\\u05EF\\u05F5-\\u0605\\u061C\\u061D\\u06DD\\u070E\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07FB-\\u07FF\\u082E\\u082F\\u083F\\u085C\\u085D\\u085F-\\u089F\\u08A1\\u08AD-\\u08E3\\u08FF\\u0978\\u0980\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09FC-\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A76-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF2-\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B55\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BFB-\\u0C00\\u0C04\\u0C0D\\u0C11\\u0C29\\u0C34\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5A-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C77\\u0C80\\u0C81\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0D01\\u0D04\\u0D0D\\u0D11\\u0D3B\\u0D3C\\u0D45\\u0D49\\u0D4F-\\u0D56\\u0D58-\\u0D5F\\u0D64\\u0D65\\u0D76-\\u0D78\\u0D80\\u0D81\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DF1\\u0DF5-\\u0E00\\u0E3B-\\u0E3E\\u0E5C-\\u0E80\\u0E83\\u0E85\\u0E86\\u0E89\\u0E8B\\u0E8C\\u0E8E-\\u0E93\\u0E98\\u0EA0\\u0EA4\\u0EA6\\u0EA8\\u0EA9\\u0EAC\\u0EBA\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F48\\u0F6D-\\u0F70\\u0F98\\u0FBD\\u0FCD\\u0FDB-\\u0FFF\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u137D-\\u137F\\u139A-\\u139F\\u13F5-\\u13FF\\u169D-\\u169F\\u16F1-\\u16FF\\u170D\\u1715-\\u171F\\u1737-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u17FF\\u180F\\u181A-\\u181F\\u1878-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191D-\\u191F\\u192C-\\u192F\\u193C-\\u193F\\u1941-\\u1943\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19DD\\u1A1C\\u1A1D\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1A9F\\u1AAE-\\u1AFF\\u1B4C-\\u1B4F\\u1B7D-\\u1B7F\\u1BF4-\\u1BFB\\u1C38-\\u1C3A\\u1C4A-\\u1C4C\\u1C80-\\u1CBF\\u1CC8-\\u1CCF\\u1CF7-\\u1CFF\\u1DE7-\\u1DFB\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FC5\\u1FD4\\u1FD5\\u1FDC\\u1FF0\\u1FF1\\u1FF5\\u1FFF\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u206F\\u2072\\u2073\\u208F\\u209D-\\u209F\\u20BB-\\u20CF\\u20F1-\\u20FF\\u218A-\\u218F\\u23F4-\\u23FF\\u2427-\\u243F\\u244B-\\u245F\\u2700\\u2B4D-\\u2B4F\\u2B5A-\\u2BFF\\u2C2F\\u2C5F\\u2CF4-\\u2CF8\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D71-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E3C-\\u2E7F\\u2E9A\\u2EF4-\\u2EFF\\u2FD6-\\u2FEF\\u2FFC-\\u2FFF\\u3040\\u3097\\u3098\\u3100-\\u3104\\u312E-\\u3130\\u318F\\u31BB-\\u31BF\\u31E4-\\u31EF\\u321F\\u32FF\\u4DB6-\\u4DBF\\u9FCD-\\u9FFF\\uA48D-\\uA48F\\uA4C7-\\uA4CF\\uA62C-\\uA63F\\uA698-\\uA69E\\uA6F8-\\uA6FF\\uA78F\\uA794-\\uA79F\\uA7AB-\\uA7F7\\uA82C-\\uA82F\\uA83A-\\uA83F\\uA878-\\uA87F\\uA8C5-\\uA8CD\\uA8DA-\\uA8DF\\uA8FC-\\uA8FF\\uA954-\\uA95E\\uA97D-\\uA97F\\uA9CE\\uA9DA-\\uA9DD\\uA9E0-\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A\\uAA5B\\uAA7C-\\uAA7F\\uAAC3-\\uAADA\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F-\\uABBF\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBC2-\\uFBD2\\uFD40-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFE\\uFDFF\\uFE1A-\\uFE1F\\uFE27-\\uFE2F\\uFE53\\uFE67\\uFE6C-\\uFE6F\\uFE75\\uFEFD-\\uFF00\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFDF\\uFFE7\\uFFEF-\\uFFFB\\uFFFE\\uFFFF]/g;\n    defineFunction('clean', function (text) {\n        return text.replace(RX_NON_PRINTABLE, '');\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('code', function (text) {\n        return text.charAt(0);\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineAlias('unichar', 'char');\n    defineAlias('unicode', 'code');\n    defineFunction('concatenate', function (args) {\n        var out = '';\n        for (var i = 0; i < args.length; ++i) {\n            out += args[i];\n        }\n        return out;\n    }).args([[\n            '+',\n            [\n                '*text',\n                'string'\n            ]\n        ]]);\n    defineFunction('dollar', function (number, decimals) {\n        var format = '$#,##0.DECIMALS;($#,##0.DECIMALS)';\n        var dec = '';\n        while (decimals-- > 0) {\n            dec += '0';\n        }\n        format = format.replace(/DECIMALS/g, dec);\n        return spreadsheet.formatting.text(number, format);\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*decimals',\n            [\n                'or',\n                'integer++',\n                [\n                    'null',\n                    2\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('exact', function (a, b) {\n        return a === b;\n    }).args([\n        [\n            '*text1',\n            'string'\n        ],\n        [\n            '*text2',\n            'string'\n        ]\n    ]);\n    defineFunction('find', function (substring, string, start) {\n        var pos = string.indexOf(substring, start - 1);\n        return pos < 0 ? new CalcError('VALUE') : pos + 1;\n    }).args([\n        [\n            '*substring',\n            'string'\n        ],\n        [\n            '*string',\n            'string'\n        ],\n        [\n            '*start',\n            [\n                'or',\n                'integer++',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('fixed', function (number, decimals, noCommas) {\n        var format = noCommas ? '0.DECIMALS' : '#,##0.DECIMALS';\n        var dec = '';\n        while (decimals-- > 0) {\n            dec += '0';\n        }\n        format = format.replace(/DECIMALS/g, dec);\n        return spreadsheet.formatting.text(number, format);\n    }).args([\n        [\n            '*number',\n            'number'\n        ],\n        [\n            '*decimals',\n            [\n                'or',\n                'integer++',\n                [\n                    'null',\n                    2\n                ]\n            ]\n        ],\n        [\n            '*noCommas',\n            [\n                'or',\n                'boolean',\n                [\n                    'null',\n                    false\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('left', function (text, length) {\n        return text.substr(0, length);\n    }).args([\n        [\n            '*text',\n            'string'\n        ],\n        [\n            '*length',\n            [\n                'or',\n                'integer+',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('right', function (text, length) {\n        return text.substr(-length);\n    }).args([\n        [\n            '*text',\n            'string'\n        ],\n        [\n            '*length',\n            [\n                'or',\n                'integer+',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('len', function (text) {\n        return text.length;\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('lower', function (text) {\n        return text.toLowerCase();\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('upper', function (text) {\n        return text.toUpperCase();\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('ltrim', function (text) {\n        return text.replace(/^\\s+/, '');\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('rtrim', function (text) {\n        return text.replace(/\\s+$/, '');\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('trim', function (text) {\n        return text.replace(/^\\s+|\\s+$/, '');\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('mid', function (text, start, length) {\n        return text.substr(start - 1, length);\n    }).args([\n        [\n            '*text',\n            'string'\n        ],\n        [\n            '*start',\n            'integer++'\n        ],\n        [\n            '*length',\n            'integer+'\n        ]\n    ]);\n    defineFunction('proper', function (text) {\n        return text.toLowerCase().replace(/\\b./g, function (s) {\n            return s.toUpperCase();\n        });\n    }).args([[\n            '*text',\n            'string'\n        ]]);\n    defineFunction('replace', function (text, start, length, newText) {\n        return text.substr(0, --start) + newText + text.substr(start + length);\n    }).args([\n        [\n            '*text',\n            'string'\n        ],\n        [\n            '*start',\n            'integer++'\n        ],\n        [\n            '*length',\n            'integer+'\n        ],\n        [\n            '*newText',\n            'string'\n        ]\n    ]);\n    defineFunction('rept', function (text, number) {\n        var out = '';\n        while (number-- > 0) {\n            out += text;\n        }\n        return out;\n    }).args([\n        [\n            '*text',\n            'string'\n        ],\n        [\n            '*number',\n            'integer+'\n        ]\n    ]);\n    defineFunction('search', function (substring, string, start) {\n        var pos = string.toLowerCase().indexOf(substring.toLowerCase(), start - 1);\n        return pos < 0 ? new CalcError('VALUE') : pos + 1;\n    }).args([\n        [\n            '*substring',\n            'string'\n        ],\n        [\n            '*string',\n            'string'\n        ],\n        [\n            '*start',\n            [\n                'or',\n                'integer++',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('substitute', function (text, oldText, newText, nth) {\n        if (oldText === newText) {\n            return text;\n        }\n        var pos = -1;\n        function replace() {\n            text = text.substring(0, pos) + newText + text.substring(pos + oldText.length);\n        }\n        while ((pos = text.indexOf(oldText, pos + 1)) >= 0) {\n            if (nth == null) {\n                replace();\n            } else if (--nth === 0) {\n                replace();\n                break;\n            }\n        }\n        return text;\n    }).args([\n        [\n            '*text',\n            'string'\n        ],\n        [\n            '*oldText',\n            'string'\n        ],\n        [\n            '*newText',\n            'string'\n        ],\n        [\n            '*nth',\n            [\n                'or',\n                'integer++',\n                'null'\n            ]\n        ]\n    ]);\n    defineFunction('t', function (value) {\n        return typeof value == 'string' ? value : '';\n    }).args([[\n            '*value',\n            'anyvalue'\n        ]]);\n    defineFunction('text', function (value, format) {\n        return spreadsheet.formatting.text(value, format);\n    }).args([\n        [\n            '*value',\n            'anyvalue'\n        ],\n        [\n            '*format',\n            'string'\n        ]\n    ]);\n    defineFunction('value', function (value) {\n        if (typeof value == 'number') {\n            return value;\n        }\n        if (typeof value == 'boolean') {\n            return +value;\n        }\n        value = (value + '').replace(/[$€,]/g, '');\n        value = parseFloat(value);\n        return isNaN(value) ? new CalcError('VALUE') : value;\n    }).args([[\n            '*value',\n            'anyvalue'\n        ]]);\n    function Hyperlink(link, text) {\n        this.link = link;\n        this.text = text;\n    }\n    Hyperlink.prototype.toString = function () {\n        return this.text;\n    };\n    defineFunction('hyperlink', function (link, text) {\n        return new Hyperlink(link, text);\n    }).args([\n        [\n            '*link',\n            'string'\n        ],\n        [\n            '*text',\n            [\n                'or',\n                'string',\n                [\n                    'null',\n                    '$link'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('iferror', function (value, valueIfError) {\n        return value instanceof CalcError ? valueIfError : value;\n    }).args([\n        [\n            '*value',\n            'forced!'\n        ],\n        [\n            '*value_if_error',\n            'anyvalue!'\n        ]\n    ]);\n    var parseCriteria = function () {\n        var RXCACHE = Object.create(null);\n        function makeComparator(cmp, x) {\n            if (typeof x == 'string') {\n                var num = parseFloat(x);\n                if (!isNaN(num) && num == x) {\n                    x = num;\n                }\n            }\n            return function (a) {\n                var b = x;\n                if (typeof a == 'string' && typeof b == 'string') {\n                    a = a.toLowerCase();\n                    b = b.toLowerCase();\n                }\n                return cmp(a, b);\n            };\n        }\n        function lc(a) {\n            var num, str;\n            if (typeof a == 'string') {\n                a = a.toLowerCase();\n            }\n            if (/^[0-9.]+%$/.test(a)) {\n                str = a.substr(0, a.length - 1);\n                num = parseFloat(str);\n                if (!isNaN(num) && num == str) {\n                    a = num / 100;\n                }\n            } else if (/^[0-9.]+$/.test(a)) {\n                num = parseFloat(a);\n                if (!isNaN(num) && num == a) {\n                    a = num;\n                }\n            }\n            return a;\n        }\n        function compLT(a, b) {\n            return lc(a) < lc(b);\n        }\n        function compLTE(a, b) {\n            return lc(a) <= lc(b);\n        }\n        function compGT(a, b) {\n            return lc(a) > lc(b);\n        }\n        function compGTE(a, b) {\n            return lc(a) >= lc(b);\n        }\n        function compNE(a, b) {\n            return !compEQ(a, b);\n        }\n        function compEQ(a, b) {\n            if (b instanceof RegExp) {\n                return b.test(a);\n            }\n            if (typeof a == 'string' || typeof b == 'string') {\n                a = String(a);\n                b = String(b);\n            }\n            return lc(a) == lc(b);\n        }\n        return function (cmp) {\n            if (typeof cmp == 'function') {\n                return cmp;\n            }\n            var m;\n            if (m = /^=(.*)$/.exec(cmp)) {\n                return makeComparator(compEQ, m[1]);\n            }\n            if (m = /^<>(.*)$/.exec(cmp)) {\n                return makeComparator(compNE, m[1]);\n            }\n            if (m = /^<=(.*)$/.exec(cmp)) {\n                return makeComparator(compLTE, m[1]);\n            }\n            if (m = /^<(.*)$/.exec(cmp)) {\n                return makeComparator(compLT, m[1]);\n            }\n            if (m = /^>=(.*)$/.exec(cmp)) {\n                return makeComparator(compGTE, m[1]);\n            }\n            if (m = /^>(.*)$/.exec(cmp)) {\n                return makeComparator(compGT, m[1]);\n            }\n            if (/[?*]/.exec(cmp)) {\n                var rx = RXCACHE[cmp];\n                if (!rx) {\n                    rx = cmp.replace(/(~\\?|~\\*|[\\]({\\+\\.\\|\\^\\$\\\\})\\[]|[?*])/g, function (s) {\n                        switch (s) {\n                        case '~?':\n                            return '\\\\?';\n                        case '~*':\n                            return '\\\\*';\n                        case '?':\n                            return '.';\n                        case '*':\n                            return '.*';\n                        default:\n                            return '\\\\' + s;\n                        }\n                    });\n                    rx = RXCACHE[cmp] = new RegExp('^' + rx + '$', 'i');\n                }\n                return makeComparator(compEQ, rx);\n            }\n            return makeComparator(compEQ, cmp);\n        };\n    }();\n    function numericPredicate(val) {\n        return typeof val == 'number' || typeof val == 'boolean' || val == null || val === '';\n    }\n    function ascending(a, b) {\n        return a === b ? 0 : a < b ? -1 : 1;\n    }\n    function descending(a, b) {\n        return a === b ? 0 : a < b ? 1 : -1;\n    }\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/runtime.functions.2', ['spreadsheet/runtime'], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var spreadsheet = kendo.spreadsheet;\n    var calc = spreadsheet.calc;\n    var runtime = calc.runtime;\n    var defineFunction = runtime.defineFunction;\n    var CalcError = runtime.CalcError;\n    var packDate = runtime.packDate;\n    var unpackDate = runtime.unpackDate;\n    var isLeapYear = runtime.isLeapYear;\n    var daysInMonth = runtime.daysInMonth;\n    var _days_360 = runtime._days_360;\n    defineFunction('ERF', function (ll, ul) {\n        if (ul == null) {\n            return ERF(ll);\n        }\n        return ERF(ul) - ERF(ll);\n    }).args([\n        [\n            'lower_limit',\n            'number'\n        ],\n        [\n            'upper_limit',\n            [\n                'or',\n                'number',\n                'null'\n            ]\n        ]\n    ]);\n    defineFunction('ERFC', ERFC).args([[\n            'x',\n            'number'\n        ]]);\n    defineFunction('GAMMALN', GAMMALN).args([[\n            'x',\n            'number++'\n        ]]);\n    defineFunction('GAMMA', GAMMA).args([[\n            'x',\n            'number'\n        ]]);\n    defineFunction('GAMMA.DIST', GAMMA_DIST).args([\n        [\n            'x',\n            'number+'\n        ],\n        [\n            'alpha',\n            'number++'\n        ],\n        [\n            'beta',\n            'number++'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('GAMMA.INV', GAMMA_INV).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'alpha',\n            'number++'\n        ],\n        [\n            'beta',\n            'number++'\n        ]\n    ]);\n    defineFunction('NORM.S.DIST', NORM_S_DIST).args([\n        [\n            'z',\n            'number'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('NORM.S.INV', NORM_S_INV).args([[\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ]]);\n    defineFunction('NORM.DIST', NORM_DIST).args([\n        [\n            'x',\n            'number'\n        ],\n        [\n            'mean',\n            'number'\n        ],\n        [\n            'stddev',\n            'number++'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('NORM.INV', NORM_INV).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'mean',\n            'number'\n        ],\n        [\n            'stddev',\n            'number++'\n        ]\n    ]);\n    defineFunction('BETADIST', BETADIST).args([\n        [\n            'x',\n            'number'\n        ],\n        [\n            'alpha',\n            'number++'\n        ],\n        [\n            'beta',\n            'number++'\n        ],\n        [\n            'A',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'B',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$x >= $A',\n                'NUM'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$x <= $B',\n                'NUM'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$A < $B',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('BETA.DIST', BETA_DIST).args([\n        [\n            'x',\n            'number'\n        ],\n        [\n            'alpha',\n            'number++'\n        ],\n        [\n            'beta',\n            'number++'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ],\n        [\n            'A',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'B',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$x >= $A',\n                'NUM'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$x <= $B',\n                'NUM'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$A < $B',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('BETA.INV', BETA_INV).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'alpha',\n            'number++'\n        ],\n        [\n            'beta',\n            'number++'\n        ],\n        [\n            'A',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'B',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('CHISQ.DIST', chisq_left).args([\n        [\n            'x',\n            'number+'\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('CHISQ.DIST.RT', chisq_right).args([\n        [\n            'x',\n            'number+'\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ]\n    ]);\n    defineFunction('CHISQ.INV', chisq_left_inv).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ]\n    ]);\n    defineFunction('CHISQ.INV.RT', chisq_right_inv).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ]\n    ]);\n    defineFunction('CHISQ.TEST', function (ac, ex) {\n        return chisq_test(ac.data, ex.data);\n    }).args([\n        [\n            'actual_range',\n            'matrix'\n        ],\n        [\n            'expected_range',\n            'matrix'\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$actual_range.width == $expected_range.width'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$actual_range.height == $expected_range.height'\n            ]\n        ]\n    ]);\n    defineFunction('EXPON.DIST', expon).args([\n        [\n            'x',\n            'number+'\n        ],\n        [\n            'lambda',\n            'number++'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('POISSON.DIST', poisson).args([\n        [\n            'x',\n            'integer+'\n        ],\n        [\n            'mean',\n            'number+'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('F.DIST', Fdist).args([\n        [\n            'x',\n            'number+'\n        ],\n        [\n            'deg_freedom1',\n            'integer++'\n        ],\n        [\n            'deg_freedom2',\n            'integer++'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('F.DIST.RT', Fdist_right).args([\n        [\n            'x',\n            'number+'\n        ],\n        [\n            'deg_freedom1',\n            'integer++'\n        ],\n        [\n            'deg_freedom2',\n            'integer++'\n        ]\n    ]);\n    defineFunction('F.INV', Finv).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'deg_freedom1',\n            'integer++'\n        ],\n        [\n            'deg_freedom2',\n            'integer++'\n        ]\n    ]);\n    defineFunction('F.INV.RT', Finv_right).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '[between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'deg_freedom1',\n            'integer++'\n        ],\n        [\n            'deg_freedom2',\n            'integer++'\n        ]\n    ]);\n    defineFunction('F.TEST', Ftest).args([\n        [\n            'array1',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'array2',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array1.length >= 2',\n                'DIV/0'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array2.length >= 2',\n                'DIV/0'\n            ]\n        ]\n    ]);\n    defineFunction('FISHER', fisher).args([[\n            'x',\n            [\n                'and',\n                'number',\n                [\n                    '(between)',\n                    -1,\n                    1\n                ]\n            ]\n        ]]);\n    defineFunction('FISHERINV', fisherinv).args([[\n            'y',\n            'number'\n        ]]);\n    defineFunction('T.DIST', Tdist).args([\n        [\n            'x',\n            'number'\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('T.DIST.RT', Tdist_right).args([\n        [\n            'x',\n            'number'\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ]\n    ]);\n    defineFunction('T.DIST.2T', Tdist_2tail).args([\n        [\n            'x',\n            'number+'\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ]\n    ]);\n    defineFunction('T.INV', Tdist_inv).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '(between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ]\n    ]);\n    defineFunction('T.INV.2T', Tdist_2tail_inv).args([\n        [\n            'p',\n            [\n                'and',\n                'number',\n                [\n                    '(between]',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'deg_freedom',\n            'integer++'\n        ]\n    ]);\n    defineFunction('T.TEST', Tdist_test).args([\n        [\n            'array1',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'array2',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'tails',\n            [\n                'and',\n                'integer',\n                [\n                    'values',\n                    1,\n                    2\n                ]\n            ]\n        ],\n        [\n            'type',\n            [\n                'and',\n                'integer',\n                [\n                    'values',\n                    1,\n                    2,\n                    3\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$type != 1 || $array1.length == $array2.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array1.length >= 2',\n                'DIV/0'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array2.length >= 2',\n                'DIV/0'\n            ]\n        ]\n    ]);\n    defineFunction('CONFIDENCE.T', confidence_t).args([\n        [\n            'alpha',\n            [\n                'and',\n                'number',\n                [\n                    '(between)',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'standard_dev',\n            'number++'\n        ],\n        [\n            'size',\n            [\n                'and',\n                'integer++',\n                [\n                    'assert',\n                    '$size != 1',\n                    'DIV/0'\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('CONFIDENCE.NORM', confidence_norm).args([\n        [\n            'alpha',\n            [\n                'and',\n                'number',\n                [\n                    '(between)',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'standard_dev',\n            'number++'\n        ],\n        [\n            'size',\n            [\n                'and',\n                'integer++'\n            ]\n        ]\n    ]);\n    defineFunction('GAUSS', gauss).args([[\n            'z',\n            'number'\n        ]]);\n    defineFunction('PHI', phi).args([[\n            'x',\n            'number'\n        ]]);\n    defineFunction('LOGNORM.DIST', lognorm_dist).args([\n        [\n            'x',\n            'number++'\n        ],\n        [\n            'mean',\n            'number'\n        ],\n        [\n            'standard_dev',\n            'number++'\n        ],\n        [\n            'cumulative',\n            'logical'\n        ]\n    ]);\n    defineFunction('LOGNORM.INV', lognorm_inv).args([\n        [\n            'probability',\n            [\n                'and',\n                'number',\n                [\n                    '(between)',\n                    0,\n                    1\n                ]\n            ]\n        ],\n        [\n            'mean',\n            'number'\n        ],\n        [\n            'standard_dev',\n            'number++'\n        ]\n    ]);\n    defineFunction('PROB', prob).args([\n        [\n            'x_range',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'prob_range',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'lower_limit',\n            'number'\n        ],\n        [\n            'upper_limit',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    '$lower_limit'\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$prob_range.length == $x_range.length',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('SLOPE', slope).args([\n        [\n            'known_y',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'known_x',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length == $known_y.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length > 0 && $known_y.length > 0',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('INTERCEPT', intercept).args([\n        [\n            'known_y',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'known_x',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length == $known_y.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length > 0 && $known_y.length > 0',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('PEARSON', pearson).args([\n        [\n            'array1',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'array2',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array2.length == $array1.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$array2.length > 0 && $array1.length > 0',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('RSQ', rsq).args([\n        [\n            'known_y',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'known_x',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length == $known_y.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length > 0 && $known_y.length > 0',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length != 1 && $known_y.length != 1',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('STEYX', steyx).args([\n        [\n            'known_y',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'known_x',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length == $known_y.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length >= 3 && $known_y.length >= 3',\n                'DIV/0'\n            ]\n        ]\n    ]);\n    defineFunction('FORECAST', forecast).args([\n        [\n            'x',\n            'number'\n        ],\n        [\n            'known_y',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'known_x',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length == $known_y.length',\n                'N/A'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$known_x.length > 0 && $known_y.length > 0',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('LINEST', linest).args([\n        [\n            'known_y',\n            'matrix'\n        ],\n        [\n            'known_x',\n            [\n                'or',\n                'matrix',\n                'null'\n            ]\n        ],\n        [\n            'const',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    true\n                ]\n            ]\n        ],\n        [\n            'stats',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    false\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('LOGEST', logest).args([\n        [\n            'known_y',\n            'matrix'\n        ],\n        [\n            'known_x',\n            [\n                'or',\n                'matrix',\n                'null'\n            ]\n        ],\n        [\n            'const',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    true\n                ]\n            ]\n        ],\n        [\n            'stats',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    false\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('TREND', trend).args([\n        [\n            'known_y',\n            'matrix'\n        ],\n        [\n            'known_x',\n            [\n                'or',\n                'matrix',\n                'null'\n            ]\n        ],\n        [\n            'new_x',\n            [\n                'or',\n                'matrix',\n                'null'\n            ]\n        ],\n        [\n            'const',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    true\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('GROWTH', growth).args([\n        [\n            'known_y',\n            'matrix'\n        ],\n        [\n            'known_x',\n            [\n                'or',\n                'matrix',\n                'null'\n            ]\n        ],\n        [\n            'new_x',\n            [\n                'or',\n                'matrix',\n                'null'\n            ]\n        ],\n        [\n            'const',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    true\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('FV', FV).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'nper',\n            'number'\n        ],\n        [\n            'pmt',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'pv',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$pmt || $pv'\n            ]\n        ]\n    ]);\n    defineFunction('PV', PV).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'nper',\n            'number'\n        ],\n        [\n            'pmt',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'fv',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$pmt || $fv'\n            ]\n        ]\n    ]);\n    defineFunction('PMT', PMT).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'nper',\n            'number'\n        ],\n        [\n            'pmt',\n            'number'\n        ],\n        [\n            'fv',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('NPER', NPER).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'pmt',\n            'number'\n        ],\n        [\n            'pv',\n            'number'\n        ],\n        [\n            'fv',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('RATE', RATE).args([\n        [\n            'nper',\n            'number'\n        ],\n        [\n            'pmt',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'pv',\n            'number'\n        ],\n        [\n            'fv',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'guess',\n            [\n                'or',\n                'number++',\n                [\n                    'null',\n                    0.01\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$pmt || $fv'\n            ]\n        ]\n    ]);\n    defineFunction('IPMT', IPMT).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'per',\n            'number++'\n        ],\n        [\n            'nper',\n            'number++'\n        ],\n        [\n            'pv',\n            'number'\n        ],\n        [\n            'fv',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$per >= 1 && $per <= $nper'\n            ]\n        ]\n    ]);\n    defineFunction('PPMT', PPMT).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'per',\n            'number++'\n        ],\n        [\n            'nper',\n            'number++'\n        ],\n        [\n            'pv',\n            'number'\n        ],\n        [\n            'fv',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$per >= 1 && $per <= $nper'\n            ]\n        ]\n    ]);\n    defineFunction('CUMPRINC', CUMPRINC).args([\n        [\n            'rate',\n            'number++'\n        ],\n        [\n            'nper',\n            'number++'\n        ],\n        [\n            'pv',\n            'number++'\n        ],\n        [\n            'start_period',\n            'number++'\n        ],\n        [\n            'end_period',\n            'number++'\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$end_period >= $start_period',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('CUMIPMT', CUMIPMT).args([\n        [\n            'rate',\n            'number++'\n        ],\n        [\n            'nper',\n            'number++'\n        ],\n        [\n            'pv',\n            'number++'\n        ],\n        [\n            'start_period',\n            'number++'\n        ],\n        [\n            'end_period',\n            'number++'\n        ],\n        [\n            'type',\n            [\n                'or',\n                [\n                    'values',\n                    0,\n                    1\n                ],\n                [\n                    'null',\n                    0\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$end_period >= $start_period',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('NPV', NPV).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'values',\n            [\n                'collect',\n                'number'\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$values.length > 0',\n                'N/A'\n            ]\n        ]\n    ]);\n    defineFunction('IRR', IRR).args([\n        [\n            'values',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'guess',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0.1\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('EFFECT', EFFECT).args([\n        [\n            'nominal_rate',\n            'number++'\n        ],\n        [\n            'npery',\n            'integer++'\n        ]\n    ]);\n    defineFunction('NOMINAL', NOMINAL).args([\n        [\n            'effect_rate',\n            'number++'\n        ],\n        [\n            'npery',\n            'integer++'\n        ]\n    ]);\n    defineFunction('XNPV', XNPV).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'values',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'dates',\n            [\n                'collect',\n                'date',\n                1\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$values.length == $dates.length',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('XIRR', XIRR).args([\n        [\n            'values',\n            [\n                'collect',\n                'number',\n                1\n            ]\n        ],\n        [\n            'dates',\n            [\n                'collect',\n                'date',\n                1\n            ]\n        ],\n        [\n            'guess',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    0.1\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$values.length == $dates.length',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('ISPMT', ISPMT).args([\n        [\n            'rate',\n            'number'\n        ],\n        [\n            'per',\n            'number++'\n        ],\n        [\n            'nper',\n            'number++'\n        ],\n        [\n            'pv',\n            'number'\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$per >= 1 && $per <= $nper'\n            ]\n        ]\n    ]);\n    defineFunction('DB', DB).args([\n        [\n            'cost',\n            'number'\n        ],\n        [\n            'salvage',\n            'number'\n        ],\n        [\n            'life',\n            'number++'\n        ],\n        [\n            'period',\n            'number++'\n        ],\n        [\n            'month',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    12\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('DDB', DDB).args([\n        [\n            'cost',\n            'number'\n        ],\n        [\n            'salvage',\n            'number'\n        ],\n        [\n            'life',\n            'number++'\n        ],\n        [\n            'period',\n            'number++'\n        ],\n        [\n            'factor',\n            [\n                'or',\n                'number',\n                [\n                    'null',\n                    2\n                ]\n            ]\n        ]\n    ]);\n    defineFunction('SLN', SLN).args([\n        [\n            'cost',\n            'number'\n        ],\n        [\n            'salvage',\n            'number'\n        ],\n        [\n            'life',\n            'number++'\n        ]\n    ]);\n    defineFunction('SYD', SYD).args([\n        [\n            'cost',\n            'number'\n        ],\n        [\n            'salvage',\n            'number'\n        ],\n        [\n            'life',\n            'number++'\n        ],\n        [\n            'per',\n            'number++'\n        ]\n    ]);\n    defineFunction('VDB', VDB).args([\n        [\n            'cost',\n            'number+'\n        ],\n        [\n            'salvage',\n            'number+'\n        ],\n        [\n            'life',\n            'number++'\n        ],\n        [\n            'start_period',\n            'number+'\n        ],\n        [\n            'end_period',\n            'number+'\n        ],\n        [\n            'factor',\n            [\n                'or',\n                'number+',\n                [\n                    'null',\n                    2\n                ]\n            ]\n        ],\n        [\n            'no_switch',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    false\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$end_period >= $start_period',\n                'NUM'\n            ]\n        ]\n    ]);\n    var COUPS_ARGS = [\n        [\n            'settlement',\n            'date'\n        ],\n        [\n            'maturity',\n            'date'\n        ],\n        [\n            'frequency',\n            [\n                'and',\n                'integer',\n                [\n                    'values',\n                    1,\n                    2,\n                    4\n                ]\n            ]\n        ],\n        [\n            'basis',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'and',\n                    'integer',\n                    [\n                        'values',\n                        0,\n                        1,\n                        2,\n                        3,\n                        4\n                    ]\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$settlement < $maturity',\n                'NUM'\n            ]\n        ]\n    ];\n    defineFunction('COUPDAYBS', COUPDAYBS).args(COUPS_ARGS);\n    defineFunction('COUPDAYS', COUPDAYS).args(COUPS_ARGS);\n    defineFunction('COUPDAYSNC', COUPDAYSNC).args(COUPS_ARGS);\n    defineFunction('COUPPCD', COUPPCD).args(COUPS_ARGS);\n    defineFunction('COUPNCD', COUPNCD).args(COUPS_ARGS);\n    defineFunction('COUPNUM', COUPNUM).args(COUPS_ARGS);\n    defineFunction('ACCRINTM', ACCRINTM).args([\n        [\n            'issue',\n            'date'\n        ],\n        [\n            'settlement',\n            'date'\n        ],\n        [\n            'rate',\n            'number++'\n        ],\n        [\n            'par',\n            [\n                'or',\n                [\n                    'null',\n                    1000\n                ],\n                'number++'\n            ]\n        ],\n        [\n            'basis',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'and',\n                    'integer',\n                    [\n                        'values',\n                        0,\n                        1,\n                        2,\n                        3,\n                        4\n                    ]\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$issue < $settlement',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('ACCRINT', ACCRINT).args([\n        [\n            'issue',\n            'date'\n        ],\n        [\n            'first_interest',\n            'date'\n        ],\n        [\n            'settlement',\n            'date'\n        ],\n        [\n            'rate',\n            'number++'\n        ],\n        [\n            'par',\n            [\n                'or',\n                [\n                    'null',\n                    1000\n                ],\n                'number++'\n            ]\n        ],\n        [\n            'frequency',\n            [\n                'and',\n                'integer',\n                [\n                    'values',\n                    1,\n                    2,\n                    4\n                ]\n            ]\n        ],\n        [\n            'basis',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'and',\n                    'integer',\n                    [\n                        'values',\n                        0,\n                        1,\n                        2,\n                        3,\n                        4\n                    ]\n                ]\n            ]\n        ],\n        [\n            'calc_method',\n            [\n                'or',\n                'logical',\n                [\n                    'null',\n                    true\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$issue < $settlement',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('DISC', DISC).args([\n        [\n            'settlement',\n            'date'\n        ],\n        [\n            'maturity',\n            'date'\n        ],\n        [\n            'pr',\n            'number++'\n        ],\n        [\n            'redemption',\n            'number++'\n        ],\n        [\n            'basis',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'and',\n                    'integer',\n                    [\n                        'values',\n                        0,\n                        1,\n                        2,\n                        3,\n                        4\n                    ]\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$settlement < $maturity',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('INTRATE', INTRATE).args([\n        [\n            'settlement',\n            'date'\n        ],\n        [\n            'maturity',\n            'date'\n        ],\n        [\n            'investment',\n            'number++'\n        ],\n        [\n            'redemption',\n            'number++'\n        ],\n        [\n            'basis',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'and',\n                    'integer',\n                    [\n                        'values',\n                        0,\n                        1,\n                        2,\n                        3,\n                        4\n                    ]\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$settlement < $maturity',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('RECEIVED', RECEIVED).args([\n        [\n            'settlement',\n            'date'\n        ],\n        [\n            'maturity',\n            'date'\n        ],\n        [\n            'investment',\n            'number++'\n        ],\n        [\n            'discount',\n            'number++'\n        ],\n        [\n            'basis',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'and',\n                    'integer',\n                    [\n                        'values',\n                        0,\n                        1,\n                        2,\n                        3,\n                        4\n                    ]\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$settlement < $maturity',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('PRICE', PRICE).args([\n        [\n            'settlement',\n            'date'\n        ],\n        [\n            'maturity',\n            'date'\n        ],\n        [\n            'rate',\n            'number++'\n        ],\n        [\n            'yld',\n            'number++'\n        ],\n        [\n            'redemption',\n            'number++'\n        ],\n        [\n            'frequency',\n            [\n                'and',\n                'integer',\n                [\n                    'values',\n                    1,\n                    2,\n                    4\n                ]\n            ]\n        ],\n        [\n            'basis',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'and',\n                    'integer',\n                    [\n                        'values',\n                        0,\n                        1,\n                        2,\n                        3,\n                        4\n                    ]\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$settlement < $maturity',\n                'NUM'\n            ]\n        ]\n    ]);\n    defineFunction('PRICEDISC', PRICEDISC).args([\n        [\n            'settlement',\n            'date'\n        ],\n        [\n            'maturity',\n            'date'\n        ],\n        [\n            'discount',\n            'number++'\n        ],\n        [\n            'redemption',\n            'number++'\n        ],\n        [\n            'basis',\n            [\n                'or',\n                [\n                    'null',\n                    0\n                ],\n                [\n                    'and',\n                    'integer',\n                    [\n                        'values',\n                        0,\n                        1,\n                        2,\n                        3,\n                        4\n                    ]\n                ]\n            ]\n        ],\n        [\n            '?',\n            [\n                'assert',\n                '$settlement < $maturity',\n                'NUM'\n            ]\n        ]\n    ]);\n    var MAX_IT = 300, EPS = 2.2204e-16, FP_MIN = 1e-30, f_abs = Math.abs;\n    function ERF(x) {\n        if (f_abs(x) >= 3.3) {\n            return 1 - ERFC(x);\n        }\n        var S = x > 0 ? 1 : -1;\n        if (S == -1) {\n            x = -x;\n        }\n        var m = 0, an = 1;\n        for (var n = 1; n < 100; n++) {\n            m += an;\n            an *= 2 * x * x / (2 * n + 1);\n        }\n        return S * 2 / Math.sqrt(Math.PI) * x * Math.exp(-x * x) * m;\n    }\n    function ERFC(x) {\n        if (f_abs(x) < 3.3) {\n            return 1 - ERF(x);\n        }\n        var s = 1;\n        if (x < 0) {\n            s = -1;\n            x = -x;\n        }\n        var frac = x;\n        for (var n = 8; n >= 1; n -= 0.5) {\n            frac = x + n / frac;\n        }\n        frac = 1 / (x + frac);\n        return s == 1 ? Math.exp(-x * x) / Math.sqrt(Math.PI) * frac : 2 - Math.exp(-x * x) / Math.sqrt(Math.PI) * frac;\n    }\n    function GAMMALN(x) {\n        var cof = [\n            1.000000000190015,\n            76.18009172947146,\n            -86.50532032941678,\n            24.01409824083091,\n            -1.231739572450155,\n            0.001208650973866179,\n            -0.000005395239384953\n        ];\n        var y = x, tmp = x + 5.5, ser = cof[0];\n        tmp -= (x + 0.5) * Math.log(tmp);\n        for (var j = 1; j <= 6; j++) {\n            y += 1;\n            ser += cof[j] / y;\n        }\n        return -tmp + Math.log(Math.sqrt(2 * Math.PI) * ser / x);\n    }\n    function GAMMA(x) {\n        if (x > 0) {\n            return Math.exp(GAMMALN(x));\n        }\n        var pi = Math.PI, y = -x;\n        return -pi / (y * GAMMA(y) * Math.sin(pi * y));\n    }\n    function BETALN(a, b) {\n        return GAMMALN(a) + GAMMALN(b) - GAMMALN(a + b);\n    }\n    function BETA(a, b) {\n        return Math.exp(BETALN(a, b));\n    }\n    function gamma_inc(a, x) {\n        return x < a + 1 ? g_series(a, x) : 1 - g_contfrac(a, x);\n    }\n    function g_series(a, x) {\n        var sum = 1 / a, frac = sum, ap = a;\n        var gln = GAMMALN(a), n;\n        for (n = 1; n <= MAX_IT; n++) {\n            ap++;\n            frac *= x / ap;\n            sum += frac;\n            if (f_abs(frac) < f_abs(sum) * EPS) {\n                break;\n            }\n        }\n        return sum * Math.exp(-x + a * Math.log(x) - gln);\n    }\n    function g_contfrac(a, x) {\n        var f = FP_MIN, c = f, d = 0, aj = 1, bj = x + 1 - a;\n        var gln = GAMMALN(a);\n        for (var i = 1; i <= MAX_IT; i++) {\n            d = bj + aj * d;\n            if (f_abs(d) < FP_MIN) {\n                d = FP_MIN;\n            }\n            c = bj + aj / c;\n            if (f_abs(c) < FP_MIN) {\n                c = FP_MIN;\n            }\n            d = 1 / d;\n            var delta = c * d;\n            f *= delta;\n            if (f_abs(delta - 1) < EPS) {\n                break;\n            }\n            bj += 2;\n            aj = -i * (i - a);\n        }\n        return f * Math.exp(-x - gln + a * Math.log(x));\n    }\n    function GAMMA_DIST(x, a, b, cumulative) {\n        if (!cumulative) {\n            return Math.pow(x / b, a - 1) * Math.exp(-x / b) / (b * GAMMA(a));\n        }\n        return gamma_inc(a, x / b);\n    }\n    function GAMMA_INV(p, a, b) {\n        if (p === 0) {\n            return 0;\n        }\n        if (p == 1) {\n            return Infinity;\n        }\n        var m = 0, M = 10, x = 0, ab = a * b;\n        if (ab > 1) {\n            M *= ab;\n        }\n        for (var i = 0; i < MAX_IT; i++) {\n            x = 0.5 * (m + M);\n            var q = GAMMA_DIST(x, a, b, true);\n            if (f_abs(p - q) < 1e-16) {\n                break;\n            }\n            if (q > p) {\n                M = x;\n            } else {\n                m = x;\n            }\n        }\n        return x;\n    }\n    function NORM_S_DIST(x, cumulative) {\n        if (!cumulative) {\n            return Math.exp(-x * x / 2) / Math.sqrt(2 * Math.PI);\n        }\n        return 0.5 + 0.5 * ERF(x / Math.sqrt(2));\n    }\n    function NORM_S_INV(p) {\n        var a = [\n                -39.69683028665376,\n                220.9460984245205,\n                -275.9285104469687,\n                138.357751867269,\n                -30.66479806614716,\n                2.506628277459239\n            ], b = [\n                -54.47609879822406,\n                161.5858368580409,\n                -155.6989798598866,\n                66.80131188771972,\n                -13.28068155288572\n            ], c = [\n                -0.007784894002430293,\n                -0.3223964580411365,\n                -2.400758277161838,\n                -2.549732539343734,\n                4.374664141464968,\n                2.938163982698783\n            ], d = [\n                0.007784695709041462,\n                0.3224671290700398,\n                2.445134137142996,\n                3.754408661907416\n            ];\n        var plow = 0.02425, phigh = 1 - plow;\n        var q, r;\n        if (p < plow) {\n            q = Math.sqrt(-2 * Math.log(p));\n            return (((((c[0] * q + c[1]) * q + c[2]) * q + c[3]) * q + c[4]) * q + c[5]) / ((((d[0] * q + d[1]) * q + d[2]) * q + d[3]) * q + 1);\n        }\n        if (phigh < p) {\n            q = Math.sqrt(-2 * Math.log(1 - p));\n            return -(((((c[0] * q + c[1]) * q + c[2]) * q + c[3]) * q + c[4]) * q + c[5]) / ((((d[0] * q + d[1]) * q + d[2]) * q + d[3]) * q + 1);\n        }\n        q = p - 0.5;\n        r = q * q;\n        return (((((a[0] * r + a[1]) * r + a[2]) * r + a[3]) * r + a[4]) * r + a[5]) * q / (((((b[0] * r + b[1]) * r + b[2]) * r + b[3]) * r + b[4]) * r + 1);\n    }\n    function NORM_DIST(x, m, s, cumulative) {\n        if (!cumulative) {\n            return Math.exp(-(x - m) * (x - m) / (2 * s * s)) / (s * Math.sqrt(2 * Math.PI));\n        }\n        return NORM_S_DIST((x - m) / s, true);\n    }\n    function NORM_INV(p, m, s) {\n        return m + s * NORM_S_INV(p);\n    }\n    function betastd_pdf(x, a, b) {\n        return Math.exp((a - 1) * Math.log(x) + (b - 1) * Math.log(1 - x) - BETALN(a, b));\n    }\n    function betastd_cdf(x, a, b) {\n        var k = Math.exp(a * Math.log(x) + b * Math.log(1 - x) - BETALN(a, b));\n        return x < (a + 1) / (a + b + 2) ? k * beta_lentz(a, b, x) / a : 1 - k * beta_lentz(b, a, 1 - x) / b;\n    }\n    function beta_lentz(a, b, x) {\n        var m, m2;\n        var aa, c, d, del, h, qab, qam, qap;\n        qab = a + b;\n        qap = a + 1;\n        qam = a - 1;\n        c = 1;\n        d = 1 - qab * x / qap;\n        if (f_abs(d) < FP_MIN) {\n            d = FP_MIN;\n        }\n        d = 1 / d;\n        h = d;\n        for (m = 1; m <= MAX_IT; m++) {\n            m2 = 2 * m;\n            aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n            d = 1 + aa * d;\n            if (f_abs(d) < FP_MIN) {\n                d = FP_MIN;\n            }\n            c = 1 + aa / c;\n            if (f_abs(c) < FP_MIN) {\n                c = FP_MIN;\n            }\n            d = 1 / d;\n            h *= d * c;\n            aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n            d = 1 + aa * d;\n            if (f_abs(d) < FP_MIN) {\n                d = FP_MIN;\n            }\n            c = 1 + aa / c;\n            if (f_abs(c) < FP_MIN) {\n                c = FP_MIN;\n            }\n            d = 1 / d;\n            del = d * c;\n            h *= del;\n            if (f_abs(del - 1) < EPS) {\n                break;\n            }\n        }\n        return h;\n    }\n    function betastd_inv(p, a, b) {\n        var m = 0, M = 1, x = 0;\n        for (var i = 0; i < MAX_IT; i++) {\n            x = 0.5 * (m + M);\n            var q = betastd_cdf(x, a, b);\n            if (f_abs(p - q) < EPS) {\n                break;\n            }\n            if (q > p) {\n                M = x;\n            } else {\n                m = x;\n            }\n        }\n        return x;\n    }\n    function BETADIST(x, a, b, m, M) {\n        return betastd_cdf((x - m) / (M - m), a, b);\n    }\n    function BETA_DIST(x, a, b, cdf, m, M) {\n        if (cdf) {\n            return betastd_cdf((x - m) / (M - m), a, b);\n        }\n        return betastd_pdf((x - m) / (M - m), a, b) / (M - m);\n    }\n    function BETA_INV(p, a, b, m, M) {\n        return m + (M - m) * betastd_inv(p, a, b);\n    }\n    function chisq_left(x, n, cds) {\n        return GAMMA_DIST(x, n / 2, 2, cds);\n    }\n    function chisq_right(x, n) {\n        return 1 - chisq_left(x, n, true);\n    }\n    function chisq_left_inv(p, n) {\n        return GAMMA_INV(p, n / 2, 2);\n    }\n    function chisq_right_inv(p, n) {\n        return chisq_left_inv(1 - p, n);\n    }\n    function chisq_test(obsv, expect) {\n        var rows = obsv.length, cols = obsv[0].length;\n        var x = 0, i, j;\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                var eij = expect[i][j];\n                var delta = obsv[i][j] - eij;\n                delta *= delta;\n                x += delta / eij;\n            }\n        }\n        var n = (rows - 1) * (cols - 1);\n        return chisq_right(x, n);\n    }\n    function expon(x, r, cdf) {\n        if (cdf) {\n            return 1 - Math.exp(-r * x);\n        }\n        return r * Math.exp(-r * x);\n    }\n    function poisson(k, m, cdf) {\n        if (cdf) {\n            return 1 - chisq_left(2 * m, 2 * (k + 1), true);\n        }\n        var lnf = 0;\n        for (var i = 2; i <= k; i++) {\n            lnf += Math.log(i);\n        }\n        return Math.exp(k * Math.log(m) - m - lnf);\n    }\n    function Fdist(x, n, d, cdf) {\n        if (cdf) {\n            return betastd_cdf(n * x / (d + n * x), n / 2, d / 2);\n        }\n        var u = n / d;\n        n /= 2;\n        d /= 2;\n        return u / BETA(n, d) * Math.pow(u * x, n - 1) / Math.pow(1 + u * x, n + d);\n    }\n    function Fdist_right(x, n, d) {\n        return 1 - Fdist(x, n, d, true);\n    }\n    function Finv_right(p, n, d) {\n        return d / n * (1 / BETA_INV(p, d / 2, n / 2, 0, 1) - 1);\n    }\n    function Finv(p, n, d) {\n        return d / n * (1 / BETA_INV(1 - p, d / 2, n / 2, 0, 1) - 1);\n    }\n    function _mean(arr) {\n        var me = 0, n = arr.length;\n        for (var i = 0; i < n; i++) {\n            me += arr[i];\n        }\n        return me / n;\n    }\n    function _var_sq(arr, m) {\n        var v = 0, n = arr.length;\n        for (var i = 0; i < n; i++) {\n            var delta = arr[i] - m;\n            v += delta * delta;\n        }\n        return v / (n - 1);\n    }\n    function Ftest(arr1, arr2) {\n        var n1 = arr1.length - 1, n2 = arr2.length - 1;\n        var va1 = _var_sq(arr1, _mean(arr1)), va2 = _var_sq(arr2, _mean(arr2));\n        if (!va1 || !va2) {\n            throw new CalcError('DIV/0');\n        }\n        return 2 * Fdist(va1 / va2, n1, n2, true);\n    }\n    function fisher(x) {\n        return 0.5 * Math.log((1 + x) / (1 - x));\n    }\n    function fisherinv(x) {\n        var e2 = Math.exp(2 * x);\n        return (e2 - 1) / (e2 + 1);\n    }\n    function Tdist(x, n, cdf) {\n        if (cdf) {\n            return 1 - 0.5 * betastd_cdf(n / (x * x + n), n / 2, 0.5);\n        }\n        return 1 / (Math.sqrt(n) * BETA(0.5, n / 2)) * Math.pow(1 + x * x / n, -(n + 1) / 2);\n    }\n    function Tdist_right(x, n) {\n        return 1 - Tdist(x, n, true);\n    }\n    function Tdist_2tail(x, n) {\n        if (x < 0) {\n            x = -x;\n        }\n        return 2 * Tdist_right(x, n);\n    }\n    function Tdist_inv(p, n) {\n        var x = betastd_inv(2 * Math.min(p, 1 - p), n / 2, 0.5);\n        x = Math.sqrt(n * (1 - x) / x);\n        return p > 0.5 ? x : -x;\n    }\n    function Tdist_2tail_inv(p, n) {\n        return Tdist_inv(1 - p / 2, n);\n    }\n    function Tdist_test(gr1, gr2, tail, type) {\n        var n1 = gr1.length, n2 = gr2.length;\n        var t_st, df;\n        if (type == 1) {\n            var d = 0, d2 = 0;\n            for (var i = 0; i < n1; i++) {\n                var delta = gr1[i] - gr2[i];\n                d += delta;\n                d2 += delta * delta;\n            }\n            var md = d / n1;\n            t_st = md / Math.sqrt((d2 - d * md) / (n1 * (n1 - 1)));\n            return tail == 1 ? Tdist_right(t_st, n1 - 1) : Tdist_2tail(t_st, n1 - 1);\n        }\n        var m1 = _mean(gr1), m2 = _mean(gr2), v1 = _var_sq(gr1, m1), v2 = _var_sq(gr2, m2);\n        if (type == 3) {\n            var u1 = v1 / n1, u2 = v2 / n2, u = u1 + u2;\n            var q1 = u1 / u, q2 = u2 / u;\n            df = 1 / (q1 * q1 / (n1 - 1) + q2 * q2 / (n2 - 1));\n            t_st = f_abs(m1 - m2) / Math.sqrt(u);\n            return tail == 1 ? Tdist_right(t_st, df) : Tdist_2tail(t_st, df);\n        } else {\n            df = n1 + n2 - 2;\n            t_st = f_abs(m1 - m2) * Math.sqrt(df * n1 * n2 / ((n1 + n2) * ((n1 - 1) * v1 + (n2 - 1) * v2)));\n            return tail == 1 ? Tdist_right(t_st, df) : Tdist_2tail(t_st, df);\n        }\n    }\n    function confidence_t(alpha, stddev, size) {\n        return -Tdist_inv(alpha / 2, size - 1) * stddev / Math.sqrt(size);\n    }\n    function confidence_norm(alpha, stddev, size) {\n        return -NORM_S_INV(alpha / 2) * stddev / Math.sqrt(size);\n    }\n    function gauss(z) {\n        return NORM_S_DIST(z, true) - 0.5;\n    }\n    function phi(x) {\n        return NORM_S_DIST(x);\n    }\n    function lognorm_dist(x, m, s, cumulative) {\n        if (cumulative) {\n            return 0.5 + 0.5 * ERF((Math.log(x) - m) / (s * Math.sqrt(2)));\n        }\n        var t = Math.log(x) - m;\n        return Math.exp(-t * t / (2 * s * s)) / (x * s * Math.sqrt(2 * Math.PI));\n    }\n    function lognorm_inv(p, m, s) {\n        return Math.exp(NORM_INV(p, m, s));\n    }\n    function prob(x_, p_, lw, up) {\n        var n = x_.length;\n        var s = 0, i;\n        for (i = 0; i < n; i++) {\n            if (p_[i] <= 0 || p_[i] > 1) {\n                throw new CalcError('NUM');\n            }\n            s += p_[i];\n        }\n        if (s != 1) {\n            throw new CalcError('NUM');\n        }\n        var res = 0;\n        for (i = 0; i < n; i++) {\n            var x = x_[i];\n            if (x >= lw && x <= up) {\n                res += p_[i];\n            }\n        }\n        return res;\n    }\n    function slope(y_, x_) {\n        var mx = _mean(x_), my = _mean(y_), b1 = 0, b2 = 0;\n        for (var i = 0, n = y_.length; i < n; i++) {\n            var t = x_[i] - mx;\n            b1 += t * (y_[i] - my);\n            b2 += t * t;\n        }\n        return b1 / b2;\n    }\n    function intercept(y_, x_) {\n        var mx = _mean(x_), my = _mean(y_);\n        var b1 = 0, b2 = 0;\n        for (var i = 0, n = y_.length; i < n; i++) {\n            var t = x_[i] - mx;\n            b1 += t * (y_[i] - my);\n            b2 += t * t;\n        }\n        return my - b1 * mx / b2;\n    }\n    function pearson(x_, y_) {\n        var mx = _mean(x_), my = _mean(y_);\n        var s1 = 0, s2 = 0, s3 = 0;\n        for (var i = 0, n = x_.length; i < n; i++) {\n            var t1 = x_[i] - mx, t2 = y_[i] - my;\n            s1 += t1 * t2;\n            s2 += t1 * t1;\n            s3 += t2 * t2;\n        }\n        return s1 / Math.sqrt(s2 * s3);\n    }\n    function rsq(x_, y_) {\n        var r = pearson(x_, y_);\n        return r * r;\n    }\n    function steyx(y_, x_) {\n        var n = x_.length;\n        var mx = _mean(x_), my = _mean(y_);\n        var s1 = 0, s2 = 0, s3 = 0;\n        for (var i = 0; i < n; i++) {\n            var t1 = x_[i] - mx, t2 = y_[i] - my;\n            s1 += t2 * t2;\n            s2 += t1 * t2;\n            s3 += t1 * t1;\n        }\n        return Math.sqrt((s1 - s2 * s2 / s3) / (n - 2));\n    }\n    function forecast(x, y_, x_) {\n        var mx = _mean(x_), my = _mean(y_);\n        var s1 = 0, s2 = 0;\n        for (var i = 0, n = x_.length; i < n; i++) {\n            var t1 = x_[i] - mx, t2 = y_[i] - my;\n            s1 += t1 * t2;\n            s2 += t1 * t1;\n        }\n        if (s2 === 0) {\n            throw new CalcError('N/A');\n        }\n        var b = s1 / s2, a = my - b * mx;\n        return a + b * x;\n    }\n    function _mat_mean(Mat) {\n        var n = Mat.height, sum = 0;\n        for (var i = 0; i < n; i++) {\n            sum += Mat.data[i][0];\n        }\n        return sum / n;\n    }\n    function _mat_devsq(Mat, mean) {\n        var n = Mat.height, sq = 0;\n        for (var i = 0; i < n; i++) {\n            var x = Mat.data[i][0] - mean;\n            sq += x * x;\n        }\n        return sq;\n    }\n    function linest(Y, X, konst, stats) {\n        var i = 0;\n        if (!X) {\n            X = Y.map(function () {\n                return ++i;\n            });\n        }\n        if (konst) {\n            X = X.clone();\n            X.eachRow(function (row) {\n                X.data[row].unshift(1);\n            });\n            ++X.width;\n        }\n        var Xt = X.transpose();\n        var B = Xt.multiply(X).inverse().multiply(Xt).multiply(Y);\n        var line_1 = [];\n        for (i = B.height - 1; i >= 0; i--) {\n            line_1.push(B.data[i][0]);\n        }\n        if (!konst) {\n            line_1.push(0);\n        }\n        if (!stats) {\n            return this.asMatrix([line_1]);\n        }\n        var Y1 = X.multiply(B);\n        var y_y1 = Y.adds(Y1, true);\n        var mp = !konst ? 0 : _mat_mean(Y1);\n        var SSreg = _mat_devsq(Y1, mp);\n        var me = !konst ? 0 : _mat_mean(y_y1);\n        var SSresid = _mat_devsq(y_y1, me);\n        var line_5 = [];\n        line_5.push(SSreg, SSresid);\n        var R2 = SSreg / (SSreg + SSresid);\n        var degfre = Y.height - X.width;\n        var err_est = Math.sqrt(SSresid / degfre);\n        var line_3 = [];\n        line_3.push(R2, err_est);\n        var F_sta = !konst ? R2 / X.width / ((1 - R2) / degfre) : SSreg / (X.width - 1) / (SSresid / degfre);\n        var line_4 = [];\n        line_4.push(F_sta, degfre);\n        var SCP = Xt.multiply(X).inverse();\n        var line_2 = [];\n        for (i = SCP.height - 1; i >= 0; i--) {\n            line_2.push(Math.sqrt(SCP.data[i][i] * SSresid / degfre));\n        }\n        return this.asMatrix([\n            line_1,\n            line_2,\n            line_3,\n            line_4,\n            line_5\n        ]);\n    }\n    function logest(Y, X, konst, stats) {\n        return linest.call(this, Y.map(Math.log), X, konst, stats).map(Math.exp);\n    }\n    function trend(Y, X, W, konst) {\n        var i = 0;\n        if (!X) {\n            X = Y.map(function () {\n                return ++i;\n            });\n        }\n        if (konst) {\n            X = X.clone();\n            X.eachRow(function (row) {\n                X.data[row].unshift(1);\n            });\n            ++X.width;\n        }\n        var Xt = X.transpose();\n        var B = Xt.multiply(X).inverse().multiply(Xt).multiply(Y);\n        if (!W) {\n            W = X;\n        } else {\n            if (konst) {\n                W = W.clone();\n                W.eachRow(function (row) {\n                    W.data[row].unshift(1);\n                });\n                ++W.width;\n            }\n        }\n        return W.multiply(B);\n    }\n    function growth(Y, X, new_X, konst) {\n        return trend.call(this, Y.map(Math.log), X, new_X, konst).map(Math.exp);\n    }\n    function root_newton(func, guess, max_it, eps) {\n        var MAX_IT = max_it || 20, EPS = eps || 1e-7;\n        var root = guess;\n        for (var j = 1; j <= MAX_IT; j++) {\n            var f_d = func(root), f = f_d[0], df = f_d[1];\n            var dx = f / df;\n            root -= dx;\n            if (Math.abs(dx) < EPS) {\n                return root;\n            }\n        }\n        return new CalcError('NUM');\n    }\n    function FV(rate, nper, pmt, pv, type) {\n        var h1 = Math.pow(1 + rate, nper);\n        var h2 = rate ? (h1 - 1) / rate : nper;\n        return -(pv * h1 + pmt * h2 * (1 + rate * type));\n    }\n    function PV(rate, nper, pmt, fv, type) {\n        if (!rate) {\n            return -fv - pmt * nper;\n        }\n        var h1 = Math.pow(1 + rate, nper);\n        return -(fv + pmt * (h1 - 1) / rate * (1 + rate * type)) / h1;\n    }\n    function PMT(rate, nper, pv, fv, type) {\n        if (!rate) {\n            return -(fv + pv) / nper;\n        }\n        var h1 = Math.pow(1 + rate, nper);\n        return -rate * (fv + pv * h1) / ((1 + rate * type) * (h1 - 1));\n    }\n    function NPER(rate, pmt, pv, fv, type) {\n        if (!rate) {\n            return -(fv + pv) / pmt;\n        }\n        var h1 = pmt * (1 + rate * type);\n        return Math.log((h1 - fv * rate) / (h1 + pv * rate)) / Math.log(1 + rate);\n    }\n    function RATE(nper, pmt, pv, fv, type, guess) {\n        function xfd(x) {\n            var h2 = Math.pow(1 + x, nper - 1), h1 = h2 * (1 + x);\n            return [\n                pv * h1 + pmt * (1 / x + type) * (h1 - 1) + fv,\n                nper * pv * h2 + pmt * (-(h1 - 1) / (x * x) + (1 / x + type) * nper * h2)\n            ];\n        }\n        return root_newton(xfd, guess);\n    }\n    function IPMT(rate, per, nper, pv, fv, type) {\n        if (type == 1 && per == 1) {\n            return 0;\n        }\n        var pmt = PMT(rate, nper, pv, fv, type);\n        var ipmt = FV(rate, per - 1, pmt, pv, type) * rate;\n        return type ? ipmt / (1 + rate) : ipmt;\n    }\n    function PPMT(rate, per, nper, pv, fv, type) {\n        var pmt = PMT(rate, nper, pv, fv, type);\n        return pmt - IPMT(rate, per, nper, pv, fv, type);\n    }\n    function CUMPRINC(rate, nper, pv, start, end, type) {\n        if (type == 1) {\n            start--;\n            end--;\n        }\n        var tn = Math.pow(1 + rate, nper), ts = Math.pow(1 + rate, start - 1), te = Math.pow(1 + rate, end);\n        var monthlyPayment = rate * pv * tn / (tn - 1);\n        var remainingBalanceAtStart = ts * pv - (ts - 1) / rate * monthlyPayment;\n        var remainingBalanceAtEnd = te * pv - (te - 1) / rate * monthlyPayment;\n        return remainingBalanceAtEnd - remainingBalanceAtStart;\n    }\n    function CUMIPMT(rate, nper, pv, start, end, type) {\n        var cip = 0;\n        for (var i = start; i <= end; i++) {\n            cip += IPMT(rate, i, nper, pv, 0, type);\n        }\n        return cip;\n    }\n    function NPV(rate, flows) {\n        var npv = 0;\n        for (var i = 0, n = flows.length; i < n; i++) {\n            npv += flows[i] * Math.pow(1 + rate, -i - 1);\n        }\n        return npv;\n    }\n    function IRR(flows, guess) {\n        function xfd(x) {\n            var npv = 0, npv1 = 0;\n            for (var j = 0, n = flows.length; j < n; j++) {\n                npv += flows[j] * Math.pow(1 + x, -j - 1);\n                npv1 += -j * flows[j] * Math.pow(1 + x, -j - 2);\n            }\n            return [\n                npv,\n                npv1\n            ];\n        }\n        return root_newton(xfd, guess);\n    }\n    function EFFECT(nominal_rate, npery) {\n        return Math.pow(1 + nominal_rate / npery, npery) - 1;\n    }\n    function NOMINAL(effect_rate, npery) {\n        return npery * (Math.pow(effect_rate + 1, 1 / npery) - 1);\n    }\n    function XNPV(rate, values, dates) {\n        var npv = 0;\n        for (var i = 0, n = values.length; i < n; i++) {\n            npv += values[i] * Math.pow(1 + rate, (dates[0] - dates[i]) / 365);\n        }\n        return npv;\n    }\n    function XIRR(values, dates, guess) {\n        function xfd(x) {\n            var npv = values[0], npv1 = 0;\n            for (var j = 1, n = values.length; j < n; j++) {\n                var delta = (dates[0] - dates[j]) / 365;\n                npv += values[j] * Math.pow(1 + x, delta);\n                npv1 += delta * values[j] * Math.pow(1 + x, delta - 1);\n            }\n            return [\n                npv,\n                npv1\n            ];\n        }\n        return root_newton(xfd, guess);\n    }\n    function ISPMT(rate, per, nper, pv) {\n        var tmp = -pv * rate;\n        return tmp * (1 - per / nper);\n    }\n    function DB(cost, salvage, life, period, month) {\n        var rate = 1 - Math.pow(salvage / cost, 1 / life);\n        rate = Math.floor(rate * 1000 + 0.5) / 1000;\n        var db = cost * rate * month / 12;\n        if (period == 1) {\n            return db;\n        }\n        for (var i = 1; i < life; i++) {\n            if (i == period - 1) {\n                return (cost - db) * rate;\n            }\n            db += (cost - db) * rate;\n        }\n        return (cost - db) * rate * (12 - month) / 12;\n    }\n    function DDB(cost, salvage, life, period, factor) {\n        var f = factor / life;\n        var prior = -cost * (Math.pow(1 - f, period - 1) - 1);\n        var dep = (cost - prior) * f;\n        dep = Math.min(dep, Math.max(0, cost - prior - salvage));\n        return dep;\n    }\n    function SLN(cost, salvage, life) {\n        return (cost - salvage) / life;\n    }\n    function SYD(cost, salvage, life, per) {\n        return (cost - salvage) * (life - per + 1) * 2 / (life * (life + 1));\n    }\n    function VDB(cost, salvage, life, start, end, factor, no_switch) {\n        var interest = factor >= life ? 1 : factor / life;\n        function _getGDA(value, period) {\n            var gda, oldValue, newValue;\n            if (interest == 1) {\n                oldValue = period == 1 ? value : 0;\n            } else {\n                oldValue = value * Math.pow(1 - interest, period - 1);\n            }\n            newValue = value * Math.pow(1 - interest, period);\n            gda = newValue < salvage ? oldValue - salvage : oldValue - newValue;\n            return gda < 0 ? 0 : gda;\n        }\n        function _interVDB(cost, life1, period) {\n            var remValue = cost - salvage;\n            var intEnd = Math.ceil(period);\n            var term, lia = 0, vdb = 0, nowLia = false;\n            for (var i = 1; i <= intEnd; i++) {\n                if (!nowLia) {\n                    var gda = _getGDA(cost, i);\n                    lia = remValue / (life1 - i + 1);\n                    if (lia > gda) {\n                        term = lia;\n                        nowLia = true;\n                    } else {\n                        term = gda;\n                        remValue -= gda;\n                    }\n                } else {\n                    term = lia;\n                }\n                if (i == intEnd) {\n                    term *= period + 1 - intEnd;\n                }\n                vdb += term;\n            }\n            return vdb;\n        }\n        var intStart = Math.floor(start), intEnd = Math.ceil(end);\n        var vdb = 0;\n        if (no_switch) {\n            for (var i = intStart + 1; i <= intEnd; i++) {\n                var term = _getGDA(cost, i);\n                if (i == intStart + 1) {\n                    term *= Math.min(end, intStart + 1) - start;\n                } else {\n                    if (i == intEnd) {\n                        term *= end + 1 - intEnd;\n                    }\n                }\n                vdb += term;\n            }\n        } else {\n            var life1 = life;\n            if (start != Math.floor(start)) {\n                if (factor > 1) {\n                    if (start >= life / 2) {\n                        var part = start - life / 2;\n                        start = life / 2;\n                        end -= part;\n                        life1 += 1;\n                    }\n                }\n            }\n            cost -= _interVDB(cost, life1, start);\n            vdb = _interVDB(cost, life - start, end - start);\n        }\n        return vdb;\n    }\n    function _edate(base, months) {\n        var d = unpackDate(base);\n        var m = d.month + months;\n        var y = d.year + Math.floor(m / 12);\n        m %= 12;\n        if (m < 0) {\n            m += 12;\n        }\n        d = Math.min(d.date, daysInMonth(y, m));\n        return packDate(y, m, d);\n    }\n    function _daysBetween(from, to, basis) {\n        if (basis == 1 || basis == 2 || basis == 3) {\n            return to - from;\n        }\n        return _days_360(from, to, basis);\n    }\n    function _borderCoupons(settlement, maturity, freq) {\n        var sett = unpackDate(settlement), base = unpackDate(maturity);\n        var periods = base.year - sett.year;\n        if (periods > 0) {\n            periods = (periods - 1) * freq;\n        }\n        var prev, next, months = 12 / freq;\n        do {\n            periods++;\n            prev = _edate(maturity, -periods * months);\n        } while (settlement < prev);\n        periods--;\n        next = _edate(maturity, -periods * months);\n        return [\n            prev,\n            next\n        ];\n    }\n    function _borderCoupons_fw(first, settlement, freq) {\n        var sett = unpackDate(settlement), base = unpackDate(first);\n        var periods = sett.year - base.year;\n        if (periods > 0) {\n            periods = (periods - 1) * freq;\n        }\n        var prev = first, next, months = 12 / freq;\n        while (settlement > prev) {\n            next = prev;\n            periods++;\n            prev = _edate(first, periods * months);\n        }\n        return [\n            next,\n            prev\n        ];\n    }\n    function COUPDAYBS(settlement, maturity, frequency, basis) {\n        var prev = _borderCoupons(settlement, maturity, frequency)[0];\n        return _daysBetween(prev, settlement, basis);\n    }\n    function COUPDAYS(settl, matur, freq, basis) {\n        if (basis == 1) {\n            var borders = _borderCoupons(settl, matur, freq);\n            return _daysBetween(borders[0], borders[1], 1);\n        }\n        if (basis == 3) {\n            return 365 / freq;\n        }\n        return 360 / freq;\n    }\n    function COUPDAYSNC(settl, matur, freq, basis) {\n        var next = _borderCoupons(settl, matur, freq)[1];\n        return _daysBetween(settl, next, basis);\n    }\n    function COUPPCD(settl, matur, freq) {\n        return _borderCoupons(settl, matur, freq)[0];\n    }\n    function COUPNCD(settl, matur, freq) {\n        return _borderCoupons(settl, matur, freq)[1];\n    }\n    function COUPNUM(settl, matur, freq) {\n        var sett = unpackDate(settl), mat = unpackDate(matur);\n        var months = 12 * (mat.year - sett.year) + mat.month - sett.month;\n        return 1 + (months * freq / 12 | 0);\n    }\n    function daysInYear(yr, basis) {\n        if (basis == 3) {\n            return 365;\n        }\n        if (basis == 1) {\n            return isLeapYear(yr) ? 366 : 365;\n        }\n        return 360;\n    }\n    function ACCRINTM(issue, maturity, rate, par, basis) {\n        var year_days = daysInYear(unpackDate(maturity).year, basis);\n        return rate * par * _daysBetween(issue, maturity, basis) / year_days;\n    }\n    function ACCRINT(issue, first, settl, rate, par, freq, basis, calc) {\n        var accr = 0, cost = par * rate / freq;\n        var brace, prev, next, prev1, next1, nrc;\n        var annual = basis % 2 === 0 ? 360 : 365;\n        function _numCoupons(from, to) {\n            return (to - from) * freq / annual | 0;\n        }\n        if (settl <= first) {\n            brace = _borderCoupons(settl, first, freq);\n            prev = brace[0];\n            next = brace[1];\n            if (prev <= issue) {\n                return cost * _daysBetween(issue, settl, basis) / _daysBetween(prev, next, basis);\n            }\n            brace = _borderCoupons(issue, prev, freq);\n            prev1 = brace[0];\n            next1 = brace[1];\n            nrc = _numCoupons(next1, settl);\n            return cost * (nrc + _daysBetween(issue, next1, basis) / _daysBetween(prev1, next1, basis) + (settl < next ? _daysBetween(prev, settl, basis) / _daysBetween(prev, next, basis) : 0));\n        } else {\n            brace = _borderCoupons_fw(first, settl, freq);\n            prev = brace[0];\n            next = brace[1];\n            nrc = _numCoupons(first, settl);\n            if (next == settl) {\n                accr = cost * nrc;\n            } else {\n                accr = cost * (nrc + _daysBetween(prev, settl, basis) / _daysBetween(prev, next, basis));\n            }\n            if (!calc) {\n                return accr;\n            }\n            brace = _borderCoupons(issue, first, freq);\n            prev = brace[0];\n            next = brace[1];\n            nrc = _numCoupons(issue, first);\n            accr += cost * (nrc + _daysBetween(issue, next, basis) / _daysBetween(prev, next, basis));\n            return accr;\n        }\n    }\n    function DISC(settl, matur, pr, redemption, basis) {\n        var annual = basis % 2 === 0 ? 360 : isLeapYear(unpackDate(settl).year) ? 366 : 365;\n        return (redemption - pr) / redemption * annual / _daysBetween(settl, matur, basis);\n    }\n    function INTRATE(settl, matur, investment, redemption, basis) {\n        var annual = basis % 2 === 0 ? 360 : isLeapYear(unpackDate(settl).year) ? 366 : 365;\n        return (redemption - investment) / investment * annual / _daysBetween(settl, matur, basis);\n    }\n    function RECEIVED(settl, matur, investment, discount, basis) {\n        var annual = basis % 2 === 0 ? 360 : isLeapYear(unpackDate(settl).year) ? 366 : 365;\n        return investment / (1 - discount * _daysBetween(settl, matur, basis) / annual);\n    }\n    function PRICE(settl, matur, rate, yld, redemption, freq, basis) {\n        var N = 1 + ((matur - settl) * freq / (basis % 2 === 0 ? 360 : 365) | 0);\n        var brace = _borderCoupons(settl, matur, freq), prev = brace[0], next = brace[1];\n        var beg_settl = _daysBetween(prev, settl, basis), settl_end = _daysBetween(settl, next, basis), beg_end = _daysBetween(prev, next, basis);\n        var den = 100 * rate / freq, yf = yld / freq, frac = settl_end / beg_end;\n        if (N == 1) {\n            return (redemption + den) / (1 + frac * yf) - beg_settl / beg_end * den;\n        }\n        return redemption / Math.pow(1 + yf, N - 1 + frac) + den * Math.pow(1 + yf, 1 - N - frac) * (Math.pow(1 + yf, N) - 1) / yf - beg_settl / beg_end * den;\n    }\n    function PRICEDISC(settl, matur, discount, redemption, basis) {\n        var dsm = _daysBetween(settl, matur, basis), dy = daysInYear(unpackDate(matur).year, basis);\n        return redemption - discount * redemption * dsm / dy;\n    }\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/borderpalette', [\n        'kendo.core',\n        'kendo.colorpicker',\n        'kendo.popup'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var BORDER_TYPES = [\n            'allBorders',\n            'insideBorders',\n            'insideHorizontalBorders',\n            'insideVerticalBorders',\n            'outsideBorders',\n            'leftBorder',\n            'topBorder',\n            'rightBorder',\n            'bottomBorder',\n            'noBorders'\n        ];\n        var BORDER_PALETTE_MESSAGES = kendo.spreadsheet.messages.borderPalette = {\n            allBorders: 'All borders',\n            insideBorders: 'Inside borders',\n            insideHorizontalBorders: 'Inside horizontal borders',\n            insideVerticalBorders: 'Inside vertical borders',\n            outsideBorders: 'Outside borders',\n            leftBorder: 'Left border',\n            topBorder: 'Top border',\n            rightBorder: 'Right border',\n            bottomBorder: 'Bottom border',\n            noBorders: 'No border',\n            reset: 'Reset color',\n            customColor: 'Custom color...',\n            apply: 'Apply',\n            cancel: 'Cancel'\n        };\n        function withPreventDefault(f) {\n            return function (e) {\n                e.preventDefault();\n                return f.apply(this, arguments);\n            };\n        }\n        var ColorChooser = kendo.ui.Widget.extend({\n            init: function (element, options) {\n                kendo.ui.Widget.call(this, element, options);\n                this.element = element;\n                this.color = options.color;\n                this._resetButton();\n                this._colorPalette();\n                this._customColorPalette();\n                this._customColorButton();\n                this.resetButton.on('click', withPreventDefault(this.resetColor.bind(this)));\n                this.customColorButton.on('click', withPreventDefault(this.customColor.bind(this)));\n            },\n            options: { name: 'ColorChooser' },\n            events: ['change'],\n            destroy: function () {\n                kendo.unbind(this.dialog.element.find('.k-action-buttons'));\n                this.dialog.destroy();\n                this.colorPalette.destroy();\n                this.resetButton.off('click');\n                this.customColorButton.off('click');\n            },\n            value: function (value) {\n                if (value !== undefined) {\n                    this.color = value;\n                    this.customColorButton.find('.k-icon').css('background-color', this.color);\n                    this.colorPalette.value(null);\n                    this.flatColorPicker.value(this.color);\n                } else {\n                    return this.color;\n                }\n            },\n            _change: function (value) {\n                this.color = value;\n                this.trigger('change', { value: value });\n            },\n            _colorPalette: function () {\n                var element = $('<div />', { 'class': 'k-spreadsheet-color-palette' });\n                var colorPalette = this.colorPalette = $('<div />').kendoColorPalette({\n                    palette: [\n                        '#ffffff',\n                        '#000000',\n                        '#d6ecff',\n                        '#4e5b6f',\n                        '#7fd13b',\n                        '#ea157a',\n                        '#feb80a',\n                        '#00addc',\n                        '#738ac8',\n                        '#1ab39f',\n                        '#f2f2f2',\n                        '#7f7f7f',\n                        '#a7d6ff',\n                        '#d9dde4',\n                        '#e5f5d7',\n                        '#fad0e4',\n                        '#fef0cd',\n                        '#c5f2ff',\n                        '#e2e7f4',\n                        '#c9f7f1',\n                        '#d8d8d8',\n                        '#595959',\n                        '#60b5ff',\n                        '#b3bcca',\n                        '#cbecb0',\n                        '#f6a1c9',\n                        '#fee29c',\n                        '#8be6ff',\n                        '#c7d0e9',\n                        '#94efe3',\n                        '#bfbfbf',\n                        '#3f3f3f',\n                        '#007dea',\n                        '#8d9baf',\n                        '#b2e389',\n                        '#f272af',\n                        '#fed46b',\n                        '#51d9ff',\n                        '#aab8de',\n                        '#5fe7d5',\n                        '#a5a5a5',\n                        '#262626',\n                        '#003e75',\n                        '#3a4453',\n                        '#5ea226',\n                        '#af0f5b',\n                        '#c58c00',\n                        '#0081a5',\n                        '#425ea9',\n                        '#138677',\n                        '#7f7f7f',\n                        '#0c0c0c',\n                        '#00192e',\n                        '#272d37',\n                        '#3f6c19',\n                        '#750a3d',\n                        '#835d00',\n                        '#00566e',\n                        '#2c3f71',\n                        '#0c594f'\n                    ],\n                    value: this.color,\n                    change: function (e) {\n                        this.customColorButton.find('.k-icon').css('background-color', 'transparent');\n                        this.flatColorPicker.value(null);\n                        this._change(e.value);\n                    }.bind(this)\n                }).data('kendoColorPalette');\n                element.append(colorPalette.wrapper).appendTo(this.element);\n            },\n            _customColorPalette: function () {\n                var element = $('<div />', {\n                    'class': 'k-spreadsheet-window',\n                    'html': '<div></div>' + '<div class=\\'k-action-buttons\\'>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: apply\\'>' + BORDER_PALETTE_MESSAGES.apply + '</button>' + '<button class=\\'k-button\\' data-bind=\\'click: close\\'>' + BORDER_PALETTE_MESSAGES.cancel + '</button>' + '</div>'\n                });\n                var dialog = this.dialog = element.appendTo(document.body).kendoWindow({\n                    animation: false,\n                    scrollable: false,\n                    resizable: false,\n                    maximizable: false,\n                    modal: true,\n                    visible: false,\n                    width: 268,\n                    open: function () {\n                        this.center();\n                    }\n                }).data('kendoWindow');\n                dialog.one('activate', function () {\n                    this.element.find('[data-role=flatcolorpicker]').data('kendoFlatColorPicker')._hueSlider.resize();\n                });\n                var flatColorPicker = this.flatColorPicker = dialog.element.children().first().kendoFlatColorPicker().data('kendoFlatColorPicker');\n                var viewModel = kendo.observable({\n                    apply: function () {\n                        this.customColorButton.find('.k-icon').css('background-color', flatColorPicker.value());\n                        this.colorPalette.value(null);\n                        this._change(flatColorPicker.value());\n                        dialog.close();\n                    }.bind(this),\n                    close: function () {\n                        flatColorPicker.value(null);\n                        dialog.close();\n                    }\n                });\n                kendo.bind(dialog.element.find('.k-action-buttons'), viewModel);\n            },\n            _resetButton: function () {\n                this.resetButton = $('<a class=\\'k-button k-reset-color\\' href=\\'#\\'>' + '<span class=\\'k-icon k-font-icon k-i-reset-color\\'></span>' + BORDER_PALETTE_MESSAGES.reset + '</a>').appendTo(this.element);\n            },\n            _customColorButton: function () {\n                this.customColorButton = $('<a class=\\'k-button k-custom-color\\' href=\\'#\\'>' + '<span class=\\'k-icon\\'></span>' + BORDER_PALETTE_MESSAGES.customColor + '</a>').appendTo(this.element);\n            },\n            resetColor: function () {\n                this.colorPalette.value(null);\n                this.flatColorPicker.value(null);\n                this._change(null);\n            },\n            customColor: function () {\n                this.dialog.open();\n            }\n        });\n        var BorderPalette = kendo.ui.Widget.extend({\n            init: function (element, options) {\n                kendo.ui.Widget.call(this, element, options);\n                this.element = element;\n                this.color = '#000';\n                this.element.addClass('k-spreadsheet-border-palette');\n                this._borderTypePalette();\n                this._borderColorPalette();\n                this.element.on('click', '.k-spreadsheet-border-type-palette .k-button', withPreventDefault(this._click.bind(this)));\n            },\n            options: { name: 'BorderPalette' },\n            events: ['change'],\n            destroy: function () {\n                this.colorChooser.destroy();\n                this.element.off('click');\n            },\n            _borderTypePalette: function () {\n                var messages = BORDER_PALETTE_MESSAGES;\n                var buttons = BORDER_TYPES.map(function (type) {\n                    return '<a title=\"' + messages[type] + '\" href=\"#\" data-border-type=\"' + type + '\" class=\"k-button k-button-icon\">' + '<span class=\"k-sprite k-font-icon k-icon k-i-' + kendo.toHyphens(type) + '\"></span>' + '</a>';\n                }).join('');\n                var element = $('<div />', {\n                    'class': 'k-spreadsheet-border-type-palette',\n                    'html': buttons\n                });\n                element.appendTo(this.element);\n            },\n            _borderColorPalette: function () {\n                var element = $('<div />', { 'class': 'k-spreadsheet-border-color-palette' });\n                element.appendTo(this.element);\n                this.colorChooser = new ColorChooser(element, {\n                    color: this.color,\n                    change: this._colorChange.bind(this)\n                });\n            },\n            _click: function (e) {\n                this.type = $(e.currentTarget).data('borderType');\n                this.trigger('change', {\n                    type: this.type,\n                    color: this.color\n                });\n            },\n            _colorChange: function (e) {\n                this.color = e.value;\n                if (this.type) {\n                    this.trigger('change', {\n                        type: this.type,\n                        color: this.color\n                    });\n                }\n            }\n        });\n        kendo.spreadsheet.ColorChooser = ColorChooser;\n        kendo.spreadsheet.BorderPalette = BorderPalette;\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/toolbar', [\n        'kendo.toolbar',\n        'kendo.colorpicker',\n        'kendo.combobox',\n        'kendo.dropdownlist',\n        'kendo.popup',\n        'spreadsheet/borderpalette'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var ToolBar = kendo.ui.ToolBar;\n        var MESSAGES = kendo.spreadsheet.messages.toolbar = {\n            addColumnLeft: 'Add column left',\n            addColumnRight: 'Add column right',\n            addRowAbove: 'Add row above',\n            addRowBelow: 'Add row below',\n            alignment: 'Alignment',\n            alignmentButtons: {\n                justtifyLeft: 'Align left',\n                justifyCenter: 'Center',\n                justifyRight: 'Align right',\n                justifyFull: 'Justify',\n                alignTop: 'Align top',\n                alignMiddle: 'Align middle',\n                alignBottom: 'Align bottom'\n            },\n            backgroundColor: 'Background',\n            bold: 'Bold',\n            borders: 'Borders',\n            colorPicker: {\n                reset: 'Reset color',\n                customColor: 'Custom color...'\n            },\n            copy: 'Copy',\n            cut: 'Cut',\n            deleteColumn: 'Delete column',\n            deleteRow: 'Delete row',\n            filter: 'Filter',\n            fontFamily: 'Font',\n            fontSize: 'Font size',\n            format: 'Custom format...',\n            formatTypes: {\n                automatic: 'Automatic',\n                number: 'Number',\n                percent: 'Percent',\n                financial: 'Financial',\n                currency: 'Currency',\n                date: 'Date',\n                time: 'Time',\n                dateTime: 'Date time',\n                duration: 'Duration',\n                moreFormats: 'More formats...'\n            },\n            formatDecreaseDecimal: 'Decrease decimal',\n            formatIncreaseDecimal: 'Increase decimal',\n            freeze: 'Freeze panes',\n            freezeButtons: {\n                freezePanes: 'Freeze panes',\n                freezeRows: 'Freeze rows',\n                freezeColumns: 'Freeze columns',\n                unfreeze: 'Unfreeze panes'\n            },\n            italic: 'Italic',\n            merge: 'Merge cells',\n            mergeButtons: {\n                mergeCells: 'Merge all',\n                mergeHorizontally: 'Merge horizontally',\n                mergeVertically: 'Merge vertically',\n                unmerge: 'Unmerge'\n            },\n            open: 'Open...',\n            paste: 'Paste',\n            quickAccess: {\n                redo: 'Redo',\n                undo: 'Undo'\n            },\n            exportAs: 'Export...',\n            toggleGridlines: 'Toggle gridlines',\n            sortAsc: 'Sort ascending',\n            sortDesc: 'Sort descending',\n            sortButtons: {\n                sortSheetAsc: 'Sort sheet A to Z',\n                sortSheetDesc: 'Sort sheet Z to A',\n                sortRangeAsc: 'Sort range A to Z',\n                sortRangeDesc: 'Sort range Z to A'\n            },\n            textColor: 'Text Color',\n            textWrap: 'Wrap text',\n            underline: 'Underline',\n            validation: 'Data validation...',\n            hyperlink: 'Link'\n        };\n        var defaultTools = {\n            home: [\n                'open',\n                'exportAs',\n                [\n                    'cut',\n                    'copy',\n                    'paste'\n                ],\n                [\n                    'bold',\n                    'italic',\n                    'underline'\n                ],\n                'hyperlink',\n                'backgroundColor',\n                'textColor',\n                'borders',\n                'fontSize',\n                'fontFamily',\n                'alignment',\n                'textWrap',\n                [\n                    'formatDecreaseDecimal',\n                    'formatIncreaseDecimal'\n                ],\n                'format',\n                'merge',\n                'freeze',\n                'filter',\n                'toggleGridlines'\n            ],\n            insert: [\n                [\n                    'addColumnLeft',\n                    'addColumnRight',\n                    'addRowBelow',\n                    'addRowAbove'\n                ],\n                [\n                    'deleteColumn',\n                    'deleteRow'\n                ]\n            ],\n            data: [\n                'sort',\n                'filter',\n                'validation'\n            ]\n        };\n        var toolDefaults = {\n            open: {\n                type: 'open',\n                overflow: 'never',\n                iconClass: 'xlsa'\n            },\n            exportAs: {\n                type: 'exportAsDialog',\n                dialogName: 'exportAs',\n                overflow: 'never',\n                text: '',\n                iconClass: 'xlsa'\n            },\n            bold: {\n                type: 'button',\n                command: 'PropertyChangeCommand',\n                property: 'bold',\n                value: true,\n                iconClass: 'bold',\n                togglable: true\n            },\n            italic: {\n                type: 'button',\n                command: 'PropertyChangeCommand',\n                property: 'italic',\n                value: true,\n                iconClass: 'italic',\n                togglable: true\n            },\n            underline: {\n                type: 'button',\n                command: 'PropertyChangeCommand',\n                property: 'underline',\n                value: true,\n                iconClass: 'underline',\n                togglable: true\n            },\n            formatDecreaseDecimal: {\n                type: 'button',\n                command: 'AdjustDecimalsCommand',\n                value: -1,\n                iconClass: 'decrease-decimal'\n            },\n            formatIncreaseDecimal: {\n                type: 'button',\n                command: 'AdjustDecimalsCommand',\n                value: +1,\n                iconClass: 'increase-decimal'\n            },\n            textWrap: {\n                type: 'button',\n                command: 'TextWrapCommand',\n                property: 'wrap',\n                value: true,\n                iconClass: 'text-wrap',\n                togglable: true\n            },\n            cut: {\n                type: 'button',\n                command: 'ToolbarCutCommand',\n                iconClass: 'cut'\n            },\n            copy: {\n                type: 'button',\n                command: 'ToolbarCopyCommand',\n                iconClass: 'copy'\n            },\n            paste: {\n                type: 'button',\n                command: 'ToolbarPasteCommand',\n                iconClass: 'paste'\n            },\n            separator: { type: 'separator' },\n            alignment: {\n                type: 'alignment',\n                iconClass: 'justify-left'\n            },\n            backgroundColor: {\n                type: 'colorPicker',\n                property: 'background',\n                iconClass: 'background'\n            },\n            textColor: {\n                type: 'colorPicker',\n                property: 'color',\n                iconClass: 'text'\n            },\n            fontFamily: {\n                type: 'fontFamily',\n                property: 'fontFamily',\n                iconClass: 'text'\n            },\n            fontSize: {\n                type: 'fontSize',\n                property: 'fontSize',\n                iconClass: 'font-size'\n            },\n            format: {\n                type: 'format',\n                property: 'format',\n                iconClass: 'format-number'\n            },\n            filter: {\n                type: 'filter',\n                property: 'hasFilter',\n                iconClass: 'filter'\n            },\n            merge: {\n                type: 'merge',\n                iconClass: 'merge-cells'\n            },\n            freeze: {\n                type: 'freeze',\n                iconClass: 'freeze-panes'\n            },\n            borders: {\n                type: 'borders',\n                iconClass: 'all-borders'\n            },\n            formatCells: {\n                type: 'dialog',\n                dialogName: 'formatCells',\n                overflow: 'never'\n            },\n            hyperlink: {\n                type: 'dialog',\n                dialogName: 'hyperlink',\n                iconClass: 'hyperlink',\n                overflow: 'never',\n                text: ''\n            },\n            toggleGridlines: {\n                type: 'button',\n                command: 'GridLinesChangeCommand',\n                property: 'gridLines',\n                value: true,\n                iconClass: 'no-borders',\n                togglable: true\n            },\n            addColumnLeft: {\n                type: 'button',\n                command: 'AddColumnCommand',\n                value: 'left',\n                iconClass: 'add-column-left'\n            },\n            addColumnRight: {\n                type: 'button',\n                command: 'AddColumnCommand',\n                value: 'right',\n                iconClass: 'add-column-right'\n            },\n            addRowBelow: {\n                type: 'button',\n                command: 'AddRowCommand',\n                value: 'below',\n                iconClass: 'add-row-below'\n            },\n            addRowAbove: {\n                type: 'button',\n                command: 'AddRowCommand',\n                value: 'above',\n                iconClass: 'add-row-above'\n            },\n            deleteColumn: {\n                type: 'button',\n                command: 'DeleteColumnCommand',\n                iconClass: 'delete-column'\n            },\n            deleteRow: {\n                type: 'button',\n                command: 'DeleteRowCommand',\n                iconClass: 'delete-row'\n            },\n            sort: {\n                type: 'sort',\n                iconClass: 'sort-desc'\n            },\n            validation: {\n                type: 'dialog',\n                dialogName: 'validation',\n                iconClass: 'exception',\n                overflow: 'never'\n            }\n        };\n        var SpreadsheetToolBar = ToolBar.extend({\n            init: function (element, options) {\n                options.items = this._expandTools(options.tools || SpreadsheetToolBar.prototype.options.tools[options.toolbarName]);\n                ToolBar.fn.init.call(this, element, options);\n                var handleClick = this._click.bind(this);\n                this.element.addClass('k-spreadsheet-toolbar');\n                this._addSeparators(this.element);\n                this.bind({\n                    click: handleClick,\n                    toggle: handleClick\n                });\n            },\n            _addSeparators: function (element) {\n                var groups = element.children('.k-widget, a.k-button, .k-button-group');\n                groups.before('<span class=\\'k-separator\\' />');\n            },\n            _expandTools: function (tools) {\n                function expandTool(toolName) {\n                    var options = $.isPlainObject(toolName) ? toolName : toolDefaults[toolName] || {};\n                    var spriteCssClass = 'k-icon k-font-icon k-i-' + options.iconClass;\n                    var type = options.type;\n                    var typeDefaults = {\n                        splitButton: { spriteCssClass: spriteCssClass },\n                        button: { showText: 'overflow' },\n                        colorPicker: { toolIcon: spriteCssClass }\n                    };\n                    var tool = $.extend({\n                        name: options.name || toolName,\n                        text: MESSAGES[options.name || toolName],\n                        spriteCssClass: spriteCssClass,\n                        attributes: { title: MESSAGES[options.name || toolName] }\n                    }, typeDefaults[type], options);\n                    if (type == 'splitButton') {\n                        tool.menuButtons = tool.menuButtons.map(expandTool);\n                    }\n                    tool.attributes['data-tool'] = toolName;\n                    if (options.property) {\n                        tool.attributes['data-property'] = options.property;\n                    }\n                    return tool;\n                }\n                return tools.reduce(function (tools, tool) {\n                    if ($.isArray(tool)) {\n                        tools.push({\n                            type: 'buttonGroup',\n                            buttons: tool.map(expandTool)\n                        });\n                    } else {\n                        tools.push(expandTool.call(this, tool));\n                    }\n                    return tools;\n                }, []);\n            },\n            _click: function (e) {\n                var toolName = e.target.attr('data-tool');\n                var tool = toolDefaults[toolName] || {};\n                var commandType = tool.command;\n                if (!commandType) {\n                    return;\n                }\n                var args = {\n                    command: commandType,\n                    options: {\n                        property: tool.property || null,\n                        value: tool.value || null\n                    }\n                };\n                if (typeof args.options.value === 'boolean') {\n                    args.options.value = e.checked ? true : null;\n                }\n                this.action(args);\n            },\n            events: [\n                'click',\n                'toggle',\n                'open',\n                'close',\n                'overflowOpen',\n                'overflowClose',\n                'action',\n                'dialog'\n            ],\n            options: {\n                name: 'SpreadsheetToolBar',\n                resizable: true,\n                tools: defaultTools\n            },\n            action: function (args) {\n                this.trigger('action', args);\n            },\n            dialog: function (args) {\n                this.trigger('dialog', args);\n            },\n            refresh: function (activeCell) {\n                var range = activeCell;\n                var tools = this._tools();\n                function setToggle(tool, value) {\n                    var toolbar = tool.toolbar;\n                    var overflow = tool.overflow;\n                    var togglable = toolbar && toolbar.options.togglable || overflow && overflow.options.togglable;\n                    if (!togglable) {\n                        return;\n                    }\n                    var toggle = false;\n                    if (typeof value === 'boolean') {\n                        toggle = value;\n                    } else if (typeof value === 'string') {\n                        toggle = toolbar.options.value === value;\n                    }\n                    toolbar.toggle(toggle);\n                    if (overflow) {\n                        overflow.toggle(toggle);\n                    }\n                }\n                function update(tool, value) {\n                    var toolbar = tool.toolbar;\n                    var overflow = tool.overflow;\n                    if (toolbar && toolbar.update) {\n                        toolbar.update(value);\n                    }\n                    if (overflow && overflow.update) {\n                        overflow.update(value);\n                    }\n                }\n                for (var i = 0; i < tools.length; i++) {\n                    var property = tools[i].property;\n                    var tool = tools[i].tool;\n                    var value = kendo.isFunction(range[property]) ? range[property]() : range;\n                    if (property == 'gridLines') {\n                        value = range.sheet().showGridLines();\n                    }\n                    if (tool.type === 'button') {\n                        setToggle(tool, value);\n                    } else {\n                        update(tool, value);\n                    }\n                }\n            },\n            _tools: function () {\n                return this.element.find('[data-property]').toArray().map(function (element) {\n                    element = $(element);\n                    return {\n                        property: element.attr('data-property'),\n                        tool: this._getItem(element)\n                    };\n                }.bind(this));\n            },\n            destroy: function () {\n                this.element.find('[data-command],.k-button').each(function () {\n                    var element = $(this);\n                    var instance = element.data('instance');\n                    if (instance && instance.destroy) {\n                        instance.destroy();\n                    }\n                });\n                ToolBar.fn.destroy.call(this);\n            }\n        });\n        kendo.spreadsheet.ToolBar = SpreadsheetToolBar;\n        var DropDownTool = kendo.toolbar.Item.extend({\n            init: function (options, toolbar) {\n                var dropDownList = $('<select />').kendoDropDownList({ height: 'auto' }).data('kendoDropDownList');\n                this.dropDownList = dropDownList;\n                this.element = dropDownList.wrapper;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                dropDownList.bind('open', this._open.bind(this));\n                dropDownList.bind('change', this._change.bind(this));\n                this.element.width(options.width).attr({\n                    'data-command': 'PropertyChangeCommand',\n                    'data-property': options.property\n                });\n            },\n            _open: function () {\n                var ddl = this.dropDownList;\n                var list = ddl.list;\n                var listWidth;\n                list.css({\n                    whiteSpace: 'nowrap',\n                    width: 'auto'\n                });\n                listWidth = list.width();\n                if (listWidth) {\n                    listWidth += 20;\n                } else {\n                    listWidth = ddl._listWidth;\n                }\n                list.css('width', listWidth + kendo.support.scrollbar());\n                ddl._listWidth = listWidth;\n            },\n            _change: function (e) {\n                var instance = e.sender;\n                var value = instance.value();\n                var dataItem = instance.dataItem();\n                var popupName = dataItem ? dataItem.popup : undefined;\n                if (popupName) {\n                    this.toolbar.dialog({ name: popupName });\n                } else {\n                    this.toolbar.action({\n                        command: 'PropertyChangeCommand',\n                        options: {\n                            property: this.options.property,\n                            value: value == 'null' ? null : value\n                        }\n                    });\n                }\n            },\n            value: function (value) {\n                if (value !== undefined) {\n                    this.dropDownList.value(value);\n                } else {\n                    return this.dropDownList.value();\n                }\n            }\n        });\n        var PopupTool = kendo.toolbar.Item.extend({\n            init: function (options, toolbar) {\n                this.element = $('<a href=\\'#\\' class=\\'k-button k-button-icon\\'>' + '<span class=\\'' + options.spriteCssClass + '\\'>' + '</span><span class=\\'k-icon k-i-arrow-s\\'></span>' + '</a>');\n                this.element.on('click touchend', this.open.bind(this)).attr('data-command', options.command);\n                this.options = options;\n                this.toolbar = toolbar;\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this._popup();\n            },\n            destroy: function () {\n                this.popup.destroy();\n            },\n            open: function (ev) {\n                ev.preventDefault();\n                this.popup.toggle();\n            },\n            _popup: function () {\n                var element = this.element;\n                this.popup = $('<div class=\\'k-spreadsheet-popup\\' />').appendTo(element).kendoPopup({ anchor: element }).data('kendoPopup');\n            }\n        });\n        kendo.toolbar.registerComponent('dialog', kendo.toolbar.ToolBarButton.extend({\n            init: function (options, toolbar) {\n                kendo.toolbar.ToolBarButton.fn.init.call(this, options, toolbar);\n                this._dialogName = options.dialogName;\n                this.element.bind('click touchend', this.open.bind(this)).data('instance', this);\n            },\n            open: function () {\n                this.toolbar.dialog({ name: this._dialogName });\n            }\n        }));\n        kendo.toolbar.registerComponent('exportAsDialog', kendo.toolbar.Item.extend({\n            init: function (options, toolbar) {\n                this._dialogName = options.dialogName;\n                this.toolbar = toolbar;\n                this.element = $('<button class=\\'k-button k-button-icon\\' title=\\'' + options.attributes.title + '\\'>' + '<span class=\\'k-icon k-font-icon k-i-xls\\' />' + '</button>').data('instance', this);\n                this.element.bind('click', this.open.bind(this)).data('instance', this);\n            },\n            open: function () {\n                this.toolbar.dialog({ name: this._dialogName });\n            }\n        }));\n        var OverflowDialogButton = kendo.toolbar.OverflowButton.extend({\n            init: function (options, toolbar) {\n                kendo.toolbar.OverflowButton.fn.init.call(this, options, toolbar);\n                this.element.on('click touchend', this._click.bind(this));\n                this.message = this.options.text;\n                var instance = this.element.data('button');\n                this.element.data(this.options.type, instance);\n            },\n            _click: $.noop\n        });\n        var ColorPicker = PopupTool.extend({\n            init: function (options, toolbar) {\n                PopupTool.fn.init.call(this, options, toolbar);\n                this.popup.element.addClass('k-spreadsheet-colorpicker');\n                this.colorChooser = new kendo.spreadsheet.ColorChooser(this.popup.element, { change: this._colorChange.bind(this) });\n                this.element.attr({ 'data-property': options.property });\n                this.element.data({\n                    type: 'colorPicker',\n                    colorPicker: this,\n                    instance: this\n                });\n            },\n            destroy: function () {\n                this.colorChooser.destroy();\n                PopupTool.fn.destroy.call(this);\n            },\n            update: function (value) {\n                this.value(value);\n            },\n            value: function (value) {\n                this.colorChooser.value(value);\n            },\n            _colorChange: function (e) {\n                this.toolbar.action({\n                    command: 'PropertyChangeCommand',\n                    options: {\n                        property: this.options.property,\n                        value: e.sender.value()\n                    }\n                });\n                this.popup.close();\n            }\n        });\n        var ColorPickerButton = OverflowDialogButton.extend({\n            init: function (options, toolbar) {\n                options.iconName = 'text';\n                OverflowDialogButton.fn.init.call(this, options, toolbar);\n            },\n            _click: function () {\n                this.toolbar.dialog({\n                    name: 'colorPicker',\n                    options: {\n                        title: this.options.property,\n                        property: this.options.property\n                    }\n                });\n            }\n        });\n        kendo.toolbar.registerComponent('colorPicker', ColorPicker, ColorPickerButton);\n        var FONT_SIZES = [\n            8,\n            9,\n            10,\n            11,\n            12,\n            13,\n            14,\n            16,\n            18,\n            20,\n            22,\n            24,\n            26,\n            28,\n            36,\n            48,\n            72\n        ];\n        var DEFAULT_FONT_SIZE = 12;\n        var FontSize = kendo.toolbar.Item.extend({\n            init: function (options, toolbar) {\n                var comboBox = $('<input />').kendoComboBox({\n                    change: this._valueChange.bind(this),\n                    clearButton: false,\n                    dataSource: options.fontSizes || FONT_SIZES,\n                    value: DEFAULT_FONT_SIZE\n                }).data('kendoComboBox');\n                this.comboBox = comboBox;\n                this.element = comboBox.wrapper;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.element.width(options.width).attr({\n                    'data-command': 'PropertyChangeCommand',\n                    'data-property': options.property\n                });\n                this.element.data({\n                    type: 'fontSize',\n                    fontSize: this\n                });\n            },\n            _valueChange: function (e) {\n                this.toolbar.action({\n                    command: 'PropertyChangeCommand',\n                    options: {\n                        property: this.options.property,\n                        value: kendo.parseInt(e.sender.value())\n                    }\n                });\n            },\n            update: function (value) {\n                this.value(kendo.parseInt(value) || DEFAULT_FONT_SIZE);\n            },\n            value: function (value) {\n                if (value !== undefined) {\n                    this.comboBox.value(value);\n                } else {\n                    return this.comboBox.value();\n                }\n            }\n        });\n        var FontSizeButton = OverflowDialogButton.extend({\n            _click: function () {\n                this.toolbar.dialog({\n                    name: 'fontSize',\n                    options: {\n                        sizes: FONT_SIZES,\n                        defaultSize: DEFAULT_FONT_SIZE\n                    }\n                });\n            },\n            update: function (value) {\n                this._value = value || DEFAULT_FONT_SIZE;\n                this.element.find('.k-text').text(this.message + ' (' + this._value + ') ...');\n            }\n        });\n        kendo.toolbar.registerComponent('fontSize', FontSize, FontSizeButton);\n        var FONT_FAMILIES = [\n            'Arial',\n            'Courier New',\n            'Georgia',\n            'Times New Roman',\n            'Trebuchet MS',\n            'Verdana'\n        ];\n        var DEFAULT_FONT_FAMILY = 'Arial';\n        var FontFamily = DropDownTool.extend({\n            init: function (options, toolbar) {\n                DropDownTool.fn.init.call(this, options, toolbar);\n                var ddl = this.dropDownList;\n                ddl.setDataSource(options.fontFamilies || FONT_FAMILIES);\n                ddl.value(DEFAULT_FONT_FAMILY);\n                this.element.data({\n                    type: 'fontFamily',\n                    fontFamily: this\n                });\n            },\n            update: function (value) {\n                this.value(value || DEFAULT_FONT_FAMILY);\n            }\n        });\n        var FontFamilyButton = OverflowDialogButton.extend({\n            _click: function () {\n                this.toolbar.dialog({\n                    name: 'fontFamily',\n                    options: {\n                        fonts: FONT_FAMILIES,\n                        defaultFont: DEFAULT_FONT_FAMILY\n                    }\n                });\n            },\n            update: function (value) {\n                this._value = value || DEFAULT_FONT_FAMILY;\n                this.element.find('.k-text').text(this.message + ' (' + this._value + ') ...');\n            }\n        });\n        kendo.toolbar.registerComponent('fontFamily', FontFamily, FontFamilyButton);\n        var defaultFormats = kendo.spreadsheet.formats = {\n            automatic: null,\n            number: '#,0.00',\n            percent: '0.00%',\n            financial: '_(\"$\"* #,##0.00_);_(\"$\"* (#,##0.00);_(\"$\"* \"-\"??_);_(@_)',\n            currency: '$#,##0.00;[Red]$#,##0.00',\n            date: 'm/d/yyyy',\n            time: 'h:mm:ss AM/PM',\n            dateTime: 'm/d/yyyy h:mm',\n            duration: '[h]:mm:ss'\n        };\n        var Format = DropDownTool.extend({\n            _revertTitle: function (e) {\n                e.sender.value('');\n                e.sender.wrapper.width('auto');\n            },\n            init: function (options, toolbar) {\n                DropDownTool.fn.init.call(this, options, toolbar);\n                var ddl = this.dropDownList;\n                var icon = '<span class=\\'k-icon k-font-icon k-i-' + options.iconClass + '\\' style=\\'line-height: 1em; width: 1.35em;\\'></span>';\n                ddl.bind('change', this._revertTitle.bind(this));\n                ddl.bind('dataBound', this._revertTitle.bind(this));\n                ddl.setOptions({\n                    dataValueField: 'format',\n                    dataTextField: 'name',\n                    dataValuePrimitive: true,\n                    valueTemplate: icon,\n                    template: '# if (data.sample) { #' + '<span class=\\'k-spreadsheet-sample\\'>#: data.sample #</span>' + '# } #' + '#: data.name #'\n                });\n                ddl.text(icon);\n                ddl.setDataSource([\n                    {\n                        format: defaultFormats.automatic,\n                        name: MESSAGES.formatTypes.automatic\n                    },\n                    {\n                        format: defaultFormats.number,\n                        name: MESSAGES.formatTypes.number,\n                        sample: '1,499.99'\n                    },\n                    {\n                        format: defaultFormats.percent,\n                        name: MESSAGES.formatTypes.percent,\n                        sample: '14.50%'\n                    },\n                    {\n                        format: defaultFormats.financial,\n                        name: MESSAGES.formatTypes.financial,\n                        sample: '(1,000.12)'\n                    },\n                    {\n                        format: defaultFormats.currency,\n                        name: MESSAGES.formatTypes.currency,\n                        sample: '$1,499.99'\n                    },\n                    {\n                        format: defaultFormats.date,\n                        name: MESSAGES.formatTypes.date,\n                        sample: '4/21/2012'\n                    },\n                    {\n                        format: defaultFormats.time,\n                        name: MESSAGES.formatTypes.time,\n                        sample: '5:49:00 PM'\n                    },\n                    {\n                        format: defaultFormats.dateTime,\n                        name: MESSAGES.formatTypes.dateTime,\n                        sample: '4/21/2012 5:49:00'\n                    },\n                    {\n                        format: defaultFormats.duration,\n                        name: MESSAGES.formatTypes.duration,\n                        sample: '168:05:00'\n                    },\n                    {\n                        popup: 'formatCells',\n                        name: MESSAGES.formatTypes.moreFormats\n                    }\n                ]);\n                this.element.data({\n                    type: 'format',\n                    format: this\n                });\n            }\n        });\n        var FormatButton = OverflowDialogButton.extend({\n            _click: function () {\n                this.toolbar.dialog({ name: 'formatCells' });\n            }\n        });\n        kendo.toolbar.registerComponent('format', Format, FormatButton);\n        var BorderChangeTool = PopupTool.extend({\n            init: function (options, toolbar) {\n                PopupTool.fn.init.call(this, options, toolbar);\n                this._borderPalette();\n                this.element.data({\n                    type: 'borders',\n                    instance: this\n                });\n            },\n            destroy: function () {\n                this.borderPalette.destroy();\n                PopupTool.fn.destroy.call(this);\n            },\n            _borderPalette: function () {\n                var element = $('<div />').appendTo(this.popup.element);\n                this.borderPalette = new kendo.spreadsheet.BorderPalette(element, { change: this._action.bind(this) });\n            },\n            _action: function (e) {\n                this.toolbar.action({\n                    command: 'BorderChangeCommand',\n                    options: {\n                        border: e.type,\n                        style: {\n                            size: 1,\n                            color: e.color\n                        }\n                    }\n                });\n            }\n        });\n        var BorderChangeButton = OverflowDialogButton.extend({\n            _click: function () {\n                this.toolbar.dialog({ name: 'borders' });\n            }\n        });\n        kendo.toolbar.registerComponent('borders', BorderChangeTool, BorderChangeButton);\n        var AlignmentTool = PopupTool.extend({\n            init: function (options, toolbar) {\n                PopupTool.fn.init.call(this, options, toolbar);\n                this.element.attr({ 'data-property': 'alignment' });\n                this._commandPalette();\n                this.popup.element.on('click', '.k-button', function (e) {\n                    this._action($(e.currentTarget));\n                }.bind(this));\n                this.element.data({\n                    type: 'alignment',\n                    alignment: this,\n                    instance: this\n                });\n            },\n            buttons: [\n                {\n                    property: 'textAlign',\n                    value: 'left',\n                    iconClass: 'justify-left',\n                    text: MESSAGES.alignmentButtons.justtifyLeft\n                },\n                {\n                    property: 'textAlign',\n                    value: 'center',\n                    iconClass: 'justify-center',\n                    text: MESSAGES.alignmentButtons.justifyCenter\n                },\n                {\n                    property: 'textAlign',\n                    value: 'right',\n                    iconClass: 'justify-right',\n                    text: MESSAGES.alignmentButtons.justifyRight\n                },\n                {\n                    property: 'textAlign',\n                    value: 'justify',\n                    iconClass: 'justify-full',\n                    text: MESSAGES.alignmentButtons.justifyFull\n                },\n                {\n                    property: 'verticalAlign',\n                    value: 'top',\n                    iconClass: 'align-top',\n                    text: MESSAGES.alignmentButtons.alignTop\n                },\n                {\n                    property: 'verticalAlign',\n                    value: 'center',\n                    iconClass: 'align-middle',\n                    text: MESSAGES.alignmentButtons.alignMiddle\n                },\n                {\n                    property: 'verticalAlign',\n                    value: 'bottom',\n                    iconClass: 'align-bottom',\n                    text: MESSAGES.alignmentButtons.alignBottom\n                }\n            ],\n            destroy: function () {\n                this.popup.element.off();\n                PopupTool.fn.destroy.call(this);\n            },\n            update: function (range) {\n                var textAlign = range.textAlign();\n                var verticalAlign = range.verticalAlign();\n                var element = this.popup.element;\n                element.find('.k-button').removeClass('k-state-active');\n                if (textAlign) {\n                    element.find('[data-property=textAlign][data-value=' + textAlign + ']').addClass('k-state-active');\n                }\n                if (verticalAlign) {\n                    element.find('[data-property=verticalAlign][data-value=' + verticalAlign + ']').addClass('k-state-active');\n                }\n            },\n            _commandPalette: function () {\n                var buttons = this.buttons;\n                var element = $('<div />').appendTo(this.popup.element);\n                buttons.forEach(function (options, index) {\n                    var button = '<a title=\\'' + options.text + '\\' data-property=\\'' + options.property + '\\' data-value=\\'' + options.value + '\\' class=\\'k-button k-button-icon\\'>' + '<span class=\\'k-icon k-font-icon k-i-' + options.iconClass + '\\'></span>' + '</a>';\n                    if (index !== 0 && buttons[index - 1].property !== options.property) {\n                        element.append($('<span class=\\'k-separator\\' />'));\n                    }\n                    element.append(button);\n                });\n            },\n            _action: function (button) {\n                var property = button.attr('data-property');\n                var value = button.attr('data-value');\n                this.toolbar.action({\n                    command: 'PropertyChangeCommand',\n                    options: {\n                        property: property,\n                        value: value\n                    }\n                });\n            }\n        });\n        var AlignmentButton = OverflowDialogButton.extend({\n            _click: function () {\n                this.toolbar.dialog({ name: 'alignment' });\n            }\n        });\n        kendo.toolbar.registerComponent('alignment', AlignmentTool, AlignmentButton);\n        var MergeTool = PopupTool.extend({\n            init: function (options, toolbar) {\n                PopupTool.fn.init.call(this, options, toolbar);\n                this._commandPalette();\n                this.popup.element.on('click', '.k-button', function (e) {\n                    this._action($(e.currentTarget));\n                }.bind(this));\n                this.element.data({\n                    type: 'merge',\n                    merge: this,\n                    instance: this\n                });\n            },\n            buttons: [\n                {\n                    value: 'cells',\n                    iconClass: 'merge-cells',\n                    text: MESSAGES.mergeButtons.mergeCells\n                },\n                {\n                    value: 'horizontally',\n                    iconClass: 'merge-horizontally',\n                    text: MESSAGES.mergeButtons.mergeHorizontally\n                },\n                {\n                    value: 'vertically',\n                    iconClass: 'merge-vertically',\n                    text: MESSAGES.mergeButtons.mergeVertically\n                },\n                {\n                    value: 'unmerge',\n                    iconClass: 'normal-layout',\n                    text: MESSAGES.mergeButtons.unmerge\n                }\n            ],\n            destroy: function () {\n                this.popup.element.off();\n                PopupTool.fn.destroy.call(this);\n            },\n            _commandPalette: function () {\n                var element = $('<div />').appendTo(this.popup.element);\n                this.buttons.forEach(function (options) {\n                    var button = '<a title=\\'' + options.text + '\\' data-value=\\'' + options.value + '\\' class=\\'k-button k-button-icontext\\'>' + '<span class=\\'k-icon k-font-icon k-i-' + options.iconClass + '\\'></span>' + options.text + '</a>';\n                    element.append(button);\n                });\n            },\n            _action: function (button) {\n                var value = button.attr('data-value');\n                this.toolbar.action({\n                    command: 'MergeCellCommand',\n                    options: { value: value }\n                });\n            }\n        });\n        var MergeButton = OverflowDialogButton.extend({\n            _click: function () {\n                this.toolbar.dialog({ name: 'merge' });\n            }\n        });\n        kendo.toolbar.registerComponent('merge', MergeTool, MergeButton);\n        var FreezeTool = PopupTool.extend({\n            init: function (options, toolbar) {\n                PopupTool.fn.init.call(this, options, toolbar);\n                this._commandPalette();\n                this.popup.element.on('click', '.k-button', function (e) {\n                    this._action($(e.currentTarget));\n                }.bind(this));\n                this.element.data({\n                    type: 'freeze',\n                    freeze: this,\n                    instance: this\n                });\n            },\n            buttons: [\n                {\n                    value: 'panes',\n                    iconClass: 'freeze-panes',\n                    text: MESSAGES.freezeButtons.freezePanes\n                },\n                {\n                    value: 'rows',\n                    iconClass: 'freeze-row',\n                    text: MESSAGES.freezeButtons.freezeRows\n                },\n                {\n                    value: 'columns',\n                    iconClass: 'freeze-col',\n                    text: MESSAGES.freezeButtons.freezeColumns\n                },\n                {\n                    value: 'unfreeze',\n                    iconClass: 'normal-layout',\n                    text: MESSAGES.freezeButtons.unfreeze\n                }\n            ],\n            destroy: function () {\n                this.popup.element.off();\n                PopupTool.fn.destroy.call(this);\n            },\n            _commandPalette: function () {\n                var element = $('<div />').appendTo(this.popup.element);\n                this.buttons.forEach(function (options) {\n                    var button = '<a title=\\'' + options.text + '\\' data-value=\\'' + options.value + '\\' class=\\'k-button k-button-icontext\\'>' + '<span class=\\'k-icon k-font-icon k-i-' + options.iconClass + '\\'></span>' + options.text + '</a>';\n                    element.append(button);\n                });\n            },\n            _action: function (button) {\n                var value = button.attr('data-value');\n                this.toolbar.action({\n                    command: 'FreezePanesCommand',\n                    options: { value: value }\n                });\n            }\n        });\n        var FreezeButton = OverflowDialogButton.extend({\n            _click: function () {\n                this.toolbar.dialog({ name: 'freeze' });\n            }\n        });\n        kendo.toolbar.registerComponent('freeze', FreezeTool, FreezeButton);\n        var Sort = DropDownTool.extend({\n            _revertTitle: function (e) {\n                e.sender.value('');\n                e.sender.wrapper.width('auto');\n            },\n            init: function (options, toolbar) {\n                DropDownTool.fn.init.call(this, options, toolbar);\n                var ddl = this.dropDownList;\n                ddl.bind('change', this._revertTitle.bind(this));\n                ddl.bind('dataBound', this._revertTitle.bind(this));\n                ddl.setOptions({\n                    valueTemplate: '<span class=\\'k-icon k-font-icon k-i-' + options.iconClass + '\\' style=\\'line-height: 1em; width: 1.35em;\\'></span>',\n                    template: '<span class=\\'k-icon k-font-icon k-i-#= iconClass #\\' style=\\'line-height: 1em; width: 1.35em;\\'></span>#=text#',\n                    dataTextField: 'text',\n                    dataValueField: 'value'\n                });\n                ddl.setDataSource([\n                    {\n                        value: 'asc',\n                        sheet: false,\n                        text: MESSAGES.sortButtons.sortRangeAsc,\n                        iconClass: 'sort-asc'\n                    },\n                    {\n                        value: 'desc',\n                        sheet: false,\n                        text: MESSAGES.sortButtons.sortRangeDesc,\n                        iconClass: 'sort-desc'\n                    }\n                ]);\n                ddl.select(0);\n                this.element.data({\n                    type: 'sort',\n                    sort: this\n                });\n            },\n            _change: function (e) {\n                var instance = e.sender;\n                var dataItem = instance.dataItem();\n                if (dataItem) {\n                    this.toolbar.action({\n                        command: 'SortCommand',\n                        options: {\n                            value: dataItem.value,\n                            sheet: dataItem.sheet\n                        }\n                    });\n                }\n            },\n            value: $.noop\n        });\n        var SortButton = OverflowDialogButton.extend({\n            _click: function () {\n                this.toolbar.dialog({ name: 'sort' });\n            }\n        });\n        kendo.toolbar.registerComponent('sort', Sort, SortButton);\n        var Filter = kendo.toolbar.ToolBarButton.extend({\n            init: function (options, toolbar) {\n                options.showText = 'overflow';\n                kendo.toolbar.ToolBarButton.fn.init.call(this, options, toolbar);\n                this.element.on('click', this._click.bind(this));\n                this.element.data({\n                    type: 'filter',\n                    filter: this\n                });\n            },\n            _click: function () {\n                this.toolbar.action({ command: 'FilterCommand' });\n            },\n            update: function (value) {\n                this.toggle(value);\n            }\n        });\n        var FilterButton = OverflowDialogButton.extend({\n            init: function (options, toolbar) {\n                OverflowDialogButton.fn.init.call(this, options, toolbar);\n                this.element.data({\n                    type: 'filter',\n                    filter: this\n                });\n            },\n            _click: function () {\n                this.toolbar.action({ command: 'FilterCommand' });\n            },\n            update: function (value) {\n                this.toggle(value);\n            }\n        });\n        kendo.toolbar.registerComponent('filter', Filter, FilterButton);\n        var Open = kendo.toolbar.Item.extend({\n            init: function (options, toolbar) {\n                this.toolbar = toolbar;\n                this.element = $('<div class=\\'k-button k-upload-button k-button-icon\\'>' + '<span class=\\'k-icon k-font-icon k-i-folder-open\\' />' + '</div>').data('instance', this);\n                this._title = options.attributes.title;\n                this._reset();\n            },\n            _reset: function () {\n                this.element.remove('input');\n                $('<input type=\\'file\\' autocomplete=\\'off\\' accept=\\'.xlsx\\'/>').attr('title', this._title).one('change', this._change.bind(this)).appendTo(this.element);\n            },\n            _change: function (e) {\n                this.toolbar.action({\n                    command: 'OpenCommand',\n                    options: { file: e.target.files[0] }\n                });\n                this._reset();\n            }\n        });\n        kendo.toolbar.registerComponent('open', Open);\n        kendo.spreadsheet.TabStrip = kendo.ui.TabStrip.extend({\n            init: function (element, options) {\n                kendo.ui.TabStrip.fn.init.call(this, element, options);\n                element.addClass('k-spreadsheet-tabstrip');\n                this._quickAccessButtons();\n                this.toolbars = {};\n                var tabs = options.dataSource;\n                this.contentElements.each(function (idx, element) {\n                    this._toolbar($(element), tabs[idx].id, options.toolbarOptions[tabs[idx].id]);\n                }.bind(this));\n                this.one('activate', function () {\n                    this.toolbars[this.options.dataSource[0].id].resize();\n                });\n            },\n            events: kendo.ui.TabStrip.fn.events.concat([\n                'action',\n                'dialog'\n            ]),\n            destroy: function () {\n                this.quickAccessToolBar.off('click');\n                kendo.ui.TabStrip.fn.destroy.call(this);\n                for (var name in this.toolbars) {\n                    this.toolbars[name].destroy();\n                }\n            },\n            action: function (args) {\n                this.trigger('action', args);\n            },\n            dialog: function (args) {\n                this.trigger('dialog', args);\n            },\n            refreshTools: function (range) {\n                var toolbars = this.toolbars;\n                for (var name in toolbars) {\n                    if (toolbars.hasOwnProperty(name)) {\n                        toolbars[name].refresh(range);\n                    }\n                }\n            },\n            _quickAccessButtons: function () {\n                var buttons = [\n                    {\n                        title: MESSAGES.quickAccess.undo,\n                        iconClass: 'undo-large',\n                        action: 'undo'\n                    },\n                    {\n                        title: MESSAGES.quickAccess.redo,\n                        iconClass: 'redo-large',\n                        action: 'redo'\n                    }\n                ];\n                var buttonTemplate = kendo.template('<a href=\\'\\\\#\\' title=\\'#= title #\\' data-action=\\'#= action #\\' class=\\'k-button k-button-icon\\'><span class=\\'k-icon k-font-icon k-i-#=iconClass#\\'></span></a>');\n                this.quickAccessToolBar = $('<div />', {\n                    'class': 'k-spreadsheet-quick-access-toolbar',\n                    'html': kendo.render(buttonTemplate, buttons)\n                }).insertBefore(this.wrapper);\n                this.quickAccessToolBar.on('click', '.k-button', function (e) {\n                    e.preventDefault();\n                    var action = $(e.currentTarget).attr('data-action');\n                    this.action({ action: action });\n                }.bind(this));\n                this.quickAccessAdjust();\n            },\n            quickAccessAdjust: function () {\n                this.tabGroup.css('padding-left', kendo._outerWidth(this.quickAccessToolBar));\n            },\n            _toolbar: function (container, name, tools) {\n                var element;\n                var options;\n                if (this.toolbars[name]) {\n                    this.toolbars[name].destroy();\n                    container.children('.k-toolbar').remove();\n                }\n                if (tools) {\n                    element = container.html('<div />').children('div');\n                    options = {\n                        tools: typeof tools === 'boolean' ? undefined : tools,\n                        toolbarName: name,\n                        action: this.action.bind(this),\n                        dialog: this.dialog.bind(this)\n                    };\n                    this.toolbars[name] = new kendo.spreadsheet.ToolBar(element, options);\n                }\n            }\n        });\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/dialogs', [\n        'kendo.core',\n        'kendo.binder',\n        'kendo.validator'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var ObservableObject = kendo.data.ObservableObject;\n        var MESSAGES = kendo.spreadsheet.messages.dialogs = {\n            apply: 'Apply',\n            save: 'Save',\n            cancel: 'Cancel',\n            remove: 'Remove',\n            retry: 'Retry',\n            revert: 'Revert',\n            okText: 'OK',\n            formatCellsDialog: {\n                title: 'Format',\n                categories: {\n                    number: 'Number',\n                    currency: 'Currency',\n                    date: 'Date'\n                }\n            },\n            fontFamilyDialog: { title: 'Font' },\n            fontSizeDialog: { title: 'Font size' },\n            bordersDialog: { title: 'Borders' },\n            alignmentDialog: {\n                title: 'Alignment',\n                buttons: {\n                    justtifyLeft: 'Align left',\n                    justifyCenter: 'Center',\n                    justifyRight: 'Align right',\n                    justifyFull: 'Justify',\n                    alignTop: 'Align top',\n                    alignMiddle: 'Align middle',\n                    alignBottom: 'Align bottom'\n                }\n            },\n            mergeDialog: {\n                title: 'Merge cells',\n                buttons: {\n                    mergeCells: 'Merge all',\n                    mergeHorizontally: 'Merge horizontally',\n                    mergeVertically: 'Merge vertically',\n                    unmerge: 'Unmerge'\n                }\n            },\n            freezeDialog: {\n                title: 'Freeze panes',\n                buttons: {\n                    freezePanes: 'Freeze panes',\n                    freezeRows: 'Freeze rows',\n                    freezeColumns: 'Freeze columns',\n                    unfreeze: 'Unfreeze panes'\n                }\n            },\n            validationDialog: {\n                title: 'Data Validation',\n                hintMessage: 'Please enter a valid {0} value {1}.',\n                hintTitle: 'Validation {0}',\n                criteria: {\n                    any: 'Any value',\n                    number: 'Number',\n                    text: 'Text',\n                    date: 'Date',\n                    custom: 'Custom Formula',\n                    list: 'List'\n                },\n                comparers: {\n                    greaterThan: 'greater than',\n                    lessThan: 'less than',\n                    between: 'between',\n                    notBetween: 'not between',\n                    equalTo: 'equal to',\n                    notEqualTo: 'not equal to',\n                    greaterThanOrEqualTo: 'greater than or equal to',\n                    lessThanOrEqualTo: 'less than or equal to'\n                },\n                comparerMessages: {\n                    greaterThan: 'greater than {0}',\n                    lessThan: 'less than {0}',\n                    between: 'between {0} and {1}',\n                    notBetween: 'not between {0} and {1}',\n                    equalTo: 'equal to {0}',\n                    notEqualTo: 'not equal to {0}',\n                    greaterThanOrEqualTo: 'greater than or equal to {0}',\n                    lessThanOrEqualTo: 'less than or equal to {0}',\n                    custom: 'that satisfies the formula: {0}'\n                },\n                labels: {\n                    criteria: 'Criteria',\n                    comparer: 'Comparer',\n                    min: 'Min',\n                    max: 'Max',\n                    value: 'Value',\n                    start: 'Start',\n                    end: 'End',\n                    onInvalidData: 'On invalid data',\n                    rejectInput: 'Reject input',\n                    showWarning: 'Show warning',\n                    showHint: 'Show hint',\n                    hintTitle: 'Hint title',\n                    hintMessage: 'Hint message',\n                    ignoreBlank: 'Ignore blank',\n                    showListButton: 'Display button to show list',\n                    showCalendarButton: 'Display button to show calendar'\n                },\n                placeholders: {\n                    typeTitle: 'Type title',\n                    typeMessage: 'Type message'\n                }\n            },\n            exportAsDialog: {\n                title: 'Export...',\n                labels: {\n                    scale: 'Scale',\n                    fit: 'Fit to page',\n                    fileName: 'File name',\n                    saveAsType: 'Save as type',\n                    exportArea: 'Export',\n                    paperSize: 'Paper size',\n                    margins: 'Margins',\n                    orientation: 'Orientation',\n                    print: 'Print',\n                    guidelines: 'Guidelines',\n                    center: 'Center',\n                    horizontally: 'Horizontally',\n                    vertically: 'Vertically'\n                }\n            },\n            modifyMergedDialog: { errorMessage: 'Cannot change part of a merged cell.' },\n            rangeDisabledDialog: { errorMessage: 'Destination range contains disabled cells.' },\n            incompatibleRangesDialog: { errorMessage: 'Incompatible ranges' },\n            noFillDirectionDialog: { errorMessage: 'Cannot determine fill direction' },\n            duplicateSheetNameDialog: { errorMessage: 'Duplicate sheet name' },\n            overflowDialog: { errorMessage: 'Cannot paste, because the copy area and the paste area are not the same size and shape.' },\n            useKeyboardDialog: {\n                title: 'Copying and pasting',\n                errorMessage: 'These actions cannot be invoked through the menu. Please use the keyboard shortcuts instead:',\n                labels: {\n                    forCopy: 'for copy',\n                    forCut: 'for cut',\n                    forPaste: 'for paste'\n                }\n            },\n            unsupportedSelectionDialog: { errorMessage: 'That action cannot be performed on multiple selection.' },\n            linkDialog: {\n                title: 'Hyperlink',\n                labels: {\n                    text: 'Text',\n                    url: 'Address',\n                    removeLink: 'Remove link'\n                }\n            }\n        };\n        var registry = {};\n        kendo.spreadsheet.dialogs = {\n            register: function (name, dialogClass) {\n                registry[name] = dialogClass;\n            },\n            registered: function (name) {\n                return !!registry[name];\n            },\n            create: function (name, options) {\n                var dialogClass = registry[name];\n                if (dialogClass) {\n                    return new dialogClass(options);\n                }\n            }\n        };\n        var SpreadsheetDialog = kendo.spreadsheet.SpreadsheetDialog = kendo.Observable.extend({\n            init: function (options) {\n                kendo.Observable.fn.init.call(this, options);\n                this.options = $.extend(true, {}, this.options, options);\n                this.bind(this.events, options);\n            },\n            events: [\n                'close',\n                'activate'\n            ],\n            options: { autoFocus: true },\n            dialog: function () {\n                if (!this._dialog) {\n                    this._dialog = $('<div class=\\'k-spreadsheet-window k-action-window\\' />').addClass(this.options.className || '').append(kendo.template(this.options.template)({ messages: kendo.spreadsheet.messages.dialogs || MESSAGES })).appendTo(document.body).kendoWindow({\n                        autoFocus: this.options.autoFocus,\n                        scrollable: false,\n                        resizable: false,\n                        modal: true,\n                        visible: false,\n                        width: this.options.width || 320,\n                        title: this.options.title,\n                        open: function () {\n                            this.center();\n                        },\n                        close: this._onDialogClose.bind(this),\n                        activate: this._onDialogActivate.bind(this),\n                        deactivate: this._onDialogDeactivate.bind(this)\n                    }).data('kendoWindow');\n                }\n                return this._dialog;\n            },\n            _onDialogClose: function () {\n                this.trigger('close', { action: this._action });\n            },\n            _onDialogActivate: function () {\n                this.trigger('activate');\n            },\n            _onDialogDeactivate: function () {\n                this.trigger('deactivate');\n                this.destroy();\n            },\n            destroy: function () {\n                if (this._dialog) {\n                    this._dialog.destroy();\n                    this._dialog = null;\n                }\n            },\n            open: function () {\n                this.dialog().open();\n            },\n            apply: function () {\n                this.close();\n            },\n            close: function () {\n                this._action = 'close';\n                this.dialog().close();\n            }\n        });\n        function formattedValue(value, format) {\n            return kendo.spreadsheet.formatting.text(value, format);\n        }\n        var FormatCellsViewModel = kendo.spreadsheet.FormatCellsViewModel = ObservableObject.extend({\n            init: function (options) {\n                ObservableObject.fn.init.call(this, options);\n                this.useCategory(this.category);\n            },\n            useCategory: function (category) {\n                var type = category && category.type || 'number';\n                var formatCurrency = type == 'currency';\n                this.category = category;\n                this.set('showCurrencyFilter', formatCurrency && this.currencies.length > 1);\n                if (!formatCurrency) {\n                    this.set('formats', this.allFormats[type + 'Formats']);\n                } else {\n                    this.currency(this.currencies[0]);\n                }\n                this.useFirstFormat();\n            },\n            useFirstFormat: function () {\n                if (this.formats.length) {\n                    this.set('format', this.formats[0].value);\n                }\n            },\n            currency: function (currency) {\n                if (currency !== undefined) {\n                    this._currency = currency;\n                    var info = currency.value;\n                    var formats = [\n                        {\n                            currency: info,\n                            decimals: true\n                        },\n                        {\n                            currency: info,\n                            decimals: true,\n                            iso: true\n                        },\n                        {\n                            currency: info,\n                            decimals: false\n                        }\n                    ];\n                    formats = formats.map(function (format) {\n                        format = FormatCellsViewModel.convert.currency(format);\n                        return {\n                            value: format,\n                            name: formattedValue(1000, format)\n                        };\n                    });\n                    this.set('formats', formats);\n                    this.useFirstFormat();\n                }\n                return this._currency || this.currencies[0];\n            },\n            categoryFilter: function (category) {\n                if (category !== undefined) {\n                    this.useCategory(category);\n                }\n                return this.category;\n            },\n            preview: function () {\n                var format = this.get('format');\n                var value = this.value || 0;\n                if (format && format.length) {\n                    return formattedValue(value, format);\n                } else {\n                    return value;\n                }\n            }\n        });\n        FormatCellsViewModel.convert = {\n            currency: function (options) {\n                function repeat(token, n) {\n                    return new Array(n + 1).join(token);\n                }\n                var info = options.currency;\n                var format = info.pattern[1];\n                if (options.decimals) {\n                    format = format.replace(/n/g, 'n' + info['.'] + repeat('0', info.decimals));\n                }\n                if (options.iso) {\n                    format = '\"' + info.abbr + '\" ' + format.replace(/\\s*\\$\\s*/g, '');\n                } else {\n                    format = format.replace(/\\$/g, info.symbol);\n                }\n                format = format.replace(/n/g, '?');\n                return format;\n            },\n            date: function (format) {\n                if (/T|Z/.test(format)) {\n                    return '';\n                }\n                return format.toLowerCase().replace(/tt/g, 'AM/PM').replace(/'/g, '\"');\n            }\n        };\n        function uniqueBy(field, array) {\n            var result = [];\n            var values = [];\n            for (var i = 0; i < array.length; i++) {\n                if ($.inArray(array[i][field], values) == -1) {\n                    result.push(array[i]);\n                    values.push(array[i][field]);\n                }\n            }\n            return result;\n        }\n        var FormatCellsDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.formatCellsDialog || MESSAGES;\n                var defaultOptions = {\n                    title: messages.title,\n                    categories: [\n                        {\n                            type: 'number',\n                            name: messages.categories.number\n                        },\n                        {\n                            type: 'currency',\n                            name: messages.categories.currency\n                        },\n                        {\n                            type: 'date',\n                            name: messages.categories.date\n                        }\n                    ]\n                };\n                SpreadsheetDialog.fn.init.call(this, $.extend(defaultOptions, options));\n                this._generateFormats();\n            },\n            options: {\n                className: 'k-spreadsheet-format-cells',\n                template: '<div class=\\'k-root-tabs\\' data-role=\\'tabstrip\\' ' + 'data-text-field=\\'name\\' ' + 'data-bind=\\'source: categories, value: categoryFilter\\' ' + 'data-animation=\\'false\\' />' + '<div class=\\'k-spreadsheet-preview\\' data-bind=\\'text: preview\\' />' + '<script type=\\'text/x-kendo-template\\' id=\\'format-item-template\\'>' + '\\\\#: data.name \\\\#' + '</script>' + '<select data-role=\\'dropdownlist\\' class=\\'k-format-filter\\' ' + 'data-text-field=\\'description\\' ' + 'data-value-field=\\'value.name\\' ' + 'data-bind=\\'visible: showCurrencyFilter, value: currency, source: currencies\\' />' + '<ul data-role=\\'staticlist\\' tabindex=\\'0\\' ' + 'class=\\'k-list k-reset\\' ' + 'data-template=\\'format-item-template\\' ' + 'data-value-primitive=\\'true\\' ' + 'data-value-field=\\'value\\' ' + 'data-bind=\\'source: formats, value: format\\' />' + '<div class=\\'k-action-buttons\\'>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: apply\\'>#: messages.apply #</button>' + '<button class=\\'k-button\\' data-bind=\\'click: close\\'>#: messages.cancel #</button>' + '</div>'\n            },\n            _generateFormats: function () {\n                var options = this.options;\n                if (!options.currencies) {\n                    options.currencies = FormatCellsDialog.currenciesFrom(kendo.cultures);\n                }\n                if (!options.numberFormats) {\n                    options.numberFormats = [\n                        {\n                            value: '#.00%',\n                            name: '100.00%'\n                        },\n                        {\n                            value: '#%',\n                            name: '100%'\n                        },\n                        {\n                            value: '#.00',\n                            name: '1024.00'\n                        },\n                        {\n                            value: '#,###.00',\n                            name: '1,024.00'\n                        }\n                    ];\n                }\n                if (!options.dateFormats) {\n                    var calendarPatterns = kendo.cultures.current.calendars.standard.patterns;\n                    options.dateFormats = uniqueBy('value', $.map(calendarPatterns, function (format) {\n                        format = FormatCellsViewModel.convert.date(format);\n                        if (!format) {\n                            return;\n                        }\n                        return {\n                            value: format,\n                            name: formattedValue(34567.7678, format)\n                        };\n                    }));\n                }\n            },\n            open: function (range) {\n                var options = this.options;\n                var value = range.value();\n                var categories = options.categories.slice(0);\n                var element;\n                this.viewModel = new FormatCellsViewModel({\n                    currencies: options.currencies.slice(0),\n                    allFormats: {\n                        numberFormats: options.numberFormats.slice(0),\n                        dateFormats: options.dateFormats.slice(0)\n                    },\n                    categories: categories,\n                    format: range.format(),\n                    category: value instanceof Date ? categories[2] : categories[0],\n                    apply: this.apply.bind(this),\n                    close: this.close.bind(this),\n                    value: value\n                });\n                SpreadsheetDialog.fn.open.call(this);\n                element = this.dialog().element;\n                kendo.bind(element, this.viewModel);\n                var currencyFilter = element.find('select.k-format-filter').data('kendoDropDownList');\n                if (options.currencies.length > 10) {\n                    currencyFilter.setOptions({ filter: 'contains' });\n                }\n                element.find(kendo.roleSelector('staticlist')).parent().addClass('k-list-wrapper');\n            },\n            apply: function () {\n                var format = this.viewModel.format;\n                SpreadsheetDialog.fn.apply.call(this);\n                this.trigger('action', {\n                    command: 'PropertyChangeCommand',\n                    options: {\n                        property: 'format',\n                        value: format\n                    }\n                });\n            }\n        });\n        FormatCellsDialog.currenciesFrom = function (cultures) {\n            return uniqueBy('description', $.map(cultures, function (culture, name) {\n                if (!/-/.test(name)) {\n                    return;\n                }\n                var currency = culture.numberFormat.currency;\n                var description = kendo.format('{0} ({1}, {2})', currency.name, currency.abbr, currency.symbol);\n                return {\n                    description: description,\n                    value: currency\n                };\n            }));\n        };\n        kendo.spreadsheet.dialogs.register('formatCells', FormatCellsDialog);\n        kendo.spreadsheet.dialogs.FormatCellsDialog = FormatCellsDialog;\n        var MessageDialog = SpreadsheetDialog.extend({\n            options: {\n                className: 'k-spreadsheet-message',\n                title: '',\n                messageId: '',\n                text: '',\n                template: '<div class=\\'k-spreadsheet-message-content\\' data-bind=\\'text: text\\' />' + '<div class=\\'k-action-buttons\\'>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: close\\'>' + '#= messages.okText #' + '</button>' + '</div>'\n            },\n            open: function () {\n                SpreadsheetDialog.fn.open.call(this);\n                var options = this.options;\n                var text = options.text;\n                if (options.messageId) {\n                    text = kendo.getter(options.messageId, true)(kendo.spreadsheet.messages.dialogs);\n                }\n                kendo.bind(this.dialog().element, {\n                    text: text,\n                    close: this.close.bind(this)\n                });\n            }\n        });\n        kendo.spreadsheet.dialogs.register('message', MessageDialog);\n        var ValidationErrorDialog = SpreadsheetDialog.extend({\n            options: {\n                className: 'k-spreadsheet-message',\n                title: '',\n                messageId: '',\n                text: '',\n                template: '<div class=\\'k-spreadsheet-message-content\\' data-bind=\\'text: text\\' />' + '<div class=\\'k-action-buttons\\'>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: close\\'>' + '#= messages.retry #' + '</button>' + '<button class=\\'k-button\\' data-bind=\\'click: revert\\'>' + '#= messages.revert #' + '</button>' + '</div>'\n            },\n            open: function () {\n                SpreadsheetDialog.fn.open.call(this);\n                var options = this.options;\n                var text = options.text;\n                if (options.messageId) {\n                    text = kendo.getter(options.messageId, true)(kendo.spreadsheet.messages.dialogs);\n                }\n                kendo.bind(this.dialog().element, {\n                    text: text,\n                    close: this.close.bind(this),\n                    revert: this.revert.bind(this)\n                });\n            },\n            activate: function (e) {\n                e.sender.dialog().element.find('.k-button').focus();\n            },\n            revert: function () {\n                this._action = 'revert';\n                this.dialog().close();\n            }\n        });\n        kendo.spreadsheet.dialogs.register('validationError', ValidationErrorDialog);\n        var FontFamilyDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.fontFamilyDialog || MESSAGES;\n                SpreadsheetDialog.fn.init.call(this, $.extend({ title: messages.title }, options));\n                this._list();\n            },\n            options: { template: '<ul class=\\'k-list k-reset\\'></ul>' },\n            _list: function () {\n                var ul = this.dialog().element.find('ul');\n                var fonts = this.options.fonts;\n                var defaultFont = this.options.defaultFont;\n                this.list = new kendo.ui.StaticList(ul, {\n                    dataSource: new kendo.data.DataSource({ data: fonts }),\n                    template: '#: data #',\n                    value: defaultFont,\n                    change: this.apply.bind(this)\n                });\n                this.list.dataSource.fetch();\n            },\n            apply: function (e) {\n                SpreadsheetDialog.fn.apply.call(this);\n                this.trigger('action', {\n                    command: 'PropertyChangeCommand',\n                    options: {\n                        property: 'fontFamily',\n                        value: e.sender.value()[0]\n                    }\n                });\n            }\n        });\n        kendo.spreadsheet.dialogs.register('fontFamily', FontFamilyDialog);\n        var FontSizeDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.fontSizeDialog || MESSAGES;\n                SpreadsheetDialog.fn.init.call(this, $.extend({ title: messages.title }, options));\n                this._list();\n            },\n            options: { template: '<ul class=\\'k-list k-reset\\'></ul>' },\n            _list: function () {\n                var ul = this.dialog().element.find('ul');\n                var sizes = this.options.sizes;\n                var defaultSize = this.options.defaultSize;\n                this.list = new kendo.ui.StaticList(ul, {\n                    dataSource: new kendo.data.DataSource({ data: sizes }),\n                    template: '#: data #',\n                    value: defaultSize,\n                    change: this.apply.bind(this)\n                });\n                this.list.dataSource.fetch();\n            },\n            apply: function (e) {\n                SpreadsheetDialog.fn.apply.call(this);\n                this.trigger('action', {\n                    command: 'PropertyChangeCommand',\n                    options: {\n                        property: 'fontSize',\n                        value: kendo.parseInt(e.sender.value()[0])\n                    }\n                });\n            }\n        });\n        kendo.spreadsheet.dialogs.register('fontSize', FontSizeDialog);\n        var BordersDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.bordersDialog || MESSAGES;\n                SpreadsheetDialog.fn.init.call(this, $.extend({ title: messages.title }, options));\n                this.element = this.dialog().element;\n                this._borderPalette();\n                this.viewModel = kendo.observable({\n                    apply: this.apply.bind(this),\n                    close: this.close.bind(this)\n                });\n                kendo.bind(this.element.find('.k-action-buttons'), this.viewModel);\n            },\n            options: {\n                width: 177,\n                template: '<div></div>' + '<div class=\\'k-action-buttons\\'>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: apply\\'>#: messages.apply #</button>' + '<button class=\\'k-button\\' data-bind=\\'click: close\\'>#: messages.cancel #</button>' + '</div>'\n            },\n            apply: function () {\n                SpreadsheetDialog.fn.apply.call(this);\n                var state = this.value();\n                this.trigger('action', {\n                    command: 'BorderChangeCommand',\n                    options: {\n                        border: state.type,\n                        style: {\n                            size: 1,\n                            color: state.color\n                        }\n                    }\n                });\n            },\n            _borderPalette: function () {\n                var element = this.dialog().element.find('div:first');\n                this.borderPalette = new kendo.spreadsheet.BorderPalette(element, { change: this.value.bind(this) });\n            },\n            value: function (state) {\n                if (state === undefined) {\n                    return this._state;\n                } else {\n                    this._state = state;\n                }\n            }\n        });\n        kendo.spreadsheet.dialogs.register('borders', BordersDialog);\n        var ColorChooser = SpreadsheetDialog.extend({\n            init: function (options) {\n                SpreadsheetDialog.fn.init.call(this, options);\n                this.element = this.dialog().element;\n                this.property = options.property;\n                this.options.title = options.title;\n                this.viewModel = kendo.observable({\n                    apply: this.apply.bind(this),\n                    close: this.close.bind(this)\n                });\n                kendo.bind(this.element.find('.k-action-buttons'), this.viewModel);\n            },\n            options: { template: '<div></div>' + '<div class=\\'k-action-buttons\\'>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: apply\\'>#: messages.apply #</button>' + '<button class=\\'k-button\\' data-bind=\\'click: close\\'>#: messages.cancel #</button>' + '</div>' },\n            apply: function () {\n                SpreadsheetDialog.fn.apply.call(this);\n                this.trigger('action', {\n                    command: 'PropertyChangeCommand',\n                    options: {\n                        property: this.property,\n                        value: this.value()\n                    }\n                });\n            },\n            value: function (e) {\n                if (e === undefined) {\n                    return this._value;\n                } else {\n                    this._value = e.value;\n                }\n            }\n        });\n        var ColorPickerDialog = ColorChooser.extend({\n            init: function (options) {\n                options.width = 177;\n                ColorChooser.fn.init.call(this, options);\n                this._colorPalette();\n            },\n            _colorPalette: function () {\n                var element = this.dialog().element.find('div:first');\n                this.colorPalette = element.kendoColorPalette({\n                    palette: [\n                        '#ffffff',\n                        '#000000',\n                        '#d6ecff',\n                        '#4e5b6f',\n                        '#7fd13b',\n                        '#ea157a',\n                        '#feb80a',\n                        '#00addc',\n                        '#738ac8',\n                        '#1ab39f',\n                        '#f2f2f2',\n                        '#7f7f7f',\n                        '#a7d6ff',\n                        '#d9dde4',\n                        '#e5f5d7',\n                        '#fad0e4',\n                        '#fef0cd',\n                        '#c5f2ff',\n                        '#e2e7f4',\n                        '#c9f7f1',\n                        '#d8d8d8',\n                        '#595959',\n                        '#60b5ff',\n                        '#b3bcca',\n                        '#cbecb0',\n                        '#f6a1c9',\n                        '#fee29c',\n                        '#8be6ff',\n                        '#c7d0e9',\n                        '#94efe3',\n                        '#bfbfbf',\n                        '#3f3f3f',\n                        '#007dea',\n                        '#8d9baf',\n                        '#b2e389',\n                        '#f272af',\n                        '#fed46b',\n                        '#51d9ff',\n                        '#aab8de',\n                        '#5fe7d5',\n                        '#a5a5a5',\n                        '#262626',\n                        '#003e75',\n                        '#3a4453',\n                        '#5ea226',\n                        '#af0f5b',\n                        '#c58c00',\n                        '#0081a5',\n                        '#425ea9',\n                        '#138677',\n                        '#7f7f7f',\n                        '#0c0c0c',\n                        '#00192e',\n                        '#272d37',\n                        '#3f6c19',\n                        '#750a3d',\n                        '#835d00',\n                        '#00566e',\n                        '#2c3f71',\n                        '#0c594f'\n                    ],\n                    change: this.value.bind(this)\n                }).data('kendoColorPalette');\n            }\n        });\n        kendo.spreadsheet.dialogs.register('colorPicker', ColorPickerDialog);\n        var CustomColorDialog = ColorChooser.extend({\n            init: function (options) {\n                options.width = 268;\n                ColorChooser.fn.init.call(this, options);\n                this.dialog().setOptions({ animation: false });\n                this.dialog().one('activate', this._colorPicker.bind(this));\n            },\n            _colorPicker: function () {\n                var element = this.dialog().element.find('div:first');\n                this.colorPicker = element.kendoFlatColorPicker({ change: this.value.bind(this) }).data('kendoFlatColorPicker');\n            }\n        });\n        kendo.spreadsheet.dialogs.register('customColor', CustomColorDialog);\n        var AlignmentDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.alignmentDialog || MESSAGES;\n                var defaultOptions = {\n                    title: messages.title,\n                    buttons: [\n                        {\n                            property: 'textAlign',\n                            value: 'left',\n                            iconClass: 'justify-left',\n                            text: messages.buttons.justtifyLeft\n                        },\n                        {\n                            property: 'textAlign',\n                            value: 'center',\n                            iconClass: 'justify-center',\n                            text: messages.buttons.justifyCenter\n                        },\n                        {\n                            property: 'textAlign',\n                            value: 'right',\n                            iconClass: 'justify-right',\n                            text: messages.buttons.justifyRight\n                        },\n                        {\n                            property: 'textAlign',\n                            value: 'justify',\n                            iconClass: 'justify-full',\n                            text: messages.buttons.justifyFull\n                        },\n                        {\n                            property: 'verticalAlign',\n                            value: 'top',\n                            iconClass: 'align-top',\n                            text: messages.buttons.alignTop\n                        },\n                        {\n                            property: 'verticalAlign',\n                            value: 'center',\n                            iconClass: 'align-middle',\n                            text: messages.buttons.alignMiddle\n                        },\n                        {\n                            property: 'verticalAlign',\n                            value: 'bottom',\n                            iconClass: 'align-bottom',\n                            text: messages.buttons.alignBottom\n                        }\n                    ]\n                };\n                SpreadsheetDialog.fn.init.call(this, $.extend(defaultOptions, options));\n                this._list();\n            },\n            options: { template: '<ul class=\\'k-list k-reset\\'></ul>' },\n            _list: function () {\n                var ul = this.dialog().element.find('ul');\n                this.list = new kendo.ui.StaticList(ul, {\n                    dataSource: new kendo.data.DataSource({ data: this.options.buttons }),\n                    template: '<a title=\\'#=text#\\' data-property=\\'#=property#\\' data-value=\\'#=value#\\'>' + '<span class=\\'k-icon k-font-icon k-i-#=iconClass#\\'></span>' + '#=text#' + '</a>',\n                    change: this.apply.bind(this)\n                });\n                this.list.dataSource.fetch();\n            },\n            apply: function (e) {\n                var dataItem = e.sender.value()[0];\n                SpreadsheetDialog.fn.apply.call(this);\n                this.trigger('action', {\n                    command: 'PropertyChangeCommand',\n                    options: {\n                        property: dataItem.property,\n                        value: dataItem.value\n                    }\n                });\n            }\n        });\n        kendo.spreadsheet.dialogs.register('alignment', AlignmentDialog);\n        var MergeDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.mergeDialog || MESSAGES;\n                var defaultOptions = {\n                    title: messages.title,\n                    buttons: [\n                        {\n                            value: 'cells',\n                            iconClass: 'merge-cells',\n                            text: messages.buttons.mergeCells\n                        },\n                        {\n                            value: 'horizontally',\n                            iconClass: 'merge-horizontally',\n                            text: messages.buttons.mergeHorizontally\n                        },\n                        {\n                            value: 'vertically',\n                            iconClass: 'merge-vertically',\n                            text: messages.buttons.mergeVertically\n                        },\n                        {\n                            value: 'unmerge',\n                            iconClass: 'normal-layout',\n                            text: messages.buttons.unmerge\n                        }\n                    ]\n                };\n                SpreadsheetDialog.fn.init.call(this, $.extend(defaultOptions, options));\n                this._list();\n            },\n            options: { template: '<ul class=\\'k-list k-reset\\'></ul>' },\n            _list: function () {\n                var ul = this.dialog().element.find('ul');\n                this.list = new kendo.ui.StaticList(ul, {\n                    dataSource: new kendo.data.DataSource({ data: this.options.buttons }),\n                    template: '<a title=\\'#=text#\\' data-value=\\'#=value#\\'>' + '<span class=\\'k-icon k-font-icon k-i-#=iconClass#\\'></span>#=text#' + '</a>',\n                    change: this.apply.bind(this)\n                });\n                this.list.dataSource.fetch();\n            },\n            apply: function (e) {\n                var dataItem = e.sender.value()[0];\n                SpreadsheetDialog.fn.apply.call(this);\n                this.trigger('action', {\n                    command: 'MergeCellCommand',\n                    options: { value: dataItem.value }\n                });\n            }\n        });\n        kendo.spreadsheet.dialogs.register('merge', MergeDialog);\n        var FreezeDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.freezeDialog || MESSAGES;\n                var defaultOptions = {\n                    title: messages.title,\n                    buttons: [\n                        {\n                            value: 'panes',\n                            iconClass: 'freeze-panes',\n                            text: messages.buttons.freezePanes\n                        },\n                        {\n                            value: 'rows',\n                            iconClass: 'freeze-row',\n                            text: messages.buttons.freezeRows\n                        },\n                        {\n                            value: 'columns',\n                            iconClass: 'freeze-col',\n                            text: messages.buttons.freezeColumns\n                        },\n                        {\n                            value: 'unfreeze',\n                            iconClass: 'normal-layout',\n                            text: messages.buttons.unfreeze\n                        }\n                    ]\n                };\n                SpreadsheetDialog.fn.init.call(this, $.extend(defaultOptions, options));\n                this._list();\n            },\n            options: { template: '<ul class=\\'k-list k-reset\\'></ul>' },\n            _list: function () {\n                var ul = this.dialog().element.find('ul');\n                this.list = new kendo.ui.StaticList(ul, {\n                    dataSource: new kendo.data.DataSource({ data: this.options.buttons }),\n                    template: '<a title=\\'#=text#\\' data-value=\\'#=value#\\'>' + '<span class=\\'k-icon k-font-icon k-i-#=iconClass#\\'></span>#=text#' + '</a>',\n                    change: this.apply.bind(this)\n                });\n                this.list.dataSource.fetch();\n            },\n            apply: function (e) {\n                var dataItem = e.sender.value()[0];\n                SpreadsheetDialog.fn.apply.call(this);\n                this.trigger('action', {\n                    command: 'FreezePanesCommand',\n                    options: { value: dataItem.value }\n                });\n            }\n        });\n        kendo.spreadsheet.dialogs.register('freeze', FreezeDialog);\n        var ValidationViewModel = kendo.spreadsheet.ValidationCellsViewModel = ObservableObject.extend({\n            init: function (options) {\n                ObservableObject.fn.init.call(this, options);\n                this.bind('change', function (e) {\n                    if (e.field === 'criterion') {\n                        this.reset();\n                        if (this.criterion === 'custom' || this.criterion === 'list') {\n                            this.setHintMessageTemplate();\n                        }\n                    }\n                    if (e.field === 'comparer') {\n                        this.setHintMessageTemplate();\n                    }\n                    if ((e.field == 'hintMessage' || e.field == 'hintTitle') && !this._mute) {\n                        this.shouldBuild = false;\n                    }\n                    if ((e.field == 'from' || e.field == 'to' || e.field == 'hintMessageTemplate' || e.field == 'type') && this.shouldBuild) {\n                        this.buildMessages();\n                    }\n                }.bind(this));\n                this.reset();\n            },\n            buildMessages: function () {\n                this._mute = true;\n                this.set('hintTitle', this.hintTitleTemplate ? kendo.format(this.hintTitleTemplate, this.type) : '');\n                this.set('hintMessage', this.hintMessageTemplate ? kendo.format(this.hintMessageTemplate, this.from, this.to) : '');\n                this._mute = false;\n            },\n            reset: function () {\n                this.setComparers();\n                this.set('comparer', this.comparers[0].type);\n                this.set('from', null);\n                this.set('to', null);\n                this.set('useCustomMessages', false);\n                this.shouldBuild = true;\n                this.hintTitleTemplate = this.defaultHintTitle;\n                this.buildMessages();\n            },\n            setComparers: function () {\n                var all = this.defaultComparers;\n                var comparers = [];\n                if (this.criterion === 'text') {\n                    var text_comparers = [\n                        'equalTo',\n                        'notEqualTo'\n                    ];\n                    for (var idx = 0; idx < all.length; idx++) {\n                        if (text_comparers[0] == all[idx].type) {\n                            comparers.push(all[idx]);\n                            text_comparers.shift();\n                        }\n                    }\n                } else {\n                    comparers = all.slice();\n                }\n                this.set('comparers', comparers);\n            },\n            setHintMessageTemplate: function () {\n                if (this.criterion !== 'custom' && this.criterion !== 'list') {\n                    this.set('hintMessageTemplate', kendo.format(this.defaultHintMessage, this.criterion, this.comparerMessages[this.comparer]));\n                } else {\n                    this.set('hintMessageTemplate', '');\n                    this.set('hintMessage', '');\n                }\n            },\n            isAny: function () {\n                return this.get('criterion') === 'any';\n            },\n            isNumber: function () {\n                return this.get('criterion') === 'number';\n            },\n            showToForNumber: function () {\n                return this.showTo() && this.isNumber();\n            },\n            showToForDate: function () {\n                return this.showTo() && this.isDate();\n            },\n            isText: function () {\n                return this.get('criterion') === 'text';\n            },\n            isDate: function () {\n                return this.get('criterion') === 'date';\n            },\n            isList: function () {\n                return this.get('criterion') === 'list';\n            },\n            isCustom: function () {\n                return this.get('criterion') === 'custom';\n            },\n            showRemove: function () {\n                return this.get('hasValidation');\n            },\n            showTo: function () {\n                return this.get('comparer') == 'between' || this.get('comparer') == 'notBetween';\n            },\n            update: function (validation) {\n                this.set('hasValidation', !!validation);\n                if (validation) {\n                    this.fromValidationObject(validation);\n                }\n            },\n            fromValidationObject: function (validation) {\n                this.set('criterion', validation.dataType);\n                this.set('comparer', validation.comparerType);\n                this.set('from', validation.from);\n                this.set('to', validation.to);\n                this.set('type', validation.type);\n                this.set('ignoreBlank', validation.allowNulls);\n                this.set('showButton', validation.showButton);\n                if (validation.messageTemplate || validation.titleTemplate) {\n                    this.hintMessageTemplate = validation.messageTemplate;\n                    this.hintMessage = validation.messageTemplate;\n                    this.hintTitleTemplate = validation.titleTemplate;\n                    this.hintTitle = validation.titleTemplate;\n                    this.useCustomMessages = true;\n                    this.buildMessages();\n                } else {\n                    this.useCustomMessages = false;\n                }\n            },\n            toValidationObject: function () {\n                if (this.criterion === 'any') {\n                    return null;\n                }\n                var options = {\n                    type: this.type,\n                    dataType: this.criterion,\n                    comparerType: this.comparer,\n                    from: this.from,\n                    to: this.to,\n                    allowNulls: this.ignoreBlank,\n                    showButton: this.showButton\n                };\n                if (this.useCustomMessages) {\n                    options.messageTemplate = this.shouldBuild ? this.hintMessageTemplate : this.hintMessage;\n                    options.titleTemplate = this.hintTitle;\n                }\n                return options;\n            }\n        });\n        var ValidationDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.validationDialog || MESSAGES;\n                var defaultOptions = {\n                    title: messages.title,\n                    hintMessage: messages.hintMessage,\n                    hintTitle: messages.hintTitle,\n                    criteria: [\n                        {\n                            type: 'any',\n                            name: messages.criteria.any\n                        },\n                        {\n                            type: 'number',\n                            name: messages.criteria.number\n                        },\n                        {\n                            type: 'text',\n                            name: messages.criteria.text\n                        },\n                        {\n                            type: 'date',\n                            name: messages.criteria.date\n                        },\n                        {\n                            type: 'custom',\n                            name: messages.criteria.custom\n                        },\n                        {\n                            type: 'list',\n                            name: messages.criteria.list\n                        }\n                    ],\n                    comparers: [\n                        {\n                            type: 'greaterThan',\n                            name: messages.comparers.greaterThan\n                        },\n                        {\n                            type: 'lessThan',\n                            name: messages.comparers.lessThan\n                        },\n                        {\n                            type: 'between',\n                            name: messages.comparers.between\n                        },\n                        {\n                            type: 'notBetween',\n                            name: messages.comparers.notBetween\n                        },\n                        {\n                            type: 'equalTo',\n                            name: messages.comparers.equalTo\n                        },\n                        {\n                            type: 'notEqualTo',\n                            name: messages.comparers.notEqualTo\n                        },\n                        {\n                            type: 'greaterThanOrEqualTo',\n                            name: messages.comparers.greaterThanOrEqualTo\n                        },\n                        {\n                            type: 'lessThanOrEqualTo',\n                            name: messages.comparers.lessThanOrEqualTo\n                        }\n                    ],\n                    comparerMessages: messages.comparerMessages\n                };\n                SpreadsheetDialog.fn.init.call(this, $.extend(defaultOptions, options));\n            },\n            options: {\n                width: 450,\n                criterion: 'any',\n                type: 'reject',\n                ignoreBlank: true,\n                showButton: true,\n                useCustomMessages: false,\n                errorTemplate: '<div class=\"k-widget k-tooltip k-tooltip-validation\" style=\"margin:0.5em\"><span class=\"k-icon k-i-warning\"> </span>' + '#= message #<div class=\"k-callout k-callout-n\"></div></div>',\n                template: '<div class=\"k-edit-form-container\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.criteria #:</label></div>' + '<div class=\"k-edit-field\">' + '<select data-role=\"dropdownlist\" ' + 'data-text-field=\"name\" ' + 'data-value-field=\"type\" ' + 'data-bind=\"value: criterion, source: criteria\" />' + '</div>' + '<div data-bind=\"visible: isNumber\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.comparer #:</label></div>' + '<div class=\"k-edit-field\">' + '<select data-role=\"dropdownlist\" ' + 'data-text-field=\"name\" ' + 'data-value-field=\"type\" ' + 'data-bind=\"value: comparer, source: comparers\" />' + '</div>' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.min #:</label></div>' + '<div class=\"k-edit-field\">' + '<input name=\"#: messages.validationDialog.labels.min #\" placeholder=\"e.g. 10\" class=\"k-textbox\" data-bind=\"value: from, enabled: isNumber\" required=\"required\" />' + '</div>' + '<div data-bind=\"visible: showTo\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.max #:</label></div>' + '<div class=\"k-edit-field\">' + '<input name=\"#: messages.validationDialog.labels.max #\" placeholder=\"e.g. 100\" class=\"k-textbox\" data-bind=\"value: to, enabled: showToForNumber\" required=\"required\" />' + '</div>' + '</div>' + '</div>' + '<div data-bind=\"visible: isText\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.comparer #:</label></div>' + '<div class=\"k-edit-field\">' + '<select data-role=\"dropdownlist\" ' + 'data-text-field=\"name\" ' + 'data-value-field=\"type\" ' + 'data-bind=\"value: comparer, source: comparers\" />' + '</div>' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.value #:</label></div>' + '<div class=\"k-edit-field\">' + '<input name=\"#: messages.validationDialog.labels.value #\" class=\"k-textbox\" data-bind=\"value: from, enabled: isText\" required=\"required\" />' + '</div>' + '</div>' + '<div data-bind=\"visible: isDate\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.comparer #:</label></div>' + '<div class=\"k-edit-field\">' + '<select data-role=\"dropdownlist\" ' + 'data-text-field=\"name\" ' + 'data-value-field=\"type\" ' + 'data-bind=\"value: comparer, source: comparers\" />' + '</div>' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.start #:</label></div>' + '<div class=\"k-edit-field\">' + '<input name=\"#: messages.validationDialog.labels.start #\" class=\"k-textbox\" data-bind=\"value: from, enabled: isDate\" required=\"required\" />' + '</div>' + '<div data-bind=\"visible: showTo\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.end #:</label></div>' + '<div class=\"k-edit-field\">' + '<input name=\"#: messages.validationDialog.labels.end #\" class=\"k-textbox\" data-bind=\"value: to, enabled: showToForDate\" required=\"required\" />' + '</div>' + '</div>' + '</div>' + '<div data-bind=\"visible: isCustom\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.value #:</label></div>' + '<div class=\"k-edit-field\">' + '<input name=\"#: messages.validationDialog.labels.value #\" class=\"k-textbox\" data-bind=\"value: from, enabled: isCustom\" required=\"required\" />' + '</div>' + '</div>' + '<div data-bind=\"visible: isList\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.value #:</label></div>' + '<div class=\"k-edit-field\">' + '<input name=\"#: messages.validationDialog.labels.value #\" class=\"k-textbox\" data-bind=\"value: from, enabled: isList\" required=\"required\" />' + '</div>' + '</div>' + '<div data-bind=\"visible: isList\">' + '<div class=\"k-edit-field\">' + '<input type=\"checkbox\" name=\"showButton\" id=\"showButton\" class=\"k-checkbox\" data-bind=\"checked: showButton\"/>' + '<label for=\"showButton\" class=\"k-checkbox-label\">' + ' #: messages.validationDialog.labels.showListButton #' + '</label>' + '</div>' + '</div>' + '<div data-bind=\"visible: isDate\">' + '<div class=\"k-edit-field\">' + '<input type=\"checkbox\" name=\"showButton\" id=\"showButton\" class=\"k-checkbox\" data-bind=\"checked: showButton\"/>' + '<label for=\"showButton\" class=\"k-checkbox-label\">' + ' #: messages.validationDialog.labels.showCalendarButton #' + '</label>' + '</div>' + '</div>' + '<div data-bind=\"invisible: isAny\">' + '<div class=\"k-edit-field\">' + '<input type=\"checkbox\" name=\"ignoreBlank\" id=\"ignoreBlank\" class=\"k-checkbox\" data-bind=\"checked: ignoreBlank\"/>' + '<label for=\"ignoreBlank\" class=\"k-checkbox-label\">' + ' #: messages.validationDialog.labels.ignoreBlank #' + '</label>' + '</div>' + '</div>' + '<div data-bind=\"invisible: isAny\">' + '<div class=\"k-action-buttons\"></div>' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.onInvalidData #:</label></div>' + '<div class=\"k-edit-field\">' + '<input type=\"radio\" id=\"validationTypeReject\" name=\"validationType\" value=\"reject\" data-bind=\"checked: type\" class=\"k-radio\" />' + '<label for=\"validationTypeReject\" class=\"k-radio-label\">' + '#: messages.validationDialog.labels.rejectInput #' + '</label> ' + '<input type=\"radio\" id=\"validationTypeWarning\" name=\"validationType\" value=\"warning\" data-bind=\"checked: type\" class=\"k-radio\" />' + '<label for=\"validationTypeWarning\" class=\"k-radio-label\">' + '#: messages.validationDialog.labels.showWarning #' + '</label>' + '</div>' + '</div>' + '<div data-bind=\"invisible: isAny\" class=\"hint-wrapper\">' + '<div class=\"k-edit-field\">' + '<input type=\"checkbox\" name=\"useCustomMessages\" id=\"useCustomMessages\" class=\"k-checkbox\" data-bind=\"checked: useCustomMessages\" />' + '<label class=\"k-checkbox-label\" for=\"useCustomMessages\">' + ' #: messages.validationDialog.labels.showHint #' + '</label>' + '</div>' + '<div data-bind=\"visible: useCustomMessages\">' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.hintTitle #:</label></div>' + '<div class=\"k-edit-field\">' + '<input class=\"k-textbox\" placeholder=\"#: messages.validationDialog.placeholders.typeTitle #\" data-bind=\"value: hintTitle\" />' + '</div>' + '<div class=\"k-edit-label\"><label>#: messages.validationDialog.labels.hintMessage #:</label></div>' + '<div class=\"k-edit-field\">' + '<input class=\"k-textbox\" placeholder=\"#: messages.validationDialog.placeholders.typeMessage #\" data-bind=\"value: hintMessage\" />' + '</div>' + '</div>' + '</div>' + '<div class=\"k-action-buttons\">' + '<button class=\"k-button\" data-bind=\"visible: showRemove, click: remove\">#: messages.remove #</button>' + '<button class=\"k-button k-primary\" data-bind=\"click: apply\">#: messages.apply #</button>' + '<button class=\"k-button\" data-bind=\"click: close\">#: messages.cancel #</button>' + '</div>' + '</div>'\n            },\n            open: function (range) {\n                var options = this.options;\n                var element;\n                this.viewModel = new ValidationViewModel({\n                    type: options.type,\n                    defaultHintMessage: options.hintMessage,\n                    defaultHintTitle: options.hintTitle,\n                    defaultComparers: options.comparers.slice(0),\n                    comparerMessages: options.comparerMessages,\n                    criteria: options.criteria.slice(0),\n                    criterion: options.criterion,\n                    ignoreBlank: options.ignoreBlank,\n                    showButton: options.showButton,\n                    apply: this.apply.bind(this),\n                    close: this.close.bind(this),\n                    remove: this.remove.bind(this)\n                });\n                this.viewModel.update(range.validation());\n                SpreadsheetDialog.fn.open.call(this);\n                element = this.dialog().element;\n                if (this.validatable) {\n                    this.validatable.destroy();\n                }\n                kendo.bind(element, this.viewModel);\n                this.validatable = new kendo.ui.Validator(element.find('.k-edit-form-container'), {\n                    validateOnBlur: false,\n                    errorTemplate: this.options.errorTemplate || undefined\n                });\n            },\n            apply: function () {\n                if (this.validatable.validate()) {\n                    SpreadsheetDialog.fn.apply.call(this);\n                    this.trigger('action', {\n                        command: 'EditValidationCommand',\n                        options: { value: this.viewModel.toValidationObject() }\n                    });\n                }\n            },\n            remove: function () {\n                this.viewModel.set('criterion', 'any');\n                this.apply();\n            }\n        });\n        kendo.spreadsheet.dialogs.register('validation', ValidationDialog);\n        kendo.spreadsheet.dialogs.ValidationDialog = ValidationDialog;\n        var ExportAsDialog = SpreadsheetDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.exportAsDialog || MESSAGES;\n                SpreadsheetDialog.fn.init.call(this, $.extend({ title: messages.title }, options));\n                this.viewModel = kendo.observable({\n                    title: this.options.title,\n                    name: this.options.name,\n                    extension: this.options.extension,\n                    fileFormats: this.options.fileFormats,\n                    excel: options.excelExport,\n                    pdf: {\n                        proxyURL: options.pdfExport.proxyURL,\n                        forceProxy: options.pdfExport.forceProxy,\n                        title: options.pdfExport.title,\n                        author: options.pdfExport.author,\n                        subject: options.pdfExport.subject,\n                        keywords: options.pdfExport.keywords,\n                        creator: options.pdfExport.creator,\n                        date: options.pdfExport.date,\n                        fitWidth: this.options.pdf.fitWidth,\n                        area: this.options.pdf.area,\n                        areas: this.options.pdf.areas,\n                        paperSize: this.options.pdf.paperSize,\n                        paperSizes: this.options.pdf.paperSizes,\n                        margin: this.options.pdf.margin,\n                        margins: this.options.pdf.margins,\n                        landscape: this.options.pdf.landscape,\n                        guidelines: this.options.pdf.guidelines,\n                        hCenter: this.options.pdf.hCenter,\n                        vCenter: this.options.pdf.vCenter\n                    },\n                    apply: this.apply.bind(this),\n                    close: this.close.bind(this)\n                });\n                var dialog = this.dialog();\n                this.viewModel.bind('change', function (e) {\n                    if (e.field === 'extension') {\n                        this.set('showPdfOptions', this.extension === '.pdf' ? true : false);\n                        dialog.center();\n                    }\n                });\n                kendo.bind(dialog.element, this.viewModel);\n            },\n            options: {\n                name: 'Workbook',\n                extension: '.xlsx',\n                fileFormats: [\n                    {\n                        description: 'Excel Workbook (.xlsx)',\n                        extension: '.xlsx'\n                    },\n                    {\n                        description: 'Portable Document Format(.pdf)',\n                        extension: '.pdf'\n                    }\n                ],\n                pdf: {\n                    fitWidth: true,\n                    area: 'workbook',\n                    areas: [\n                        {\n                            area: 'workbook',\n                            text: 'Entire Workbook'\n                        },\n                        {\n                            area: 'sheet',\n                            text: 'Active Sheet'\n                        },\n                        {\n                            area: 'selection',\n                            text: 'Selection'\n                        }\n                    ],\n                    paperSize: 'a4',\n                    paperSizes: [\n                        {\n                            value: 'a2',\n                            text: 'A2 (420 mm \\xD7 594 mm)     '\n                        },\n                        {\n                            value: 'a3',\n                            text: 'A3 (297 mm x 420 mm)     '\n                        },\n                        {\n                            value: 'a4',\n                            text: 'A4 (210 mm x 297 mm)     '\n                        },\n                        {\n                            value: 'a5',\n                            text: 'A5 (148 mm x 210 mm)     '\n                        },\n                        {\n                            value: 'b3',\n                            text: 'B3 (353 mm \\xD7 500 mm)     '\n                        },\n                        {\n                            value: 'b4',\n                            text: 'B4 (250 mm x 353 mm)     '\n                        },\n                        {\n                            value: 'b5',\n                            text: 'B5 (176 mm x 250 mm)     '\n                        },\n                        {\n                            value: 'folio',\n                            text: 'Folio (8.5\" x 13\")       '\n                        },\n                        {\n                            value: 'legal',\n                            text: 'Legal (8.5\" x 14\")       '\n                        },\n                        {\n                            value: 'letter',\n                            text: 'Letter (8.5\" x 11\")      '\n                        },\n                        {\n                            value: 'tabloid',\n                            text: 'Tabloid (11\" x 17\")      '\n                        },\n                        {\n                            value: 'executive',\n                            text: 'Executive (7.25\" x 10.5\")'\n                        }\n                    ],\n                    margin: {\n                        bottom: '0.75in',\n                        left: '0.7in',\n                        right: '0.7in',\n                        top: '0.75in'\n                    },\n                    margins: [\n                        {\n                            value: {\n                                bottom: '0.75in',\n                                left: '0.7in',\n                                right: '0.7in',\n                                top: '0.75in'\n                            },\n                            text: 'Normal'\n                        },\n                        {\n                            value: {\n                                bottom: '0.75in',\n                                left: '0.25in',\n                                right: '0.25in',\n                                top: '0.75in'\n                            },\n                            text: 'Narrow'\n                        },\n                        {\n                            value: {\n                                bottom: '1in',\n                                left: '1in',\n                                right: '1in',\n                                top: '1in'\n                            },\n                            text: 'Wide'\n                        }\n                    ],\n                    landscape: true,\n                    guidelines: true,\n                    hCenter: true,\n                    vCenter: true\n                },\n                width: 520,\n                template: '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.fileName #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<input class=\\'k-textbox\\' data-bind=\\'value: name\\' />' + '</div>' + '<div >' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.saveAsType #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<select data-role=\\'dropdownlist\\' class=\\'k-file-format\\' ' + 'data-text-field=\\'description\\' ' + 'data-value-field=\\'extension\\' ' + 'data-bind=\\'value: extension, source: fileFormats\\' />' + '</div>' + '</div>' + '<div class=\\'export-config\\' data-bind=\\'visible: showPdfOptions\\'>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.exportArea #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<select data-role=\\'dropdownlist\\' class=\\'k-file-format\\' ' + 'data-text-field=\\'text\\' ' + 'data-value-field=\\'area\\' ' + 'data-bind=\\'value: pdf.area, source: pdf.areas\\' />' + '</div>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.paperSize#:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<select data-role=\\'dropdownlist\\' class=\\'k-file-format\\' ' + 'data-text-field=\\'text\\' ' + 'data-value-field=\\'value\\' ' + 'data-bind=\\'value: pdf.paperSize, source: pdf.paperSizes\\' />' + '</div>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.margins #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<select data-role=\\'dropdownlist\\' class=\\'k-file-format\\' ' + 'data-value-primitive=\\'true\\'' + 'data-text-field=\\'text\\' ' + 'data-value-field=\\'value\\' ' + 'data-bind=\\'value: pdf.margin, source: pdf.margins\\' />' + '</div>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.orientation #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<input type=\\'radio\\' id=\\'k-orientation-portrait\\' name=\\'orientation\\' data-type=\\'boolean\\' data-bind=\\'checked: pdf.landscape\\' value=\\'false\\' /><label class=\\'k-orientation-label k-orientation-portrait-label\\' for=\\'k-orientation-portrait\\'></label>' + '<input type=\\'radio\\' id=\\'k-orientation-landscape\\' name=\\'orientation\\' data-type=\\'boolean\\' data-bind=\\'checked: pdf.landscape\\' value=\\'true\\' /><label class=\\'k-orientation-label k-orientation-landscape-label\\' for=\\'k-orientation-landscape\\'></label>' + '</div>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.print #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<input class=\\'k-checkbox\\' id=\\'guidelines\\' type=\\'checkbox\\' data-bind=\\'checked: pdf.guidelines\\'/><label class=\\'k-checkbox-label\\' for=\\'guidelines\\'>#: messages.exportAsDialog.labels.guidelines#</label>' + '</div>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.scale #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<input class=\\'k-checkbox\\' id=\\'fitWidth\\' type=\\'checkbox\\' data-bind=\\'checked: pdf.fitWidth\\'/><label class=\\'k-checkbox-label\\' for=\\'fitWidth\\'>#: messages.exportAsDialog.labels.fit #</label>' + '</div>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.center #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<input class=\\'k-checkbox\\' id=\\'hCenter\\' type=\\'checkbox\\' data-bind=\\'checked: pdf.hCenter\\'/><label class=\\'k-checkbox-label\\' for=\\'hCenter\\'>#: messages.exportAsDialog.labels.horizontally #</label>' + '<input class=\\'k-checkbox\\' id=\\'vCenter\\' type=\\'checkbox\\' data-bind=\\'checked: pdf.vCenter\\'/><label class=\\'k-checkbox-label\\' for=\\'vCenter\\'>#: messages.exportAsDialog.labels.vertically #</label>' + '</div>' + '<div class=\\'k-page-orientation\\' data-bind=\\'css: {k-page-landscape: pdf.landscape}\\'>' + '<div class=\\'k-margins-horizontal\\'></div>' + '<div class=\\'k-margins-vertical\\'></div>' + '</div>' + '</div>' + '<div class=\\'k-action-buttons\\'>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: apply\\'>#: messages.save #</button>' + '<button class=\\'k-button\\' data-bind=\\'click: close\\'>#: messages.cancel #</button>' + '</div>'\n            },\n            apply: function () {\n                SpreadsheetDialog.fn.apply.call(this);\n                this.trigger('action', {\n                    command: 'SaveAsCommand',\n                    options: this.viewModel\n                });\n            }\n        });\n        kendo.spreadsheet.dialogs.register('exportAs', ExportAsDialog);\n        function basicErrorDialog(id, msg) {\n            kendo.spreadsheet.dialogs.register(id, MessageDialog.extend({ options: { messageId: msg } }));\n        }\n        basicErrorDialog('modifyMerged', 'modifyMergedDialog.errorMessage');\n        basicErrorDialog('rangeDisabled', 'rangeDisabledDialog.errorMessage');\n        basicErrorDialog('overflow', 'overflowDialog.errorMessage');\n        basicErrorDialog('unsupportedSelection', 'unsupportedSelectionDialog.errorMessage');\n        basicErrorDialog('incompatibleRanges', 'incompatibleRangesDialog.errorMessage');\n        basicErrorDialog('noFillDirection', 'noFillDirectionDialog.errorMessage');\n        basicErrorDialog('duplicateSheetName', 'duplicateSheetNameDialog.errorMessage');\n        var UseKeyboardDialog = MessageDialog.extend({\n            init: function (options) {\n                var messages = kendo.spreadsheet.messages.dialogs.useKeyboardDialog || MESSAGES;\n                SpreadsheetDialog.fn.init.call(this, $.extend({ title: messages.title }, options));\n            },\n            options: { template: '#: messages.useKeyboardDialog.errorMessage #' + '<div>Ctrl+C #: messages.useKeyboardDialog.labels.forCopy #</div>' + '<div>Ctrl+X #: messages.useKeyboardDialog.labels.forCut #</div>' + '<div>Ctrl+V #: messages.useKeyboardDialog.labels.forPaste #</div>' + '<div class=\"k-action-buttons\">' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: close\\'>' + '#= messages.okText #' + '</button>' + '</div>' }\n        });\n        kendo.spreadsheet.dialogs.register('useKeyboard', UseKeyboardDialog);\n        var HyperlinkDialog = SpreadsheetDialog.extend({\n            options: {\n                template: '<div class=\\'k-edit-label\\'><label>#: messages.linkDialog.labels.url #:</label></div>' + '<div class=\\'k-edit-field\\'><input class=\\'k-textbox\\' data-bind=\\'value: url\\' /></div>' + '<div class=\\'k-action-buttons\\'>' + ('<button style=\\'float: left\\' class=\\'k-button\\' data-bind=\\'click: remove\\'>#= messages.linkDialog.labels.removeLink #</button>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: apply\\'>#= messages.okText #</button>' + '<button class=\\'k-button\\' data-bind=\\'click: cancel\\'>#= messages.cancel #</button>') + '</div>',\n                title: MESSAGES.linkDialog.title,\n                autoFocus: false\n            },\n            open: function (range) {\n                var self = this;\n                SpreadsheetDialog.fn.open.apply(self, arguments);\n                var element = self.dialog().element;\n                var model = kendo.observable({\n                    url: range.link(),\n                    apply: function () {\n                        if (!/\\S/.test(model.url)) {\n                            model.url = null;\n                        }\n                        self.trigger('action', {\n                            command: 'HyperlinkCommand',\n                            options: { link: model.url }\n                        });\n                        self.close();\n                    },\n                    remove: function () {\n                        model.url = null;\n                        model.apply();\n                    },\n                    cancel: self.close.bind(self)\n                });\n                kendo.bind(element, model);\n                element.find('input').focus().on('keydown', function (ev) {\n                    if (ev.keyCode == 13) {\n                        model.url = $(this).val();\n                        ev.stopPropagation();\n                        ev.preventDefault();\n                        model.apply();\n                    } else if (ev.keyCode == 27) {\n                        ev.stopPropagation();\n                        ev.preventDefault();\n                        model.cancel();\n                    }\n                });\n            }\n        });\n        kendo.spreadsheet.dialogs.register('hyperlink', HyperlinkDialog);\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/sheetbinder', [\n        'kendo.core',\n        'kendo.data',\n        'spreadsheet/sheet'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var identity = function (o) {\n            return o;\n        };\n        var SheetDataSourceBinder = kendo.Class.extend({\n            init: function (options) {\n                this.options = $.extend({}, this.options, options);\n                this.columns = this._normalizeColumns(this.options.columns);\n                this._sheet();\n                this._dataSource();\n                this._header();\n                this._boundRowsCount = 0;\n                this.dataSource.fetch();\n            },\n            _sheet: function () {\n                this.sheet = this.options.sheet;\n                this._sheetChangeHandler = this._sheetChange.bind(this);\n                this._sheetDeleteRowHandler = this._sheetDeleteRow.bind(this);\n                this._sheetInsertRowHandler = this._sheetInsertRow.bind(this);\n                this.sheet.bind('change', this._sheetChangeHandler).bind('deleteRow', this._sheetDeleteRowHandler).bind('insertRow', this._sheetInsertRowHandler);\n            },\n            _sheetInsertRow: function (e) {\n                if (e.index !== undefined) {\n                    this.dataSource.insert(Math.max(e.index - 1, 0), {});\n                }\n            },\n            _sheetDeleteRow: function (e) {\n                if (e.index !== undefined) {\n                    var dataSource = this.dataSource;\n                    var model = dataSource.view()[e.index - 1];\n                    if (model) {\n                        dataSource.remove(model);\n                    }\n                }\n            },\n            _header: function () {\n                this.sheet.batch(function () {\n                    this.columns.forEach(function (column, index) {\n                        this.sheet.range(0, index).value(column.title);\n                    }.bind(this));\n                }.bind(this));\n            },\n            _sheetChange: function (e) {\n                if (e.insertRow || e.deleteRow) {\n                    return;\n                }\n                if (e.recalc && e.ref) {\n                    var dataSource = this.dataSource;\n                    var data = dataSource.view();\n                    var columns = this.columns;\n                    var fields;\n                    if (dataSource.reader.model) {\n                        fields = dataSource.reader.model.fields;\n                    }\n                    if (!columns.length && data.length) {\n                        columns = Object.keys(data[0].toJSON());\n                    }\n                    var getters = columns.map(function (column) {\n                        var field = column.field;\n                        if (field && fields && fields[field] && fields[field].type == 'date') {\n                            return kendo.spreadsheet.numberToDate;\n                        }\n                        return identity;\n                    });\n                    this._skipRebind = true;\n                    var values = this.sheet.range(e.ref).values();\n                    e.ref.forEach(function (ref) {\n                        ref = ref.toRangeRef();\n                        var record;\n                        var valueIndex = 0;\n                        for (var ri = ref.topLeft.row; ri <= ref.bottomRight.row; ri++) {\n                            record = data[ri - 1];\n                            if (!record) {\n                                record = dataSource.insert(ri - 1, {});\n                                data = dataSource.view();\n                            }\n                            var colValueIndex = 0;\n                            for (var ci = ref.topLeft.col; ci <= ref.bottomRight.col && ci < columns.length; ci++) {\n                                record.set(columns[ci].field, getters[ci](values[valueIndex][colValueIndex++]));\n                            }\n                            valueIndex++;\n                        }\n                    });\n                    this._boundRowsCount = dataSource.view().length;\n                    this._skipRebind = false;\n                }\n            },\n            _normalizeColumns: function (columns) {\n                return columns.map(function (column) {\n                    var field = column.field || column;\n                    return {\n                        field: field,\n                        title: column.title || field\n                    };\n                });\n            },\n            _dataSource: function () {\n                var options = this.options;\n                var dataSource = options.dataSource;\n                dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (this.dataSource && this._changeHandler) {\n                    this.dataSource.unbind('change', this._changeHandler);\n                } else {\n                    this._changeHandler = this._change.bind(this);\n                }\n                this.dataSource = kendo.data.DataSource.create(dataSource).bind('change', this._changeHandler);\n            },\n            _change: function () {\n                if (this._skipRebind) {\n                    return;\n                }\n                var data = this.dataSource.view();\n                var columns = this.columns;\n                if (!columns.length && data.length) {\n                    this.columns = columns = this._normalizeColumns(Object.keys(data[0].toJSON()));\n                    this._header();\n                }\n                var getters = columns.map(function (column) {\n                    return kendo.getter(column.field);\n                });\n                this.sheet.batch(function () {\n                    var length = Math.max(data.length, this._boundRowsCount);\n                    for (var idx = 0; idx < length; idx++) {\n                        for (var getterIdx = 0; getterIdx < getters.length; getterIdx++) {\n                            var value = data[idx] ? getters[getterIdx](data[idx]) : null;\n                            this.sheet.range(idx + 1, getterIdx).value(value);\n                        }\n                    }\n                }.bind(this));\n                this._boundRowsCount = data.length;\n            },\n            destroy: function () {\n                this.dataSource.unbind('change', this._changeHandler);\n                this.sheet.unbind('change', this._sheetChangeHandler).unbind('deleteRow', this._sheetDeleteRowHandler).unbind('insertRow', this._sheetInsertRowHandler);\n            },\n            options: { columns: [] }\n        });\n        kendo.spreadsheet.SheetDataSourceBinder = SheetDataSourceBinder;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/filtermenu', [\n        'kendo.core',\n        'kendo.popup',\n        'kendo.treeview',\n        'kendo.numerictextbox',\n        'kendo.datepicker',\n        'kendo.datetimepicker'\n    ], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var Widget = kendo.ui.Widget;\n        var classNames = {\n            details: 'k-details',\n            button: 'k-button',\n            detailsSummary: 'k-details-summary',\n            detailsContent: 'k-details-content',\n            icon: 'k-icon k-font-icon',\n            iconCollapse: 'k-i-collapse-se',\n            iconExpand: 'k-i-expand-e',\n            iconSearch: 'k-i-search',\n            textbox: 'k-textbox',\n            wrapper: 'k-spreadsheet-filter-menu',\n            filterByCondition: 'k-spreadsheet-condition-filter',\n            filterByValue: 'k-spreadsheet-value-filter',\n            valuesTreeViewWrapper: 'k-spreadsheet-value-treeview-wrapper',\n            actionButtons: 'k-action-buttons'\n        };\n        var Details = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this.element.addClass(FilterMenu.classNames.details);\n                this._summary = this.element.find('.' + FilterMenu.classNames.detailsSummary).on('click', this._toggle.bind(this));\n                var iconClass = options.expanded ? FilterMenu.classNames.iconCollapse : FilterMenu.classNames.iconExpand;\n                this._icon = $('<span />', { 'class': FilterMenu.classNames.icon + ' ' + iconClass }).prependTo(this._summary);\n                this._container = kendo.wrap(this._summary.next(), true);\n                if (!options.expanded) {\n                    this._container.hide();\n                }\n            },\n            options: { name: 'Details' },\n            events: ['toggle'],\n            visible: function () {\n                return this.options.expanded;\n            },\n            toggle: function (show) {\n                var animation = kendo.fx(this._container).expand('vertical');\n                animation.stop()[show ? 'reverse' : 'play']();\n                this._icon.toggleClass(FilterMenu.classNames.iconExpand, show).toggleClass(FilterMenu.classNames.iconCollapse, !show);\n                this.options.expanded = !show;\n            },\n            _toggle: function () {\n                var show = this.visible();\n                this.toggle(show);\n                this.trigger('toggle', { show: show });\n            }\n        });\n        var FILTERMENU_MESSAGES = kendo.spreadsheet.messages.filterMenu = {\n            sortAscending: 'Sort range A to Z',\n            sortDescending: 'Sort range Z to A',\n            filterByValue: 'Filter by value',\n            filterByCondition: 'Filter by condition',\n            apply: 'Apply',\n            search: 'Search',\n            addToCurrent: 'Add to current selection',\n            clear: 'Clear',\n            blanks: '(Blanks)',\n            operatorNone: 'None',\n            and: 'AND',\n            or: 'OR',\n            operators: {\n                string: {\n                    contains: 'Text contains',\n                    doesnotcontain: 'Text does not contain',\n                    startswith: 'Text starts with',\n                    endswith: 'Text ends with'\n                },\n                date: {\n                    eq: 'Date is',\n                    neq: 'Date is not',\n                    lt: 'Date is before',\n                    gt: 'Date is after'\n                },\n                number: {\n                    eq: 'Is equal to',\n                    neq: 'Is not equal to',\n                    gte: 'Is greater than or equal to',\n                    gt: 'Is greater than',\n                    lte: 'Is less than or equal to',\n                    lt: 'Is less than'\n                }\n            }\n        };\n        kendo.data.binders.spreadsheetFilterValue = kendo.data.Binder.extend({\n            init: function (element, bindings, options) {\n                kendo.data.Binder.fn.init.call(this, element, bindings, options);\n                this._change = $.proxy(this.change, this);\n                $(this.element).on('change', this._change);\n            },\n            refresh: function () {\n                var that = this, value = that.bindings.spreadsheetFilterValue.get();\n                $(that.element).val(value instanceof Date ? '' : value);\n            },\n            change: function () {\n                var value = this.element.value;\n                this.bindings.spreadsheetFilterValue.set(value);\n            }\n        });\n        kendo.data.binders.widget.spreadsheetFilterValue = kendo.data.Binder.extend({\n            init: function (widget, bindings, options) {\n                kendo.data.Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this.widget = widget;\n                this._change = $.proxy(this.change, this);\n                this.widget.first('change', this._change);\n            },\n            refresh: function () {\n                var binding = this.bindings.spreadsheetFilterValue, value = binding.get(), type = $(this.widget.element).data('filterType');\n                if (type === 'date' && value instanceof Date || type === 'number' && !isNaN(value)) {\n                    this.widget.value(value);\n                } else {\n                    this.widget.value(null);\n                }\n            },\n            change: function () {\n                var value = this.widget.value(), binding = this.bindings.spreadsheetFilterValue;\n                binding.set(value);\n            }\n        });\n        var templates = {\n            filterByValue: '<div class=\\'' + classNames.detailsSummary + '\\'>#= messages.filterByValue #</div>' + '<div class=\\'' + classNames.detailsContent + '\\'>' + '<div class=\\'k-textbox k-space-right\\'>' + '<input placeholder=\\'#= messages.search #\\' data-#=ns#bind=\\'events: { input: filterValues }\\' />' + '<span class=\\'k-icon k-font-icon k-i-search\\' />' + '</div>' + '<div data-#=ns#bind=\\'visible: hasActiveSearch\\'><input class=\\'k-checkbox\\' type=\\'checkbox\\' data-#=ns#bind=\\'checked: appendToSearch\\' id=\\'_#=guid#\\' /><label class=\\'k-checkbox-label\\' for=\\'_#=guid#\\'>#= messages.addToCurrent #</label></div>' + '<div class=\\'' + classNames.valuesTreeViewWrapper + '\\'>' + '<div data-#=ns#role=\\'treeview\\' ' + 'data-#=ns#checkboxes=\\'{ checkChildren: true }\\' ' + 'data-#=ns#bind=\\'source: valuesDataSource, events: { check: valuesChange, select: valueSelect }\\' ' + '/>' + '</div>' + '</div>',\n            filterByCondition: '<div class=\\'' + classNames.detailsSummary + '\\'>#= messages.filterByCondition #</div>' + '<div class=\\'' + classNames.detailsContent + '\\'>' + '<div>' + '<select ' + 'data-#=ns#role=\"dropdownlist\"' + 'data-#=ns#bind=\"value: operator, source: operators, events: { change: operatorChange } \"' + 'data-value-primitive=\"false\"' + 'data-option-label=\"#=messages.operatorNone#\"' + 'data-height=\"auto\"' + 'data-text-field=\"text\"' + 'data-value-field=\"unique\">' + '</select>' + '</div>' + '<div data-#=ns#bind=\"visible: isString\">' + '<input data-filter-type=\"string\" data-#=ns#bind=\"spreadsheetFilterValue: customFilter.criteria[0].value\" class=\"k-textbox\" />' + '</div>' + '<div data-#=ns#bind=\"visible: isNumber\">' + '<input data-filter-type=\"number\" data-#=ns#role=\"numerictextbox\" data-#=ns#bind=\"spreadsheetFilterValue: customFilter.criteria[0].value\" />' + '</div>' + '<div data-#=ns#bind=\"visible: isDate\">' + '<input data-filter-type=\"date\" data-#=ns#role=\"datepicker\" data-#=ns#bind=\"spreadsheetFilterValue: customFilter.criteria[0].value\" />' + '</div>' + '</div>',\n            menuItem: '<li data-command=\\'#=command#\\' data-dir=\\'#=dir#\\'>' + '<span class=\\'k-icon k-font-icon k-i-#=iconClass#\\'></span>#=text#' + '</li>',\n            actionButtons: '<button data-#=ns#bind=\\'click: apply\\' class=\\'k-button k-primary\\'>#=messages.apply#</button>' + '<button data-#=ns#bind=\\'click: clear\\' class=\\'k-button\\'>#=messages.clear#</button>'\n        };\n        function distinctValues(values) {\n            var hash = {};\n            var result = [];\n            for (var i = 0; i < values.length; i++) {\n                if (!hash[values[i].value]) {\n                    hash[values[i].value] = values[i];\n                    result.push(values[i]);\n                } else if (!hash[values[i].value].checked && values[i].checked) {\n                    hash[values[i].value].checked = true;\n                }\n            }\n            return result;\n        }\n        function filter(dataSource, query) {\n            var hasVisibleChildren = false;\n            var data = dataSource instanceof kendo.data.HierarchicalDataSource && dataSource.data();\n            for (var i = 0; i < data.length; i++) {\n                var item = data[i];\n                var text = item.text.toString().toLowerCase();\n                var itemVisible = query === true || query === '' || text.indexOf(query) >= 0;\n                var anyVisibleChildren = filter(item.children, itemVisible || query);\n                hasVisibleChildren = hasVisibleChildren || anyVisibleChildren || itemVisible;\n                item.hidden = !itemVisible && !anyVisibleChildren;\n                item.checked = !item.hidden;\n            }\n            if (data) {\n                dataSource.filter({\n                    field: 'hidden',\n                    operator: 'neq',\n                    value: true\n                });\n            }\n            return hasVisibleChildren;\n        }\n        function uncheckAll(dataSource) {\n            var data = dataSource instanceof kendo.data.HierarchicalDataSource && dataSource.data();\n            for (var i = 0; i < data.length; i++) {\n                var item = data[i];\n                item.checked = false;\n                if (item.hasChildren) {\n                    uncheckAll(item.children);\n                }\n            }\n        }\n        var FilterMenuViewModel = kendo.spreadsheet.FilterMenuViewModel = kendo.data.ObservableObject.extend({\n            valuesChange: function (e) {\n                var dataSource = e ? e.sender.dataSource : this.valuesDataSource;\n                var checked = function (item) {\n                    return item.checked;\n                };\n                var value = function (item) {\n                    return item.dataType === 'date' ? kendo.spreadsheet.dateToNumber(item.value) : item.value;\n                };\n                var unique = function (value, index, array) {\n                    return array.lastIndexOf(value) === index;\n                };\n                var data = dataSource.data();\n                var values = data[0].children.data().toJSON();\n                var blanks = values.filter(function (item) {\n                    return item.dataType === 'blank';\n                });\n                blanks = blanks.length ? blanks[0].checked : false;\n                values = values.filter(checked).map(value);\n                if (this.appendToSearch && this.valueFilter && this.valueFilter.values.length) {\n                    values = values.concat(this.valueFilter.values.toJSON()).sort().filter(unique);\n                }\n                this.set('valueFilter', {\n                    values: values,\n                    blanks: blanks\n                });\n            },\n            valueSelect: function (e) {\n                e.preventDefault();\n                var node = e.sender.dataItem(e.node);\n                node.set('checked', !node.checked);\n            },\n            hasActiveSearch: false,\n            appendToSearch: false,\n            filterValues: function (e) {\n                var query = typeof e == 'string' ? e : $(e.target).val().toLowerCase();\n                var dataSource = this.valuesDataSource;\n                this.set('hasActiveSearch', !!query);\n                uncheckAll(dataSource);\n                filter(dataSource, query);\n            },\n            reset: function () {\n                this.set('customFilter', {\n                    logic: 'and',\n                    criteria: [{\n                            operator: null,\n                            value: null\n                        }]\n                });\n                this.set('valueFilter', { values: [] });\n            },\n            operatorChange: function (e) {\n                var dataItem = e.sender.dataItem();\n                this.set('operatorType', dataItem.type);\n                this.set('customFilter.criteria[0].operator', dataItem.value);\n            },\n            isNone: function () {\n                return this.get('operatorType') === undefined;\n            },\n            isString: function () {\n                return this.get('operatorType') === 'string';\n            },\n            isNumber: function () {\n                return this.get('operatorType') === 'number';\n            },\n            isDate: function () {\n                return this.get('operatorType') === 'date';\n            }\n        });\n        function flattenOperators(operators) {\n            var messages = FILTERMENU_MESSAGES.operators;\n            var result = [];\n            for (var type in operators) {\n                if (!operators.hasOwnProperty(type)) {\n                    continue;\n                }\n                for (var operator in operators[type]) {\n                    if (!operators[type].hasOwnProperty(operator)) {\n                        continue;\n                    }\n                    result.push({\n                        text: messages[type][operator],\n                        value: operator,\n                        unique: type + '_' + operator,\n                        type: type\n                    });\n                }\n            }\n            return result;\n        }\n        var FilterMenuController = kendo.spreadsheet.FilterMenuController = {\n            valuesTree: function (range, column) {\n                return [{\n                        text: 'All',\n                        expanded: true,\n                        checked: true,\n                        items: this.values(range.resize({ top: 1 }), column)\n                    }];\n            },\n            values: function (range, column) {\n                var values = [];\n                var messages = FILTERMENU_MESSAGES;\n                var columnRange = range.column(column);\n                var sheet = range.sheet();\n                columnRange.forEachCell(function (row, col, cell) {\n                    if (sheet.isHiddenRow(row)) {\n                        return;\n                    }\n                    var value = cell.value;\n                    var dataType = cell.dataType;\n                    var text = cell.text;\n                    if (value === undefined) {\n                        dataType = 'blank';\n                    } else if (cell.format) {\n                        dataType = kendo.spreadsheet.formatting.type(value, cell.format);\n                    } else {\n                        dataType = typeof value;\n                    }\n                    if (value !== null && cell.format) {\n                        text = kendo.spreadsheet.formatting.text(value, cell.format);\n                    } else {\n                        text = dataType == 'blank' ? messages.blanks : value;\n                    }\n                    if (dataType === 'percent') {\n                        dataType = 'number';\n                    }\n                    if (dataType === 'date') {\n                        value = kendo.spreadsheet.numberToDate(value);\n                    }\n                    values.push({\n                        dataType: dataType,\n                        value: value,\n                        text: text,\n                        checked: true\n                    });\n                });\n                values = distinctValues(values);\n                values.sort(function (a, b) {\n                    if (a.dataType === b.dataType) {\n                        return 0;\n                    }\n                    if (a.dataType === 'blank' || b.dataType === 'blank') {\n                        return a.dataType === 'blank' ? -1 : 1;\n                    }\n                    if (a.dataType === 'number' || b.dataType === 'number') {\n                        return a.dataType === 'number' ? -1 : 1;\n                    }\n                    if (a.dataType === 'date' || b.dataType === 'date') {\n                        return a.dataType === 'date' ? -1 : 1;\n                    }\n                    return 0;\n                });\n                return values;\n            },\n            filterType: function (range, column) {\n                var sheet = range.sheet();\n                var filter = this.filterForColumn(column, sheet);\n                var type;\n                filter = filter && filter.filter.toJSON();\n                if (filter && filter.filter == 'custom') {\n                    var value = filter.criteria[0].value;\n                    if (value instanceof Date) {\n                        type = 'date';\n                    } else if (typeof value == 'string') {\n                        type = 'string';\n                    } else if (typeof value == 'number') {\n                        type = 'number';\n                    }\n                }\n                if (!type) {\n                    var topValue = this.values(range.row(1), column)[0];\n                    type = topValue && topValue.dataType;\n                    if (type == 'blank') {\n                        type = null;\n                    }\n                }\n                return type;\n            },\n            filterForColumn: function (column, sheet) {\n                var allFilters = sheet.filter();\n                var filters;\n                if (allFilters) {\n                    filters = allFilters.columns.filter(function (item) {\n                        return item.index === column;\n                    })[0];\n                }\n                return filters;\n            },\n            filter: function (column, sheet) {\n                var columnFilters = this.filterForColumn(column, sheet);\n                if (!columnFilters) {\n                    return;\n                }\n                var options = columnFilters.filter.toJSON();\n                var type = options.filter;\n                delete options.filter;\n                var result = {\n                    type: type,\n                    options: options\n                };\n                var criteria = options.criteria;\n                if (criteria && criteria.length) {\n                    result.operator = criteria[0].operator;\n                }\n                return result;\n            }\n        };\n        var FilterMenu = Widget.extend({\n            init: function (element, options) {\n                Widget.call(this, element, options);\n                this.element.addClass(FilterMenu.classNames.wrapper);\n                this.viewModel = new FilterMenuViewModel({\n                    active: 'value',\n                    operator: null,\n                    operators: flattenOperators(this.options.operators),\n                    clear: this.clear.bind(this),\n                    apply: this.apply.bind(this)\n                });\n                this._filterInit();\n                this._popup();\n                this._sort();\n                this._filterByCondition();\n                this._filterByValue();\n                this._actionButtons();\n            },\n            options: {\n                name: 'FilterMenu',\n                column: 0,\n                range: null,\n                operators: {\n                    string: {\n                        contains: 'Text contains',\n                        doesnotcontain: 'Text does not contain',\n                        startswith: 'Text starts with',\n                        endswith: 'Text ends with'\n                    },\n                    date: {\n                        eq: 'Date is',\n                        neq: 'Date is not',\n                        lt: 'Date is before',\n                        gt: 'Date is after'\n                    },\n                    number: {\n                        eq: 'Is equal to',\n                        neq: 'Is not equal to',\n                        gte: 'Is greater than or equal to',\n                        gt: 'Is greater than',\n                        lte: 'Is less than or equal to',\n                        lt: 'Is less than'\n                    }\n                }\n            },\n            events: ['action'],\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                this.menu.destroy();\n                this.valuesTreeView.destroy();\n                this.popup.destroy();\n            },\n            openFor: function (anchor) {\n                this.popup.setOptions({ anchor: anchor });\n                this.popup.open();\n            },\n            close: function () {\n                this.popup.close();\n            },\n            clear: function () {\n                this.action({\n                    command: 'ClearFilterCommand',\n                    options: { column: this.options.column }\n                });\n                this.viewModel.reset();\n                this.close();\n            },\n            apply: function () {\n                this._active();\n                var options = {\n                    operatingRange: this.options.range,\n                    column: this.options.column\n                };\n                var valueFilter;\n                var customFilter;\n                if (this.viewModel.active === 'value') {\n                    this.viewModel.valuesChange({ sender: this.valuesTreeView });\n                    valueFilter = this.viewModel.valueFilter.toJSON();\n                    if (valueFilter.blanks || valueFilter.values && valueFilter.values.length) {\n                        options.valueFilter = valueFilter;\n                    }\n                } else if (this.viewModel.active === 'custom') {\n                    customFilter = this.viewModel.customFilter.toJSON();\n                    if (customFilter.criteria.length && customFilter.criteria[0].value !== null) {\n                        options.customFilter = customFilter;\n                    }\n                }\n                if (options.valueFilter || options.customFilter) {\n                    this.action({\n                        command: 'ApplyFilterCommand',\n                        options: options\n                    });\n                }\n            },\n            action: function (options) {\n                this.trigger('action', $.extend({}, options));\n            },\n            _filterInit: function () {\n                var column = this.options.column;\n                var range = this.options.range;\n                var sheet = range.sheet();\n                var activeFilter = FilterMenuController.filter(column, sheet);\n                if (activeFilter) {\n                    var filterType = FilterMenuController.filterType(range, column);\n                    this.viewModel.set('active', activeFilter.type);\n                    this.viewModel.set(activeFilter.type + 'Filter', activeFilter.options);\n                    if (activeFilter.type == 'custom') {\n                        this.viewModel.set('operator', filterType + '_' + activeFilter.operator);\n                        this.viewModel.set('operatorType', filterType);\n                    }\n                } else {\n                    this.viewModel.reset();\n                }\n            },\n            _popup: function () {\n                this.popup = this.element.kendoPopup({ copyAnchorStyles: false }).data('kendoPopup');\n            },\n            _sort: function () {\n                var template = kendo.template(FilterMenu.templates.menuItem);\n                var messages = FILTERMENU_MESSAGES;\n                var items = [\n                    {\n                        command: 'sort',\n                        dir: 'asc',\n                        text: messages.sortAscending,\n                        iconClass: 'sort-asc'\n                    },\n                    {\n                        command: 'sort',\n                        dir: 'desc',\n                        text: messages.sortDescending,\n                        iconClass: 'sort-desc'\n                    }\n                ];\n                var ul = $('<ul />', { 'html': kendo.render(template, items) }).appendTo(this.element);\n                this.menu = ul.kendoMenu({\n                    orientation: 'vertical',\n                    select: function (e) {\n                        var dir = $(e.item).data('dir');\n                        var range = this.options.range.resize({ top: 1 });\n                        var options = {\n                            value: dir,\n                            sheet: false,\n                            operatingRange: range,\n                            column: this.options.column\n                        };\n                        if (range.isSortable()) {\n                            this.action({\n                                command: 'SortCommand',\n                                options: options\n                            });\n                        } else {\n                            this.close();\n                        }\n                    }.bind(this)\n                }).data('kendoMenu');\n            },\n            _appendTemplate: function (template, className, details, expanded) {\n                var compiledTemplate = kendo.template(template);\n                var wrapper = $('<div class=\\'' + className + '\\'/>').html(compiledTemplate({\n                    messages: FILTERMENU_MESSAGES,\n                    guid: kendo.guid(),\n                    ns: kendo.ns\n                }));\n                this.element.append(wrapper);\n                if (details) {\n                    details = new Details(wrapper, {\n                        expanded: expanded,\n                        toggle: this._detailToggle.bind(this)\n                    });\n                }\n                kendo.bind(wrapper, this.viewModel);\n                return wrapper;\n            },\n            _detailToggle: function (e) {\n                this.element.find('[data-role=details]').not(e.sender.element).data('kendoDetails').toggle(!e.show);\n            },\n            _filterByCondition: function () {\n                var isExpanded = this.viewModel.active === 'custom';\n                this._appendTemplate(FilterMenu.templates.filterByCondition, FilterMenu.classNames.filterByCondition, true, isExpanded);\n            },\n            _filterByValue: function () {\n                var isExpanded = this.viewModel.active === 'value';\n                var wrapper = this._appendTemplate(FilterMenu.templates.filterByValue, FilterMenu.classNames.filterByValue, true, isExpanded);\n                this.valuesTreeView = wrapper.find('[data-role=treeview]').data('kendoTreeView');\n                var values = FilterMenuController.valuesTree(this.options.range, this.options.column);\n                this.viewModel.set('valuesDataSource', new kendo.data.HierarchicalDataSource({ data: values }));\n            },\n            _actionButtons: function () {\n                this._appendTemplate(FilterMenu.templates.actionButtons, FilterMenu.classNames.actionButtons, false);\n            },\n            _active: function () {\n                var activeContainer = this.element.find('[data-role=details]').filter(function (index, element) {\n                    return $(element).data('kendoDetails').visible();\n                });\n                if (activeContainer.hasClass(FilterMenu.classNames.filterByValue)) {\n                    this.viewModel.set('active', 'value');\n                } else if (activeContainer.hasClass(FilterMenu.classNames.filterByCondition)) {\n                    this.viewModel.set('active', 'custom');\n                }\n            }\n        });\n        kendo.spreadsheet.FilterMenu = FilterMenu;\n        $.extend(true, FilterMenu, {\n            classNames: classNames,\n            templates: templates\n        });\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/editor', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var SheetEditor = kendo.Observable.extend({\n            init: function (view) {\n                kendo.Observable.fn.init.call(this);\n                this.view = view;\n                this.formulaBar = view.formulaBar;\n                this._active = false;\n                this.barInput = view.formulaBar.formulaInput;\n                this.cellInput = view.formulaInput;\n                this.barInput.syncWith(this.cellInput);\n                this.cellInput.syncWith(this.barInput);\n                this.barInput.bind('keyup', this._triggerUpdate.bind(this));\n                this.cellInput.bind('keyup', this._triggerUpdate.bind(this));\n                this.barInput.bind('focus', this._focus.bind(this));\n                this.cellInput.bind('focus', this._focus.bind(this));\n                this.barInput.bind('blur', this._blur.bind(this));\n                this.cellInput.bind('blur', this._blur.bind(this));\n            },\n            events: [\n                'activate',\n                'deactivate',\n                'change',\n                'update'\n            ],\n            _focus: function (e) {\n                this.lastActive = e.sender == this.barInput ? 'bar' : 'cell';\n            },\n            _blur: function () {\n            },\n            _triggerUpdate: function () {\n                this.trigger('update', { value: this.value() });\n            },\n            activeEditor: function () {\n                var editor = null;\n                var activeElement = kendo._activeElement();\n                if (this.barElement()[0] === activeElement) {\n                    editor = this.barInput;\n                } else if (this.cellElement()[0] === activeElement) {\n                    editor = this.cellInput;\n                }\n                return editor;\n            },\n            activate: function (options) {\n                this._active = true;\n                this._rect = options.rect;\n                this.cellInput.position(options.rect);\n                this.cellInput.resize(options.rect);\n                this.cellInput.tooltip(options.tooltip);\n                this.cellInput.activeCell = this.barInput.activeCell = options.range.topLeft;\n                this.trigger('activate');\n                return this;\n            },\n            deactivate: function () {\n                var cellInput = this.cellInput;\n                if (!this._active) {\n                    return;\n                }\n                if (cellInput.value() != this._value) {\n                    if (this.trigger('change', { value: cellInput.value() })) {\n                        return;\n                    }\n                }\n                this._active = false;\n                this._rect = null;\n                cellInput.hide();\n                this.trigger('deactivate');\n            },\n            enable: function (enable) {\n                this.barInput.enable(enable);\n                this.cellInput.enable(enable);\n            },\n            enableEditing: function (enable) {\n                this.barInput.enableEditing(enable);\n                this.cellInput.enableEditing(enable);\n            },\n            barElement: function () {\n                return this.barInput.element;\n            },\n            cellElement: function () {\n                return this.cellInput.element;\n            },\n            focusLastActive: function () {\n                this.focus(this.lastActive);\n            },\n            focus: function (inputType) {\n                inputType = inputType || 'cell';\n                if (inputType === 'cell') {\n                    this.cellInput.element.focus();\n                    this.cellInput.end();\n                } else {\n                    this.barInput.element.focus();\n                }\n            },\n            isActive: function () {\n                return this._active;\n            },\n            isFiltered: function () {\n                return this.barInput.popup.visible() || this.cellInput.popup.visible();\n            },\n            canInsertRef: function (isKeyboardAction) {\n                var editor = this.activeEditor();\n                return editor && editor.canInsertRef(isKeyboardAction);\n            },\n            highlightedRefs: function () {\n                var editor = this.activeEditor();\n                var refs = [];\n                if (editor) {\n                    refs = editor.highlightedRefs();\n                }\n                return refs;\n            },\n            scale: function () {\n                this.cellInput.scale();\n            },\n            toggleTooltip: function (rect) {\n                this.cellInput.toggleTooltip(notEqual(this._rect, rect));\n            },\n            value: function (value) {\n                if (value === undefined) {\n                    return this.barInput.value();\n                }\n                if (value === null) {\n                    value = '';\n                }\n                this._value = value;\n                this.barInput.value(value);\n                this.cellInput.value(value);\n            },\n            insertNewline: function () {\n                this.activeEditor().insertNewline();\n                this.scale();\n            }\n        });\n        function notEqual(oldRect, newRect) {\n            return oldRect && (oldRect.top !== newRect.top || oldRect.left !== newRect.left);\n        }\n        kendo.spreadsheet.SheetEditor = SheetEditor;\n    }(kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/autofill', [\n        'spreadsheet/runtime',\n        'spreadsheet/range'\n    ], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var spreadsheet = kendo.spreadsheet;\n    var Range = spreadsheet.Range;\n    var runtime = spreadsheet.calc.runtime;\n    var Formula = runtime.Formula;\n    var ERR_INCOMPATIBLE = 'incompatibleRanges';\n    var ERR_NO_DIRECTION = 'noFillDirection';\n    var FillError = Range.FillError = function (msg) {\n        this.code = msg;\n    };\n    Range.prototype._previewFillFrom = function (srcRange, direction) {\n        var destRange = this, sheet = destRange._sheet;\n        if (typeof srcRange == 'string') {\n            srcRange = sheet.range(srcRange);\n        }\n        var src = srcRange._ref.toRangeRef();\n        var dest = destRange._ref.toRangeRef();\n        if (src.intersects(dest)) {\n            if (src.eq(dest)) {\n                return null;\n            }\n            dest = dest.clone();\n            if (src.topLeft.eq(dest.topLeft)) {\n                if (src.width() == dest.width()) {\n                    dest.topLeft.row += src.height();\n                    direction = 0;\n                } else if (src.height() == dest.height()) {\n                    dest.topLeft.col += src.width();\n                    direction = 1;\n                } else {\n                    throw new FillError(ERR_INCOMPATIBLE);\n                }\n            } else if (src.bottomRight.eq(dest.bottomRight)) {\n                if (src.width() == dest.width()) {\n                    dest.bottomRight.row -= src.height();\n                    direction = 2;\n                } else if (src.height() == dest.height()) {\n                    dest.bottomRight.col -= src.width();\n                    direction = 3;\n                } else {\n                    throw new FillError(ERR_INCOMPATIBLE);\n                }\n            } else {\n                throw new FillError(ERR_INCOMPATIBLE);\n            }\n            return sheet.range(dest)._previewFillFrom(srcRange, direction);\n        }\n        if (direction == null) {\n            if (src.topLeft.col == dest.topLeft.col) {\n                direction = src.topLeft.row < dest.topLeft.row ? 0 : 2;\n            } else if (src.topLeft.row == dest.topLeft.row) {\n                direction = src.topLeft.col < dest.topLeft.col ? 1 : 3;\n            } else {\n                throw new FillError(ERR_NO_DIRECTION);\n            }\n        }\n        var horizontal = direction & 1;\n        var descending = direction & 2;\n        if (horizontal && src.height() != dest.height() || !horizontal && src.width() != dest.width()) {\n            throw new FillError(ERR_INCOMPATIBLE);\n        }\n        var data = srcRange._properties(), n;\n        if (!horizontal) {\n            data = transpose(data);\n            n = dest.height();\n        } else {\n            n = dest.width();\n        }\n        var fill = new Array(data.length);\n        for (var i = 0; i < data.length; ++i) {\n            var s = data[i];\n            var f = findSeries(s);\n            var a = fill[i] = new Array(n);\n            for (var j = 0; j < n; ++j) {\n                var idx = descending ? -j - 1 : s.length + j;\n                var srcIdx = descending ? s.length - j % s.length - 1 : j % s.length;\n                a[descending ? n - j - 1 : j] = f(idx, srcIdx);\n            }\n        }\n        if (!horizontal) {\n            fill = transpose(fill);\n        }\n        return {\n            props: fill,\n            direction: direction,\n            dest: destRange\n        };\n    };\n    Range.prototype.fillFrom = function (srcRange, direction) {\n        var x = this._previewFillFrom(srcRange, direction);\n        x.dest._properties(x.props);\n        return x.dest;\n    };\n    function linearRegression(data) {\n        var N = data.length;\n        var mx = (N + 1) / 2, my = data.reduce(function (a, b) {\n                return a + b;\n            }, 0) / N;\n        var s1 = 0, s2 = 0;\n        for (var i = 0; i < N; i++) {\n            var t1 = i + 1 - mx, t2 = data[i] - my;\n            s1 += t1 * t2;\n            s2 += t1 * t1;\n        }\n        if (!s2) {\n            return function (N) {\n                return data[N % data.length];\n            };\n        }\n        var b = s1 / s2, a = my - b * mx;\n        return function (N) {\n            return a + b * (N + 1);\n        };\n    }\n    function findSeries(properties) {\n        function findStep(a) {\n            var diff = a[1] - a[0];\n            for (var i = 2; i < a.length; ++i) {\n                if (a[i] - a[i - 1] != diff) {\n                    return null;\n                }\n            }\n            return diff;\n        }\n        function getData(a) {\n            return a.map(function (v) {\n                return v.number;\n            });\n        }\n        var series = [];\n        var data = properties.map(function (x) {\n            return x.formula || x.value;\n        });\n        forEachSeries(data, function (begin, end, type, a) {\n            var f, values;\n            if (type == 'number') {\n                values = getData(a);\n                if (values.length == 1 && (begin > 0 || end < data.length || formatType(values[0], properties[begin].format) == 'date')) {\n                    values.push(values[0] + 1);\n                }\n                f = linearRegression(values);\n            } else if (type == 'string' || type == 'formula' || type == 'boolean') {\n                f = function (N, i) {\n                    return data[i];\n                };\n            } else if (Array.isArray(type)) {\n                if (a.length == 1) {\n                    f = function (N) {\n                        return type[(a[0].number + N) % type.length];\n                    };\n                } else {\n                    var diff = findStep(getData(a));\n                    if (diff == null) {\n                        f = function (N) {\n                            return a[N % a.length].value;\n                        };\n                    } else {\n                        f = function (N) {\n                            var idx = a[0].number + diff * N;\n                            return type[idx % type.length];\n                        };\n                    }\n                }\n            } else if (type != 'null') {\n                values = getData(a);\n                if (values.length == 1) {\n                    values.push(values[0] + 1);\n                }\n                values = linearRegression(values);\n                f = function (N, i) {\n                    return data[i].replace(/^(.*\\D)\\d+/, '$1' + values(N, i));\n                };\n            } else {\n                f = function () {\n                    return null;\n                };\n            }\n            var s = {\n                f: f,\n                begin: begin,\n                end: end,\n                len: end - begin\n            };\n            for (var i = begin; i < end; ++i) {\n                series[i] = s;\n            }\n        });\n        return function (N, i) {\n            var s = series[i];\n            var q = N / data.length | 0;\n            var r = N % data.length;\n            var n = q * s.len + r - s.begin;\n            var value = s.f(n, i);\n            var props = clone(properties[i]);\n            delete props.enable;\n            if (value instanceof Formula) {\n                props.formula = value;\n            } else {\n                props.value = value;\n            }\n            return props;\n        };\n    }\n    function formatType(value, format) {\n        if (format != null) {\n            return spreadsheet.formatting.type(value, format);\n        }\n    }\n    function clone(obj) {\n        var copy = {};\n        Object.keys(obj || {}).forEach(function (key) {\n            copy[key] = obj[key];\n        });\n        return copy;\n    }\n    function forEachSeries(data, f) {\n        var prev = null, start = 0, a = [], type;\n        for (var i = 0; i < data.length; ++i) {\n            type = getType(data[i]);\n            a.push(type);\n            if (prev != null && type.type !== prev.type) {\n                f(start, i, prev.type, a.slice(start, i));\n                start = i;\n            }\n            prev = type;\n        }\n        f(start, i, prev.type, a.slice(start, i));\n    }\n    function getType(el) {\n        if (typeof el == 'number') {\n            return {\n                type: 'number',\n                number: el\n            };\n        }\n        if (typeof el == 'string') {\n            var lst = findStringList(el);\n            if (lst) {\n                return lst;\n            }\n            var m = /^(.*\\D)(\\d+)/.exec(el);\n            if (m) {\n                el = el.replace(/^(.*\\D)\\d+/, '$1-######');\n                return {\n                    type: el,\n                    match: m,\n                    number: parseFloat(m[2])\n                };\n            }\n            return { type: 'string' };\n        }\n        if (typeof el == 'boolean') {\n            return { type: 'boolean' };\n        }\n        if (el == null) {\n            return { type: 'null' };\n        }\n        if (el instanceof Formula) {\n            return { type: 'formula' };\n        }\n        window.console.error(el);\n        throw new Error('Cannot fill data');\n    }\n    function stringLists() {\n        var culture = kendo.culture();\n        return [\n            culture.calendars.standard.days.namesAbbr,\n            culture.calendars.standard.days.names,\n            culture.calendars.standard.months.namesAbbr,\n            culture.calendars.standard.months.names\n        ];\n    }\n    function findStringList(str) {\n        var strl = str.toLowerCase();\n        var lists = stringLists();\n        for (var i = 0; i < lists.length; ++i) {\n            var a = lists[i];\n            for (var j = a.length; --j >= 0;) {\n                var el = a[j].toLowerCase();\n                if (el == strl) {\n                    return {\n                        type: a,\n                        number: j,\n                        value: str\n                    };\n                }\n            }\n        }\n    }\n    function transpose(a) {\n        var height = a.length, width = a[0].length;\n        var t = [];\n        for (var i = 0; i < width; ++i) {\n            t[i] = [];\n            for (var j = 0; j < height; ++j) {\n                t[i][j] = a[j][i];\n            }\n        }\n        return t;\n    }\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/nameeditor', ['kendo.core'], f);\n}(function () {\n    (function (kendo) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var CLASS_NAMES = {\n            input: 'k-spreadsheet-name-editor',\n            list: 'k-spreadsheet-name-list'\n        };\n        var NameEditor = kendo.ui.Widget.extend({\n            init: function (element, options) {\n                kendo.ui.Widget.call(this, element, options);\n                element.addClass(CLASS_NAMES.input);\n                var dataSource = new kendo.data.DataSource({\n                    transport: {\n                        read: function (options) {\n                            var data = [];\n                            this._workbook.forEachName(function (def) {\n                                if (!def.hidden && def.value instanceof kendo.spreadsheet.Ref) {\n                                    data.push({ name: def.name });\n                                }\n                            });\n                            options.success(data);\n                        }.bind(this),\n                        cache: false\n                    }\n                });\n                this.combo = $('<input />').appendTo(element).kendoComboBox({\n                    clearButton: false,\n                    dataTextField: 'name',\n                    dataValueField: 'name',\n                    template: '#:data.name#<a class=\\'k-button-delete\\' href=\\'\\\\#\\'><span class=\\'k-icon k-i-close\\'></span></a>',\n                    dataSource: dataSource,\n                    autoBind: false,\n                    ignoreCase: true,\n                    change: this._on_listChange.bind(this),\n                    noDataTemplate: '<div></div>',\n                    open: function () {\n                        dataSource.read();\n                    }\n                }).getKendoComboBox();\n                this.combo.input.on('keydown', this._on_keyDown.bind(this)).on('focus', this._on_focus.bind(this));\n                this.combo.popup.element.addClass('k-spreadsheet-names-popup').on('mousemove', function (ev) {\n                    ev.stopPropagation();\n                }).on('click', '.k-button-delete', function (ev) {\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                    var item = $(ev.target).closest('.k-item');\n                    item = this.combo.dataItem(item);\n                    this._deleteItem(item.name);\n                }.bind(this));\n            },\n            value: function (val) {\n                if (val === undefined) {\n                    return this.combo.value();\n                } else {\n                    this.combo.value(val);\n                }\n            },\n            _deleteItem: function (name) {\n                this.trigger('delete', { name: name });\n            },\n            _on_keyDown: function (ev) {\n                switch (ev.keyCode) {\n                case 27:\n                    this.combo.value(this._prevValue);\n                    this.trigger('cancel');\n                    break;\n                case 13:\n                    this.trigger('enter');\n                    break;\n                }\n            },\n            _on_focus: function () {\n                this._prevValue = this.combo.value();\n            },\n            _on_listChange: function () {\n                var name = this.combo.value();\n                if (name) {\n                    this.trigger('select', { name: name });\n                }\n            }\n        });\n        kendo.spreadsheet.NameEditor = NameEditor;\n    }(window.kendo));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('spreadsheet/print', [\n        'kendo.pdf',\n        'spreadsheet/sheet',\n        'spreadsheet/range',\n        'spreadsheet/references',\n        'spreadsheet/numformat',\n        'util/text-metrics'\n    ], f);\n}(function () {\n    'use strict';\n    if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n        return;\n    }\n    var spreadsheet = kendo.spreadsheet;\n    var CellRef = spreadsheet.CellRef;\n    var drawing = kendo.drawing;\n    var formatting = spreadsheet.formatting;\n    var geo = kendo.geometry;\n    var GUIDELINE_WIDTH = 0.8;\n    function distributeCoords(heights, pageHeight) {\n        var curr = 0;\n        var out = [];\n        var threshold = 0.2 * pageHeight;\n        var bottom = pageHeight;\n        heights.forEach(function (h) {\n            if (pageHeight && curr + h > bottom) {\n                if (bottom - curr < threshold) {\n                    curr = pageHeight * Math.ceil(curr / pageHeight);\n                }\n                bottom += pageHeight * Math.ceil(h / pageHeight);\n            }\n            out.push(curr);\n            curr += h;\n        });\n        out.push(curr);\n        return out;\n    }\n    function getMergedCells(sheet, range) {\n        var grid = sheet._grid;\n        var primary = {};\n        var secondary = {};\n        sheet.forEachMergedCell(range, function (ref) {\n            var topLeft = ref.topLeft;\n            grid.forEach(ref, function (cellRef) {\n                if (topLeft.eq(cellRef)) {\n                    primary[cellRef.print()] = ref;\n                } else if (range.contains(cellRef)) {\n                    secondary[cellRef.print()] = topLeft;\n                }\n            });\n        });\n        return {\n            primary: primary,\n            secondary: secondary\n        };\n    }\n    function doLayout(sheet, range, options) {\n        var cells = [];\n        var rowHeights = [];\n        var colWidths = [];\n        var mergedCells = getMergedCells(sheet, range);\n        var maxRow = -1, maxCol = -1;\n        sheet.forEach(range, function (row, col, cell) {\n            var relrow = row - range.topLeft.row;\n            var relcol = col - range.topLeft.col;\n            var rh = sheet.rowHeight(row);\n            var cw = sheet.columnWidth(col);\n            if (!relcol) {\n                rowHeights.push(rh);\n            }\n            if (!relrow) {\n                colWidths.push(cw);\n            }\n            if (sheet.isHiddenColumn(col) || sheet.isHiddenRow(row) || !rh || !cw) {\n                return;\n            }\n            var nonEmpty = options.forScreen || shouldDrawCell(cell);\n            if (!(options.emptyCells || nonEmpty)) {\n                return;\n            }\n            var id = new CellRef(row, col).print();\n            if (mergedCells.secondary[id]) {\n                return;\n            }\n            if (nonEmpty) {\n                maxRow = Math.max(maxRow, relrow);\n                maxCol = Math.max(maxCol, relcol);\n            } else {\n                cell.empty = true;\n            }\n            var m = mergedCells.primary[id];\n            if (m) {\n                delete mergedCells.primary[id];\n                cell.merged = true;\n                cell.rowspan = m.height();\n                cell.colspan = m.width();\n                if (options.forScreen) {\n                    cell.width = sheet._columns.sum(m.topLeft.col, m.bottomRight.col);\n                    cell.height = sheet._rows.sum(m.topLeft.row, m.bottomRight.row);\n                }\n            } else {\n                cell.rowspan = 1;\n                cell.colspan = 1;\n            }\n            cell.row = relrow;\n            cell.col = relcol;\n            cells.push(cell);\n        });\n        rowHeights = rowHeights.slice(0, maxRow + 1);\n        colWidths = colWidths.slice(0, maxCol + 1);\n        var pageWidth = options.pageWidth;\n        var pageHeight = options.pageHeight;\n        var scaleFactor = 1;\n        if (options.fitWidth) {\n            var width = colWidths.reduce(sum, 0);\n            if (width > pageWidth) {\n                scaleFactor = pageWidth / width;\n                pageWidth /= scaleFactor;\n                pageHeight /= scaleFactor;\n            }\n        }\n        var yCoords = distributeCoords(rowHeights, pageHeight || 0);\n        var xCoords = distributeCoords(colWidths, pageWidth || 0);\n        var boxWidth = 0;\n        var boxHeight = 0;\n        cells = cells.filter(function (cell) {\n            if (cell.empty && (cell.row > maxRow || cell.col > maxCol)) {\n                return false;\n            }\n            cell.left = xCoords[cell.col];\n            cell.top = yCoords[cell.row];\n            if (cell.merged) {\n                if (!options.forScreen) {\n                    cell.right = orlast(xCoords, cell.col + cell.colspan);\n                    cell.bottom = orlast(yCoords, cell.row + cell.rowspan);\n                    cell.width = cell.right - cell.left;\n                    cell.height = cell.bottom - cell.top;\n                } else {\n                    cell.right = cell.left + cell.width;\n                    cell.bottom = cell.top + cell.height;\n                }\n            } else {\n                cell.width = colWidths[cell.col];\n                cell.height = rowHeights[cell.row];\n                cell.bottom = cell.top + cell.height;\n                cell.right = cell.left + cell.width;\n            }\n            boxWidth = Math.max(boxWidth, cell.right);\n            boxHeight = Math.max(boxHeight, cell.bottom);\n            return true;\n        });\n        Object.keys(mergedCells.primary).forEach(function (id) {\n            var ref = mergedCells.primary[id];\n            sheet.forEach(ref.topLeft.toRangeRef(), function (row, col, cell) {\n                var relrow = row - range.topLeft.row;\n                var relcol = col - range.topLeft.col;\n                cell.merged = true;\n                cell.colspan = ref.height();\n                cell.rowspan = ref.width();\n                if (relrow < 0) {\n                    cell.top = -sheet._rows.sum(row, row - relrow - 1);\n                } else {\n                    cell.top = yCoords[relrow];\n                }\n                if (relcol < 0) {\n                    cell.left = -sheet._columns.sum(col, col - relcol - 1);\n                } else {\n                    cell.left = xCoords[relcol];\n                }\n                cell.height = sheet._rows.sum(ref.topLeft.row, ref.bottomRight.row);\n                cell.width = sheet._columns.sum(ref.topLeft.col, ref.bottomRight.col);\n                if (cell.height > 0 && cell.width > 0) {\n                    cell.right = cell.left + cell.width;\n                    cell.bottom = cell.top + cell.height;\n                    cells.push(cell);\n                }\n            });\n        });\n        return {\n            width: boxWidth,\n            height: boxHeight,\n            cells: cells.sort(normalOrder),\n            scale: scaleFactor,\n            xCoords: xCoords,\n            yCoords: yCoords\n        };\n    }\n    function sum(a, b) {\n        return a + b;\n    }\n    function orlast(a, i) {\n        return i < a.length ? a[i] : a[a.length - 1];\n    }\n    function shouldDrawCell(cell) {\n        return cell.value != null || cell.merged || cell.background != null || cell.borderTop != null || cell.borderRight != null || cell.borderBottom != null || cell.borderLeft != null || cell.validation != null && !cell.validation.value;\n    }\n    function normalOrder(a, b) {\n        if (a.top < b.top) {\n            return -1;\n        } else if (a.top == b.top) {\n            if (a.left < b.left) {\n                return -1;\n            } else if (a.left == b.left) {\n                return 0;\n            } else {\n                return 1;\n            }\n        } else {\n            return 1;\n        }\n    }\n    function drawLayout(layout, group, options) {\n        var ncols = Math.ceil(layout.width / options.pageWidth);\n        var nrows = Math.ceil(layout.height / options.pageHeight);\n        var pageWidth = options.pageWidth / layout.scale;\n        var pageHeight = options.pageHeight / layout.scale;\n        for (var i = 0; i < ncols; ++i) {\n            for (var j = 0; j < nrows; ++j) {\n                addPage(j, i);\n            }\n        }\n        function addPage(row, col) {\n            var left = col * pageWidth;\n            var right = left + pageWidth;\n            var top = row * pageHeight;\n            var bottom = top + pageHeight;\n            var endbottom = 0, endright = 0;\n            var cells = layout.cells.filter(function (cell) {\n                if (cell.right <= left || cell.left >= right || cell.bottom <= top || cell.top >= bottom) {\n                    return false;\n                }\n                endbottom = Math.max(cell.bottom, endbottom);\n                endright = Math.max(cell.right, endright);\n                return true;\n            });\n            if (cells.length > 0) {\n                var page = new drawing.Group();\n                group.append(page);\n                page.clip(drawing.Path.fromRect(new geo.Rect([\n                    0,\n                    0\n                ], [\n                    options.pageWidth,\n                    options.pageHeight\n                ])));\n                var content = new drawing.Group();\n                page.append(content);\n                var matrix = geo.Matrix.scale(layout.scale, layout.scale).multiplyCopy(geo.Matrix.translate(-left, -top));\n                if (options.hCenter || options.vCenter) {\n                    matrix = matrix.multiplyCopy(geo.Matrix.translate(options.hCenter ? (right - endright) / 2 : 0, options.vCenter ? (bottom - endbottom) / 2 : 0));\n                }\n                content.transform(matrix);\n                if (options.guidelines) {\n                    var prev = null;\n                    layout.xCoords.forEach(function (x) {\n                        x = Math.min(x, endright);\n                        if (x !== prev && x >= left && x <= right) {\n                            prev = x;\n                            content.append(new drawing.Path().moveTo(x, top).lineTo(x, endbottom).close().stroke('#999', GUIDELINE_WIDTH));\n                        }\n                    });\n                    var prev = null;\n                    layout.yCoords.forEach(function (y) {\n                        y = Math.min(y, endbottom);\n                        if (y !== prev && y >= top && y <= bottom) {\n                            prev = y;\n                            content.append(new drawing.Path().moveTo(left, y).lineTo(endright, y).close().stroke('#999', GUIDELINE_WIDTH));\n                        }\n                    });\n                }\n                var borders = new drawing.Group();\n                cells.forEach(function (cell) {\n                    drawCell(cell, content, borders, options);\n                });\n                content.append(borders);\n            }\n        }\n    }\n    function drawCell(cell, content, borders, options) {\n        var g = new drawing.Group();\n        content.append(g);\n        var rect = new geo.Rect([\n            cell.left,\n            cell.top\n        ], [\n            cell.width,\n            cell.height\n        ]);\n        if (cell.background || cell.merged) {\n            var r2d2 = rect;\n            if (options.guidelines) {\n                r2d2 = rect.clone();\n                r2d2.origin.x += GUIDELINE_WIDTH / 2;\n                r2d2.origin.y += GUIDELINE_WIDTH / 2;\n                r2d2.size.width -= GUIDELINE_WIDTH;\n                r2d2.size.height -= GUIDELINE_WIDTH;\n            }\n            g.append(new drawing.Rect(r2d2).fill(cell.background || '#fff').stroke(null));\n        }\n        if (cell.borderLeft) {\n            borders.append(new drawing.Path().moveTo(cell.left, cell.top).lineTo(cell.left, cell.bottom).close().stroke(cell.borderLeft.color, cell.borderLeft.size));\n        }\n        if (cell.borderTop) {\n            borders.append(new drawing.Path().moveTo(cell.left, cell.top).lineTo(cell.right, cell.top).close().stroke(cell.borderTop.color, cell.borderTop.size));\n        }\n        if (cell.borderRight) {\n            borders.append(new drawing.Path().moveTo(cell.right, cell.top).lineTo(cell.right, cell.bottom).close().stroke(cell.borderRight.color, cell.borderRight.size));\n        }\n        if (cell.borderBottom) {\n            borders.append(new drawing.Path().moveTo(cell.left, cell.bottom).lineTo(cell.right, cell.bottom).close().stroke(cell.borderBottom.color, cell.borderBottom.size));\n        }\n        var val = cell.value;\n        if (val != null) {\n            var type = typeof val == 'number' ? 'number' : null;\n            var clip = new drawing.Group();\n            clip.clip(drawing.Path.fromRect(rect));\n            g.append(clip);\n            var f;\n            if (cell.format) {\n                f = formatting.textAndColor(val, cell.format);\n                val = f.text;\n                if (f.type) {\n                    type = f.type;\n                }\n            } else {\n                val += '';\n            }\n            if (!cell.textAlign) {\n                switch (type) {\n                case 'number':\n                case 'date':\n                case 'percent':\n                    cell.textAlign = 'right';\n                    break;\n                case 'boolean':\n                    cell.textAlign = 'center';\n                    break;\n                }\n            }\n            drawText(val, f && f.color || cell.color || '#000', cell, clip);\n        }\n    }\n    function drawText(text, color, cell, group) {\n        var rect_left = cell.left + 2;\n        var rect_top = cell.top + 2;\n        var rect_width = cell.width - 4;\n        var rect_height = cell.height - 4;\n        var font = makeFontDef(cell);\n        var style = {\n            font: font,\n            whiteSpace: 'pre'\n        };\n        var props = {\n            font: font,\n            fill: { color: color }\n        };\n        var lines = [], text_height = 0, top = rect_top;\n        if (cell.wrap) {\n            paraBreak(text, style, rect_width).forEach(function (line) {\n                var tmp = new drawing.Text(line.text, [\n                    rect_left,\n                    top\n                ], props);\n                top += line.box.height;\n                lines.push({\n                    el: tmp,\n                    box: line.box\n                });\n            });\n            text_height = top - rect_top;\n        } else {\n            var tmp = new drawing.Text(text, [\n                rect_left,\n                top\n            ], props);\n            var box = kendo.util.measureText(text, style);\n            lines.push({\n                el: tmp,\n                box: box\n            });\n            text_height = box.height;\n        }\n        var cont = new drawing.Group();\n        group.append(cont);\n        var vtrans = 0;\n        switch (cell.verticalAlign) {\n        case 'center':\n            vtrans = rect_height - text_height >> 1;\n            break;\n        case undefined:\n        case null:\n        case 'bottom':\n            vtrans = rect_height - text_height;\n            break;\n        }\n        if (vtrans < 0) {\n            vtrans = 0;\n        }\n        lines.forEach(function (line) {\n            cont.append(line.el);\n            var htrans = 0;\n            var text_width = line.box.width;\n            switch (cell.textAlign) {\n            case 'center':\n                htrans = (rect_width - text_width) / 2;\n                break;\n            case 'right':\n                htrans = rect_width - text_width;\n                break;\n            }\n            if (htrans < 0) {\n                htrans = 0;\n            }\n            if (htrans || vtrans) {\n                line.el.transform(geo.Matrix.translate(htrans, vtrans));\n            }\n            if (cell.underline) {\n                var height = cell.fontSize || 12;\n                var width = height / 12;\n                var path = new drawing.Path({\n                    stroke: {\n                        width: width,\n                        color: color\n                    }\n                });\n                var pos = line.el.position();\n                var bottom = pos.y + height + vtrans + 2 * width;\n                path.moveTo(pos.x + htrans, bottom).lineTo(pos.x + htrans + text_width, bottom);\n                cont.append(path);\n            }\n        });\n    }\n    function lineBreak(text, style, width, lines) {\n        var len = text.length;\n        var start = 0;\n        while (start < len) {\n            split(start, len, len);\n        }\n        function split(min, eol, max) {\n            var sub = text.substring(start, eol).trim();\n            var box = kendo.util.measureText(sub, style);\n            if (box.width <= width) {\n                if (eol < max - 1) {\n                    split(eol, eol + max >> 1, max);\n                } else {\n                    lines.push({\n                        text: sub,\n                        box: box\n                    });\n                    start = eol;\n                }\n            } else if (min < eol) {\n                split(min, min + eol >> 1, eol);\n            }\n        }\n    }\n    function paraBreak(text, style, width) {\n        var a = text.split(/\\r?\\n/);\n        var lines = [];\n        a.forEach(function (text) {\n            lineBreak(text, style, width, lines);\n        });\n        return lines;\n    }\n    function makeFontDef(cell) {\n        var font = [];\n        if (cell.italic) {\n            font.push('italic');\n        }\n        if (cell.bold) {\n            font.push('bold');\n        }\n        font.push((cell.fontSize || 12) + 'px');\n        font.push(cell.fontFamily || 'Arial');\n        return font.join(' ');\n    }\n    function draw(sheet, range, options, callback) {\n        if (options == null && callback == null) {\n            callback = range;\n            options = {};\n            range = spreadsheet.SHEETREF;\n        }\n        if (callback == null) {\n            callback = options;\n            if (range instanceof spreadsheet.Range || range instanceof spreadsheet.Ref || typeof range == 'string') {\n                options = {};\n            } else {\n                options = range;\n                range = spreadsheet.SHEETREF;\n            }\n        }\n        options = kendo.jQuery.extend({\n            paperSize: 'A4',\n            landscape: true,\n            margin: '1cm',\n            guidelines: true,\n            emptyCells: true,\n            fitWidth: false,\n            center: false\n        }, options);\n        var group = new drawing.Group();\n        var paper = kendo.pdf.getPaperOptions(options);\n        group.options.set('pdf', {\n            author: options.author,\n            creator: options.creator,\n            date: options.date,\n            keywords: options.keywords,\n            margin: paper.margin,\n            multiPage: true,\n            paperSize: paper.paperSize,\n            subject: options.subject,\n            title: options.title\n        });\n        var pageWidth = paper.paperSize[0];\n        var pageHeight = paper.paperSize[1];\n        if (paper.margin) {\n            pageWidth -= paper.margin.left + paper.margin.right;\n            pageHeight -= paper.margin.top + paper.margin.bottom;\n        }\n        options.pageWidth = pageWidth;\n        options.pageHeight = pageHeight;\n        var layout = doLayout(sheet, sheet._ref(range), options);\n        drawLayout(layout, group, options);\n        callback(group);\n    }\n    spreadsheet.Sheet.prototype.draw = function (range, options, callback) {\n        var sheet = this;\n        if (sheet._workbook) {\n            sheet.recalc(sheet._workbook._context, function () {\n                draw(sheet, range, options, callback);\n            });\n        } else {\n            draw(sheet, range, options, callback);\n        }\n    };\n    spreadsheet.draw = {\n        doLayout: doLayout,\n        drawLayout: drawLayout,\n        shouldDrawCell: shouldDrawCell\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.spreadsheet', [\n        'util/undoredostack',\n        'util/text-metrics',\n        'util/parse-xml',\n        'kendo.excel',\n        'kendo.progressbar',\n        'kendo.pdf',\n        'spreadsheet/commands',\n        'spreadsheet/formulabar',\n        'spreadsheet/formulainput',\n        'spreadsheet/eventlistener',\n        'spreadsheet/rangelist',\n        'spreadsheet/propertybag',\n        'spreadsheet/references',\n        'spreadsheet/navigator',\n        'spreadsheet/axismanager',\n        'spreadsheet/clipboard',\n        'spreadsheet/range',\n        'spreadsheet/sheet',\n        'spreadsheet/sheetsbar',\n        'spreadsheet/excel-reader',\n        'spreadsheet/workbook',\n        'spreadsheet/formulacontext',\n        'spreadsheet/controller',\n        'spreadsheet/view',\n        'spreadsheet/customeditors',\n        'spreadsheet/grid',\n        'spreadsheet/axis',\n        'spreadsheet/filter',\n        'spreadsheet/sorter',\n        'spreadsheet/runtime',\n        'spreadsheet/calc',\n        'spreadsheet/numformat',\n        'spreadsheet/runtime.functions',\n        'spreadsheet/runtime.functions.2',\n        'spreadsheet/toolbar',\n        'spreadsheet/dialogs',\n        'spreadsheet/sheetbinder',\n        'spreadsheet/filtermenu',\n        'spreadsheet/editor',\n        'spreadsheet/autofill',\n        'spreadsheet/nameeditor',\n        'spreadsheet/print'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'spreadsheet',\n        name: 'Spreadsheet',\n        category: 'web',\n        description: 'Spreadsheet component',\n        depends: [\n            'core',\n            'binder',\n            'colorpicker',\n            'combobox',\n            'data',\n            'dom',\n            'dropdownlist',\n            'menu',\n            'ooxml',\n            'popup',\n            'sortable',\n            'tabstrip',\n            'toolbar',\n            'treeview',\n            'window',\n            'validator',\n            'excel',\n            'pdf',\n            'drawing'\n        ]\n    };\n    (function (kendo, undefined) {\n        if (kendo.support.browser.msie && kendo.support.browser.version < 9) {\n            return;\n        }\n        var $ = kendo.jQuery;\n        var Widget = kendo.ui.Widget;\n        var Workbook = kendo.spreadsheet.Workbook;\n        var Controller = kendo.spreadsheet.Controller;\n        var View = kendo.spreadsheet.View;\n        var NS = '.kendoSpreadsheet';\n        var ALL_REASONS = {\n            recalc: true,\n            selection: true,\n            activeCell: true,\n            layout: true,\n            sheetSelection: true,\n            resize: true,\n            editorChange: false,\n            editorClose: false\n        };\n        var classNames = { wrapper: 'k-widget k-spreadsheet' };\n        var Spreadsheet = kendo.ui.Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this.element.addClass(Spreadsheet.classNames.wrapper);\n                this._view = new View(this.element, {\n                    messages: this.options.messages.view,\n                    toolbar: this.options.toolbar,\n                    sheetsbar: this.options.sheetsbar\n                });\n                this._workbook = new Workbook(this.options, this._view);\n                this._controller = new Controller(this._view, this._workbook);\n                this._autoRefresh = true;\n                this._bindWorkbookEvents();\n                this._view.workbook(this._workbook);\n                this.refresh();\n                this._resizeHandler = function () {\n                    this.resize();\n                }.bind(this);\n                $(window).on('resize' + NS, this._resizeHandler);\n            },\n            _resize: function () {\n                this.refresh({ layout: true });\n            },\n            _workbookChange: function (e) {\n                if (this._autoRefresh) {\n                    this.refresh(e);\n                }\n                if (e.recalc && e.ref) {\n                    var range = new kendo.spreadsheet.Range(e.ref, this.activeSheet());\n                    this.trigger('change', { range: range });\n                }\n            },\n            activeSheet: function (sheet) {\n                return this._workbook.activeSheet(sheet);\n            },\n            moveSheetToIndex: function (sheet, index) {\n                return this._workbook.moveSheetToIndex(sheet, index);\n            },\n            insertSheet: function (options) {\n                return this._workbook.insertSheet(options);\n            },\n            sheets: function () {\n                return this._workbook.sheets();\n            },\n            removeSheet: function (sheet) {\n                return this._workbook.removeSheet(sheet);\n            },\n            sheetByName: function (sheetName) {\n                return this._workbook.sheetByName(sheetName);\n            },\n            sheetIndex: function (sheet) {\n                return this._workbook.sheetIndex(sheet);\n            },\n            sheetByIndex: function (index) {\n                return this._workbook.sheetByIndex(index);\n            },\n            renameSheet: function (sheet, newSheetName) {\n                return this._workbook.renameSheet(sheet, newSheetName);\n            },\n            refresh: function (reason) {\n                if (!reason) {\n                    reason = ALL_REASONS;\n                }\n                if (!reason.editorClose) {\n                    this._view.sheet(this._workbook.activeSheet());\n                    this._controller.sheet(this._workbook.activeSheet());\n                    this._workbook.refresh(reason);\n                }\n                if (!reason.editorChange) {\n                    this._view.refresh(reason);\n                    this._controller.refresh();\n                    this._view.render();\n                    this.trigger('render');\n                }\n                return this;\n            },\n            openDialog: function (name, options) {\n                return this._view.openDialog(name, options);\n            },\n            autoRefresh: function (value) {\n                if (value !== undefined) {\n                    this._autoRefresh = value;\n                    if (value === true) {\n                        this.refresh();\n                    }\n                    return this;\n                }\n                return this._autoRefresh;\n            },\n            toJSON: function () {\n                return this._workbook.toJSON();\n            },\n            fromJSON: function (json) {\n                if (json.sheets) {\n                    this._workbook.destroy();\n                    this._workbook = new Workbook($.extend({}, this.options, json));\n                    this._bindWorkbookEvents();\n                    this._view.workbook(this._workbook);\n                    this._controller.workbook(this._workbook);\n                    this.activeSheet(this.activeSheet());\n                } else {\n                    this.refresh();\n                }\n            },\n            fromFile: function (blob, name) {\n                return this._workbook.fromFile(blob, name);\n            },\n            saveAsPDF: function (options) {\n                this._workbook.saveAsPDF($.extend({}, this.options.pdf, options, { workbook: this._workbook }));\n            },\n            saveAsExcel: function (options) {\n                this._workbook.saveAsExcel(options);\n            },\n            draw: function (options, callback) {\n                this._workbook.draw(options, callback);\n            },\n            _workbookExcelExport: function (e) {\n                if (this.trigger('excelExport', e)) {\n                    e.preventDefault();\n                }\n            },\n            _workbookExcelImport: function (e) {\n                if (this.trigger('excelImport', e)) {\n                    e.preventDefault();\n                } else {\n                    this._initProgress(e.promise);\n                }\n            },\n            _initProgress: function (deferred) {\n                var loading = $('<div class=\\'k-loading-mask\\' ' + 'style=\\'width: 100%; height: 100%; top: 0;\\'>' + '<div class=\\'k-loading-color\\'/>' + '</div>').appendTo(this.element);\n                var pb = $('<div class=\\'k-loading-progress\\'>').appendTo(loading).kendoProgressBar({\n                    type: 'chunk',\n                    chunkCount: 10,\n                    min: 0,\n                    max: 1,\n                    value: 0\n                }).data('kendoProgressBar');\n                deferred.progress(function (e) {\n                    pb.value(e.progress);\n                }).always(function () {\n                    kendo.destroy(loading);\n                    loading.remove();\n                });\n            },\n            _workbookPdfExport: function (e) {\n                if (this.trigger('pdfExport', e)) {\n                    e.preventDefault();\n                }\n            },\n            _bindWorkbookEvents: function () {\n                this._workbook.bind('change', this._workbookChange.bind(this));\n                this._workbook.bind('excelExport', this._workbookExcelExport.bind(this));\n                this._workbook.bind('excelImport', this._workbookExcelImport.bind(this));\n                this._workbook.bind('pdfExport', this._workbookPdfExport.bind(this));\n            },\n            destroy: function () {\n                kendo.ui.Widget.fn.destroy.call(this);\n                this._workbook.destroy();\n                this._controller.destroy();\n                this._view.destroy();\n                if (this._resizeHandler) {\n                    $(window).off('resize' + NS, this._resizeHandler);\n                }\n            },\n            options: {\n                name: 'Spreadsheet',\n                toolbar: true,\n                sheetsbar: true,\n                rows: 200,\n                columns: 50,\n                rowHeight: 20,\n                columnWidth: 64,\n                headerHeight: 20,\n                headerWidth: 32,\n                excel: {\n                    proxyURL: '',\n                    fileName: 'Workbook.xlsx'\n                },\n                messages: {},\n                pdf: {\n                    area: 'workbook',\n                    fileName: 'Workbook.pdf',\n                    proxyURL: '',\n                    paperSize: 'a4',\n                    landscape: true,\n                    margin: null,\n                    title: null,\n                    author: null,\n                    subject: null,\n                    keywords: null,\n                    creator: 'Kendo UI PDF Generator v.' + kendo.version,\n                    date: null\n                }\n            },\n            defineName: function (name, value, hidden) {\n                return this._workbook.defineName(name, value, hidden);\n            },\n            undefineName: function (name) {\n                return this._workbook.undefineName(name);\n            },\n            nameValue: function (name) {\n                return this._workbook.nameValue(name);\n            },\n            forEachName: function (func) {\n                return this._workbook.forEachName(func);\n            },\n            events: [\n                'pdfExport',\n                'excelExport',\n                'excelImport',\n                'change',\n                'render'\n            ]\n        });\n        kendo.spreadsheet.ALL_REASONS = ALL_REASONS;\n        kendo.ui.plugin(Spreadsheet);\n        $.extend(true, Spreadsheet, { classNames: classNames });\n    }(window.kendo));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}