{"version":3,"sources":["kendo.gantt.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals",1,10,100,2,20,200,3,30,300,4,40,400,5,50,500,6,60,600,7,70,700,8,80,800,9,90,900,1000,"values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","mergeSort","a","cmp","merge","b","ai","bi","slice","left","right","Math","floor","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","amd","a1","a2","a3","parseFloat","makeOutput","out","num","Error","PDFValue","beforeRender","render","isArray","renderArray","isDate","renderDate","toFixed","indexOf","replace","writeString","test","get","write","PDFDictionary","indentLevel","BinaryStream","writeData","data","withIndent","indent","NL","pad","offset","toString","stream","wrapObject","renderValue","renderFull","_offset","call","getPaperOptions","getOption","options","paperSize","margin","def","PAPER_SIZE","a4","unitsToPoints","top","bottom","PDFDocument","defval","catalog","pageTree","self","objcount","objects","attach","pages","FONTS","IMAGES","GRAD_COL_FUNCTIONS","GRAD_OPC_FUNCTIONS","GRAD_COL","GRAD_OPC","PDFCatalog","PDFPageTree","setPages","addPage","content","props","page","paperOptions","contentWidth","contentHeight","PDFStream","Contents","Parent","MediaBox","PDFPage","_content","transform","translate","rect","clip","xrefOffset","zeropad","Size","Root","Info","Producer","PDFString","version","Title","Author","Subject","Keywords","Creator","CreationDate","loadBinary","url","cont","error","console","log","req","XMLHttpRequest","open","HAS_TYPED_ARRAYS","responseType","onload","status","Uint8Array","response","VBArray","responseBody","toArray","onerror","send","loadFont","font","FONT_CACHE","pdf","TTFFont","loadImage","_load","img","src","complete","support","browser","msie","_onload","_onerror","IMAGE_CACHE","reader","canvas","ctx","imgdata","hasAlpha","rgb","alpha","rawbytes","blob","type","FileReader","PDFJpegImage","width","height","URL","revokeObjectURL","bloburl","readAsArrayBuffer","document","createElement","getContext","drawImage","getImageData","ex","writeByte","PDFRawImage","toDataURL","substr","writeBase64","xhr","Image","crossOrigin","createObjectURL","manyLoader","loadOne","urls","callback","len","ch","hasOwnProperty","obj","prototype","date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","mm2pt","mm","cm2pt","cm","in2pt","inch","exec","in","defclass","Ctor","proto","Base","_","PDFName_cache","PDFName","asStream","Type","Subtype","Width","Height","BitsPerComponent","ColorSpace","Filter","_resourceName","RESOURCE_COUNTER","mask","SMask","makeHash","cacheColorGradientFunction","r1","g1","b1","r2","g2","b2","func","FunctionType","Domain","Range","N","C0","C1","cacheOpacityGradientFunction","makeGradientFunctions","stops","assemble","funcs","Functions","Bounds","offsets","Encode","encode","cur","prevColor","curColor","opacities","colors","g","pop","cacheColorGradient","isRadial","coords","box","shading","concat","forEach","ShadingType","Coords","Function","Extend","cacheOpacityGradient","opacity","AIS","CA","ca","S","G","FormType","BBox","Group","CS","I","Resources","ExtGState","a0","Shading","s0","cacheGradient","gradient","start","y","end","userSpace","eof","readByte","ensure","readShort","writeShort","w","readShort_","writeShort_","readLong","writeLong","readLong_","writeLong_","readFixed","writeFixed","readFixed_","writeFixed_","read","times","readString","ret","Array","tmp","set","buffer","bytes","skip","nbytes","saveExcursion","base64","atob","BASE64","decode","unquote","parseFontDef","fontdef","fontSize","rx","parseInt","italic","variant","bold","lineHeight","fontFamily","getFontURL","style","mkFamily","FONT_MAPPINGS","fontAlias","alias","defineFont","mmul","c1","d1","e1","f1","c2","d2","e2","f2","isIdentityMatrix","PDFHexString","PDFStandardFont","PDFFont","PDFToUnicodeCmap","keyStr","enc1","enc2","enc3","enc4","chr1","chr2","chr3","input","a5","a6","a7","a8","a9","a10","b0","b3","b4","b5","b6","b7","b8","b9","b10","c0","c3","c4","c5","c6","c7","c8","c9","c10","executive","folio","legal","letter","tabloid","Times-Roman","Times-Bold","Times-Italic","Times-BoldItalic","Helvetica","Helvetica-Bold","Helvetica-Oblique","Helvetica-BoldOblique","Courier","Courier-Bold","Courier-Oblique","Courier-BoldOblique","Symbol","ZapfDingbats","loadFonts","loadImages","getFont","getImage","getOpacityGS","forStroke","gs","_opacityGSCache","dict","txt","esc","escape","empty","compress","pako","deflate","unshift","Length","pagesObj","Pages","Kids","Count","pageObj","BaseFont","encodeText","head","scale","Encoding","_pdf","_font","_sub","makeSubset","psName","bbox","xMin","yMin","xMax","yMax","italicAngle","post","ascent","descent","lineGap","capHeight","os2","xHeight","stemV","familyClass","isSerif","isScript","flags","isFixedPitch","getTextWidth","glyphId","codeMap","cmap","widthOfGlyph","descendant","unimap","unimapStream","sub","fontStream","Length1","descriptor","FontName","FontBBox","Flags","StemV","ItalicAngle","Ascent","Descent","CapHeight","XHeight","FontFile2","ncid2ogid","firstChar","lastChar","charWidths","loop","chunk","gid","CIDSystemInfo","Registry","Ordering","Supplement","FontDescriptor","FirstChar","LastChar","DW","W","CIDToGIDMap","_makeCidToGidMap","DescendantFonts","subset","ToUnicode","cidToGidMap","code","unicode","_rcount","_textMode","_fontResources","_gsResources","_xResources","_patResources","_shResources","_opacity","_matrix","_annotations","_fontSize","_contextStack","ProcSet","Font","XObject","Pattern","Annots","_out","e","dx","dy","sx","sy","rotate","angle","cos","sin","beginText","endText","_requireTextMode","_requireFont","setFont","setTextLeading","setTextRenderingMode","mode","showText","requestedWidth","outputWidth","showTextNL","addLink","uri","ll","_toPage","ur","Rect","Border","A","URI","setStrokeColor","setOpacity","setFillOpacity","setStrokeOpacity","setFillColor","sname","oname","save","restore","setDashPattern","dashArray","dashPhase","setLineWidth","setLineCap","lineCap","setLineJoin","lineJoin","setMitterLimit","mitterLimit","_context","moveTo","lineTo","bezier","x1","y1","x2","y2","x3","y3","bezier1","bezier2","close","h","ellipse","ry","_X","_Y","k","circle","stroke","nop","clipStroke","closeStroke","fill","fillStroke","comment","line","matrix","serif","serif|bold","serif|italic","serif|bold|italic","sans-serif","sans-serif|bold","sans-serif|italic","sans-serif|bold|italic","monospace","monospace|bold","monospace|italic","monospace|bold|italic","zapfdingbats","zapfdingbats|bold","zapfdingbats|italic","zapfdingbats|bold|italic","Document","TEXT_RENDERING_MODE","fillAndStroke","invisible","fillAndClip","strokeAndClip","fillStrokeClip","sortedKeys","keys","Directory","tables","entry","raw","scalerType","tableCount","searchRange","entrySelector","rangeShift","tag","checksum","deftable","methods","file","definition","rawData","parse","nextSubsetTag","subsetTag","Subfont","unicodes","ogid2ngid",0,"ngid2ogid","next","nextGid","numFonts","contents","HeadTable","LocaTable","HheaTable","MaxpTable","HmtxTable","GlyfTable","NameTable","PostTable","CmapTable","OS2Table","PDF","readTable","table","directoryLength","headOffset","tableData","sum","adjustment","maxpow2","LN2","revision","checkSumAdjustment","magicNumber","unitsPerEm","created","modified","macStyle","lowestRecPPEM","fontDirectionHint","indexToLocFormat","glyphDataFormat","format","offsetOf","lengthOf","needsLongFormat","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","metricDataFormat","numOfLongHorMetrics","ids","numGlyphs","maxPoints","maxContours","maxComponentPoints","maxComponentContours","maxZones","maxTwilightPoints","maxStorage","maxFunctionDefs","maxInstructionDefs","maxStackElements","maxSizeOfInstructions","maxComponentElements","maxComponentDepth","glyphIds","dir","hhea","lsbCount","metrics","advance","lsb","maxp","leftSideBearings","forGlyph","SimpleGlyph","CompoundGlyph","idOffsets","MORE_COMPONENTS","ARG_1_AND_2_ARE_WORDS","WE_HAVE_A_TWO_BY_TWO","WE_HAVE_AN_X_AND_Y_SCALE","WE_HAVE_A_SCALE","compound","old2new","glyphFor","loca","numberOfContours","glyph","glyphs","oldIds","NameEntry","platformID","platformSpecificID","languageID","nameID","count","stringOffset","nameRecords","strings","rec","postscriptEntry","postscriptName","strTable","list","j","strCount","POSTSCRIPT_GLYPHS","numberOfGlyphs","limit","underlinePosition","underlineThickness","minMemType42","maxMemType42","minMemType1","maxMemType1","glyphNameIndex","names","index","mapping","indexes","CmapEntry","segCount","endCode","startCode","idDelta","idRangeOffset","ngroups","endCharCode","glyphCode","language","renderCharmap","new_gid","charcode","delta","segCountX2","deltas","rangeOffsets","startGlyph","codes","startCodes","endCodes","diff","averageCharWidth","weightClass","widthClass","ySubscriptXSize","ySubscriptYSize","ySubscriptXOffset","ySubscriptYOffset","ySuperscriptXSize","ySuperscriptYSize","ySuperscriptXOffset","ySuperscriptYOffset","yStrikeoutSize","yStrikeoutPosition","panose","charRange","vendorID","selection","firstCharIndex","lastCharIndex","winAscent","winDescent","codePageRange","defaultChar","breakChar","maxContext","use","old_gid","reduce","glyphsFor","glyf","new_gid_ids","old_gid_ids","hmtx","OS/2","directory","cid","$","zeroSize","baseline","measureText","measureBox","TextMetrics","current","measure","fonts","promises","load","logToConsole","Promise","all","then","doc","Class","LRUCache","extend","init","_size","_length","_map","put","lru","_head","_tail","newer","older","defaultMeasureBox","_cache","_initOptions","baselineMarkerSize","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","group","doIt","drawPage","addMargin","origin","optimize","root","getSize","getOrigin","geo","Matrix","landscape","drawElement","producer","title","author","subject","keywords","creator","multiPage","children","images","traverse","dispatch","Text","toBlob","Blob","saveAs","filename","proxy","safari","dataURI","fileName","dataURL","proxyURL","handlers","handler","nodeType","_pdfDebug","setStrokeOptions","setFillOptions","setClipping","Path","drawPath","MultiPath","drawMultiPath","Circle","drawCircle","Arc","drawArc","drawText","drawGroup","drawRect","dashType","parseColor","DASH_PATTERNS","LINE_CAP","LINE_JOIN","Gradient","_drawPath","shouldDraw","thing","maybeGradient","tl","RadialGradient","center","radius","elements","stop","rawBBox","topLeft","maybeFillStroke","maybeDrawRect","path","isRect","segments","closed","controlIn","anchor","seg","prevOut","controlOut","paths","geometry","points","curvePoints","_position","_pdfRect","_pdfLink","sz","exportPDF","defer","Deferred","_ignoreMargin","resolve","promise","toRGB","change","newShape","changed","visible","shape","optArray","el","opt","withClipping","saveclipbox","clipbox","savematrix","multiplyCopy","intersect","inClipbox","currentBox","union","unit","dash","dashDot","dot","longDash","longDashDot","longDashDotDot","solid","butt","square","miter","bevel","toStream","PDFMixin","events","saveAsPDF","_drawPDF","_drawPDFShadow","allPages","progress","args","done","forceProxy","proxyTarget","fail","err","reject","drawDOM","wrapper","pageNumber","totalPages","notify","settings","drawOptions","shadow","css","overflow","before","clone","setTimeout","always","remove","createPlaceholders","level","spans","className","kendoDomElement","blurActiveElement","activeElement","_activeElement","nodeName","blur","kendoDom","dom","kendoTextElement","mobileOS","ui","Widget","isFunction","oldIE","titleFromField","percentComplete","parentId","orderId","STRING","NS","CLICK","DOT","SIZE_CALCULATION_TEMPLATE","listStyles","header","alt","rtl","editCell","gridHeader","gridHeaderWrap","gridContent","gridContentWrap","selected","icon","iconCollapse","iconExpand","iconHidden","iconPlaceHolder","link","resizeHandle","resizeHandleInner","dropPositions","dropTop","dropBottom","dropAdd","dropMiddle","dropDenied","dragStatus","dragClue","dragClueText","GanttList","fn","columns","dataSource","_columns","_layout","_domTrees","_header","_sortable","_editable","_selectable","_draggable","_resizable","_attachEvents","_adjustHeight","bind","headerCols","tableCols","resizable","find","not","each","outerWidth","eq","parent","outerHeight","destroy","_reorderDraggable","_tableDropArea","_contentDropArea","_columnResizable","touch","timer","clearTimeout","off","levels","selectable","editable","that","styles","on","model","_modelFromElement","stopPropagation","headerTree","Tree","contentTree","sortable","column","calculateRowHeight","rowHeight","addClass","_rowHeight","domTree","colgroup","_cols","thead","role","_ths","minWidth","listWidth","_render","tasks","tbody","tableAttr","tabIndex","_trs","attr","ths","data-field","data-title","cols","task","rows","_levels","summary","data-uid","uid","data-level","expanded","_tds","_td","formatedValue","label","resourcesField","aria-label","sortableInstance","cell","cells","total","preventDefault","stopImmediatePropagation","ns","kendoColumnSorter","ctrlKey","clearSelection","select","selectedClassName","siblings","removeClass","_setDataSource","iconSelector","finishEdit","_closeCell","mousedown","currentTarget","hasClass","_startEditHandler","td","_columnFromElement","_editCell","keyCode","ENTER","ESC","_editableContainer","kendoTouch","filter","touchstart","doubletap","initialTouch","is","target","editor","modelCopy","_createNewModel","toJSON","fields","validation","DATATYPE","BINDING","FORMAT","required","_editableContent","detach","_extractFormat","container","appendTo","kendoDateTimePicker","kendoEditable","clearContainer","dateCompare","message","hide","focusable","focus","cancelUpdate","copy","taskInfo","removeData","unbind","duration","updateInfo","dropTarget","draggedTask","dropAllowed","isRtl","selector","action","clear","allowDrop","taskParent","defineLimits","getOffset","beforeLimit","afterLimit","defineAction","coordinate","location","command","sibling","hint","kendoDraggable","distance","holdToDrag","ignore","paddingLeft","paddingRight","paddingTop","paddingBottom","cursorOffset","dragstart","drag","dragend","dragcancel","kendoDropTargetArea","dragenter","toggleClass","dragleave","drop","positionResizeHandle","cellOffset","show","th","position","cellWidth","closest","clientX","scrollLeft","indicatorWidth","columnResizeHandleWidth","kendoResizable","handle","colSelector","contentTable","col","add","startLocation","columnWidth","totalWidth","resize","minColumnWidth","resizeend","oldWidth","newWidth","row","getByUid","tr","trimOptions","prefix","views","getWorkDays","workDays","dayIndex","workWeekStart","workWeekEnd","timelineStyles","GanttTimeline","kendoHtmlElement","html","isPlainObject","Query","DBLCLICK","MOUSEMOVE","MOUSEENTER","MOUSELEAVE","KEYDOWN","TIME_HEADER_TEMPLATE","DAY_HEADER_TEMPLATE","WEEK_HEADER_TEMPLATE","MONTH_HEADER_TEMPLATE","YEAR_HEADER_TEMPLATE","RESIZE_HINT","RESIZE_TOOLTIP_TEMPLATE","PERCENT_RESIZE_TOOLTIP_TEMPLATE","TASK_TOOLTIP_TEMPLATE","defaultViews","day","week","month","year","viewStyles","reset","nonWorking","tasksWrapper","rowsTable","columnsTable","tasksTable","dependenciesWrapper","resource","resourceAlt","taskSingle","taskMilestone","taskSummary","taskWrap","taskMilestoneWrap","resourcesWrap","taskDot","taskDotStart","taskDotEnd","taskDragHandle","taskContent","taskTemplate","taskActions","taskDelete","taskComplete","taskDetails","taskDetailsPercent","iconDelete","taskResizeHandle","taskResizeHandleWest","taskResizeHandleEast","taskSummaryProgress","taskSummaryComplete","lineHorizontal","lineVertical","arrowWest","arrowEast","dragHint","dependencyHint","tooltipWrapper","tooltipContent","tooltipCallout","callout","marquee","marqueeColor","GanttView","_workDays","_headerTree","_taskTree","taskTree","_taskTemplate","Template","templateSettings","_dependencyTree","dependencyTree","_taskCoordinates","_currentTime","_tooltipTimeout","headerRow","_dragHint","_resizeHint","_resizeTooltip","_taskTooltip","_percentCompleteResizeTooltip","showWorkHours","showWorkDays","workDayStart","workDayEnd","hourSpan","slotSize","currentTimeMarker","updateInterval","renderLayout","_slots","_createSlots","_tableWidth","_calculateTableWidth","createLayout","_slotDimensions","headers","_headers","_colgroup","tree","slot","slots","_timeSlots","offsetLeft","totalHeight","taskCount","_rowsTable","_columnsTable","_tasksTable","calculatedSize","_contentHeight","_renderCurrentTime","rowCount","attributes","_createTable","slotSpan","slotsCount","totalSpan","span","colspan","isNonWorking","resourcesPosition","resourceStyle","coordinates","_calculateMilestoneWidth","milestoneWidth","resourcesMargin","_calculateResourcesMargin","taskBorderWidth","_calculateTaskBorderWidth","addCoordinates","rowIndex","taskLeft","taskRight","isMilestone","_taskPosition","borderWidth","_renderTask","clientWidth","_renderResources","currentSpan","tableWidth","maxSpan","boundingClientRect","milestone","getBoundingClientRect","computedStyle","getComputedStyles","taskWrapper","taskElement","progressHandleOffset","wrapClassName","dragHandleStyle","taskWrapAttr","_renderSummary","_renderMilestone","_renderSingleTask","progressWidth","taskChildren","href","resources","reverse","startLeft","endLeft","startOffset","slotDuration","startIndex","slotOffset","_slotIndex","middle","startIdx","endIdx","ceil","_timeByPosition","snap","snapToEnd","_slotByPosition","slotIndex","_renderDependencies","dependencies","_renderDependency","dependency","method","predecessor","predecessorId","successor","successorId","_renderFF","from","to","lines","_dependencyFF","_arrow","_renderSS","_renderFS","_dependencyFS","_renderSF","overlap","arrowOverlap","minLineWidth","fromTop","toTop","addHorizontal","_line","addVertical","abs","minLineHeight","minDistance","direction","_createDragHint","_updateDragHint","_removeDragHint","_createResizeHint","tooltipHeight","tooltipTop","taskTop","messages","resizeTooltipFormat","_resizeTooltipWidth","_resizeTooltipTop","_updateResizeHint","resizeStart","tooltipLeft","tablesWidth","scrollbar","tooltipWidth","tableOffset","min-width","_removeResizeHint","_updatePercentCompleteTooltip","tooltip","tooltipMiddle","arrow","arrowHeight","_removePercentCompleteTooltip","_updateDependencyDragHint","useVML","_removeDependencyDragHint","_creteVmlDependencyDragHint","_creteDependencyDragHint","deltaX","deltaY","sqrt","atan","transform-origin","-ms-transform-origin","-webkit-transform-origin","-ms-transform","-webkit-transform","outerHTML","_createTaskTooltip","mouseLeft","contentOffset","contentScrollLeft","parents","rowOffset","scrollTop","_removeTaskTooltip","_scrollTo","elementLeft","elementWidth","elementRight","rowTop","rowBottom","contentTop","contentBottom","contentLeft","contentRight","scrollbarWidth","columnLevels","headerText","levelIndex","levelCount","columnIndex","columnCount","_hours","slotEnd","isWorkHour","hours","getHours","setHours","_days","isWorkDay","nextDay","_isWorkDay","_weeks","daySlots","firstDay","calendarInfo","dayOfWeek","addDays","_months","setMonth","getMonth","_years","setFullYear","getFullYear","_slotHeaders","getDay","getCulture","calendars","standard","currentTime","_getCurrentTime","timeOffset","tablesWrap","markerOptions","_currentTimeUpdateTimer","setInterval","GanttDayView","timeHeaderTemplate","dayHeaderTemplate","range","getDate","getMilliseconds","daySlot","hourSlots","GanttWeekView","weekHeaderTemplate","rangeEnd","setDate","GanttMonthView","monthHeaderTemplate","firstDayOfMonth","lastDayOfMonth","GanttYearView","yearHeaderTemplate","monthSlots","taskWrapActive","hovered","_wrapper","_views","_percentResizeDraggable","_createDependencyDraggable","_tooltip","clearInterval","_unbindView","_selectedView","_moveDraggable","_resizeDraggable","_percentDraggable","_dependencyDraggable","calculateSize","calculatedRowHeight","calculatedCellHeight","_calculatedSize","view","isSettings","defaultView","_selectedViewName","_selectView","_initializeView","_viewByIndex","getter","_range","startOrder","endOrder","_tasks","_taskByUid","currentStart","cleanUp","dragInProgress","Draggable","throttle","updateHintDate","userEvents","currentEnd","taskElementOffset","timelineOffset","originalPercentWidth","maxPercentWidth","currentPercentComplete","updateElement","initialDelta","currentWidth","originalHandle","startX","startY","hoveredHandle","hoveredTask","toggleHandles","namespaces","elementOffset","tablesOffset","currentX","currentY","elementUnderCursor","fromStart","toStart","elementFromPoint","clientY","click","selectDependency","_tabindex","selectedDependency","DELETE","currentMousePosition","tooltipOptions","mouseMoveHandler","relatedTarget","currentPosition","client","edit","navigate","dateCompareValidator","picker","dates","widgetInstance","parseDate","focusTable","direct","scrollPositions","scrollableParents","TABINDEX","setActive","parentsUntil","defaultCommands","GanttTask","GanttDataSource","editors","Editor","PopupEditor","ResourceEditor","Gantt","supportsMedia","Observable","DataSource","ObservableObject","ObservableArray","defaultIndicatorWidth","PERCENTAGE_FORMAT","WIDTH","DIRECTIONS","down","up","ARIA_DESCENDANT","ACTIVE_CELL","ACTIVE_OPTION","TASK_DELETE_CONFIRM","DEPENDENCY_DELETE_CONFIRM","TOGGLE_BUTTON_TEMPLATE","BUTTON_TEMPLATE","COMMAND_BUTTON_TEMPLATE","VIEWBUTTONTEMPLATE","HEADER_VIEWS_TEMPLATE","TASK_DROPDOWN_TEMPLATE","DATERANGEEDITOR","validationRules","RESOURCESEDITOR","button","assignButton","ganttStyles","listWrapper","timelineWrapper","timeline","splitBarWrapper","splitBar","splitBarHover","popupWrapper","popupList","item","buttonDelete","buttonCancel","buttonSave","buttonToggle","primary","focused","popup","form","editForm","formContainer","resourcesFormContainer","buttonsContainer","editField","editLabel","toolbar","headerWrapper","footerWrapper","viewsWrapper","actions","iconPlus","iconPdf","iconToggle","viewButtonDefault","viewButton","currentView","pdfButton","appendButton","TaskDropDown","_popup","navigatable","_current","removeAttr","itemSelector","appendButtonSelector","addChild","insertBefore","insertAfter","Popup","_adjustListWidth","animation","aria-activedescendant","hover","UP","DOWN","computedWidth","getComputedStyle","mozilla","borderLeftWidth","borderRightWidth","_focusTimeout","createDataSource","GanttDependency","Model","GanttDependencyDataSource","schema","modelBase","successors","_dependencies","predecessors","operator","newValue","step","taskAllChildren","_removeItems","_childRemoved","_toGanttTask","insert","taskSiblings","_reorderSiblings","_resolveSummaryFields","taskId","order","_sort","taskLevel","update","oldValue","offsetChildren","parentTask","modelChangeHandler","sender","_resolveSummaryStart","_resolveSummaryEnd","_resolveSummaryPercentComplete","_updateSummary","getSummaryStart","currentMin","_updateSummaryRecursive","getSummaryEnd","currentMax","getSummaryPercentComplete","aggregate","average","oldOrderId","endIndex","newIndex","childCount","accept","desktop","dateRange","createButton","_buildEditTemplate","editableFields","tmpl","popupStyles","unescape","expr","editTask","_createPopupEditor","showDialog","buttons","buttonIndex","kendoWindow","modal","draggable","deactivate","getKendoWindow","editableWidget","cancel","editorTitle","userTriggered","validateOnBlur","cycleForm","_initContainer","_attachHandlers","grid","_dettachHandlers","closeHandler","_cancelProxy","_cancel","_saveProxy","_save","_updateModel","resourcesEditorTitle","_resourceGrid","_createButtons","Grid","resourcesHeader","unitsHeader","dataItem","valueFormat","filterable","prop","iconClass","_events","_resources","_timeline","_toolbar","_footer","_adjustDimensions","_preventRefresh","_dataSource","_assignments","_dropDowns","_list","_scrollable","_dataBind","_createEditor","autoBind","assignments","deleteTaskConfirmation","deleteDependencyConfirmation","deleteTaskWindowTitle","deleteDependencyWindowTitle","_refreshHandler","_progressHandler","_errorHandler","_dependencyRefreshHandler","_dependencyErrorHandler","footerDropDown","headerDropDown","_editor","_mediaQuery","removeListener","_mediaQueryHandler","_resizeHandler","footer","setOptions","selectedView","newOptions","_setEvents","splitBarHandleClassName","toggleButton","viewsSelector","pdfSelector","toggleSelector","contentSelector","treelist","hoveredClassName","actionsWrap","matches","display","max-width","refresh","_resize","_actions","prepend","matchMedia","addListener","_createButton","commandName","listSelector","timelineSelector","splitBarSelector","toolbarHeight","footerHeight","splitBarWidth","treeListWidth","scrollTarget","scrollIntoView","actionsSelector","actionMessages","firstSlot","_createTask","effects","toggleButtons","restoreFocus","_cachedCurrent","_createResourceEditor","_navigatable","_updateTask","currentViewSelector","viewName","_createDependency","removeTask","removeDependency","_requestStart","_error","refreshDependencies","dataTextField","dataColorField","dataFormatField","_assignmentsRefreshHandler","dataTaskIdField","dataResourceIdField","dataValueField","_createPopupButton","cancelTask","saveTask","_onDialogClose","_resourceEditor","_wrapResourceData","_updateAssignments","setDataSource","fetch","setDependenciesDataSource","items","assignment","newLength","resourceId","hasMatch","_updateAssignment","_removeAssignment","_createAssignment","sync","taskCopy","_editTask","_syncDataSource","resourceValueField","_taskConfirm","_removeTask","_scrollToUid","_preventDependencyRefresh","resourceValue","_dependencyConfirm","_removeDependency","_removeTaskDependencies","_removeTaskAssignments","_confirm","confirmation","scrollToUid","cachedUid","cachedIndex","_progress","_assignResources","groupAssigments","assigments","applyTaskResource","setter","wrapTask","resourcedId","taskAssignments","valuePerResource","toggle","timelineWidth","timelineScroll","treeListWrapper","orientation","headerSelector","timelineHeader","timelineContent","treeListHeader","treeListContent","wheelDeltaY","one","cellIndex","headerTable","expandState","collapse","expand","scroll","moveVertical","subling","moveHorizontal","toggleExpandedState","deleteAction","selectedTask","isInput","isCell","RIGHT","altKey","LEFT","SPACEBAR","when","listClass","avoidLinks","plugin"],"mappings":"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","file":"kendo.gantt.min.js","sourcesContent":["/** \n * Kendo UI v2016.3.1118 (http://www.telerik.com/kendo-ui)                                                                                                                                              \n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \n *                                                                                                                                                                                                      \n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/core', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function (window, parseFloat, undefined) {\n        'use strict';\n        var kendo = window.kendo;\n        var HAS_TYPED_ARRAYS = !!window.Uint8Array;\n        var NL = '\\n';\n        var RESOURCE_COUNTER = 0;\n        var BASE64 = function () {\n            var keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n            return {\n                decode: function (str) {\n                    var input = str.replace(/[^A-Za-z0-9\\+\\/\\=]/g, ''), i = 0, n = input.length, output = [];\n                    while (i < n) {\n                        var enc1 = keyStr.indexOf(input.charAt(i++));\n                        var enc2 = keyStr.indexOf(input.charAt(i++));\n                        var enc3 = keyStr.indexOf(input.charAt(i++));\n                        var enc4 = keyStr.indexOf(input.charAt(i++));\n                        var chr1 = enc1 << 2 | enc2 >>> 4;\n                        var chr2 = (enc2 & 15) << 4 | enc3 >>> 2;\n                        var chr3 = (enc3 & 3) << 6 | enc4;\n                        output.push(chr1);\n                        if (enc3 != 64) {\n                            output.push(chr2);\n                        }\n                        if (enc4 != 64) {\n                            output.push(chr3);\n                        }\n                    }\n                    return output;\n                },\n                encode: function (bytes) {\n                    var i = 0, n = bytes.length;\n                    var output = '';\n                    while (i < n) {\n                        var chr1 = bytes[i++];\n                        var chr2 = bytes[i++];\n                        var chr3 = bytes[i++];\n                        var enc1 = chr1 >>> 2;\n                        var enc2 = (chr1 & 3) << 4 | chr2 >>> 4;\n                        var enc3 = (chr2 & 15) << 2 | chr3 >>> 6;\n                        var enc4 = chr3 & 63;\n                        if (i - n == 2) {\n                            enc3 = enc4 = 64;\n                        } else if (i - n == 1) {\n                            enc4 = 64;\n                        }\n                        output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n                    }\n                    return output;\n                }\n            };\n        }();\n        var PAPER_SIZE = {\n            a0: [\n                2383.94,\n                3370.39\n            ],\n            a1: [\n                1683.78,\n                2383.94\n            ],\n            a2: [\n                1190.55,\n                1683.78\n            ],\n            a3: [\n                841.89,\n                1190.55\n            ],\n            a4: [\n                595.28,\n                841.89\n            ],\n            a5: [\n                419.53,\n                595.28\n            ],\n            a6: [\n                297.64,\n                419.53\n            ],\n            a7: [\n                209.76,\n                297.64\n            ],\n            a8: [\n                147.4,\n                209.76\n            ],\n            a9: [\n                104.88,\n                147.4\n            ],\n            a10: [\n                73.7,\n                104.88\n            ],\n            b0: [\n                2834.65,\n                4008.19\n            ],\n            b1: [\n                2004.09,\n                2834.65\n            ],\n            b2: [\n                1417.32,\n                2004.09\n            ],\n            b3: [\n                1000.63,\n                1417.32\n            ],\n            b4: [\n                708.66,\n                1000.63\n            ],\n            b5: [\n                498.9,\n                708.66\n            ],\n            b6: [\n                354.33,\n                498.9\n            ],\n            b7: [\n                249.45,\n                354.33\n            ],\n            b8: [\n                175.75,\n                249.45\n            ],\n            b9: [\n                124.72,\n                175.75\n            ],\n            b10: [\n                87.87,\n                124.72\n            ],\n            c0: [\n                2599.37,\n                3676.54\n            ],\n            c1: [\n                1836.85,\n                2599.37\n            ],\n            c2: [\n                1298.27,\n                1836.85\n            ],\n            c3: [\n                918.43,\n                1298.27\n            ],\n            c4: [\n                649.13,\n                918.43\n            ],\n            c5: [\n                459.21,\n                649.13\n            ],\n            c6: [\n                323.15,\n                459.21\n            ],\n            c7: [\n                229.61,\n                323.15\n            ],\n            c8: [\n                161.57,\n                229.61\n            ],\n            c9: [\n                113.39,\n                161.57\n            ],\n            c10: [\n                79.37,\n                113.39\n            ],\n            executive: [\n                521.86,\n                756\n            ],\n            folio: [\n                612,\n                936\n            ],\n            legal: [\n                612,\n                1008\n            ],\n            letter: [\n                612,\n                792\n            ],\n            tabloid: [\n                792,\n                1224\n            ]\n        };\n        function makeOutput() {\n            var indentLevel = 0, output = BinaryStream();\n            function out() {\n                for (var i = 0; i < arguments.length; ++i) {\n                    var x = arguments[i];\n                    if (x === undefined) {\n                        throw new Error('Cannot output undefined to PDF');\n                    } else if (x instanceof PDFValue) {\n                        x.beforeRender(out);\n                        x.render(out);\n                    } else if (isArray(x)) {\n                        renderArray(x, out);\n                    } else if (isDate(x)) {\n                        renderDate(x, out);\n                    } else if (typeof x == 'number') {\n                        if (isNaN(x)) {\n                            throw new Error('Cannot output NaN to PDF');\n                        }\n                        var num = x.toFixed(7);\n                        if (num.indexOf('.') >= 0) {\n                            num = num.replace(/\\.?0+$/, '');\n                        }\n                        if (num == '-0') {\n                            num = '0';\n                        }\n                        output.writeString(num);\n                    } else if (/string|boolean/.test(typeof x)) {\n                        output.writeString(x + '');\n                    } else if (typeof x.get == 'function') {\n                        output.write(x.get());\n                    } else if (typeof x == 'object') {\n                        if (!x) {\n                            output.writeString('null');\n                        } else {\n                            out(new PDFDictionary(x));\n                        }\n                    }\n                }\n            }\n            out.writeData = function (data) {\n                output.write(data);\n            };\n            out.withIndent = function (f) {\n                ++indentLevel;\n                f(out);\n                --indentLevel;\n            };\n            out.indent = function () {\n                out(NL, pad('', indentLevel * 2, '  '));\n                out.apply(null, arguments);\n            };\n            out.offset = function () {\n                return output.offset();\n            };\n            out.toString = function () {\n                throw new Error('FIX CALLER');\n            };\n            out.get = function () {\n                return output.get();\n            };\n            out.stream = function () {\n                return output;\n            };\n            return out;\n        }\n        function wrapObject(value, id) {\n            var beforeRender = value.beforeRender;\n            var renderValue = value.render;\n            value.beforeRender = function () {\n            };\n            value.render = function (out) {\n                out(id, ' 0 R');\n            };\n            value.renderFull = function (out) {\n                value._offset = out.offset();\n                out(id, ' 0 obj ');\n                beforeRender.call(value, out);\n                renderValue.call(value, out);\n                out(' endobj');\n            };\n        }\n        function getPaperOptions(getOption) {\n            if (typeof getOption != 'function') {\n                var options = getOption;\n                getOption = function (key, def) {\n                    return key in options ? options[key] : def;\n                };\n            }\n            var paperSize = getOption('paperSize', PAPER_SIZE.a4);\n            if (!paperSize) {\n                return {};\n            }\n            if (typeof paperSize == 'string') {\n                paperSize = PAPER_SIZE[paperSize.toLowerCase()];\n                if (paperSize == null) {\n                    throw new Error('Unknown paper size');\n                }\n            }\n            paperSize[0] = unitsToPoints(paperSize[0]);\n            paperSize[1] = unitsToPoints(paperSize[1]);\n            if (getOption('landscape', false)) {\n                paperSize = [\n                    Math.max(paperSize[0], paperSize[1]),\n                    Math.min(paperSize[0], paperSize[1])\n                ];\n            }\n            var margin = getOption('margin');\n            if (margin) {\n                if (typeof margin == 'string' || typeof margin == 'number') {\n                    margin = unitsToPoints(margin, 0);\n                    margin = {\n                        left: margin,\n                        top: margin,\n                        right: margin,\n                        bottom: margin\n                    };\n                } else {\n                    margin = {\n                        left: unitsToPoints(margin.left, 0),\n                        top: unitsToPoints(margin.top, 0),\n                        right: unitsToPoints(margin.right, 0),\n                        bottom: unitsToPoints(margin.bottom, 0)\n                    };\n                }\n                if (getOption('addMargin')) {\n                    paperSize[0] += margin.left + margin.right;\n                    paperSize[1] += margin.top + margin.bottom;\n                }\n            }\n            return {\n                paperSize: paperSize,\n                margin: margin\n            };\n        }\n        function PDFDocument(options) {\n            var self = this;\n            var out = makeOutput();\n            var objcount = 0;\n            var objects = [];\n            function getOption(name, defval) {\n                return options && options[name] != null ? options[name] : defval;\n            }\n            self.getOption = getOption;\n            self.attach = function (value) {\n                if (objects.indexOf(value) < 0) {\n                    wrapObject(value, ++objcount);\n                    objects.push(value);\n                }\n                return value;\n            };\n            self.pages = [];\n            self.FONTS = {};\n            self.IMAGES = {};\n            self.GRAD_COL_FUNCTIONS = {};\n            self.GRAD_OPC_FUNCTIONS = {};\n            self.GRAD_COL = {};\n            self.GRAD_OPC = {};\n            var catalog = self.attach(new PDFCatalog());\n            var pageTree = self.attach(new PDFPageTree());\n            catalog.setPages(pageTree);\n            self.addPage = function (options) {\n                var paperOptions = getPaperOptions(function (name, defval) {\n                    return options && options[name] != null ? options[name] : defval;\n                });\n                var paperSize = paperOptions.paperSize;\n                var margin = paperOptions.margin;\n                var contentWidth = paperSize[0];\n                var contentHeight = paperSize[1];\n                if (margin) {\n                    contentWidth -= margin.left + margin.right;\n                    contentHeight -= margin.top + margin.bottom;\n                }\n                var content = new PDFStream(makeOutput(), null, true);\n                var props = {\n                    Contents: self.attach(content),\n                    Parent: pageTree,\n                    MediaBox: [\n                        0,\n                        0,\n                        paperSize[0],\n                        paperSize[1]\n                    ]\n                };\n                var page = new PDFPage(self, props);\n                page._content = content;\n                pageTree.addPage(self.attach(page));\n                page.transform(1, 0, 0, -1, 0, paperSize[1]);\n                if (margin) {\n                    page.translate(margin.left, margin.top);\n                    page.rect(0, 0, contentWidth, contentHeight);\n                    page.clip();\n                }\n                self.pages.push(page);\n                return page;\n            };\n            self.render = function () {\n                var i;\n                out('%PDF-1.4', NL, '%ÂÁÚÏÎ', NL, NL);\n                for (i = 0; i < objects.length; ++i) {\n                    objects[i].renderFull(out);\n                    out(NL, NL);\n                }\n                var xrefOffset = out.offset();\n                out('xref', NL, 0, ' ', objects.length + 1, NL);\n                out('0000000000 65535 f ', NL);\n                for (i = 0; i < objects.length; ++i) {\n                    out(zeropad(objects[i]._offset, 10), ' 00000 n ', NL);\n                }\n                out(NL);\n                out('trailer', NL);\n                out(new PDFDictionary({\n                    Size: objects.length + 1,\n                    Root: catalog,\n                    Info: new PDFDictionary({\n                        Producer: new PDFString(getOption('producer', 'Kendo UI PDF Generator v.' + kendo.version)),\n                        Title: new PDFString(getOption('title', '')),\n                        Author: new PDFString(getOption('author', '')),\n                        Subject: new PDFString(getOption('subject', '')),\n                        Keywords: new PDFString(getOption('keywords', '')),\n                        Creator: new PDFString(getOption('creator', 'Kendo UI PDF Generator v.' + kendo.version)),\n                        CreationDate: getOption('date', new Date())\n                    })\n                }), NL, NL);\n                out('startxref', NL, xrefOffset, NL);\n                out('%%EOF', NL);\n                return out.stream().offset(0);\n            };\n        }\n        var FONT_CACHE = {\n            'Times-Roman': true,\n            'Times-Bold': true,\n            'Times-Italic': true,\n            'Times-BoldItalic': true,\n            'Helvetica': true,\n            'Helvetica-Bold': true,\n            'Helvetica-Oblique': true,\n            'Helvetica-BoldOblique': true,\n            'Courier': true,\n            'Courier-Bold': true,\n            'Courier-Oblique': true,\n            'Courier-BoldOblique': true,\n            'Symbol': true,\n            'ZapfDingbats': true\n        };\n        function loadBinary(url, cont) {\n            function error() {\n                if (window.console) {\n                    if (window.console.error) {\n                        window.console.error('Cannot load URL: %s', url);\n                    } else {\n                        window.console.log('Cannot load URL: %s', url);\n                    }\n                }\n                cont(null);\n            }\n            var req = new XMLHttpRequest();\n            req.open('GET', url, true);\n            if (HAS_TYPED_ARRAYS) {\n                req.responseType = 'arraybuffer';\n            }\n            req.onload = function () {\n                if (req.status == 200 || req.status == 304) {\n                    if (HAS_TYPED_ARRAYS) {\n                        cont(new Uint8Array(req.response));\n                    } else {\n                        cont(new VBArray(req.responseBody).toArray());\n                    }\n                } else {\n                    error();\n                }\n            };\n            req.onerror = error;\n            req.send(null);\n        }\n        function loadFont(url, cont) {\n            var font = FONT_CACHE[url];\n            if (font) {\n                cont(font);\n            } else {\n                loadBinary(url, function (data) {\n                    if (data == null) {\n                        throw new Error('Cannot load font from ' + url);\n                    } else {\n                        var font = new kendo.pdf.TTFFont(data);\n                        FONT_CACHE[url] = font;\n                        cont(font);\n                    }\n                });\n            }\n        }\n        var IMAGE_CACHE = {};\n        function loadImage(url, cont) {\n            var img = IMAGE_CACHE[url], bloburl, blob;\n            if (img) {\n                cont(img);\n            } else {\n                img = new Image();\n                if (!/^data:/i.test(url)) {\n                    img.crossOrigin = 'Anonymous';\n                }\n                if (HAS_TYPED_ARRAYS && !/^data:/i.test(url)) {\n                    var xhr = new XMLHttpRequest();\n                    xhr.onload = function () {\n                        blob = xhr.response;\n                        bloburl = URL.createObjectURL(blob);\n                        _load(bloburl);\n                    };\n                    xhr.onerror = _onerror;\n                    xhr.open('GET', url, true);\n                    xhr.responseType = 'blob';\n                    xhr.send();\n                } else {\n                    _load(url);\n                }\n            }\n            function _load(url) {\n                img.src = url;\n                if (img.complete && !kendo.support.browser.msie) {\n                    _onload();\n                } else {\n                    img.onload = _onload;\n                    img.onerror = _onerror;\n                }\n            }\n            function _onerror() {\n                cont(IMAGE_CACHE[url] = 'TAINTED');\n            }\n            function _onload() {\n                if (blob && /^image\\/jpe?g$/i.test(blob.type)) {\n                    var reader = new FileReader();\n                    reader.onload = function () {\n                        img = new PDFJpegImage(img.width, img.height, BinaryStream(new Uint8Array(this.result)));\n                        URL.revokeObjectURL(bloburl);\n                        cont(IMAGE_CACHE[url] = img);\n                    };\n                    reader.readAsArrayBuffer(blob);\n                    return;\n                }\n                var canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                var ctx = canvas.getContext('2d');\n                ctx.drawImage(img, 0, 0);\n                var imgdata;\n                try {\n                    imgdata = ctx.getImageData(0, 0, img.width, img.height);\n                } catch (ex) {\n                    return _onerror();\n                } finally {\n                    if (bloburl) {\n                        URL.revokeObjectURL(bloburl);\n                    }\n                }\n                var hasAlpha = false, rgb = BinaryStream(), alpha = BinaryStream();\n                var rawbytes = imgdata.data;\n                var i = 0;\n                while (i < rawbytes.length) {\n                    rgb.writeByte(rawbytes[i++]);\n                    rgb.writeByte(rawbytes[i++]);\n                    rgb.writeByte(rawbytes[i++]);\n                    var a = rawbytes[i++];\n                    if (a < 255) {\n                        hasAlpha = true;\n                    }\n                    alpha.writeByte(a);\n                }\n                if (hasAlpha) {\n                    img = new PDFRawImage(img.width, img.height, rgb, alpha);\n                } else {\n                    var data = canvas.toDataURL('image/jpeg');\n                    data = data.substr(data.indexOf(';base64,') + 8);\n                    var stream = BinaryStream();\n                    stream.writeBase64(data);\n                    stream.offset(0);\n                    img = new PDFJpegImage(img.width, img.height, stream);\n                }\n                cont(IMAGE_CACHE[url] = img);\n            }\n        }\n        function manyLoader(loadOne) {\n            return function (urls, callback) {\n                var n = urls.length, i = n;\n                if (n === 0) {\n                    return callback();\n                }\n                while (i-- > 0) {\n                    loadOne(urls[i], function () {\n                        if (--n === 0) {\n                            callback();\n                        }\n                    });\n                }\n            };\n        }\n        var loadFonts = manyLoader(loadFont);\n        var loadImages = manyLoader(loadImage);\n        PDFDocument.prototype = {\n            loadFonts: loadFonts,\n            loadImages: loadImages,\n            getFont: function (url) {\n                var font = this.FONTS[url];\n                if (!font) {\n                    font = FONT_CACHE[url];\n                    if (!font) {\n                        throw new Error('Font ' + url + ' has not been loaded');\n                    }\n                    if (font === true) {\n                        font = this.attach(new PDFStandardFont(url));\n                    } else {\n                        font = this.attach(new PDFFont(this, font));\n                    }\n                    this.FONTS[url] = font;\n                }\n                return font;\n            },\n            getImage: function (url) {\n                var img = this.IMAGES[url];\n                if (!img) {\n                    img = IMAGE_CACHE[url];\n                    if (!img) {\n                        throw new Error('Image ' + url + ' has not been loaded');\n                    }\n                    if (img === 'TAINTED') {\n                        return null;\n                    }\n                    img = this.IMAGES[url] = this.attach(img.asStream(this));\n                }\n                return img;\n            },\n            getOpacityGS: function (opacity, forStroke) {\n                var id = parseFloat(opacity).toFixed(3);\n                opacity = parseFloat(id);\n                id += forStroke ? 'S' : 'F';\n                var cache = this._opacityGSCache || (this._opacityGSCache = {});\n                var gs = cache[id];\n                if (!gs) {\n                    var props = { Type: _('ExtGState') };\n                    if (forStroke) {\n                        props.CA = opacity;\n                    } else {\n                        props.ca = opacity;\n                    }\n                    gs = this.attach(new PDFDictionary(props));\n                    gs._resourceName = _('GS' + ++RESOURCE_COUNTER);\n                    cache[id] = gs;\n                }\n                return gs;\n            },\n            dict: function (props) {\n                return new PDFDictionary(props);\n            },\n            name: function (str) {\n                return _(str);\n            },\n            stream: function (props, content) {\n                return new PDFStream(content, props);\n            }\n        };\n        function pad(str, len, ch) {\n            while (str.length < len) {\n                str = ch + str;\n            }\n            return str;\n        }\n        function zeropad(n, len) {\n            return pad(n + '', len, '0');\n        }\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        var isArray = Array.isArray || function (obj) {\n            return obj instanceof Array;\n        };\n        function isDate(obj) {\n            return obj instanceof Date;\n        }\n        function renderArray(a, out) {\n            out('[');\n            if (a.length > 0) {\n                out.withIndent(function () {\n                    for (var i = 0; i < a.length; ++i) {\n                        if (i > 0 && i % 8 === 0) {\n                            out.indent(a[i]);\n                        } else {\n                            out(' ', a[i]);\n                        }\n                    }\n                });\n            }\n            out(' ]');\n        }\n        function renderDate(date, out) {\n            out('(D:', zeropad(date.getUTCFullYear(), 4), zeropad(date.getUTCMonth() + 1, 2), zeropad(date.getUTCDate(), 2), zeropad(date.getUTCHours(), 2), zeropad(date.getUTCMinutes(), 2), zeropad(date.getUTCSeconds(), 2), 'Z)');\n        }\n        function mm2pt(mm) {\n            return mm * (72 / 25.4);\n        }\n        function cm2pt(cm) {\n            return mm2pt(cm * 10);\n        }\n        function in2pt(inch) {\n            return inch * 72;\n        }\n        function unitsToPoints(x, def) {\n            if (typeof x == 'number') {\n                return x;\n            }\n            if (typeof x == 'string') {\n                var m;\n                m = /^\\s*([0-9.]+)\\s*(mm|cm|in|pt)\\s*$/.exec(x);\n                if (m) {\n                    var num = parseFloat(m[1]);\n                    if (!isNaN(num)) {\n                        if (m[2] == 'pt') {\n                            return num;\n                        }\n                        return {\n                            'mm': mm2pt,\n                            'cm': cm2pt,\n                            'in': in2pt\n                        }[m[2]](num);\n                    }\n                }\n            }\n            if (def != null) {\n                return def;\n            }\n            throw new Error('Can\\'t parse unit: ' + x);\n        }\n        function PDFValue() {\n        }\n        PDFValue.prototype.beforeRender = function () {\n        };\n        function defclass(Ctor, proto, Base) {\n            if (!Base) {\n                Base = PDFValue;\n            }\n            Ctor.prototype = new Base();\n            for (var i in proto) {\n                if (hasOwnProperty(proto, i)) {\n                    Ctor.prototype[i] = proto[i];\n                }\n            }\n            return Ctor;\n        }\n        var PDFString = defclass(function PDFString(value) {\n            this.value = value;\n        }, {\n            render: function (out) {\n                var txt = '', esc = this.escape();\n                for (var i = 0; i < esc.length; ++i) {\n                    txt += String.fromCharCode(esc.charCodeAt(i) & 255);\n                }\n                out('(', txt, ')');\n            },\n            escape: function () {\n                return this.value.replace(/([\\(\\)\\\\])/g, '\\\\$1');\n            },\n            toString: function () {\n                return this.value;\n            }\n        });\n        var PDFHexString = defclass(function PDFHexString(value) {\n            this.value = value;\n        }, {\n            render: function (out) {\n                out('<');\n                for (var i = 0; i < this.value.length; ++i) {\n                    out(zeropad(this.value.charCodeAt(i).toString(16), 4));\n                }\n                out('>');\n            }\n        }, PDFString);\n        var PDFName = defclass(function PDFName(name) {\n            this.name = name;\n        }, {\n            render: function (out) {\n                out('/' + this.escape());\n            },\n            escape: function () {\n                return this.name.replace(/[^\\x21-\\x7E]/g, function (c) {\n                    return '#' + zeropad(c.charCodeAt(0).toString(16), 2);\n                });\n            },\n            toString: function () {\n                return this.name;\n            }\n        });\n        var PDFName_cache = {};\n        PDFName.get = _;\n        function _(name) {\n            if (hasOwnProperty(PDFName_cache, name)) {\n                return PDFName_cache[name];\n            }\n            return PDFName_cache[name] = new PDFName(name);\n        }\n        var PDFDictionary = defclass(function PDFDictionary(props) {\n            this.props = props;\n        }, {\n            render: function (out) {\n                var props = this.props, empty = true;\n                out('<<');\n                out.withIndent(function () {\n                    for (var i in props) {\n                        if (hasOwnProperty(props, i) && !/^_/.test(i)) {\n                            empty = false;\n                            out.indent(_(i), ' ', props[i]);\n                        }\n                    }\n                });\n                if (!empty) {\n                    out.indent();\n                }\n                out('>>');\n            }\n        });\n        var PDFStream = defclass(function PDFStream(data, props, compress) {\n            if (typeof data == 'string') {\n                var tmp = BinaryStream();\n                tmp.write(data);\n                data = tmp;\n            }\n            this.data = data;\n            this.props = props || {};\n            this.compress = compress;\n        }, {\n            render: function (out) {\n                var data = this.data.get(), props = this.props;\n                if (this.compress && window.pako && typeof window.pako.deflate == 'function') {\n                    if (!props.Filter) {\n                        props.Filter = [];\n                    } else if (!(props.Filter instanceof Array)) {\n                        props.Filter = [props.Filter];\n                    }\n                    props.Filter.unshift(_('FlateDecode'));\n                    data = window.pako.deflate(data);\n                }\n                props.Length = data.length;\n                out(new PDFDictionary(props), ' stream', NL);\n                out.writeData(data);\n                out(NL, 'endstream');\n            }\n        });\n        var PDFCatalog = defclass(function PDFCatalog(props) {\n            props = this.props = props || {};\n            props.Type = _('Catalog');\n        }, {\n            setPages: function (pagesObj) {\n                this.props.Pages = pagesObj;\n            }\n        }, PDFDictionary);\n        var PDFPageTree = defclass(function PDFPageTree() {\n            this.props = {\n                Type: _('Pages'),\n                Kids: [],\n                Count: 0\n            };\n        }, {\n            addPage: function (pageObj) {\n                this.props.Kids.push(pageObj);\n                this.props.Count++;\n            }\n        }, PDFDictionary);\n        function PDFJpegImage(width, height, data) {\n            this.asStream = function () {\n                var stream = new PDFStream(data, {\n                    Type: _('XObject'),\n                    Subtype: _('Image'),\n                    Width: width,\n                    Height: height,\n                    BitsPerComponent: 8,\n                    ColorSpace: _('DeviceRGB'),\n                    Filter: _('DCTDecode')\n                });\n                stream._resourceName = _('I' + ++RESOURCE_COUNTER);\n                return stream;\n            };\n        }\n        function PDFRawImage(width, height, rgb, alpha) {\n            this.asStream = function (pdf) {\n                var mask = new PDFStream(alpha, {\n                    Type: _('XObject'),\n                    Subtype: _('Image'),\n                    Width: width,\n                    Height: height,\n                    BitsPerComponent: 8,\n                    ColorSpace: _('DeviceGray')\n                }, true);\n                var stream = new PDFStream(rgb, {\n                    Type: _('XObject'),\n                    Subtype: _('Image'),\n                    Width: width,\n                    Height: height,\n                    BitsPerComponent: 8,\n                    ColorSpace: _('DeviceRGB'),\n                    SMask: pdf.attach(mask)\n                }, true);\n                stream._resourceName = _('I' + ++RESOURCE_COUNTER);\n                return stream;\n            };\n        }\n        var PDFStandardFont = defclass(function PDFStandardFont(name) {\n            this.props = {\n                Type: _('Font'),\n                Subtype: _('Type1'),\n                BaseFont: _(name)\n            };\n            this._resourceName = _('F' + ++RESOURCE_COUNTER);\n        }, {\n            encodeText: function (str) {\n                return new PDFString(str + '');\n            }\n        }, PDFDictionary);\n        var PDFFont = defclass(function PDFFont(pdf, font, props) {\n            props = this.props = props || {};\n            props.Type = _('Font');\n            props.Subtype = _('Type0');\n            props.Encoding = _('Identity-H');\n            this._pdf = pdf;\n            this._font = font;\n            this._sub = font.makeSubset();\n            this._resourceName = _('F' + ++RESOURCE_COUNTER);\n            var head = font.head;\n            this.name = font.psName;\n            var scale = this.scale = font.scale;\n            this.bbox = [\n                head.xMin * scale,\n                head.yMin * scale,\n                head.xMax * scale,\n                head.yMax * scale\n            ];\n            this.italicAngle = font.post.italicAngle;\n            this.ascent = font.ascent * scale;\n            this.descent = font.descent * scale;\n            this.lineGap = font.lineGap * scale;\n            this.capHeight = font.os2.capHeight || this.ascent;\n            this.xHeight = font.os2.xHeight || 0;\n            this.stemV = 0;\n            this.familyClass = (font.os2.familyClass || 0) >> 8;\n            this.isSerif = this.familyClass >= 1 && this.familyClass <= 7;\n            this.isScript = this.familyClass == 10;\n            this.flags = (font.post.isFixedPitch ? 1 : 0) | (this.isSerif ? 1 << 1 : 0) | (this.isScript ? 1 << 3 : 0) | (this.italicAngle !== 0 ? 1 << 6 : 0) | 1 << 5;\n        }, {\n            encodeText: function (text) {\n                return new PDFHexString(this._sub.encodeText(text + ''));\n            },\n            getTextWidth: function (fontSize, text) {\n                var width = 0, codeMap = this._font.cmap.codeMap;\n                for (var i = 0; i < text.length; ++i) {\n                    var glyphId = codeMap[text.charCodeAt(i)];\n                    width += this._font.widthOfGlyph(glyphId || 0);\n                }\n                return width * fontSize / 1000;\n            },\n            beforeRender: function () {\n                var self = this;\n                var sub = self._sub;\n                var data = sub.render();\n                var fontStream = new PDFStream(BinaryStream(data), { Length1: data.length }, true);\n                var descriptor = self._pdf.attach(new PDFDictionary({\n                    Type: _('FontDescriptor'),\n                    FontName: _(self._sub.psName),\n                    FontBBox: self.bbox,\n                    Flags: self.flags,\n                    StemV: self.stemV,\n                    ItalicAngle: self.italicAngle,\n                    Ascent: self.ascent,\n                    Descent: self.descent,\n                    CapHeight: self.capHeight,\n                    XHeight: self.xHeight,\n                    FontFile2: self._pdf.attach(fontStream)\n                }));\n                var cmap = sub.ncid2ogid;\n                var firstChar = sub.firstChar;\n                var lastChar = sub.lastChar;\n                var charWidths = [];\n                (function loop(i, chunk) {\n                    if (i <= lastChar) {\n                        var gid = cmap[i];\n                        if (gid == null) {\n                            loop(i + 1);\n                        } else {\n                            if (!chunk) {\n                                charWidths.push(i, chunk = []);\n                            }\n                            chunk.push(self._font.widthOfGlyph(gid));\n                            loop(i + 1, chunk);\n                        }\n                    }\n                }(firstChar));\n                var descendant = new PDFDictionary({\n                    Type: _('Font'),\n                    Subtype: _('CIDFontType2'),\n                    BaseFont: _(self._sub.psName),\n                    CIDSystemInfo: new PDFDictionary({\n                        Registry: new PDFString('Adobe'),\n                        Ordering: new PDFString('Identity'),\n                        Supplement: 0\n                    }),\n                    FontDescriptor: descriptor,\n                    FirstChar: firstChar,\n                    LastChar: lastChar,\n                    DW: Math.round(self._font.widthOfGlyph(0)),\n                    W: charWidths,\n                    CIDToGIDMap: self._pdf.attach(self._makeCidToGidMap())\n                });\n                var dict = self.props;\n                dict.BaseFont = _(self._sub.psName);\n                dict.DescendantFonts = [self._pdf.attach(descendant)];\n                var unimap = new PDFToUnicodeCmap(firstChar, lastChar, sub.subset);\n                var unimapStream = new PDFStream(makeOutput(), null, true);\n                unimapStream.data(unimap);\n                dict.ToUnicode = self._pdf.attach(unimapStream);\n            },\n            _makeCidToGidMap: function () {\n                return new PDFStream(BinaryStream(this._sub.cidToGidMap()), null, true);\n            }\n        }, PDFDictionary);\n        var PDFToUnicodeCmap = defclass(function PDFUnicodeCMap(firstChar, lastChar, map) {\n            this.firstChar = firstChar;\n            this.lastChar = lastChar;\n            this.map = map;\n        }, {\n            render: function (out) {\n                out.indent('/CIDInit /ProcSet findresource begin');\n                out.indent('12 dict begin');\n                out.indent('begincmap');\n                out.indent('/CIDSystemInfo <<');\n                out.indent('  /Registry (Adobe)');\n                out.indent('  /Ordering (UCS)');\n                out.indent('  /Supplement 0');\n                out.indent('>> def');\n                out.indent('/CMapName /Adobe-Identity-UCS def');\n                out.indent('/CMapType 2 def');\n                out.indent('1 begincodespacerange');\n                out.indent('  <0000><ffff>');\n                out.indent('endcodespacerange');\n                var self = this;\n                out.indent(self.lastChar - self.firstChar + 1, ' beginbfchar');\n                out.withIndent(function () {\n                    for (var code = self.firstChar; code <= self.lastChar; ++code) {\n                        var unicode = self.map[code];\n                        var str = kendo.util.ucs2encode([unicode]);\n                        out.indent('<', zeropad(code.toString(16), 4), '>', '<');\n                        for (var i = 0; i < str.length; ++i) {\n                            out(zeropad(str.charCodeAt(i).toString(16), 4));\n                        }\n                        out('>');\n                    }\n                });\n                out.indent('endbfchar');\n                out.indent('endcmap');\n                out.indent('CMapName currentdict /CMap defineresource pop');\n                out.indent('end');\n                out.indent('end');\n            }\n        });\n        function makeHash(a) {\n            return a.map(function (x) {\n                return isArray(x) ? makeHash(x) : typeof x == 'number' ? (Math.round(x * 1000) / 1000).toFixed(3) : x;\n            }).join(' ');\n        }\n        function cacheColorGradientFunction(pdf, r1, g1, b1, r2, g2, b2) {\n            var hash = makeHash([\n                r1,\n                g1,\n                b1,\n                r2,\n                g2,\n                b2\n            ]);\n            var func = pdf.GRAD_COL_FUNCTIONS[hash];\n            if (!func) {\n                func = pdf.GRAD_COL_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n                    FunctionType: 2,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Range: [\n                        0,\n                        1,\n                        0,\n                        1,\n                        0,\n                        1\n                    ],\n                    N: 1,\n                    C0: [\n                        r1,\n                        g1,\n                        b1\n                    ],\n                    C1: [\n                        r2,\n                        g2,\n                        b2\n                    ]\n                }));\n            }\n            return func;\n        }\n        function cacheOpacityGradientFunction(pdf, a1, a2) {\n            var hash = makeHash([\n                a1,\n                a2\n            ]);\n            var func = pdf.GRAD_OPC_FUNCTIONS[hash];\n            if (!func) {\n                func = pdf.GRAD_OPC_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n                    FunctionType: 2,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Range: [\n                        0,\n                        1\n                    ],\n                    N: 1,\n                    C0: [a1],\n                    C1: [a2]\n                }));\n            }\n            return func;\n        }\n        function makeGradientFunctions(pdf, stops) {\n            var hasAlpha = false;\n            var opacities = [];\n            var colors = [];\n            var offsets = [];\n            var encode = [];\n            var i, prev, cur, prevColor, curColor;\n            for (i = 1; i < stops.length; ++i) {\n                prev = stops[i - 1];\n                cur = stops[i];\n                prevColor = prev.color;\n                curColor = cur.color;\n                colors.push(cacheColorGradientFunction(pdf, prevColor.r, prevColor.g, prevColor.b, curColor.r, curColor.g, curColor.b));\n                if (prevColor.a < 1 || curColor.a < 1) {\n                    hasAlpha = true;\n                }\n                offsets.push(cur.offset);\n                encode.push(0, 1);\n            }\n            if (hasAlpha) {\n                for (i = 1; i < stops.length; ++i) {\n                    prev = stops[i - 1];\n                    cur = stops[i];\n                    prevColor = prev.color;\n                    curColor = cur.color;\n                    opacities.push(cacheOpacityGradientFunction(pdf, prevColor.a, curColor.a));\n                }\n            }\n            offsets.pop();\n            return {\n                hasAlpha: hasAlpha,\n                colors: assemble(colors),\n                opacities: hasAlpha ? assemble(opacities) : null\n            };\n            function assemble(funcs) {\n                if (funcs.length == 1) {\n                    return funcs[0];\n                }\n                return {\n                    FunctionType: 3,\n                    Functions: funcs,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Bounds: offsets,\n                    Encode: encode\n                };\n            }\n        }\n        function cacheColorGradient(pdf, isRadial, stops, coords, funcs, box) {\n            var shading, hash;\n            if (!box) {\n                var a = [isRadial].concat(coords);\n                stops.forEach(function (x) {\n                    a.push(x.offset, x.color.r, x.color.g, x.color.b);\n                });\n                hash = makeHash(a);\n                shading = pdf.GRAD_COL[hash];\n            }\n            if (!shading) {\n                shading = new PDFDictionary({\n                    Type: _('Shading'),\n                    ShadingType: isRadial ? 3 : 2,\n                    ColorSpace: _('DeviceRGB'),\n                    Coords: coords,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Function: funcs,\n                    Extend: [\n                        true,\n                        true\n                    ]\n                });\n                pdf.attach(shading);\n                shading._resourceName = 'S' + ++RESOURCE_COUNTER;\n                if (hash) {\n                    pdf.GRAD_COL[hash] = shading;\n                }\n            }\n            return shading;\n        }\n        function cacheOpacityGradient(pdf, isRadial, stops, coords, funcs, box) {\n            var opacity, hash;\n            if (!box) {\n                var a = [isRadial].concat(coords);\n                stops.forEach(function (x) {\n                    a.push(x.offset, x.color.a);\n                });\n                hash = makeHash(a);\n                opacity = pdf.GRAD_OPC[hash];\n            }\n            if (!opacity) {\n                opacity = new PDFDictionary({\n                    Type: _('ExtGState'),\n                    AIS: false,\n                    CA: 1,\n                    ca: 1,\n                    SMask: {\n                        Type: _('Mask'),\n                        S: _('Luminosity'),\n                        G: pdf.attach(new PDFStream('/a0 gs /s0 sh', {\n                            Type: _('XObject'),\n                            Subtype: _('Form'),\n                            FormType: 1,\n                            BBox: box ? [\n                                box.left,\n                                box.top + box.height,\n                                box.left + box.width,\n                                box.top\n                            ] : [\n                                0,\n                                1,\n                                1,\n                                0\n                            ],\n                            Group: {\n                                Type: _('Group'),\n                                S: _('Transparency'),\n                                CS: _('DeviceGray'),\n                                I: true\n                            },\n                            Resources: {\n                                ExtGState: {\n                                    a0: {\n                                        CA: 1,\n                                        ca: 1\n                                    }\n                                },\n                                Shading: {\n                                    s0: {\n                                        ColorSpace: _('DeviceGray'),\n                                        Coords: coords,\n                                        Domain: [\n                                            0,\n                                            1\n                                        ],\n                                        ShadingType: isRadial ? 3 : 2,\n                                        Function: funcs,\n                                        Extend: [\n                                            true,\n                                            true\n                                        ]\n                                    }\n                                }\n                            }\n                        }))\n                    }\n                });\n                pdf.attach(opacity);\n                opacity._resourceName = 'O' + ++RESOURCE_COUNTER;\n                if (hash) {\n                    pdf.GRAD_OPC[hash] = opacity;\n                }\n            }\n            return opacity;\n        }\n        function cacheGradient(pdf, gradient, box) {\n            var isRadial = gradient.type == 'radial';\n            var funcs = makeGradientFunctions(pdf, gradient.stops);\n            var coords = isRadial ? [\n                gradient.start.x,\n                gradient.start.y,\n                gradient.start.r,\n                gradient.end.x,\n                gradient.end.y,\n                gradient.end.r\n            ] : [\n                gradient.start.x,\n                gradient.start.y,\n                gradient.end.x,\n                gradient.end.y\n            ];\n            var shading = cacheColorGradient(pdf, isRadial, gradient.stops, coords, funcs.colors, gradient.userSpace && box);\n            var opacity = funcs.hasAlpha ? cacheOpacityGradient(pdf, isRadial, gradient.stops, coords, funcs.opacities, gradient.userSpace && box) : null;\n            return {\n                hasAlpha: funcs.hasAlpha,\n                shading: shading,\n                opacity: opacity\n            };\n        }\n        var PDFPage = defclass(function PDFPage(pdf, props) {\n            this._pdf = pdf;\n            this._rcount = 0;\n            this._textMode = false;\n            this._fontResources = {};\n            this._gsResources = {};\n            this._xResources = {};\n            this._patResources = {};\n            this._shResources = {};\n            this._opacity = 1;\n            this._matrix = [\n                1,\n                0,\n                0,\n                1,\n                0,\n                0\n            ];\n            this._annotations = [];\n            this._font = null;\n            this._fontSize = null;\n            this._contextStack = [];\n            props = this.props = props || {};\n            props.Type = _('Page');\n            props.ProcSet = [\n                _('PDF'),\n                _('Text'),\n                _('ImageB'),\n                _('ImageC'),\n                _('ImageI')\n            ];\n            props.Resources = new PDFDictionary({\n                Font: new PDFDictionary(this._fontResources),\n                ExtGState: new PDFDictionary(this._gsResources),\n                XObject: new PDFDictionary(this._xResources),\n                Pattern: new PDFDictionary(this._patResources),\n                Shading: new PDFDictionary(this._shResources)\n            });\n            props.Annots = this._annotations;\n        }, {\n            _out: function () {\n                this._content.data.apply(null, arguments);\n            },\n            transform: function (a, b, c, d, e, f) {\n                if (!isIdentityMatrix(arguments)) {\n                    this._matrix = mmul(arguments, this._matrix);\n                    this._out(a, ' ', b, ' ', c, ' ', d, ' ', e, ' ', f, ' cm');\n                    this._out(NL);\n                }\n            },\n            translate: function (dx, dy) {\n                this.transform(1, 0, 0, 1, dx, dy);\n            },\n            scale: function (sx, sy) {\n                this.transform(sx, 0, 0, sy, 0, 0);\n            },\n            rotate: function (angle) {\n                var cos = Math.cos(angle), sin = Math.sin(angle);\n                this.transform(cos, sin, -sin, cos, 0, 0);\n            },\n            beginText: function () {\n                this._textMode = true;\n                this._out('BT', NL);\n            },\n            endText: function () {\n                this._textMode = false;\n                this._out('ET', NL);\n            },\n            _requireTextMode: function () {\n                if (!this._textMode) {\n                    throw new Error('Text mode required; call page.beginText() first');\n                }\n            },\n            _requireFont: function () {\n                if (!this._font) {\n                    throw new Error('No font selected; call page.setFont() first');\n                }\n            },\n            setFont: function (font, size) {\n                this._requireTextMode();\n                if (font == null) {\n                    font = this._font;\n                } else if (!(font instanceof PDFFont)) {\n                    font = this._pdf.getFont(font);\n                }\n                if (size == null) {\n                    size = this._fontSize;\n                }\n                this._fontResources[font._resourceName] = font;\n                this._font = font;\n                this._fontSize = size;\n                this._out(font._resourceName, ' ', size, ' Tf', NL);\n            },\n            setTextLeading: function (size) {\n                this._requireTextMode();\n                this._out(size, ' TL', NL);\n            },\n            setTextRenderingMode: function (mode) {\n                this._requireTextMode();\n                this._out(mode, ' Tr', NL);\n            },\n            showText: function (text, requestedWidth) {\n                this._requireFont();\n                if (text.length > 1 && requestedWidth && this._font instanceof PDFFont) {\n                    var outputWidth = this._font.getTextWidth(this._fontSize, text);\n                    var scale = requestedWidth / outputWidth * 100;\n                    this._out(scale, ' Tz ');\n                }\n                this._out(this._font.encodeText(text), ' Tj', NL);\n            },\n            showTextNL: function (text) {\n                this._requireFont();\n                this._out(this._font.encodeText(text), ' \\'', NL);\n            },\n            addLink: function (uri, box) {\n                var ll = this._toPage({\n                    x: box.left,\n                    y: box.bottom\n                });\n                var ur = this._toPage({\n                    x: box.right,\n                    y: box.top\n                });\n                this._annotations.push(new PDFDictionary({\n                    Type: _('Annot'),\n                    Subtype: _('Link'),\n                    Rect: [\n                        ll.x,\n                        ll.y,\n                        ur.x,\n                        ur.y\n                    ],\n                    Border: [\n                        0,\n                        0,\n                        0\n                    ],\n                    A: new PDFDictionary({\n                        Type: _('Action'),\n                        S: _('URI'),\n                        URI: new PDFString(uri)\n                    })\n                }));\n            },\n            setStrokeColor: function (r, g, b) {\n                this._out(r, ' ', g, ' ', b, ' RG', NL);\n            },\n            setOpacity: function (opacity) {\n                this.setFillOpacity(opacity);\n                this.setStrokeOpacity(opacity);\n                this._opacity *= opacity;\n            },\n            setStrokeOpacity: function (opacity) {\n                if (opacity < 1) {\n                    var gs = this._pdf.getOpacityGS(this._opacity * opacity, true);\n                    this._gsResources[gs._resourceName] = gs;\n                    this._out(gs._resourceName, ' gs', NL);\n                }\n            },\n            setFillColor: function (r, g, b) {\n                this._out(r, ' ', g, ' ', b, ' rg', NL);\n            },\n            setFillOpacity: function (opacity) {\n                if (opacity < 1) {\n                    var gs = this._pdf.getOpacityGS(this._opacity * opacity, false);\n                    this._gsResources[gs._resourceName] = gs;\n                    this._out(gs._resourceName, ' gs', NL);\n                }\n            },\n            gradient: function (gradient, box) {\n                this.save();\n                this.rect(box.left, box.top, box.width, box.height);\n                this.clip();\n                if (!gradient.userSpace) {\n                    this.transform(box.width, 0, 0, box.height, box.left, box.top);\n                }\n                var g = cacheGradient(this._pdf, gradient, box);\n                var sname = g.shading._resourceName, oname;\n                this._shResources[sname] = g.shading;\n                if (g.hasAlpha) {\n                    oname = g.opacity._resourceName;\n                    this._gsResources[oname] = g.opacity;\n                    this._out('/' + oname + ' gs ');\n                }\n                this._out('/' + sname + ' sh', NL);\n                this.restore();\n            },\n            setDashPattern: function (dashArray, dashPhase) {\n                this._out(dashArray, ' ', dashPhase, ' d', NL);\n            },\n            setLineWidth: function (width) {\n                this._out(width, ' w', NL);\n            },\n            setLineCap: function (lineCap) {\n                this._out(lineCap, ' J', NL);\n            },\n            setLineJoin: function (lineJoin) {\n                this._out(lineJoin, ' j', NL);\n            },\n            setMitterLimit: function (mitterLimit) {\n                this._out(mitterLimit, ' M', NL);\n            },\n            save: function () {\n                this._contextStack.push(this._context());\n                this._out('q', NL);\n            },\n            restore: function () {\n                this._out('Q', NL);\n                this._context(this._contextStack.pop());\n            },\n            moveTo: function (x, y) {\n                this._out(x, ' ', y, ' m', NL);\n            },\n            lineTo: function (x, y) {\n                this._out(x, ' ', y, ' l', NL);\n            },\n            bezier: function (x1, y1, x2, y2, x3, y3) {\n                this._out(x1, ' ', y1, ' ', x2, ' ', y2, ' ', x3, ' ', y3, ' c', NL);\n            },\n            bezier1: function (x1, y1, x3, y3) {\n                this._out(x1, ' ', y1, ' ', x3, ' ', y3, ' y', NL);\n            },\n            bezier2: function (x2, y2, x3, y3) {\n                this._out(x2, ' ', y2, ' ', x3, ' ', y3, ' v', NL);\n            },\n            close: function () {\n                this._out('h', NL);\n            },\n            rect: function (x, y, w, h) {\n                this._out(x, ' ', y, ' ', w, ' ', h, ' re', NL);\n            },\n            ellipse: function (x, y, rx, ry) {\n                function _X(v) {\n                    return x + v;\n                }\n                function _Y(v) {\n                    return y + v;\n                }\n                var k = 0.5522847498307936;\n                this.moveTo(_X(0), _Y(ry));\n                this.bezier(_X(rx * k), _Y(ry), _X(rx), _Y(ry * k), _X(rx), _Y(0));\n                this.bezier(_X(rx), _Y(-ry * k), _X(rx * k), _Y(-ry), _X(0), _Y(-ry));\n                this.bezier(_X(-rx * k), _Y(-ry), _X(-rx), _Y(-ry * k), _X(-rx), _Y(0));\n                this.bezier(_X(-rx), _Y(ry * k), _X(-rx * k), _Y(ry), _X(0), _Y(ry));\n            },\n            circle: function (x, y, r) {\n                this.ellipse(x, y, r, r);\n            },\n            stroke: function () {\n                this._out('S', NL);\n            },\n            nop: function () {\n                this._out('n', NL);\n            },\n            clip: function () {\n                this._out('W n', NL);\n            },\n            clipStroke: function () {\n                this._out('W S', NL);\n            },\n            closeStroke: function () {\n                this._out('s', NL);\n            },\n            fill: function () {\n                this._out('f', NL);\n            },\n            fillStroke: function () {\n                this._out('B', NL);\n            },\n            drawImage: function (url) {\n                var img = this._pdf.getImage(url);\n                if (img) {\n                    this._xResources[img._resourceName] = img;\n                    this._out(img._resourceName, ' Do', NL);\n                }\n            },\n            comment: function (txt) {\n                var self = this;\n                txt.split(/\\r?\\n/g).forEach(function (line) {\n                    self._out('% ', line, NL);\n                });\n            },\n            _context: function (val) {\n                if (val != null) {\n                    this._opacity = val.opacity;\n                    this._matrix = val.matrix;\n                } else {\n                    return {\n                        opacity: this._opacity,\n                        matrix: this._matrix\n                    };\n                }\n            },\n            _toPage: function (p) {\n                var m = this._matrix;\n                var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n                return {\n                    x: a * p.x + c * p.y + e,\n                    y: b * p.x + d * p.y + f\n                };\n            }\n        }, PDFDictionary);\n        function BinaryStream(data) {\n            var offset = 0, length = 0;\n            if (data == null) {\n                data = HAS_TYPED_ARRAYS ? new Uint8Array(256) : [];\n            } else {\n                length = data.length;\n            }\n            var ensure = HAS_TYPED_ARRAYS ? function (len) {\n                if (len >= data.length) {\n                    var tmp = new Uint8Array(Math.max(len + 256, data.length * 2));\n                    tmp.set(data, 0);\n                    data = tmp;\n                }\n            } : function () {\n            };\n            var get = HAS_TYPED_ARRAYS ? function () {\n                return new Uint8Array(data.buffer, 0, length);\n            } : function () {\n                return data;\n            };\n            var write = HAS_TYPED_ARRAYS ? function (bytes) {\n                if (typeof bytes == 'string') {\n                    return writeString(bytes);\n                }\n                var len = bytes.length;\n                ensure(offset + len);\n                data.set(bytes, offset);\n                offset += len;\n                if (offset > length) {\n                    length = offset;\n                }\n            } : function (bytes) {\n                if (typeof bytes == 'string') {\n                    return writeString(bytes);\n                }\n                for (var i = 0; i < bytes.length; ++i) {\n                    writeByte(bytes[i]);\n                }\n            };\n            var slice = HAS_TYPED_ARRAYS ? function (start, length) {\n                if (data.buffer.slice) {\n                    return new Uint8Array(data.buffer.slice(start, start + length));\n                } else {\n                    var x = new Uint8Array(length);\n                    x.set(new Uint8Array(data.buffer, start, length));\n                    return x;\n                }\n            } : function (start, length) {\n                return data.slice(start, start + length);\n            };\n            function eof() {\n                return offset >= length;\n            }\n            function readByte() {\n                return offset < length ? data[offset++] : 0;\n            }\n            function writeByte(b) {\n                ensure(offset);\n                data[offset++] = b & 255;\n                if (offset > length) {\n                    length = offset;\n                }\n            }\n            function readShort() {\n                return readByte() << 8 | readByte();\n            }\n            function writeShort(w) {\n                writeByte(w >> 8);\n                writeByte(w);\n            }\n            function readShort_() {\n                var w = readShort();\n                return w >= 32768 ? w - 65536 : w;\n            }\n            function writeShort_(w) {\n                writeShort(w < 0 ? w + 65536 : w);\n            }\n            function readLong() {\n                return readShort() * 65536 + readShort();\n            }\n            function writeLong(w) {\n                writeShort(w >>> 16 & 65535);\n                writeShort(w & 65535);\n            }\n            function readLong_() {\n                var w = readLong();\n                return w >= 2147483648 ? w - 4294967296 : w;\n            }\n            function writeLong_(w) {\n                writeLong(w < 0 ? w + 4294967296 : w);\n            }\n            function readFixed() {\n                return readLong() / 65536;\n            }\n            function writeFixed(f) {\n                writeLong(Math.round(f * 65536));\n            }\n            function readFixed_() {\n                return readLong_() / 65536;\n            }\n            function writeFixed_(f) {\n                writeLong_(Math.round(f * 65536));\n            }\n            function read(len) {\n                return times(len, readByte);\n            }\n            function readString(len) {\n                return String.fromCharCode.apply(String, read(len));\n            }\n            function writeString(str) {\n                for (var i = 0; i < str.length; ++i) {\n                    writeByte(str.charCodeAt(i));\n                }\n            }\n            function times(n, reader) {\n                for (var ret = new Array(n), i = 0; i < n; ++i) {\n                    ret[i] = reader();\n                }\n                return ret;\n            }\n            var stream = {\n                eof: eof,\n                readByte: readByte,\n                writeByte: writeByte,\n                readShort: readShort,\n                writeShort: writeShort,\n                readLong: readLong,\n                writeLong: writeLong,\n                readFixed: readFixed,\n                writeFixed: writeFixed,\n                readShort_: readShort_,\n                writeShort_: writeShort_,\n                readLong_: readLong_,\n                writeLong_: writeLong_,\n                readFixed_: readFixed_,\n                writeFixed_: writeFixed_,\n                read: read,\n                write: write,\n                readString: readString,\n                writeString: writeString,\n                times: times,\n                get: get,\n                slice: slice,\n                offset: function (pos) {\n                    if (pos != null) {\n                        offset = pos;\n                        return stream;\n                    }\n                    return offset;\n                },\n                skip: function (nbytes) {\n                    offset += nbytes;\n                },\n                toString: function () {\n                    throw new Error('FIX CALLER.  BinaryStream is no longer convertible to string!');\n                },\n                length: function () {\n                    return length;\n                },\n                saveExcursion: function (f) {\n                    var pos = offset;\n                    try {\n                        return f();\n                    } finally {\n                        offset = pos;\n                    }\n                },\n                writeBase64: function (base64) {\n                    if (window.atob) {\n                        writeString(window.atob(base64));\n                    } else {\n                        write(BASE64.decode(base64));\n                    }\n                },\n                base64: function () {\n                    return BASE64.encode(get());\n                }\n            };\n            return stream;\n        }\n        function unquote(str) {\n            return str.replace(/^\\s*(['\"])(.*)\\1\\s*$/, '$2');\n        }\n        function parseFontDef(fontdef) {\n            var rx = /^\\s*((normal|italic)\\s+)?((normal|small-caps)\\s+)?((normal|bold|\\d+)\\s+)?(([0-9.]+)(px|pt))(\\/(([0-9.]+)(px|pt)|normal))?\\s+(.*?)\\s*$/i;\n            var m = rx.exec(fontdef);\n            if (!m) {\n                return {\n                    fontSize: 12,\n                    fontFamily: 'sans-serif'\n                };\n            }\n            var fontSize = m[8] ? parseInt(m[8], 10) : 12;\n            return {\n                italic: m[2] && m[2].toLowerCase() == 'italic',\n                variant: m[4],\n                bold: m[6] && /bold|700/i.test(m[6]),\n                fontSize: fontSize,\n                lineHeight: m[12] ? m[12] == 'normal' ? fontSize : parseInt(m[12], 10) : null,\n                fontFamily: m[14].split(/\\s*,\\s*/g).map(unquote)\n            };\n        }\n        function getFontURL(style) {\n            function mkFamily(name) {\n                if (style.bold) {\n                    name += '|bold';\n                }\n                if (style.italic) {\n                    name += '|italic';\n                }\n                return name.toLowerCase();\n            }\n            var fontFamily = style.fontFamily;\n            var name, url;\n            if (fontFamily instanceof Array) {\n                for (var i = 0; i < fontFamily.length; ++i) {\n                    name = mkFamily(fontFamily[i]);\n                    url = FONT_MAPPINGS[name];\n                    if (url) {\n                        break;\n                    }\n                }\n            } else {\n                url = FONT_MAPPINGS[fontFamily.toLowerCase()];\n            }\n            while (typeof url == 'function') {\n                url = url();\n            }\n            if (!url) {\n                url = 'Times-Roman';\n            }\n            return url;\n        }\n        var FONT_MAPPINGS = {\n            'serif': 'Times-Roman',\n            'serif|bold': 'Times-Bold',\n            'serif|italic': 'Times-Italic',\n            'serif|bold|italic': 'Times-BoldItalic',\n            'sans-serif': 'Helvetica',\n            'sans-serif|bold': 'Helvetica-Bold',\n            'sans-serif|italic': 'Helvetica-Oblique',\n            'sans-serif|bold|italic': 'Helvetica-BoldOblique',\n            'monospace': 'Courier',\n            'monospace|bold': 'Courier-Bold',\n            'monospace|italic': 'Courier-Oblique',\n            'monospace|bold|italic': 'Courier-BoldOblique',\n            'zapfdingbats': 'ZapfDingbats',\n            'zapfdingbats|bold': 'ZapfDingbats',\n            'zapfdingbats|italic': 'ZapfDingbats',\n            'zapfdingbats|bold|italic': 'ZapfDingbats'\n        };\n        function fontAlias(alias, name) {\n            alias = alias.toLowerCase();\n            FONT_MAPPINGS[alias] = function () {\n                return FONT_MAPPINGS[name];\n            };\n            FONT_MAPPINGS[alias + '|bold'] = function () {\n                return FONT_MAPPINGS[name + '|bold'];\n            };\n            FONT_MAPPINGS[alias + '|italic'] = function () {\n                return FONT_MAPPINGS[name + '|italic'];\n            };\n            FONT_MAPPINGS[alias + '|bold|italic'] = function () {\n                return FONT_MAPPINGS[name + '|bold|italic'];\n            };\n        }\n        fontAlias('Times New Roman', 'serif');\n        fontAlias('Courier New', 'monospace');\n        fontAlias('Arial', 'sans-serif');\n        fontAlias('Helvetica', 'sans-serif');\n        fontAlias('Verdana', 'sans-serif');\n        fontAlias('Tahoma', 'sans-serif');\n        fontAlias('Georgia', 'sans-serif');\n        fontAlias('Monaco', 'monospace');\n        fontAlias('Andale Mono', 'monospace');\n        function defineFont(name, url) {\n            if (arguments.length == 1) {\n                for (var i in name) {\n                    if (hasOwnProperty(name, i)) {\n                        defineFont(i, name[i]);\n                    }\n                }\n            } else {\n                name = name.toLowerCase();\n                FONT_MAPPINGS[name] = url;\n                switch (name) {\n                case 'dejavu sans':\n                    FONT_MAPPINGS['sans-serif'] = url;\n                    break;\n                case 'dejavu sans|bold':\n                    FONT_MAPPINGS['sans-serif|bold'] = url;\n                    break;\n                case 'dejavu sans|italic':\n                    FONT_MAPPINGS['sans-serif|italic'] = url;\n                    break;\n                case 'dejavu sans|bold|italic':\n                    FONT_MAPPINGS['sans-serif|bold|italic'] = url;\n                    break;\n                case 'dejavu serif':\n                    FONT_MAPPINGS['serif'] = url;\n                    break;\n                case 'dejavu serif|bold':\n                    FONT_MAPPINGS['serif|bold'] = url;\n                    break;\n                case 'dejavu serif|italic':\n                    FONT_MAPPINGS['serif|italic'] = url;\n                    break;\n                case 'dejavu serif|bold|italic':\n                    FONT_MAPPINGS['serif|bold|italic'] = url;\n                    break;\n                case 'dejavu mono':\n                    FONT_MAPPINGS['monospace'] = url;\n                    break;\n                case 'dejavu mono|bold':\n                    FONT_MAPPINGS['monospace|bold'] = url;\n                    break;\n                case 'dejavu mono|italic':\n                    FONT_MAPPINGS['monospace|italic'] = url;\n                    break;\n                case 'dejavu mono|bold|italic':\n                    FONT_MAPPINGS['monospace|bold|italic'] = url;\n                    break;\n                }\n            }\n        }\n        kendo.pdf = {\n            Document: PDFDocument,\n            BinaryStream: BinaryStream,\n            defineFont: defineFont,\n            parseFontDef: parseFontDef,\n            getFontURL: getFontURL,\n            loadFonts: loadFonts,\n            loadImages: loadImages,\n            getPaperOptions: getPaperOptions,\n            TEXT_RENDERING_MODE: {\n                fill: 0,\n                stroke: 1,\n                fillAndStroke: 2,\n                invisible: 3,\n                fillAndClip: 4,\n                strokeAndClip: 5,\n                fillStrokeClip: 6,\n                clip: 7\n            }\n        };\n        function mmul(a, b) {\n            var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n            var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n            return [\n                a1 * a2 + b1 * c2,\n                a1 * b2 + b1 * d2,\n                c1 * a2 + d1 * c2,\n                c1 * b2 + d1 * d2,\n                e1 * a2 + f1 * c2 + e2,\n                e1 * b2 + f1 * d2 + f2\n            ];\n        }\n        function isIdentityMatrix(m) {\n            return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1 && m[4] === 0 && m[5] === 0;\n        }\n    }(window, parseFloat));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/ttf', [\n        'pdf/core',\n        'util/main'\n    ], f);\n}(function () {\n    (function (window) {\n        'use strict';\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        function sortedKeys(obj) {\n            return Object.keys(obj).sort(function (a, b) {\n                return a - b;\n            }).map(parseFloat);\n        }\n        var PDF = window.kendo.pdf;\n        var BinaryStream = PDF.BinaryStream;\n        function Directory(data) {\n            this.raw = data;\n            this.scalerType = data.readLong();\n            this.tableCount = data.readShort();\n            this.searchRange = data.readShort();\n            this.entrySelector = data.readShort();\n            this.rangeShift = data.readShort();\n            var tables = this.tables = {};\n            for (var i = 0; i < this.tableCount; ++i) {\n                var entry = {\n                    tag: data.readString(4),\n                    checksum: data.readLong(),\n                    offset: data.readLong(),\n                    length: data.readLong()\n                };\n                tables[entry.tag] = entry;\n            }\n        }\n        Directory.prototype = {\n            readTable: function (name, Ctor) {\n                var def = this.tables[name];\n                if (!def) {\n                    throw new Error('Table ' + name + ' not found in directory');\n                }\n                return this[name] = def.table = new Ctor(this, def);\n            },\n            render: function (tables) {\n                var tableCount = Object.keys(tables).length;\n                var maxpow2 = Math.pow(2, Math.floor(Math.log(tableCount) / Math.LN2));\n                var searchRange = maxpow2 * 16;\n                var entrySelector = Math.floor(Math.log(maxpow2) / Math.LN2);\n                var rangeShift = tableCount * 16 - searchRange;\n                var out = BinaryStream();\n                out.writeLong(this.scalerType);\n                out.writeShort(tableCount);\n                out.writeShort(searchRange);\n                out.writeShort(entrySelector);\n                out.writeShort(rangeShift);\n                var directoryLength = tableCount * 16;\n                var offset = out.offset() + directoryLength;\n                var headOffset = null;\n                var tableData = BinaryStream();\n                for (var tag in tables) {\n                    if (hasOwnProperty(tables, tag)) {\n                        var table = tables[tag];\n                        out.writeString(tag);\n                        out.writeLong(this.checksum(table));\n                        out.writeLong(offset);\n                        out.writeLong(table.length);\n                        tableData.write(table);\n                        if (tag == 'head') {\n                            headOffset = offset;\n                        }\n                        offset += table.length;\n                        while (offset % 4) {\n                            tableData.writeByte(0);\n                            offset++;\n                        }\n                    }\n                }\n                out.write(tableData.get());\n                var sum = this.checksum(out.get());\n                var adjustment = 2981146554 - sum;\n                out.offset(headOffset + 8);\n                out.writeLong(adjustment);\n                return out.get();\n            },\n            checksum: function (data) {\n                data = BinaryStream(data);\n                var sum = 0;\n                while (!data.eof()) {\n                    sum += data.readLong();\n                }\n                return sum & 4294967295;\n            }\n        };\n        function deftable(methods) {\n            function Ctor(file, def) {\n                this.definition = def;\n                this.length = def.length;\n                this.offset = def.offset;\n                this.file = file;\n                this.rawData = file.raw;\n                this.parse(file.raw);\n            }\n            Ctor.prototype.raw = function () {\n                return this.rawData.slice(this.offset, this.length);\n            };\n            for (var i in methods) {\n                if (hasOwnProperty(methods, i)) {\n                    Ctor[i] = Ctor.prototype[i] = methods[i];\n                }\n            }\n            return Ctor;\n        }\n        var HeadTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.revision = data.readLong();\n                this.checkSumAdjustment = data.readLong();\n                this.magicNumber = data.readLong();\n                this.flags = data.readShort();\n                this.unitsPerEm = data.readShort();\n                this.created = data.read(8);\n                this.modified = data.read(8);\n                this.xMin = data.readShort_();\n                this.yMin = data.readShort_();\n                this.xMax = data.readShort_();\n                this.yMax = data.readShort_();\n                this.macStyle = data.readShort();\n                this.lowestRecPPEM = data.readShort();\n                this.fontDirectionHint = data.readShort_();\n                this.indexToLocFormat = data.readShort_();\n                this.glyphDataFormat = data.readShort_();\n            },\n            render: function (indexToLocFormat) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeLong(this.revision);\n                out.writeLong(0);\n                out.writeLong(this.magicNumber);\n                out.writeShort(this.flags);\n                out.writeShort(this.unitsPerEm);\n                out.write(this.created);\n                out.write(this.modified);\n                out.writeShort_(this.xMin);\n                out.writeShort_(this.yMin);\n                out.writeShort_(this.xMax);\n                out.writeShort_(this.yMax);\n                out.writeShort(this.macStyle);\n                out.writeShort(this.lowestRecPPEM);\n                out.writeShort_(this.fontDirectionHint);\n                out.writeShort_(indexToLocFormat);\n                out.writeShort_(this.glyphDataFormat);\n                return out.get();\n            }\n        });\n        var LocaTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                var format = this.file.head.indexToLocFormat;\n                if (format === 0) {\n                    this.offsets = data.times(this.length / 2, function () {\n                        return 2 * data.readShort();\n                    });\n                } else {\n                    this.offsets = data.times(this.length / 4, data.readLong);\n                }\n            },\n            offsetOf: function (id) {\n                return this.offsets[id];\n            },\n            lengthOf: function (id) {\n                return this.offsets[id + 1] - this.offsets[id];\n            },\n            render: function (offsets) {\n                var out = BinaryStream();\n                var needsLongFormat = offsets[offsets.length - 1] > 65535;\n                for (var i = 0; i < offsets.length; ++i) {\n                    if (needsLongFormat) {\n                        out.writeLong(offsets[i]);\n                    } else {\n                        out.writeShort(offsets[i] / 2);\n                    }\n                }\n                return {\n                    format: needsLongFormat ? 1 : 0,\n                    table: out.get()\n                };\n            }\n        });\n        var HheaTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.ascent = data.readShort_();\n                this.descent = data.readShort_();\n                this.lineGap = data.readShort_();\n                this.advanceWidthMax = data.readShort();\n                this.minLeftSideBearing = data.readShort_();\n                this.minRightSideBearing = data.readShort_();\n                this.xMaxExtent = data.readShort_();\n                this.caretSlopeRise = data.readShort_();\n                this.caretSlopeRun = data.readShort_();\n                this.caretOffset = data.readShort_();\n                data.skip(4 * 2);\n                this.metricDataFormat = data.readShort_();\n                this.numOfLongHorMetrics = data.readShort();\n            },\n            render: function (ids) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeShort_(this.ascent);\n                out.writeShort_(this.descent);\n                out.writeShort_(this.lineGap);\n                out.writeShort(this.advanceWidthMax);\n                out.writeShort_(this.minLeftSideBearing);\n                out.writeShort_(this.minRightSideBearing);\n                out.writeShort_(this.xMaxExtent);\n                out.writeShort_(this.caretSlopeRise);\n                out.writeShort_(this.caretSlopeRun);\n                out.writeShort_(this.caretOffset);\n                out.write([\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0\n                ]);\n                out.writeShort_(this.metricDataFormat);\n                out.writeShort(ids.length);\n                return out.get();\n            }\n        });\n        var MaxpTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.numGlyphs = data.readShort();\n                this.maxPoints = data.readShort();\n                this.maxContours = data.readShort();\n                this.maxComponentPoints = data.readShort();\n                this.maxComponentContours = data.readShort();\n                this.maxZones = data.readShort();\n                this.maxTwilightPoints = data.readShort();\n                this.maxStorage = data.readShort();\n                this.maxFunctionDefs = data.readShort();\n                this.maxInstructionDefs = data.readShort();\n                this.maxStackElements = data.readShort();\n                this.maxSizeOfInstructions = data.readShort();\n                this.maxComponentElements = data.readShort();\n                this.maxComponentDepth = data.readShort();\n            },\n            render: function (glyphIds) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeShort(glyphIds.length);\n                out.writeShort(this.maxPoints);\n                out.writeShort(this.maxContours);\n                out.writeShort(this.maxComponentPoints);\n                out.writeShort(this.maxComponentContours);\n                out.writeShort(this.maxZones);\n                out.writeShort(this.maxTwilightPoints);\n                out.writeShort(this.maxStorage);\n                out.writeShort(this.maxFunctionDefs);\n                out.writeShort(this.maxInstructionDefs);\n                out.writeShort(this.maxStackElements);\n                out.writeShort(this.maxSizeOfInstructions);\n                out.writeShort(this.maxComponentElements);\n                out.writeShort(this.maxComponentDepth);\n                return out.get();\n            }\n        });\n        var HmtxTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                var dir = this.file, hhea = dir.hhea;\n                this.metrics = data.times(hhea.numOfLongHorMetrics, function () {\n                    return {\n                        advance: data.readShort(),\n                        lsb: data.readShort_()\n                    };\n                });\n                var lsbCount = dir.maxp.numGlyphs - dir.hhea.numOfLongHorMetrics;\n                this.leftSideBearings = data.times(lsbCount, data.readShort_);\n            },\n            forGlyph: function (id) {\n                var metrics = this.metrics;\n                var n = metrics.length;\n                if (id < n) {\n                    return metrics[id];\n                }\n                return {\n                    advance: metrics[n - 1].advance,\n                    lsb: this.leftSideBearings[id - n]\n                };\n            },\n            render: function (glyphIds) {\n                var out = BinaryStream();\n                for (var i = 0; i < glyphIds.length; ++i) {\n                    var m = this.forGlyph(glyphIds[i]);\n                    out.writeShort(m.advance);\n                    out.writeShort_(m.lsb);\n                }\n                return out.get();\n            }\n        });\n        var GlyfTable = function () {\n            function SimpleGlyph(raw) {\n                this.raw = raw;\n            }\n            SimpleGlyph.prototype = {\n                compound: false,\n                render: function () {\n                    return this.raw.get();\n                }\n            };\n            var ARG_1_AND_2_ARE_WORDS = 1;\n            var WE_HAVE_A_SCALE = 8;\n            var MORE_COMPONENTS = 32;\n            var WE_HAVE_AN_X_AND_Y_SCALE = 64;\n            var WE_HAVE_A_TWO_BY_TWO = 128;\n            function CompoundGlyph(data) {\n                this.raw = data;\n                var ids = this.glyphIds = [];\n                var offsets = this.idOffsets = [];\n                while (true) {\n                    var flags = data.readShort();\n                    offsets.push(data.offset());\n                    ids.push(data.readShort());\n                    if (!(flags & MORE_COMPONENTS)) {\n                        break;\n                    }\n                    data.skip(flags & ARG_1_AND_2_ARE_WORDS ? 4 : 2);\n                    if (flags & WE_HAVE_A_TWO_BY_TWO) {\n                        data.skip(8);\n                    } else if (flags & WE_HAVE_AN_X_AND_Y_SCALE) {\n                        data.skip(4);\n                    } else if (flags & WE_HAVE_A_SCALE) {\n                        data.skip(2);\n                    }\n                }\n            }\n            CompoundGlyph.prototype = {\n                compound: true,\n                render: function (old2new) {\n                    var out = BinaryStream(this.raw.get());\n                    for (var i = 0; i < this.glyphIds.length; ++i) {\n                        var id = this.glyphIds[i];\n                        out.offset(this.idOffsets[i]);\n                        out.writeShort(old2new[id]);\n                    }\n                    return out.get();\n                }\n            };\n            return deftable({\n                parse: function () {\n                    this.cache = {};\n                },\n                glyphFor: function (id) {\n                    var cache = this.cache;\n                    if (hasOwnProperty(cache, id)) {\n                        return cache[id];\n                    }\n                    var loca = this.file.loca;\n                    var length = loca.lengthOf(id);\n                    if (length === 0) {\n                        return cache[id] = null;\n                    }\n                    var data = this.rawData;\n                    var offset = this.offset + loca.offsetOf(id);\n                    var raw = BinaryStream(data.slice(offset, length));\n                    var numberOfContours = raw.readShort_();\n                    var xMin = raw.readShort_();\n                    var yMin = raw.readShort_();\n                    var xMax = raw.readShort_();\n                    var yMax = raw.readShort_();\n                    var glyph = cache[id] = numberOfContours == -1 ? new CompoundGlyph(raw) : new SimpleGlyph(raw);\n                    glyph.numberOfContours = numberOfContours;\n                    glyph.xMin = xMin;\n                    glyph.yMin = yMin;\n                    glyph.xMax = xMax;\n                    glyph.yMax = yMax;\n                    return glyph;\n                },\n                render: function (glyphs, oldIds, old2new) {\n                    var out = BinaryStream(), offsets = [];\n                    for (var i = 0; i < oldIds.length; ++i) {\n                        var id = oldIds[i];\n                        var glyph = glyphs[id];\n                        offsets.push(out.offset());\n                        if (glyph) {\n                            out.write(glyph.render(old2new));\n                        }\n                    }\n                    offsets.push(out.offset());\n                    return {\n                        table: out.get(),\n                        offsets: offsets\n                    };\n                }\n            });\n        }();\n        var NameTable = function () {\n            function NameEntry(text, entry) {\n                this.text = text;\n                this.length = text.length;\n                this.platformID = entry.platformID;\n                this.platformSpecificID = entry.platformSpecificID;\n                this.languageID = entry.languageID;\n                this.nameID = entry.nameID;\n            }\n            return deftable({\n                parse: function (data) {\n                    data.offset(this.offset);\n                    data.readShort();\n                    var count = data.readShort();\n                    var stringOffset = this.offset + data.readShort();\n                    var nameRecords = data.times(count, function () {\n                        return {\n                            platformID: data.readShort(),\n                            platformSpecificID: data.readShort(),\n                            languageID: data.readShort(),\n                            nameID: data.readShort(),\n                            length: data.readShort(),\n                            offset: data.readShort() + stringOffset\n                        };\n                    });\n                    var strings = this.strings = {};\n                    for (var i = 0; i < nameRecords.length; ++i) {\n                        var rec = nameRecords[i];\n                        data.offset(rec.offset);\n                        var text = data.readString(rec.length);\n                        if (!strings[rec.nameID]) {\n                            strings[rec.nameID] = [];\n                        }\n                        strings[rec.nameID].push(new NameEntry(text, rec));\n                    }\n                    this.postscriptEntry = strings[6][0];\n                    this.postscriptName = this.postscriptEntry.text.replace(/[^\\x20-\\x7F]/g, '');\n                },\n                render: function (psName) {\n                    var strings = this.strings;\n                    var strCount = 0;\n                    for (var i in strings) {\n                        if (hasOwnProperty(strings, i)) {\n                            strCount += strings[i].length;\n                        }\n                    }\n                    var out = BinaryStream();\n                    var strTable = BinaryStream();\n                    out.writeShort(0);\n                    out.writeShort(strCount);\n                    out.writeShort(6 + 12 * strCount);\n                    for (i in strings) {\n                        if (hasOwnProperty(strings, i)) {\n                            var list = i == 6 ? [new NameEntry(psName, this.postscriptEntry)] : strings[i];\n                            for (var j = 0; j < list.length; ++j) {\n                                var str = list[j];\n                                out.writeShort(str.platformID);\n                                out.writeShort(str.platformSpecificID);\n                                out.writeShort(str.languageID);\n                                out.writeShort(str.nameID);\n                                out.writeShort(str.length);\n                                out.writeShort(strTable.offset());\n                                strTable.writeString(str.text);\n                            }\n                        }\n                    }\n                    out.write(strTable.get());\n                    return out.get();\n                }\n            });\n        }();\n        var PostTable = function () {\n            var POSTSCRIPT_GLYPHS = '.notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat'.split(/\\s+/g);\n            return deftable({\n                parse: function (data) {\n                    data.offset(this.offset);\n                    this.format = data.readLong();\n                    this.italicAngle = data.readFixed_();\n                    this.underlinePosition = data.readShort_();\n                    this.underlineThickness = data.readShort_();\n                    this.isFixedPitch = data.readLong();\n                    this.minMemType42 = data.readLong();\n                    this.maxMemType42 = data.readLong();\n                    this.minMemType1 = data.readLong();\n                    this.maxMemType1 = data.readLong();\n                    var numberOfGlyphs;\n                    switch (this.format) {\n                    case 65536:\n                    case 196608:\n                        break;\n                    case 131072:\n                        numberOfGlyphs = data.readShort();\n                        this.glyphNameIndex = data.times(numberOfGlyphs, data.readShort);\n                        this.names = [];\n                        var limit = this.offset + this.length;\n                        while (data.offset() < limit) {\n                            this.names.push(data.readString(data.readByte()));\n                        }\n                        break;\n                    case 151552:\n                        numberOfGlyphs = data.readShort();\n                        this.offsets = data.read(numberOfGlyphs);\n                        break;\n                    case 262144:\n                        this.map = data.times(this.file.maxp.numGlyphs, data.readShort);\n                        break;\n                    }\n                },\n                glyphFor: function (code) {\n                    switch (this.format) {\n                    case 65536:\n                        return POSTSCRIPT_GLYPHS[code] || '.notdef';\n                    case 131072:\n                        var index = this.glyphNameIndex[code];\n                        if (index < POSTSCRIPT_GLYPHS.length) {\n                            return POSTSCRIPT_GLYPHS[index];\n                        }\n                        return this.names[index - POSTSCRIPT_GLYPHS.length] || '.notdef';\n                    case 151552:\n                    case 196608:\n                        return '.notdef';\n                    case 262144:\n                        return this.map[code] || 65535;\n                    }\n                },\n                render: function (mapping) {\n                    if (this.format == 196608) {\n                        return this.raw();\n                    }\n                    var out = BinaryStream(this.rawData.slice(this.offset, 32));\n                    out.writeLong(131072);\n                    out.offset(32);\n                    var indexes = [];\n                    var strings = [];\n                    for (var i = 0; i < mapping.length; ++i) {\n                        var id = mapping[i];\n                        var post = this.glyphFor(id);\n                        var index = POSTSCRIPT_GLYPHS.indexOf(post);\n                        if (index >= 0) {\n                            indexes.push(index);\n                        } else {\n                            indexes.push(POSTSCRIPT_GLYPHS.length + strings.length);\n                            strings.push(post);\n                        }\n                    }\n                    out.writeShort(mapping.length);\n                    for (i = 0; i < indexes.length; ++i) {\n                        out.writeShort(indexes[i]);\n                    }\n                    for (i = 0; i < strings.length; ++i) {\n                        out.writeByte(strings[i].length);\n                        out.writeString(strings[i]);\n                    }\n                    return out.get();\n                }\n            });\n        }();\n        var CmapTable = function () {\n            function CmapEntry(data, offset, codeMap) {\n                var self = this;\n                self.platformID = data.readShort();\n                self.platformSpecificID = data.readShort();\n                self.offset = offset + data.readLong();\n                data.saveExcursion(function () {\n                    var code;\n                    data.offset(self.offset);\n                    self.format = data.readShort();\n                    switch (self.format) {\n                    case 0:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        for (var i = 0; i < 256; ++i) {\n                            codeMap[i] = data.readByte();\n                        }\n                        break;\n                    case 4:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        var segCount = data.readShort() / 2;\n                        data.skip(6);\n                        var endCode = data.times(segCount, data.readShort);\n                        data.skip(2);\n                        var startCode = data.times(segCount, data.readShort);\n                        var idDelta = data.times(segCount, data.readShort_);\n                        var idRangeOffset = data.times(segCount, data.readShort);\n                        var count = (self.length + self.offset - data.offset()) / 2;\n                        var glyphIds = data.times(count, data.readShort);\n                        for (i = 0; i < segCount; ++i) {\n                            var start = startCode[i], end = endCode[i];\n                            for (code = start; code <= end; ++code) {\n                                var glyphId;\n                                if (idRangeOffset[i] === 0) {\n                                    glyphId = code + idDelta[i];\n                                } else {\n                                    var index = idRangeOffset[i] / 2 - (segCount - i) + (code - start);\n                                    glyphId = glyphIds[index] || 0;\n                                    if (glyphId !== 0) {\n                                        glyphId += idDelta[i];\n                                    }\n                                }\n                                codeMap[code] = glyphId & 65535;\n                            }\n                        }\n                        break;\n                    case 6:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        code = data.readShort();\n                        var length = data.readShort();\n                        while (length-- > 0) {\n                            codeMap[code++] = data.readShort();\n                        }\n                        break;\n                    case 12:\n                        data.readShort();\n                        self.length = data.readLong();\n                        self.language = data.readLong();\n                        var ngroups = data.readLong();\n                        while (ngroups-- > 0) {\n                            code = data.readLong();\n                            var endCharCode = data.readLong();\n                            var glyphCode = data.readLong();\n                            while (code <= endCharCode) {\n                                codeMap[code++] = glyphCode++;\n                            }\n                        }\n                        break;\n                    default:\n                        if (window.console) {\n                            window.console.error('Unhandled CMAP format: ' + self.format);\n                        }\n                    }\n                });\n            }\n            function renderCharmap(ncid2ogid, ogid2ngid) {\n                var codes = sortedKeys(ncid2ogid);\n                var startCodes = [];\n                var endCodes = [];\n                var last = null;\n                var diff = null;\n                function new_gid(charcode) {\n                    return ogid2ngid[ncid2ogid[charcode]];\n                }\n                for (var i = 0; i < codes.length; ++i) {\n                    var code = codes[i];\n                    var gid = new_gid(code);\n                    var delta = gid - code;\n                    if (last == null || delta !== diff) {\n                        if (last) {\n                            endCodes.push(last);\n                        }\n                        startCodes.push(code);\n                        diff = delta;\n                    }\n                    last = code;\n                }\n                if (last) {\n                    endCodes.push(last);\n                }\n                endCodes.push(65535);\n                startCodes.push(65535);\n                var segCount = startCodes.length;\n                var segCountX2 = segCount * 2;\n                var searchRange = 2 * Math.pow(2, Math.floor(Math.log(segCount) / Math.LN2));\n                var entrySelector = Math.log(searchRange / 2) / Math.LN2;\n                var rangeShift = segCountX2 - searchRange;\n                var deltas = [];\n                var rangeOffsets = [];\n                var glyphIds = [];\n                for (i = 0; i < segCount; ++i) {\n                    var startCode = startCodes[i];\n                    var endCode = endCodes[i];\n                    if (startCode == 65535) {\n                        deltas.push(0);\n                        rangeOffsets.push(0);\n                        break;\n                    }\n                    var startGlyph = new_gid(startCode);\n                    if (startCode - startGlyph >= 32768) {\n                        deltas.push(0);\n                        rangeOffsets.push(2 * (glyphIds.length + segCount - i));\n                        for (var j = startCode; j <= endCode; ++j) {\n                            glyphIds.push(new_gid(j));\n                        }\n                    } else {\n                        deltas.push(startGlyph - startCode);\n                        rangeOffsets.push(0);\n                    }\n                }\n                var out = BinaryStream();\n                out.writeShort(3);\n                out.writeShort(1);\n                out.writeLong(12);\n                out.writeShort(4);\n                out.writeShort(16 + segCount * 8 + glyphIds.length * 2);\n                out.writeShort(0);\n                out.writeShort(segCountX2);\n                out.writeShort(searchRange);\n                out.writeShort(entrySelector);\n                out.writeShort(rangeShift);\n                endCodes.forEach(out.writeShort);\n                out.writeShort(0);\n                startCodes.forEach(out.writeShort);\n                deltas.forEach(out.writeShort_);\n                rangeOffsets.forEach(out.writeShort);\n                glyphIds.forEach(out.writeShort);\n                return out.get();\n            }\n            return deftable({\n                parse: function (data) {\n                    var self = this;\n                    var offset = self.offset;\n                    data.offset(offset);\n                    self.codeMap = {};\n                    self.version = data.readShort();\n                    var tableCount = data.readShort();\n                    self.tables = data.times(tableCount, function () {\n                        return new CmapEntry(data, offset, self.codeMap);\n                    });\n                },\n                render: function (ncid2ogid, ogid2ngid) {\n                    var out = BinaryStream();\n                    out.writeShort(0);\n                    out.writeShort(1);\n                    out.write(renderCharmap(ncid2ogid, ogid2ngid));\n                    return out.get();\n                }\n            });\n        }();\n        var OS2Table = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readShort();\n                this.averageCharWidth = data.readShort_();\n                this.weightClass = data.readShort();\n                this.widthClass = data.readShort();\n                this.type = data.readShort();\n                this.ySubscriptXSize = data.readShort_();\n                this.ySubscriptYSize = data.readShort_();\n                this.ySubscriptXOffset = data.readShort_();\n                this.ySubscriptYOffset = data.readShort_();\n                this.ySuperscriptXSize = data.readShort_();\n                this.ySuperscriptYSize = data.readShort_();\n                this.ySuperscriptXOffset = data.readShort_();\n                this.ySuperscriptYOffset = data.readShort_();\n                this.yStrikeoutSize = data.readShort_();\n                this.yStrikeoutPosition = data.readShort_();\n                this.familyClass = data.readShort_();\n                this.panose = data.times(10, data.readByte);\n                this.charRange = data.times(4, data.readLong);\n                this.vendorID = data.readString(4);\n                this.selection = data.readShort();\n                this.firstCharIndex = data.readShort();\n                this.lastCharIndex = data.readShort();\n                if (this.version > 0) {\n                    this.ascent = data.readShort_();\n                    this.descent = data.readShort_();\n                    this.lineGap = data.readShort_();\n                    this.winAscent = data.readShort();\n                    this.winDescent = data.readShort();\n                    this.codePageRange = data.times(2, data.readLong);\n                    if (this.version > 1) {\n                        this.xHeight = data.readShort();\n                        this.capHeight = data.readShort();\n                        this.defaultChar = data.readShort();\n                        this.breakChar = data.readShort();\n                        this.maxContext = data.readShort();\n                    }\n                }\n            },\n            render: function () {\n                return this.raw();\n            }\n        });\n        var subsetTag = 100000;\n        function nextSubsetTag() {\n            var ret = '', n = subsetTag + '';\n            for (var i = 0; i < n.length; ++i) {\n                ret += String.fromCharCode(n.charCodeAt(i) - 48 + 65);\n            }\n            ++subsetTag;\n            return ret;\n        }\n        function Subfont(font) {\n            this.font = font;\n            this.subset = {};\n            this.unicodes = {};\n            this.ogid2ngid = { 0: 0 };\n            this.ngid2ogid = { 0: 0 };\n            this.ncid2ogid = {};\n            this.next = this.firstChar = 1;\n            this.nextGid = 1;\n            this.psName = nextSubsetTag() + '+' + this.font.psName;\n        }\n        Subfont.prototype = {\n            use: function (ch) {\n                var self = this;\n                if (typeof ch == 'string') {\n                    return kendo.util.ucs2decode(ch).reduce(function (ret, code) {\n                        return ret + String.fromCharCode(self.use(code));\n                    }, '');\n                }\n                var code = self.unicodes[ch];\n                if (!code) {\n                    code = self.next++;\n                    self.subset[code] = ch;\n                    self.unicodes[ch] = code;\n                    var old_gid = self.font.cmap.codeMap[ch];\n                    if (old_gid) {\n                        self.ncid2ogid[code] = old_gid;\n                        if (self.ogid2ngid[old_gid] == null) {\n                            var new_gid = self.nextGid++;\n                            self.ogid2ngid[old_gid] = new_gid;\n                            self.ngid2ogid[new_gid] = old_gid;\n                        }\n                    }\n                }\n                return code;\n            },\n            encodeText: function (text) {\n                return this.use(text);\n            },\n            glyphIds: function () {\n                return sortedKeys(this.ogid2ngid);\n            },\n            glyphsFor: function (glyphIds, result) {\n                if (!result) {\n                    result = {};\n                }\n                for (var i = 0; i < glyphIds.length; ++i) {\n                    var id = glyphIds[i];\n                    if (!result[id]) {\n                        var glyph = result[id] = this.font.glyf.glyphFor(id);\n                        if (glyph && glyph.compound) {\n                            this.glyphsFor(glyph.glyphIds, result);\n                        }\n                    }\n                }\n                return result;\n            },\n            render: function () {\n                var glyphs = this.glyphsFor(this.glyphIds());\n                for (var old_gid in glyphs) {\n                    if (hasOwnProperty(glyphs, old_gid)) {\n                        old_gid = parseInt(old_gid, 10);\n                        if (this.ogid2ngid[old_gid] == null) {\n                            var new_gid = this.nextGid++;\n                            this.ogid2ngid[old_gid] = new_gid;\n                            this.ngid2ogid[new_gid] = old_gid;\n                        }\n                    }\n                }\n                var new_gid_ids = sortedKeys(this.ngid2ogid);\n                var old_gid_ids = new_gid_ids.map(function (id) {\n                    return this.ngid2ogid[id];\n                }, this);\n                var font = this.font;\n                var glyf = font.glyf.render(glyphs, old_gid_ids, this.ogid2ngid);\n                var loca = font.loca.render(glyf.offsets);\n                this.lastChar = this.next - 1;\n                var tables = {\n                    'cmap': CmapTable.render(this.ncid2ogid, this.ogid2ngid),\n                    'glyf': glyf.table,\n                    'loca': loca.table,\n                    'hmtx': font.hmtx.render(old_gid_ids),\n                    'hhea': font.hhea.render(old_gid_ids),\n                    'maxp': font.maxp.render(old_gid_ids),\n                    'post': font.post.render(old_gid_ids),\n                    'name': font.name.render(this.psName),\n                    'head': font.head.render(loca.format),\n                    'OS/2': font.os2.render()\n                };\n                return this.font.directory.render(tables);\n            },\n            cidToGidMap: function () {\n                var out = BinaryStream(), len = 0;\n                for (var cid = this.firstChar; cid < this.next; ++cid) {\n                    while (len < cid) {\n                        out.writeShort(0);\n                        len++;\n                    }\n                    var old_gid = this.ncid2ogid[cid];\n                    if (old_gid) {\n                        var new_gid = this.ogid2ngid[old_gid];\n                        out.writeShort(new_gid);\n                    } else {\n                        out.writeShort(0);\n                    }\n                    len++;\n                }\n                return out.get();\n            }\n        };\n        function TTFFont(rawData, name) {\n            var self = this;\n            var data = self.contents = BinaryStream(rawData);\n            if (data.readString(4) == 'ttcf') {\n                if (!name) {\n                    throw new Error('Must specify a name for TTC files');\n                }\n                data.readLong();\n                var numFonts = data.readLong();\n                for (var i = 0; i < numFonts; ++i) {\n                    var offset = data.readLong();\n                    data.saveExcursion(function () {\n                        data.offset(offset);\n                        self.parse();\n                    });\n                    if (self.psName == name) {\n                        return;\n                    }\n                }\n                throw new Error('Font ' + name + ' not found in collection');\n            } else {\n                data.offset(0);\n                self.parse();\n            }\n        }\n        TTFFont.prototype = {\n            parse: function () {\n                var dir = this.directory = new Directory(this.contents);\n                this.head = dir.readTable('head', HeadTable);\n                this.loca = dir.readTable('loca', LocaTable);\n                this.hhea = dir.readTable('hhea', HheaTable);\n                this.maxp = dir.readTable('maxp', MaxpTable);\n                this.hmtx = dir.readTable('hmtx', HmtxTable);\n                this.glyf = dir.readTable('glyf', GlyfTable);\n                this.name = dir.readTable('name', NameTable);\n                this.post = dir.readTable('post', PostTable);\n                this.cmap = dir.readTable('cmap', CmapTable);\n                this.os2 = dir.readTable('OS/2', OS2Table);\n                this.psName = this.name.postscriptName;\n                this.ascent = this.os2.ascent || this.hhea.ascent;\n                this.descent = this.os2.descent || this.hhea.descent;\n                this.lineGap = this.os2.lineGap || this.hhea.lineGap;\n                this.scale = 1000 / this.head.unitsPerEm;\n            },\n            widthOfGlyph: function (glyph) {\n                return this.hmtx.forGlyph(glyph).advance * this.scale;\n            },\n            makeSubset: function () {\n                return new Subfont(this);\n            }\n        };\n        PDF.TTFFont = TTFFont;\n    }(window));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/drawing', [\n        'kendo.core',\n        'kendo.color',\n        'kendo.drawing',\n        'pdf/core'\n    ], f);\n}(function () {\n    (function (kendo, $) {\n        'use strict';\n        var drawing = kendo.drawing;\n        var geo = kendo.geometry;\n        var TEXT_RENDERING_MODE = kendo.pdf.TEXT_RENDERING_MODE;\n        var DASH_PATTERNS = {\n            dash: [4],\n            dashDot: [\n                4,\n                2,\n                1,\n                2\n            ],\n            dot: [\n                1,\n                2\n            ],\n            longDash: [\n                8,\n                2\n            ],\n            longDashDot: [\n                8,\n                2,\n                1,\n                2\n            ],\n            longDashDotDot: [\n                8,\n                2,\n                1,\n                2,\n                1,\n                2\n            ],\n            solid: []\n        };\n        var LINE_CAP = {\n            butt: 0,\n            round: 1,\n            square: 2\n        };\n        var LINE_JOIN = {\n            miter: 0,\n            round: 1,\n            bevel: 2\n        };\n        function render(group, callback) {\n            var fonts = [], images = [], options = group.options;\n            function getOption(name, defval, hash) {\n                if (!hash) {\n                    hash = options;\n                }\n                if (hash.pdf && hash.pdf[name] != null) {\n                    return hash.pdf[name];\n                }\n                return defval;\n            }\n            var multiPage = getOption('multiPage');\n            group.traverse(function (element) {\n                dispatch({\n                    Image: function (element) {\n                        if (images.indexOf(element.src()) < 0) {\n                            images.push(element.src());\n                        }\n                    },\n                    Text: function (element) {\n                        var style = kendo.pdf.parseFontDef(element.options.font);\n                        var url = kendo.pdf.getFontURL(style);\n                        if (fonts.indexOf(url) < 0) {\n                            fonts.push(url);\n                        }\n                    }\n                }, element);\n            });\n            function doIt() {\n                if (--count > 0) {\n                    return;\n                }\n                var pdf = new kendo.pdf.Document({\n                    producer: getOption('producer'),\n                    title: getOption('title'),\n                    author: getOption('author'),\n                    subject: getOption('subject'),\n                    keywords: getOption('keywords'),\n                    creator: getOption('creator'),\n                    date: getOption('date')\n                });\n                function drawPage(group) {\n                    var options = group.options;\n                    var tmp = optimize(group);\n                    var bbox = tmp.bbox;\n                    group = tmp.root;\n                    var paperSize = getOption('paperSize', getOption('paperSize', 'auto'), options), addMargin = false;\n                    if (paperSize == 'auto') {\n                        if (bbox) {\n                            var size = bbox.getSize();\n                            paperSize = [\n                                size.width,\n                                size.height\n                            ];\n                            addMargin = true;\n                            var origin = bbox.getOrigin();\n                            tmp = new drawing.Group();\n                            tmp.transform(new geo.Matrix(1, 0, 0, 1, -origin.x, -origin.y));\n                            tmp.append(group);\n                            group = tmp;\n                        } else {\n                            paperSize = 'A4';\n                        }\n                    }\n                    var page;\n                    page = pdf.addPage({\n                        paperSize: paperSize,\n                        margin: getOption('margin', getOption('margin'), options),\n                        addMargin: addMargin,\n                        landscape: getOption('landscape', getOption('landscape', false), options)\n                    });\n                    drawElement(group, page, pdf);\n                }\n                if (multiPage) {\n                    group.children.forEach(drawPage);\n                } else {\n                    drawPage(group);\n                }\n                callback(pdf.render(), pdf);\n            }\n            var count = 2;\n            kendo.pdf.loadFonts(fonts, doIt);\n            kendo.pdf.loadImages(images, doIt);\n        }\n        function toDataURL(group, callback) {\n            render(group, function (data) {\n                callback('data:application/pdf;base64,' + data.base64());\n            });\n        }\n        function toBlob(group, callback) {\n            render(group, function (data) {\n                callback(new Blob([data.get()], { type: 'application/pdf' }));\n            });\n        }\n        function saveAs(group, filename, proxy, callback) {\n            if (window.Blob && !kendo.support.browser.safari) {\n                toBlob(group, function (blob) {\n                    kendo.saveAs({\n                        dataURI: blob,\n                        fileName: filename\n                    });\n                    if (callback) {\n                        callback(blob);\n                    }\n                });\n            } else {\n                toDataURL(group, function (dataURL) {\n                    kendo.saveAs({\n                        dataURI: dataURL,\n                        fileName: filename,\n                        proxyURL: proxy\n                    });\n                    if (callback) {\n                        callback(dataURL);\n                    }\n                });\n            }\n        }\n        function dispatch(handlers, element) {\n            var handler = handlers[element.nodeType];\n            if (handler) {\n                return handler.call.apply(handler, arguments);\n            }\n            return element;\n        }\n        function drawElement(element, page, pdf) {\n            if (element.options._pdfDebug) {\n                page.comment('BEGIN: ' + element.options._pdfDebug);\n            }\n            var transform = element.transform();\n            var opacity = element.opacity();\n            page.save();\n            if (opacity != null && opacity < 1) {\n                page.setOpacity(opacity);\n            }\n            setStrokeOptions(element, page, pdf);\n            setFillOptions(element, page, pdf);\n            if (transform) {\n                var m = transform.matrix();\n                page.transform(m.a, m.b, m.c, m.d, m.e, m.f);\n            }\n            setClipping(element, page, pdf);\n            dispatch({\n                Path: drawPath,\n                MultiPath: drawMultiPath,\n                Circle: drawCircle,\n                Arc: drawArc,\n                Text: drawText,\n                Image: drawImage,\n                Group: drawGroup,\n                Rect: drawRect\n            }, element, page, pdf);\n            page.restore();\n            if (element.options._pdfDebug) {\n                page.comment('END: ' + element.options._pdfDebug);\n            }\n        }\n        function setStrokeOptions(element, page) {\n            var stroke = element.stroke && element.stroke();\n            if (!stroke) {\n                return;\n            }\n            var color = stroke.color;\n            if (color) {\n                color = parseColor(color);\n                if (color == null) {\n                    return;\n                }\n                page.setStrokeColor(color.r, color.g, color.b);\n                if (color.a != 1) {\n                    page.setStrokeOpacity(color.a);\n                }\n            }\n            var width = stroke.width;\n            if (width != null) {\n                if (width === 0) {\n                    return;\n                }\n                page.setLineWidth(width);\n            }\n            var dashType = stroke.dashType;\n            if (dashType) {\n                page.setDashPattern(DASH_PATTERNS[dashType], 0);\n            }\n            var lineCap = stroke.lineCap;\n            if (lineCap) {\n                page.setLineCap(LINE_CAP[lineCap]);\n            }\n            var lineJoin = stroke.lineJoin;\n            if (lineJoin) {\n                page.setLineJoin(LINE_JOIN[lineJoin]);\n            }\n            var opacity = stroke.opacity;\n            if (opacity != null) {\n                page.setStrokeOpacity(opacity);\n            }\n        }\n        function setFillOptions(element, page) {\n            var fill = element.fill && element.fill();\n            if (!fill) {\n                return;\n            }\n            if (fill instanceof drawing.Gradient) {\n                return;\n            }\n            var color = fill.color;\n            if (color) {\n                color = parseColor(color);\n                if (color == null) {\n                    return;\n                }\n                page.setFillColor(color.r, color.g, color.b);\n                if (color.a != 1) {\n                    page.setFillOpacity(color.a);\n                }\n            }\n            var opacity = fill.opacity;\n            if (opacity != null) {\n                page.setFillOpacity(opacity);\n            }\n        }\n        function setClipping(element, page, pdf) {\n            var clip = element.clip();\n            if (clip) {\n                _drawPath(clip, page, pdf);\n                page.clip();\n            }\n        }\n        function shouldDraw(thing) {\n            return thing && (thing instanceof drawing.Gradient || thing.color && !/^(none|transparent)$/i.test(thing.color) && (thing.width == null || thing.width > 0) && (thing.opacity == null || thing.opacity > 0));\n        }\n        function maybeGradient(element, page, pdf, stroke) {\n            var fill = element.fill();\n            if (fill instanceof drawing.Gradient) {\n                if (stroke) {\n                    page.clipStroke();\n                } else {\n                    page.clip();\n                }\n                var isRadial = fill instanceof drawing.RadialGradient;\n                var start, end;\n                if (isRadial) {\n                    start = {\n                        x: fill.center().x,\n                        y: fill.center().y,\n                        r: 0\n                    };\n                    end = {\n                        x: fill.center().x,\n                        y: fill.center().y,\n                        r: fill.radius()\n                    };\n                } else {\n                    start = {\n                        x: fill.start().x,\n                        y: fill.start().y\n                    };\n                    end = {\n                        x: fill.end().x,\n                        y: fill.end().y\n                    };\n                }\n                var stops = fill.stops.elements().map(function (stop) {\n                    var offset = stop.offset();\n                    if (/%$/.test(offset)) {\n                        offset = parseFloat(offset) / 100;\n                    } else {\n                        offset = parseFloat(offset);\n                    }\n                    var color = parseColor(stop.color());\n                    color.a *= stop.opacity();\n                    return {\n                        offset: offset,\n                        color: color\n                    };\n                });\n                stops.unshift(stops[0]);\n                stops.push(stops[stops.length - 1]);\n                var gradient = {\n                    userSpace: fill.userSpace(),\n                    type: isRadial ? 'radial' : 'linear',\n                    start: start,\n                    end: end,\n                    stops: stops\n                };\n                var box = element.rawBBox();\n                var tl = box.topLeft(), size = box.getSize();\n                box = {\n                    left: tl.x,\n                    top: tl.y,\n                    width: size.width,\n                    height: size.height\n                };\n                page.gradient(gradient, box);\n                return true;\n            }\n        }\n        function maybeFillStroke(element, page, pdf) {\n            if (shouldDraw(element.fill()) && shouldDraw(element.stroke())) {\n                if (!maybeGradient(element, page, pdf, true)) {\n                    page.fillStroke();\n                }\n            } else if (shouldDraw(element.fill())) {\n                if (!maybeGradient(element, page, pdf, false)) {\n                    page.fill();\n                }\n            } else if (shouldDraw(element.stroke())) {\n                page.stroke();\n            } else {\n                page.nop();\n            }\n        }\n        function maybeDrawRect(path, page) {\n            var segments = path.segments;\n            if (segments.length == 4 && path.options.closed) {\n                var a = [];\n                for (var i = 0; i < segments.length; ++i) {\n                    if (segments[i].controlIn()) {\n                        return false;\n                    }\n                    a[i] = segments[i].anchor();\n                }\n                var isRect = a[0].y == a[1].y && a[1].x == a[2].x && a[2].y == a[3].y && a[3].x == a[0].x || a[0].x == a[1].x && a[1].y == a[2].y && a[2].x == a[3].x && a[3].y == a[0].y;\n                if (isRect) {\n                    page.rect(a[0].x, a[0].y, a[2].x - a[0].x, a[2].y - a[0].y);\n                    return true;\n                }\n            }\n        }\n        function _drawPath(element, page, pdf) {\n            var segments = element.segments;\n            if (segments.length === 0) {\n                return;\n            }\n            if (!maybeDrawRect(element, page, pdf)) {\n                for (var prev, i = 0; i < segments.length; ++i) {\n                    var seg = segments[i];\n                    var anchor = seg.anchor();\n                    if (!prev) {\n                        page.moveTo(anchor.x, anchor.y);\n                    } else {\n                        var prevOut = prev.controlOut();\n                        var controlIn = seg.controlIn();\n                        if (prevOut && controlIn) {\n                            page.bezier(prevOut.x, prevOut.y, controlIn.x, controlIn.y, anchor.x, anchor.y);\n                        } else {\n                            page.lineTo(anchor.x, anchor.y);\n                        }\n                    }\n                    prev = seg;\n                }\n                if (element.options.closed) {\n                    page.close();\n                }\n            }\n        }\n        function drawPath(element, page, pdf) {\n            _drawPath(element, page, pdf);\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawMultiPath(element, page, pdf) {\n            var paths = element.paths;\n            for (var i = 0; i < paths.length; ++i) {\n                _drawPath(paths[i], page, pdf);\n            }\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawCircle(element, page, pdf) {\n            var g = element.geometry();\n            page.circle(g.center.x, g.center.y, g.radius);\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawArc(element, page, pdf) {\n            var points = element.geometry().curvePoints();\n            page.moveTo(points[0].x, points[0].y);\n            for (var i = 1; i < points.length;) {\n                page.bezier(points[i].x, points[i++].y, points[i].x, points[i++].y, points[i].x, points[i++].y);\n            }\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawText(element, page) {\n            var style = kendo.pdf.parseFontDef(element.options.font);\n            var pos = element._position;\n            var mode;\n            if (element.fill() && element.stroke()) {\n                mode = TEXT_RENDERING_MODE.fillAndStroke;\n            } else if (element.fill()) {\n                mode = TEXT_RENDERING_MODE.fill;\n            } else if (element.stroke()) {\n                mode = TEXT_RENDERING_MODE.stroke;\n            }\n            page.transform(1, 0, 0, -1, pos.x, pos.y + style.fontSize);\n            page.beginText();\n            page.setFont(kendo.pdf.getFontURL(style), style.fontSize);\n            page.setTextRenderingMode(mode);\n            page.showText(element.content(), element._pdfRect ? element._pdfRect.width() : null);\n            page.endText();\n        }\n        function drawGroup(element, page, pdf) {\n            if (element._pdfLink) {\n                page.addLink(element._pdfLink.url, element._pdfLink);\n            }\n            var children = element.children;\n            for (var i = 0; i < children.length; ++i) {\n                drawElement(children[i], page, pdf);\n            }\n        }\n        function drawImage(element, page) {\n            var url = element.src();\n            if (!url) {\n                return;\n            }\n            var rect = element.rect();\n            var tl = rect.getOrigin();\n            var sz = rect.getSize();\n            page.transform(sz.width, 0, 0, -sz.height, tl.x, tl.y + sz.height);\n            page.drawImage(url);\n        }\n        function drawRect(element, page, pdf) {\n            var geometry = element.geometry();\n            page.rect(geometry.origin.x, geometry.origin.y, geometry.size.width, geometry.size.height);\n            maybeFillStroke(element, page, pdf);\n        }\n        function exportPDF(group, options) {\n            var defer = $.Deferred();\n            for (var i in options) {\n                if (i == 'margin' && group.options.pdf && group.options.pdf._ignoreMargin) {\n                    continue;\n                }\n                group.options.set('pdf.' + i, options[i]);\n            }\n            drawing.pdf.toDataURL(group, defer.resolve);\n            return defer.promise();\n        }\n        function parseColor(x) {\n            var color = kendo.parseColor(x, true);\n            return color ? color.toRGB() : null;\n        }\n        function optimize(root) {\n            var clipbox = false;\n            var matrix = geo.Matrix.unit();\n            var currentBox = null;\n            var changed;\n            do {\n                changed = false;\n                root = opt(root);\n            } while (root && changed);\n            return {\n                root: root,\n                bbox: currentBox\n            };\n            function change(newShape) {\n                changed = true;\n                return newShape;\n            }\n            function visible(shape) {\n                return shape.visible() && shape.opacity() > 0 && (shouldDraw(shape.fill()) || shouldDraw(shape.stroke()));\n            }\n            function optArray(a) {\n                var b = [];\n                for (var i = 0; i < a.length; ++i) {\n                    var el = opt(a[i]);\n                    if (el != null) {\n                        b.push(el);\n                    }\n                }\n                return b;\n            }\n            function withClipping(shape, f) {\n                var saveclipbox = clipbox;\n                var savematrix = matrix;\n                if (shape.transform()) {\n                    matrix = matrix.multiplyCopy(shape.transform().matrix());\n                }\n                var clip = shape.clip();\n                if (clip) {\n                    clip = clip.bbox();\n                    if (clip) {\n                        clip = clip.bbox(matrix);\n                        clipbox = clipbox ? geo.Rect.intersect(clipbox, clip) : clip;\n                    }\n                }\n                try {\n                    return f();\n                } finally {\n                    clipbox = saveclipbox;\n                    matrix = savematrix;\n                }\n            }\n            function inClipbox(shape) {\n                if (clipbox == null) {\n                    return false;\n                }\n                var box = shape.rawBBox().bbox(matrix);\n                if (clipbox && box) {\n                    box = geo.Rect.intersect(box, clipbox);\n                }\n                return box;\n            }\n            function opt(shape) {\n                return withClipping(shape, function () {\n                    if (!(shape instanceof drawing.Group || shape instanceof drawing.MultiPath)) {\n                        var box = inClipbox(shape);\n                        if (!box) {\n                            return change(null);\n                        }\n                        currentBox = currentBox ? geo.Rect.union(currentBox, box) : box;\n                    }\n                    return dispatch({\n                        Path: function (shape) {\n                            if (shape.segments.length === 0 || !visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        MultiPath: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            var el = new drawing.MultiPath(shape.options);\n                            el.paths = optArray(shape.paths);\n                            if (el.paths.length === 0) {\n                                return change(null);\n                            }\n                            return el;\n                        },\n                        Circle: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Arc: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Text: function (shape) {\n                            if (!/\\S/.test(shape.content()) || !visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Image: function (shape) {\n                            if (!(shape.visible() && shape.opacity() > 0)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Group: function (shape) {\n                            var el = new drawing.Group(shape.options);\n                            el.children = optArray(shape.children);\n                            el._pdfLink = shape._pdfLink;\n                            if (shape !== root && el.children.length === 0 && !shape._pdfLink) {\n                                return change(null);\n                            }\n                            return el;\n                        },\n                        Rect: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        }\n                    }, shape);\n                });\n            }\n        }\n        kendo.deepExtend(drawing, {\n            exportPDF: exportPDF,\n            pdf: {\n                toDataURL: toDataURL,\n                toBlob: toBlob,\n                saveAs: saveAs,\n                toStream: render\n            }\n        });\n    }(window.kendo, window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.pdf', [\n        'kendo.core',\n        'pdf/core',\n        'pdf/ttf',\n        'pdf/drawing',\n        'kendo.drawing'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'pdf',\n        name: 'PDF export',\n        description: 'PDF Generation framework',\n        mixin: true,\n        category: 'framework',\n        depends: [\n            'core',\n            'drawing'\n        ]\n    };\n    (function (kendo, $) {\n        kendo.PDFMixin = {\n            extend: function (proto) {\n                proto.events.push('pdfExport');\n                proto.options.pdf = this.options;\n                proto.saveAsPDF = this.saveAsPDF;\n                proto._drawPDF = this._drawPDF;\n                proto._drawPDFShadow = this._drawPDFShadow;\n            },\n            options: {\n                fileName: 'Export.pdf',\n                proxyURL: '',\n                paperSize: 'auto',\n                allPages: false,\n                landscape: false,\n                margin: null,\n                title: null,\n                author: null,\n                subject: null,\n                keywords: null,\n                creator: 'Kendo UI PDF Generator v.' + kendo.version,\n                date: null\n            },\n            saveAsPDF: function () {\n                var progress = new $.Deferred();\n                var promise = progress.promise();\n                var args = { promise: promise };\n                if (this.trigger('pdfExport', args)) {\n                    return;\n                }\n                var options = this.options.pdf;\n                options.multiPage = options.multiPage || options.allPages;\n                this._drawPDF(progress).then(function (root) {\n                    return kendo.drawing.exportPDF(root, options);\n                }).done(function (dataURI) {\n                    kendo.saveAs({\n                        dataURI: dataURI,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL,\n                        forceProxy: options.forceProxy,\n                        proxyTarget: options.proxyTarget\n                    });\n                    progress.resolve();\n                }).fail(function (err) {\n                    progress.reject(err);\n                });\n                return promise;\n            },\n            _drawPDF: function (progress) {\n                var promise = new $.Deferred();\n                kendo.drawing.drawDOM(this.wrapper).done(function (group) {\n                    var args = {\n                        page: group,\n                        pageNumber: 1,\n                        progress: 1,\n                        totalPages: 1\n                    };\n                    progress.notify(args);\n                    promise.resolve(args.page);\n                }).fail(function (err) {\n                    promise.reject(err);\n                });\n                return promise;\n            },\n            _drawPDFShadow: function (settings, drawOptions) {\n                settings = settings || {};\n                var wrapper = this.wrapper;\n                var shadow = $('<div class=\\'k-pdf-export-shadow\\'>');\n                if (settings.width) {\n                    shadow.css({\n                        width: settings.width,\n                        overflow: 'visible'\n                    });\n                }\n                wrapper.before(shadow);\n                shadow.append(settings.content || wrapper.clone(true, true));\n                var defer = $.Deferred();\n                setTimeout(function () {\n                    var promise = kendo.drawing.drawDOM(shadow, drawOptions);\n                    promise.always(function () {\n                        shadow.remove();\n                    }).then(function () {\n                        defer.resolve.apply(defer, arguments);\n                    }).fail(function () {\n                        defer.reject.apply(defer, arguments);\n                    }).progress(function () {\n                        defer.progress.apply(defer, arguments);\n                    });\n                }, 15);\n                return defer.promise();\n            }\n        };\n    }(kendo, window.kendo.jQuery));\n    return kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('kendo.gantt.list', [\r\n        'kendo.dom',\r\n        'kendo.touch',\r\n        'kendo.draganddrop',\r\n        'kendo.columnsorter',\r\n        'kendo.datetimepicker',\r\n        'kendo.editable'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'gantt.list',\r\n        name: 'Gantt List',\r\n        category: 'web',\r\n        description: 'The Gantt List',\r\n        depends: [\r\n            'dom',\r\n            'touch',\r\n            'draganddrop',\r\n            'columnsorter',\r\n            'datetimepicker',\r\n            'editable'\r\n        ],\r\n        hidden: true\r\n    };\r\n    (function ($) {\r\n        var kendo = window.kendo;\r\n        var kendoDom = kendo.dom;\r\n        var kendoDomElement = kendoDom.element;\r\n        var kendoTextElement = kendoDom.text;\r\n        var browser = kendo.support.browser;\r\n        var mobileOS = kendo.support.mobileOS;\r\n        var ui = kendo.ui;\r\n        var Widget = ui.Widget;\r\n        var extend = $.extend;\r\n        var map = $.map;\r\n        var isFunction = $.isFunction;\r\n        var oldIE = browser.msie && browser.version < 9;\r\n        var keys = kendo.keys;\r\n        var titleFromField = {\r\n            'title': 'Title',\r\n            'start': 'Start Time',\r\n            'end': 'End Time',\r\n            'percentComplete': '% Done',\r\n            'parentId': 'Predecessor ID',\r\n            'id': 'ID',\r\n            'orderId': 'Order ID'\r\n        };\r\n        var STRING = 'string';\r\n        var NS = '.kendoGanttList';\r\n        var CLICK = 'click';\r\n        var DOT = '.';\r\n        var SIZE_CALCULATION_TEMPLATE = '<table style=\\'visibility: hidden;\\'>' + '<tbody>' + '<tr style=\\'height:{0}\\'>' + '<td>&nbsp;</td>' + '</tr>' + '</tbody>' + '</table>';\r\n        var listStyles = {\r\n            wrapper: 'k-treelist k-grid k-widget',\r\n            header: 'k-header',\r\n            alt: 'k-alt',\r\n            rtl: 'k-rtl',\r\n            editCell: 'k-edit-cell',\r\n            group: 'k-treelist-group',\r\n            gridHeader: 'k-grid-header',\r\n            gridHeaderWrap: 'k-grid-header-wrap',\r\n            gridContent: 'k-grid-content',\r\n            gridContentWrap: 'k-grid-content',\r\n            selected: 'k-state-selected',\r\n            icon: 'k-icon',\r\n            iconCollapse: 'k-i-collapse',\r\n            iconExpand: 'k-i-expand',\r\n            iconHidden: 'k-i-none',\r\n            iconPlaceHolder: 'k-icon k-i-none',\r\n            input: 'k-input',\r\n            link: 'k-link',\r\n            resizeHandle: 'k-resize-handle',\r\n            resizeHandleInner: 'k-resize-handle-inner',\r\n            dropPositions: 'k-insert-top k-insert-bottom k-add k-insert-middle',\r\n            dropTop: 'k-insert-top',\r\n            dropBottom: 'k-insert-bottom',\r\n            dropAdd: 'k-add',\r\n            dropMiddle: 'k-insert-middle',\r\n            dropDenied: 'k-denied',\r\n            dragStatus: 'k-drag-status',\r\n            dragClue: 'k-drag-clue',\r\n            dragClueText: 'k-clue-text'\r\n        };\r\n        function createPlaceholders(options) {\r\n            var spans = [];\r\n            var className = options.className;\r\n            for (var i = 0, level = options.level; i < level; i++) {\r\n                spans.push(kendoDomElement('span', { className: className }));\r\n            }\r\n            return spans;\r\n        }\r\n        function blurActiveElement() {\r\n            var activeElement = kendo._activeElement();\r\n            if (activeElement && activeElement.nodeName.toLowerCase() !== 'body') {\r\n                $(activeElement).blur();\r\n            }\r\n        }\r\n        var GanttList = ui.GanttList = Widget.extend({\r\n            init: function (element, options) {\r\n                Widget.fn.init.call(this, element, options);\r\n                if (this.options.columns.length === 0) {\r\n                    this.options.columns.push('title');\r\n                }\r\n                this.dataSource = this.options.dataSource;\r\n                this._columns();\r\n                this._layout();\r\n                this._domTrees();\r\n                this._header();\r\n                this._sortable();\r\n                this._editable();\r\n                this._selectable();\r\n                this._draggable();\r\n                this._resizable();\r\n                this._attachEvents();\r\n                this._adjustHeight();\r\n                this.bind('render', function () {\r\n                    var headerCols;\r\n                    var tableCols;\r\n                    if (this.options.resizable) {\r\n                        headerCols = this.header.find('col');\r\n                        tableCols = this.content.find('col');\r\n                        this.header.find('th').not(':last').each(function (index) {\r\n                            var width = $(this).outerWidth();\r\n                            headerCols.eq(index).width(width);\r\n                            tableCols.eq(index).width(width);\r\n                        });\r\n                        headerCols.last().css('width', 'auto');\r\n                        tableCols.last().css('width', 'auto');\r\n                    }\r\n                }, true);\r\n            },\r\n            _adjustHeight: function () {\r\n                this.content.height(this.element.height() - this.header.parent().outerHeight());\r\n            },\r\n            destroy: function () {\r\n                Widget.fn.destroy.call(this);\r\n                if (this._reorderDraggable) {\r\n                    this._reorderDraggable.destroy();\r\n                }\r\n                if (this._tableDropArea) {\r\n                    this._tableDropArea.destroy();\r\n                }\r\n                if (this._contentDropArea) {\r\n                    this._contentDropArea.destroy();\r\n                }\r\n                if (this._columnResizable) {\r\n                    this._columnResizable.destroy();\r\n                }\r\n                if (this.touch) {\r\n                    this.touch.destroy();\r\n                }\r\n                if (this.timer) {\r\n                    clearTimeout(this.timer);\r\n                }\r\n                this.content.off(NS);\r\n                this.header.find('thead').off(NS);\r\n                this.header.find(DOT + GanttList.link).off(NS);\r\n                this.header = null;\r\n                this.content = null;\r\n                this.levels = null;\r\n                kendo.destroy(this.element);\r\n            },\r\n            options: {\r\n                name: 'GanttList',\r\n                selectable: true,\r\n                editable: true,\r\n                resizable: false\r\n            },\r\n            _attachEvents: function () {\r\n                var that = this;\r\n                var listStyles = GanttList.styles;\r\n                that.content.on(CLICK + NS, 'td > span.' + listStyles.icon + ':not(.' + listStyles.iconHidden + ')', function (e) {\r\n                    var element = $(this);\r\n                    var model = that._modelFromElement(element);\r\n                    model.set('expanded', !model.get('expanded'));\r\n                    e.stopPropagation();\r\n                });\r\n            },\r\n            _domTrees: function () {\r\n                this.headerTree = new kendoDom.Tree(this.header[0]);\r\n                this.contentTree = new kendoDom.Tree(this.content[0]);\r\n            },\r\n            _columns: function () {\r\n                var columns = this.options.columns;\r\n                var model = function () {\r\n                    this.field = '';\r\n                    this.title = '';\r\n                    this.editable = false;\r\n                    this.sortable = false;\r\n                };\r\n                this.columns = map(columns, function (column) {\r\n                    column = typeof column === STRING ? {\r\n                        field: column,\r\n                        title: titleFromField[column]\r\n                    } : column;\r\n                    return extend(new model(), column);\r\n                });\r\n            },\r\n            _layout: function () {\r\n                var that = this;\r\n                var options = this.options;\r\n                var element = this.element;\r\n                var listStyles = GanttList.styles;\r\n                var calculateRowHeight = function () {\r\n                    var rowHeight = typeof options.rowHeight === STRING ? options.rowHeight : options.rowHeight + 'px';\r\n                    var table = $(kendo.format(SIZE_CALCULATION_TEMPLATE, rowHeight));\r\n                    var height;\r\n                    that.content.append(table);\r\n                    height = table.find('tr').outerHeight();\r\n                    table.remove();\r\n                    return height;\r\n                };\r\n                element.addClass(listStyles.wrapper).append('<div class=\\'' + listStyles.gridHeader + '\\'><div class=\\'' + listStyles.gridHeaderWrap + '\\'></div></div>').append('<div class=\\'' + listStyles.gridContentWrap + '\\'></div>');\r\n                this.header = element.find(DOT + listStyles.gridHeaderWrap);\r\n                this.content = element.find(DOT + listStyles.gridContent);\r\n                if (options.rowHeight) {\r\n                    this._rowHeight = calculateRowHeight();\r\n                }\r\n            },\r\n            _header: function () {\r\n                var domTree = this.headerTree;\r\n                var colgroup;\r\n                var thead;\r\n                var table;\r\n                colgroup = kendoDomElement('colgroup', null, this._cols());\r\n                thead = kendoDomElement('thead', { 'role': 'rowgroup' }, [kendoDomElement('tr', { 'role': 'row' }, this._ths())]);\r\n                table = kendoDomElement('table', {\r\n                    'style': { 'minWidth': this.options.listWidth + 'px' },\r\n                    'role': 'grid'\r\n                }, [\r\n                    colgroup,\r\n                    thead\r\n                ]);\r\n                domTree.render([table]);\r\n            },\r\n            _render: function (tasks) {\r\n                var colgroup;\r\n                var tbody;\r\n                var table;\r\n                var tableAttr = {\r\n                    'style': { 'minWidth': this.options.listWidth + 'px' },\r\n                    'tabIndex': 0,\r\n                    'role': 'treegrid'\r\n                };\r\n                if (this._rowHeight) {\r\n                    tableAttr.style.height = tasks.length * this._rowHeight + 'px';\r\n                }\r\n                this.levels = [{\r\n                        field: null,\r\n                        value: 0\r\n                    }];\r\n                colgroup = kendoDomElement('colgroup', null, this._cols());\r\n                tbody = kendoDomElement('tbody', { 'role': 'rowgroup' }, this._trs(tasks));\r\n                table = kendoDomElement('table', tableAttr, [\r\n                    colgroup,\r\n                    tbody\r\n                ]);\r\n                this.contentTree.render([table]);\r\n                this.trigger('render');\r\n            },\r\n            _ths: function () {\r\n                var columns = this.columns;\r\n                var column;\r\n                var attr;\r\n                var ths = [];\r\n                for (var i = 0, length = columns.length; i < length; i++) {\r\n                    column = columns[i];\r\n                    attr = {\r\n                        'data-field': column.field,\r\n                        'data-title': column.title,\r\n                        className: GanttList.styles.header,\r\n                        'role': 'columnheader'\r\n                    };\r\n                    ths.push(kendoDomElement('th', attr, [kendoTextElement(column.title)]));\r\n                }\r\n                if (this.options.resizable) {\r\n                    ths.push(kendoDomElement('th', {\r\n                        className: GanttList.styles.header,\r\n                        'role': 'columnheader'\r\n                    }));\r\n                }\r\n                return ths;\r\n            },\r\n            _cols: function () {\r\n                var columns = this.columns;\r\n                var column;\r\n                var style;\r\n                var width;\r\n                var cols = [];\r\n                for (var i = 0, length = columns.length; i < length; i++) {\r\n                    column = columns[i];\r\n                    width = column.width;\r\n                    if (width && parseInt(width, 10) !== 0) {\r\n                        style = { style: { width: typeof width === STRING ? width : width + 'px' } };\r\n                    } else {\r\n                        style = null;\r\n                    }\r\n                    cols.push(kendoDomElement('col', style, []));\r\n                }\r\n                if (this.options.resizable) {\r\n                    cols.push(kendoDomElement('col', { style: { width: '1px' } }));\r\n                }\r\n                return cols;\r\n            },\r\n            _trs: function (tasks) {\r\n                var task;\r\n                var rows = [];\r\n                var attr;\r\n                var className = [];\r\n                var level;\r\n                var listStyles = GanttList.styles;\r\n                for (var i = 0, length = tasks.length; i < length; i++) {\r\n                    task = tasks[i];\r\n                    level = this._levels({\r\n                        idx: task.parentId,\r\n                        id: task.id,\r\n                        summary: task.summary\r\n                    });\r\n                    attr = {\r\n                        'data-uid': task.uid,\r\n                        'data-level': level,\r\n                        'role': 'row'\r\n                    };\r\n                    if (task.summary) {\r\n                        attr['aria-expanded'] = task.expanded;\r\n                    }\r\n                    if (i % 2 !== 0) {\r\n                        className.push(listStyles.alt);\r\n                    }\r\n                    if (task.summary) {\r\n                        className.push(listStyles.group);\r\n                    }\r\n                    if (className.length) {\r\n                        attr.className = className.join(' ');\r\n                    }\r\n                    rows.push(this._tds({\r\n                        task: task,\r\n                        attr: attr,\r\n                        level: level\r\n                    }));\r\n                    className = [];\r\n                }\r\n                return rows;\r\n            },\r\n            _tds: function (options) {\r\n                var children = [];\r\n                var columns = this.columns;\r\n                var column;\r\n                for (var i = 0, l = columns.length; i < l; i++) {\r\n                    column = columns[i];\r\n                    children.push(this._td({\r\n                        task: options.task,\r\n                        column: column,\r\n                        level: options.level\r\n                    }));\r\n                }\r\n                if (this.options.resizable) {\r\n                    children.push(kendoDomElement('td', { 'role': 'gridcell' }));\r\n                }\r\n                return kendoDomElement('tr', options.attr, children);\r\n            },\r\n            _td: function (options) {\r\n                var children = [];\r\n                var resourcesField = this.options.resourcesField;\r\n                var listStyles = GanttList.styles;\r\n                var task = options.task;\r\n                var column = options.column;\r\n                var value = task.get(column.field);\r\n                var formatedValue;\r\n                var label;\r\n                if (column.field == resourcesField) {\r\n                    value = value || [];\r\n                    formatedValue = [];\r\n                    for (var i = 0; i < value.length; i++) {\r\n                        formatedValue.push(kendo.format('{0} [{1}]', value[i].get('name'), value[i].get('formatedValue')));\r\n                    }\r\n                    formatedValue = formatedValue.join(', ');\r\n                } else {\r\n                    formatedValue = column.format ? kendo.format(column.format, value) : value;\r\n                }\r\n                if (column.field === 'title') {\r\n                    children = createPlaceholders({\r\n                        level: options.level,\r\n                        className: listStyles.iconPlaceHolder\r\n                    });\r\n                    children.push(kendoDomElement('span', { className: listStyles.icon + ' ' + (task.summary ? task.expanded ? listStyles.iconCollapse : listStyles.iconExpand : listStyles.iconHidden) }));\r\n                    label = kendo.format('{0}, {1:P0}', formatedValue, task.percentComplete);\r\n                }\r\n                children.push(kendoDomElement('span', { 'aria-label': label }, [kendoTextElement(formatedValue)]));\r\n                return kendoDomElement('td', { 'role': 'gridcell' }, children);\r\n            },\r\n            _levels: function (options) {\r\n                var levels = this.levels;\r\n                var level;\r\n                var summary = options.summary;\r\n                var idx = options.idx;\r\n                var id = options.id;\r\n                for (var i = 0, length = levels.length; i < length; i++) {\r\n                    level = levels[i];\r\n                    if (level.field == idx) {\r\n                        if (summary) {\r\n                            levels.push({\r\n                                field: id,\r\n                                value: level.value + 1\r\n                            });\r\n                        }\r\n                        return level.value;\r\n                    }\r\n                }\r\n            },\r\n            _sortable: function () {\r\n                var that = this;\r\n                var resourcesField = this.options.resourcesField;\r\n                var columns = this.columns;\r\n                var column;\r\n                var sortableInstance;\r\n                var cells = this.header.find('th[' + kendo.attr('field') + ']');\r\n                var handler = function (e) {\r\n                    if (that.dataSource.total() === 0 || that.editable && that.editable.trigger('validate')) {\r\n                        e.preventDefault();\r\n                        e.stopImmediatePropagation();\r\n                    }\r\n                };\r\n                var cell;\r\n                for (var idx = 0, length = cells.length; idx < length; idx++) {\r\n                    column = columns[idx];\r\n                    if (column.sortable && column.field !== resourcesField) {\r\n                        cell = cells.eq(idx);\r\n                        sortableInstance = cell.data('kendoColumnSorter');\r\n                        if (sortableInstance) {\r\n                            sortableInstance.destroy();\r\n                        }\r\n                        cell.attr('data-' + kendo.ns + 'field', column.field).kendoColumnSorter({ dataSource: this.dataSource }).find(DOT + GanttList.styles.link).on('click' + NS, handler);\r\n                    }\r\n                }\r\n                cells = null;\r\n            },\r\n            _selectable: function () {\r\n                var that = this;\r\n                var selectable = this.options.selectable;\r\n                if (selectable) {\r\n                    this.content.on(CLICK + NS, 'tr', function (e) {\r\n                        var element = $(this);\r\n                        if (that.editable) {\r\n                            that.editable.trigger('validate');\r\n                        }\r\n                        if (!e.ctrlKey) {\r\n                            that.select(element);\r\n                        } else {\r\n                            that.clearSelection();\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            select: function (value) {\r\n                var element = this.content.find(value);\r\n                var selectedClassName = GanttList.styles.selected;\r\n                if (element.length) {\r\n                    element.siblings(DOT + selectedClassName).removeClass(selectedClassName).attr('aria-selected', false).end().addClass(selectedClassName).attr('aria-selected', true);\r\n                    this.trigger('change');\r\n                    return;\r\n                }\r\n                return this.content.find(DOT + selectedClassName);\r\n            },\r\n            clearSelection: function () {\r\n                var selected = this.select();\r\n                if (selected.length) {\r\n                    selected.removeClass(GanttList.styles.selected);\r\n                    this.trigger('change');\r\n                }\r\n            },\r\n            _setDataSource: function (dataSource) {\r\n                this.dataSource = dataSource;\r\n            },\r\n            _editable: function () {\r\n                var that = this;\r\n                var listStyles = GanttList.styles;\r\n                var iconSelector = 'span.' + listStyles.icon + ':not(' + listStyles.iconHidden + ')';\r\n                var finishEdit = function () {\r\n                    var editable = that.editable;\r\n                    if (editable) {\r\n                        if (editable.end()) {\r\n                            that._closeCell();\r\n                        } else {\r\n                            editable.trigger('validate');\r\n                        }\r\n                    }\r\n                };\r\n                var mousedown = function (e) {\r\n                    var currentTarget = $(e.currentTarget);\r\n                    if (!currentTarget.hasClass(listStyles.editCell)) {\r\n                        blurActiveElement();\r\n                    }\r\n                };\r\n                if (!this.options.editable) {\r\n                    return;\r\n                }\r\n                this._startEditHandler = function (e) {\r\n                    var td = e.currentTarget ? $(e.currentTarget) : e;\r\n                    var column = that._columnFromElement(td);\r\n                    if (that.editable) {\r\n                        return;\r\n                    }\r\n                    if (column && column.editable) {\r\n                        that._editCell({\r\n                            cell: td,\r\n                            column: column\r\n                        });\r\n                    }\r\n                };\r\n                that.content.on('focusin' + NS, function () {\r\n                    clearTimeout(that.timer);\r\n                    that.timer = null;\r\n                }).on('focusout' + NS, function () {\r\n                    that.timer = setTimeout(finishEdit, 1);\r\n                }).on('keydown' + NS, function (e) {\r\n                    if (e.keyCode === keys.ENTER) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).on('keyup' + NS, function (e) {\r\n                    var key = e.keyCode;\r\n                    var cell;\r\n                    var model;\r\n                    switch (key) {\r\n                    case keys.ENTER:\r\n                        blurActiveElement();\r\n                        finishEdit();\r\n                        break;\r\n                    case keys.ESC:\r\n                        if (that.editable) {\r\n                            cell = that._editableContainer;\r\n                            model = that._modelFromElement(cell);\r\n                            if (!that.trigger('cancel', {\r\n                                    model: model,\r\n                                    cell: cell\r\n                                })) {\r\n                                that._closeCell(true);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                });\r\n                if (!mobileOS) {\r\n                    that.content.on('mousedown' + NS, 'td', function (e) {\r\n                        mousedown(e);\r\n                    }).on('dblclick' + NS, 'td', function (e) {\r\n                        if (!$(e.target).is(iconSelector)) {\r\n                            that._startEditHandler(e);\r\n                        }\r\n                    });\r\n                } else {\r\n                    that.touch = that.content.kendoTouch({\r\n                        filter: 'td',\r\n                        touchstart: function (e) {\r\n                            mousedown(e.touch);\r\n                        },\r\n                        doubletap: function (e) {\r\n                            if (!$(e.touch.initialTouch).is(iconSelector)) {\r\n                                that._startEditHandler(e.touch);\r\n                            }\r\n                        }\r\n                    }).data('kendoTouch');\r\n                }\r\n            },\r\n            _editCell: function (options) {\r\n                var resourcesField = this.options.resourcesField;\r\n                var listStyles = GanttList.styles;\r\n                var cell = options.cell;\r\n                var column = options.column;\r\n                var model = this._modelFromElement(cell);\r\n                var modelCopy = this.dataSource._createNewModel(model.toJSON());\r\n                var field = modelCopy.fields[column.field] || modelCopy[column.field];\r\n                var validation = field.validation;\r\n                var DATATYPE = kendo.attr('type');\r\n                var BINDING = kendo.attr('bind');\r\n                var FORMAT = kendo.attr('format');\r\n                var attr = {\r\n                    'name': column.field,\r\n                    'required': field.validation ? field.validation.required === true : false\r\n                };\r\n                var editor;\r\n                if (column.field === resourcesField) {\r\n                    column.editor(cell, modelCopy);\r\n                    return;\r\n                }\r\n                this._editableContent = cell.children().detach();\r\n                this._editableContainer = cell;\r\n                cell.data('modelCopy', modelCopy);\r\n                if ((field.type === 'date' || $.type(field) === 'date') && (!column.format || /H|m|s|F|g|u/.test(column.format))) {\r\n                    attr[BINDING] = 'value:' + column.field;\r\n                    attr[DATATYPE] = 'date';\r\n                    if (column.format) {\r\n                        attr[FORMAT] = kendo._extractFormat(column.format);\r\n                    }\r\n                    editor = function (container, options) {\r\n                        $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoDateTimePicker({ format: options.format });\r\n                    };\r\n                }\r\n                this.editable = cell.addClass(listStyles.editCell).kendoEditable({\r\n                    fields: {\r\n                        field: column.field,\r\n                        format: column.format,\r\n                        editor: column.editor || editor\r\n                    },\r\n                    model: modelCopy,\r\n                    clearContainer: false\r\n                }).data('kendoEditable');\r\n                if (validation && validation.dateCompare && isFunction(validation.dateCompare) && validation.message) {\r\n                    $('<span ' + kendo.attr('for') + '=\"' + column.field + '\" class=\"k-invalid-msg\"/>').hide().appendTo(cell);\r\n                    cell.find('[name=' + column.field + ']').attr(kendo.attr('dateCompare-msg'), validation.message);\r\n                }\r\n                this.editable.bind('validate', function (e) {\r\n                    var focusable = this.element.find(':kendoFocusable:first').focus();\r\n                    if (oldIE) {\r\n                        focusable.focus();\r\n                    }\r\n                    e.preventDefault();\r\n                });\r\n                if (this.trigger('edit', {\r\n                        model: model,\r\n                        cell: cell\r\n                    })) {\r\n                    this._closeCell(true);\r\n                }\r\n            },\r\n            _closeCell: function (cancelUpdate) {\r\n                var listStyles = GanttList.styles;\r\n                var cell = this._editableContainer;\r\n                var model = this._modelFromElement(cell);\r\n                var column = this._columnFromElement(cell);\r\n                var field = column.field;\r\n                var copy = cell.data('modelCopy');\r\n                var taskInfo = {};\r\n                taskInfo[field] = copy.get(field);\r\n                cell.empty().removeData('modelCopy').removeClass(listStyles.editCell).append(this._editableContent);\r\n                this.editable.unbind();\r\n                this.editable.destroy();\r\n                this.editable = null;\r\n                this._editableContainer = null;\r\n                this._editableContent = null;\r\n                if (!cancelUpdate) {\r\n                    if (field === 'start') {\r\n                        taskInfo.end = new Date(taskInfo.start.getTime() + model.duration());\r\n                    }\r\n                    this.trigger('update', {\r\n                        task: model,\r\n                        updateInfo: taskInfo\r\n                    });\r\n                }\r\n            },\r\n            _draggable: function () {\r\n                var that = this;\r\n                var draggedTask = null;\r\n                var dropAllowed = true;\r\n                var dropTarget;\r\n                var listStyles = GanttList.styles;\r\n                var isRtl = kendo.support.isRtl(this.element);\r\n                var selector = 'tr[' + kendo.attr('level') + ' = 0]:last';\r\n                var action = {};\r\n                var clear = function () {\r\n                    draggedTask = null;\r\n                    dropTarget = null;\r\n                    dropAllowed = true;\r\n                    action = {};\r\n                };\r\n                var allowDrop = function (task) {\r\n                    var parent = task;\r\n                    while (parent) {\r\n                        if (draggedTask.get('id') === parent.get('id')) {\r\n                            dropAllowed = false;\r\n                            break;\r\n                        }\r\n                        parent = that.dataSource.taskParent(parent);\r\n                    }\r\n                };\r\n                var defineLimits = function () {\r\n                    var height = $(dropTarget).height();\r\n                    var offsetTop = kendo.getOffset(dropTarget).top;\r\n                    extend(dropTarget, {\r\n                        beforeLimit: offsetTop + height * 0.25,\r\n                        afterLimit: offsetTop + height * 0.75\r\n                    });\r\n                };\r\n                var defineAction = function (coordinate) {\r\n                    if (!dropTarget) {\r\n                        return;\r\n                    }\r\n                    var location = coordinate.location;\r\n                    var className = listStyles.dropAdd;\r\n                    var command = 'add';\r\n                    var level = parseInt(dropTarget.attr(kendo.attr('level')), 10);\r\n                    var sibling;\r\n                    if (location <= dropTarget.beforeLimit) {\r\n                        sibling = dropTarget.prev();\r\n                        className = listStyles.dropTop;\r\n                        command = 'insert-before';\r\n                    } else if (location >= dropTarget.afterLimit) {\r\n                        sibling = dropTarget.next();\r\n                        className = listStyles.dropBottom;\r\n                        command = 'insert-after';\r\n                    }\r\n                    if (sibling && parseInt(sibling.attr(kendo.attr('level')), 10) === level) {\r\n                        className = listStyles.dropMiddle;\r\n                    }\r\n                    action.className = className;\r\n                    action.command = command;\r\n                };\r\n                var status = function () {\r\n                    return that._reorderDraggable.hint.children(DOT + listStyles.dragStatus).removeClass(listStyles.dropPositions);\r\n                };\r\n                if (!this.options.editable) {\r\n                    return;\r\n                }\r\n                this._reorderDraggable = this.content.kendoDraggable({\r\n                    distance: 10,\r\n                    holdToDrag: mobileOS,\r\n                    group: 'listGroup',\r\n                    filter: 'tr[data-uid]',\r\n                    ignore: DOT + listStyles.input,\r\n                    hint: function (target) {\r\n                        return $('<div class=\"' + listStyles.header + ' ' + listStyles.dragClue + '\"/>').css({\r\n                            width: 300,\r\n                            paddingLeft: target.css('paddingLeft'),\r\n                            paddingRight: target.css('paddingRight'),\r\n                            lineHeight: target.height() + 'px',\r\n                            paddingTop: target.css('paddingTop'),\r\n                            paddingBottom: target.css('paddingBottom')\r\n                        }).append('<span class=\"' + listStyles.icon + ' ' + listStyles.dragStatus + '\" /><span class=\"' + listStyles.dragClueText + '\"/>');\r\n                    },\r\n                    cursorOffset: {\r\n                        top: -20,\r\n                        left: 0\r\n                    },\r\n                    container: this.content,\r\n                    'dragstart': function (e) {\r\n                        if (that.editable && that.editable.trigger('validate')) {\r\n                            e.preventDefault();\r\n                            return;\r\n                        }\r\n                        draggedTask = that._modelFromElement(e.currentTarget);\r\n                        this.hint.children(DOT + listStyles.dragClueText).text(draggedTask.get('title'));\r\n                        if (isRtl) {\r\n                            this.hint.addClass(listStyles.rtl);\r\n                        }\r\n                    },\r\n                    'drag': function (e) {\r\n                        if (dropAllowed) {\r\n                            defineAction(e.y);\r\n                            status().addClass(action.className);\r\n                        }\r\n                    },\r\n                    'dragend': function () {\r\n                        clear();\r\n                    },\r\n                    'dragcancel': function () {\r\n                        clear();\r\n                    }\r\n                }).data('kendoDraggable');\r\n                this._tableDropArea = this.content.kendoDropTargetArea({\r\n                    distance: 0,\r\n                    group: 'listGroup',\r\n                    filter: 'tr[data-uid]',\r\n                    'dragenter': function (e) {\r\n                        dropTarget = e.dropTarget;\r\n                        allowDrop(that._modelFromElement(dropTarget));\r\n                        defineLimits();\r\n                        status().toggleClass(listStyles.dropDenied, !dropAllowed);\r\n                    },\r\n                    'dragleave': function () {\r\n                        dropAllowed = true;\r\n                        status();\r\n                    },\r\n                    'drop': function () {\r\n                        var target = that._modelFromElement(dropTarget);\r\n                        var orderId = target.orderId;\r\n                        var taskInfo = { parentId: target.parentId };\r\n                        if (dropAllowed) {\r\n                            switch (action.command) {\r\n                            case 'add':\r\n                                taskInfo.parentId = target.id;\r\n                                break;\r\n                            case 'insert-before':\r\n                                if (target.parentId === draggedTask.parentId && target.orderId > draggedTask.orderId) {\r\n                                    taskInfo.orderId = orderId - 1;\r\n                                } else {\r\n                                    taskInfo.orderId = orderId;\r\n                                }\r\n                                break;\r\n                            case 'insert-after':\r\n                                if (target.parentId === draggedTask.parentId && target.orderId > draggedTask.orderId) {\r\n                                    taskInfo.orderId = orderId;\r\n                                } else {\r\n                                    taskInfo.orderId = orderId + 1;\r\n                                }\r\n                                break;\r\n                            }\r\n                            that.trigger('update', {\r\n                                task: draggedTask,\r\n                                updateInfo: taskInfo\r\n                            });\r\n                        }\r\n                    }\r\n                }).data('kendoDropTargetArea');\r\n                this._contentDropArea = this.element.kendoDropTargetArea({\r\n                    distance: 0,\r\n                    group: 'listGroup',\r\n                    filter: DOT + listStyles.gridContent,\r\n                    'drop': function () {\r\n                        var target = that._modelFromElement(that.content.find(selector));\r\n                        var orderId = target.orderId;\r\n                        var taskInfo = {\r\n                            parentId: null,\r\n                            orderId: draggedTask.parentId !== null ? orderId + 1 : orderId\r\n                        };\r\n                        that.trigger('update', {\r\n                            task: draggedTask,\r\n                            updateInfo: taskInfo\r\n                        });\r\n                    }\r\n                }).data('kendoDropTargetArea');\r\n            },\r\n            _resizable: function () {\r\n                var that = this;\r\n                var listStyles = GanttList.styles;\r\n                var positionResizeHandle = function (e) {\r\n                    var th = $(e.currentTarget);\r\n                    var resizeHandle = that.resizeHandle;\r\n                    var position = th.position();\r\n                    var left = position.left;\r\n                    var cellWidth = th.outerWidth();\r\n                    var container = th.closest('div');\r\n                    var clientX = e.clientX + $(window).scrollLeft();\r\n                    var indicatorWidth = that.options.columnResizeHandleWidth;\r\n                    left += container.scrollLeft();\r\n                    if (!resizeHandle) {\r\n                        resizeHandle = that.resizeHandle = $('<div class=\"' + listStyles.resizeHandle + '\"><div class=\"' + listStyles.resizeHandleInner + '\" /></div>');\r\n                    }\r\n                    var cellOffset = th.offset().left + cellWidth;\r\n                    var show = clientX > cellOffset - indicatorWidth && clientX < cellOffset + indicatorWidth;\r\n                    if (!show) {\r\n                        resizeHandle.hide();\r\n                        return;\r\n                    }\r\n                    container.append(resizeHandle);\r\n                    resizeHandle.show().css({\r\n                        top: position.top,\r\n                        left: left + cellWidth - indicatorWidth - 1,\r\n                        height: th.outerHeight(),\r\n                        width: indicatorWidth * 3\r\n                    }).data('th', th);\r\n                };\r\n                if (!this.options.resizable) {\r\n                    return;\r\n                }\r\n                if (this._columnResizable) {\r\n                    this._columnResizable.destroy();\r\n                }\r\n                this.header.find('thead').on('mousemove' + NS, 'th', positionResizeHandle);\r\n                this._columnResizable = this.header.kendoResizable({\r\n                    handle: DOT + listStyles.resizeHandle,\r\n                    start: function (e) {\r\n                        var th = $(e.currentTarget).data('th');\r\n                        var colSelector = 'col:eq(' + th.index() + ')';\r\n                        var header = that.header.find('table');\r\n                        var contentTable = that.content.find('table');\r\n                        that.element.addClass('k-grid-column-resizing');\r\n                        this.col = contentTable.children('colgroup').find(colSelector).add(header.find(colSelector));\r\n                        this.th = th;\r\n                        this.startLocation = e.x.location;\r\n                        this.columnWidth = th.outerWidth();\r\n                        this.table = header.add(contentTable);\r\n                        this.totalWidth = this.table.width() - header.find('th:last').outerWidth();\r\n                    },\r\n                    resize: function (e) {\r\n                        var minColumnWidth = 11;\r\n                        var delta = e.x.location - this.startLocation;\r\n                        if (this.columnWidth + delta < minColumnWidth) {\r\n                            delta = minColumnWidth - this.columnWidth;\r\n                        }\r\n                        this.table.css({ 'minWidth': this.totalWidth + delta });\r\n                        this.col.width(this.columnWidth + delta);\r\n                    },\r\n                    resizeend: function () {\r\n                        that.element.removeClass('k-grid-column-resizing');\r\n                        var oldWidth = Math.floor(this.columnWidth);\r\n                        var newWidth = Math.floor(this.th.outerWidth());\r\n                        var column = that.columns[this.th.index()];\r\n                        that.trigger('columnResize', {\r\n                            column: column,\r\n                            oldWidth: oldWidth,\r\n                            newWidth: newWidth\r\n                        });\r\n                        this.table = this.col = this.th = null;\r\n                    }\r\n                }).data('kendoResizable');\r\n            },\r\n            _modelFromElement: function (element) {\r\n                var row = element.closest('tr');\r\n                var model = this.dataSource.getByUid(row.attr(kendo.attr('uid')));\r\n                return model;\r\n            },\r\n            _columnFromElement: function (element) {\r\n                var td = element.closest('td');\r\n                var tr = td.parent();\r\n                var idx = tr.children().index(td);\r\n                return this.columns[idx];\r\n            }\r\n        });\r\n        extend(true, ui.GanttList, { styles: listStyles });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('kendo.gantt.timeline', [\r\n        'kendo.dom',\r\n        'kendo.touch',\r\n        'kendo.draganddrop'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'gantt.timeline',\r\n        name: 'Gantt Timeline',\r\n        category: 'web',\r\n        description: 'The Gantt Timeline',\r\n        depends: [\r\n            'dom',\r\n            'touch',\r\n            'draganddrop'\r\n        ],\r\n        hidden: true\r\n    };\r\n    (function ($) {\r\n        var Widget = kendo.ui.Widget;\r\n        var kendoDomElement = kendo.dom.element;\r\n        var kendoTextElement = kendo.dom.text;\r\n        var kendoHtmlElement = kendo.dom.html;\r\n        var isPlainObject = $.isPlainObject;\r\n        var extend = $.extend;\r\n        var proxy = $.proxy;\r\n        var browser = kendo.support.browser;\r\n        var isRtl = false;\r\n        var keys = kendo.keys;\r\n        var Query = kendo.data.Query;\r\n        var STRING = 'string';\r\n        var NS = '.kendoGanttTimeline';\r\n        var CLICK = 'click';\r\n        var DBLCLICK = 'dblclick';\r\n        var MOUSEMOVE = 'mousemove';\r\n        var MOUSEENTER = 'mouseenter';\r\n        var MOUSELEAVE = 'mouseleave';\r\n        var KEYDOWN = 'keydown';\r\n        var DOT = '.';\r\n        var TIME_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'t\\')#');\r\n        var DAY_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'ddd M/dd\\')#');\r\n        var WEEK_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'ddd M/dd\\')# - #=kendo.toString(kendo.date.addDays(end, -1), \\'ddd M/dd\\')#');\r\n        var MONTH_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'MMM\\')#');\r\n        var YEAR_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'yyyy\\')#');\r\n        var RESIZE_HINT = kendo.template('<div class=\"#=styles.marquee#\">' + '<div class=\"#=styles.marqueeColor#\"></div>' + '</div>');\r\n        var RESIZE_TOOLTIP_TEMPLATE = kendo.template('<div style=\"z-index: 100002;\" class=\"#=styles.tooltipWrapper#\">' + '<div class=\"#=styles.tooltipContent#\">' + '<div>#=messages.start#: #=kendo.toString(start, format)#</div>' + '<div>#=messages.end#: #=kendo.toString(end, format)#</div>' + '</div>' + '</div>');\r\n        var PERCENT_RESIZE_TOOLTIP_TEMPLATE = kendo.template('<div style=\"z-index: 100002;\" class=\"#=styles.tooltipWrapper#\" >' + '<div class=\"#=styles.tooltipContent#\">#=text#%</div>' + '<div class=\"#=styles.tooltipCallout#\" style=\"left:13px;\"></div>' + '</div>');\r\n        var TASK_TOOLTIP_TEMPLATE = kendo.template('<div class=\"#=styles.taskDetails#\">' + '<strong>#=task.title#</strong>' + '<div class=\"#=styles.taskDetailsPercent#\">#=kendo.toString(task.percentComplete, \"p0\")#</div>' + '<ul class=\"#=styles.reset#\">' + '<li>#=messages.start#: #=kendo.toString(task.start, \"h:mm tt ddd, MMM d\")#</li>' + '<li>#=messages.end#: #=kendo.toString(task.end, \"h:mm tt ddd, MMM d\")#</li>' + '</ul>' + '</div>');\r\n        var SIZE_CALCULATION_TEMPLATE = '<table style=\\'visibility: hidden;\\'>' + '<tbody>' + '<tr style=\\'height:{0}\\'>' + '<td>&nbsp;</td>' + '</tr>' + '</tbody>' + '</table>';\r\n        var defaultViews = {\r\n            day: { type: 'kendo.ui.GanttDayView' },\r\n            week: { type: 'kendo.ui.GanttWeekView' },\r\n            month: { type: 'kendo.ui.GanttMonthView' },\r\n            year: { type: 'kendo.ui.GanttYearView' }\r\n        };\r\n        function trimOptions(options) {\r\n            delete options.name;\r\n            delete options.prefix;\r\n            delete options.views;\r\n            return options;\r\n        }\r\n        function getWorkDays(options) {\r\n            var workDays = [];\r\n            var dayIndex = options.workWeekStart;\r\n            workDays.push(dayIndex);\r\n            while (options.workWeekEnd != dayIndex) {\r\n                if (dayIndex > 6) {\r\n                    dayIndex -= 7;\r\n                } else {\r\n                    dayIndex++;\r\n                }\r\n                workDays.push(dayIndex);\r\n            }\r\n            return workDays;\r\n        }\r\n        function blurActiveElement() {\r\n            var activeElement = kendo._activeElement();\r\n            if (activeElement && activeElement.nodeName.toLowerCase() !== 'body') {\r\n                $(activeElement).blur();\r\n            }\r\n        }\r\n        var viewStyles = {\r\n            alt: 'k-alt',\r\n            reset: 'k-reset',\r\n            nonWorking: 'k-nonwork-hour',\r\n            header: 'k-header',\r\n            gridHeader: 'k-grid-header',\r\n            gridHeaderWrap: 'k-grid-header-wrap',\r\n            gridContent: 'k-grid-content',\r\n            tasksWrapper: 'k-gantt-tables',\r\n            rowsTable: 'k-gantt-rows',\r\n            columnsTable: 'k-gantt-columns',\r\n            tasksTable: 'k-gantt-tasks',\r\n            dependenciesWrapper: 'k-gantt-dependencies',\r\n            resource: 'k-resource',\r\n            resourceAlt: 'k-resource k-alt',\r\n            task: 'k-task',\r\n            taskSingle: 'k-task-single',\r\n            taskMilestone: 'k-task-milestone',\r\n            taskSummary: 'k-task-summary',\r\n            taskWrap: 'k-task-wrap',\r\n            taskMilestoneWrap: 'k-milestone-wrap',\r\n            resourcesWrap: 'k-resources-wrap',\r\n            taskDot: 'k-task-dot',\r\n            taskDotStart: 'k-task-start',\r\n            taskDotEnd: 'k-task-end',\r\n            taskDragHandle: 'k-task-draghandle',\r\n            taskContent: 'k-task-content',\r\n            taskTemplate: 'k-task-template',\r\n            taskActions: 'k-task-actions',\r\n            taskDelete: 'k-task-delete',\r\n            taskComplete: 'k-task-complete',\r\n            taskDetails: 'k-task-details',\r\n            taskDetailsPercent: 'k-task-pct',\r\n            link: 'k-link',\r\n            icon: 'k-icon',\r\n            iconDelete: 'k-si-close',\r\n            taskResizeHandle: 'k-resize-handle',\r\n            taskResizeHandleWest: 'k-resize-w',\r\n            taskResizeHandleEast: 'k-resize-e',\r\n            taskSummaryProgress: 'k-task-summary-progress',\r\n            taskSummaryComplete: 'k-task-summary-complete',\r\n            line: 'k-line',\r\n            lineHorizontal: 'k-line-h',\r\n            lineVertical: 'k-line-v',\r\n            arrowWest: 'k-arrow-w',\r\n            arrowEast: 'k-arrow-e',\r\n            dragHint: 'k-drag-hint',\r\n            dependencyHint: 'k-dependency-hint',\r\n            tooltipWrapper: 'k-widget k-tooltip k-popup k-group k-reset',\r\n            tooltipContent: 'k-tooltip-content',\r\n            tooltipCallout: 'k-callout k-callout-s',\r\n            callout: 'k-callout',\r\n            marquee: 'k-marquee k-gantt-marquee',\r\n            marqueeColor: 'k-marquee-color'\r\n        };\r\n        var GanttView = kendo.ui.GanttView = Widget.extend({\r\n            init: function (element, options) {\r\n                Widget.fn.init.call(this, element, options);\r\n                this.title = this.options.title || this.options.name;\r\n                this.header = this.element.find(DOT + GanttView.styles.gridHeader);\r\n                this.content = this.element.find(DOT + GanttView.styles.gridContent);\r\n                this.contentWidth = this.content.width();\r\n                this._workDays = getWorkDays(this.options);\r\n                this._headerTree = options.headerTree;\r\n                this._taskTree = options.taskTree;\r\n                this._taskTemplate = options.taskTemplate ? kendo.template(options.taskTemplate, extend({}, kendo.Template, options.templateSettings)) : null;\r\n                this._dependencyTree = options.dependencyTree;\r\n                this._taskCoordinates = {};\r\n                this._currentTime();\r\n            },\r\n            destroy: function () {\r\n                Widget.fn.destroy.call(this);\r\n                clearTimeout(this._tooltipTimeout);\r\n                this.headerRow = null;\r\n                this.header = null;\r\n                this.content = null;\r\n                this._dragHint = null;\r\n                this._resizeHint = null;\r\n                this._resizeTooltip = null;\r\n                this._taskTooltip = null;\r\n                this._percentCompleteResizeTooltip = null;\r\n                this._headerTree = null;\r\n                this._taskTree = null;\r\n                this._dependencyTree = null;\r\n            },\r\n            options: {\r\n                showWorkHours: false,\r\n                showWorkDays: false,\r\n                workDayStart: new Date(1980, 1, 1, 8, 0, 0),\r\n                workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\r\n                workWeekStart: 1,\r\n                workWeekEnd: 5,\r\n                hourSpan: 1,\r\n                slotSize: 100,\r\n                currentTimeMarker: { updateInterval: 10000 }\r\n            },\r\n            renderLayout: function () {\r\n                this._slots = this._createSlots();\r\n                this._tableWidth = this._calculateTableWidth();\r\n                this.createLayout(this._layout());\r\n                this._slotDimensions();\r\n                this._adjustHeight();\r\n                this.content.find(DOT + GanttView.styles.dependenciesWrapper).width(this._tableWidth);\r\n            },\r\n            _adjustHeight: function () {\r\n                this.content.height(this.element.height() - this.header.outerHeight());\r\n            },\r\n            createLayout: function (rows) {\r\n                var headers = this._headers(rows);\r\n                var colgroup = this._colgroup();\r\n                var tree = this._headerTree;\r\n                var header = kendoDomElement('thead', null, headers);\r\n                var table = kendoDomElement('table', { style: { width: this._tableWidth + 'px' } }, [\r\n                    colgroup,\r\n                    header\r\n                ]);\r\n                tree.render([table]);\r\n                this.headerRow = this.header.find('table:first tr').last();\r\n            },\r\n            _slotDimensions: function () {\r\n                var headers = this.headerRow[0].children;\r\n                var slots = this._timeSlots();\r\n                var slot;\r\n                var header;\r\n                for (var i = 0, length = headers.length; i < length; i++) {\r\n                    header = headers[i];\r\n                    slot = slots[i];\r\n                    slot.offsetLeft = header.offsetLeft;\r\n                    slot.offsetWidth = header.offsetWidth;\r\n                }\r\n            },\r\n            render: function (tasks) {\r\n                var taskCount = tasks.length;\r\n                var styles = GanttView.styles;\r\n                var contentTable;\r\n                var rowsTable = this._rowsTable(taskCount);\r\n                var columnsTable = this._columnsTable(taskCount);\r\n                var tasksTable = this._tasksTable(tasks);\r\n                var currentTimeMarker = this.options.currentTimeMarker;\r\n                var calculatedSize = this.options.calculatedSize;\r\n                var totalHeight;\r\n                this._taskTree.render([\r\n                    rowsTable,\r\n                    columnsTable,\r\n                    tasksTable\r\n                ]);\r\n                contentTable = this.content.find(DOT + styles.rowsTable);\r\n                if (calculatedSize) {\r\n                    totalHeight = calculatedSize.row * tasks.length;\r\n                    this.content.find(DOT + styles.tasksTable).height(totalHeight);\r\n                    contentTable.height(totalHeight);\r\n                }\r\n                this._contentHeight = contentTable.height();\r\n                this._rowHeight = calculatedSize ? calculatedSize.row : this._contentHeight / contentTable.find('tr').length;\r\n                this.content.find(DOT + styles.columnsTable).height(this._contentHeight);\r\n                if (currentTimeMarker !== false && currentTimeMarker.updateInterval !== undefined) {\r\n                    this._renderCurrentTime();\r\n                }\r\n            },\r\n            _rowsTable: function (rowCount) {\r\n                var rows = [];\r\n                var row;\r\n                var styles = GanttView.styles;\r\n                var attributes = [\r\n                    null,\r\n                    { className: styles.alt }\r\n                ];\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    row = kendoDomElement('tr', attributes[i % 2], [kendoDomElement('td', null, [kendoTextElement('\\xA0')])]);\r\n                    rows.push(row);\r\n                }\r\n                return this._createTable(1, rows, { className: styles.rowsTable });\r\n            },\r\n            _columnsTable: function () {\r\n                var cells = [];\r\n                var row;\r\n                var styles = GanttView.styles;\r\n                var slots = this._timeSlots();\r\n                var slotsCount = slots.length;\r\n                var slot;\r\n                var slotSpan;\r\n                var totalSpan = 0;\r\n                var attributes;\r\n                for (var i = 0; i < slotsCount; i++) {\r\n                    slot = slots[i];\r\n                    attributes = {};\r\n                    slotSpan = slot.span;\r\n                    totalSpan += slotSpan;\r\n                    if (slotSpan !== 1) {\r\n                        attributes.colspan = slotSpan;\r\n                    }\r\n                    if (slot.isNonWorking) {\r\n                        attributes.className = styles.nonWorking;\r\n                    }\r\n                    cells.push(kendoDomElement('td', attributes, [kendoTextElement('\\xA0')]));\r\n                }\r\n                row = kendoDomElement('tr', null, cells);\r\n                return this._createTable(totalSpan, [row], { className: styles.columnsTable });\r\n            },\r\n            _tasksTable: function (tasks) {\r\n                var rows = [];\r\n                var row;\r\n                var cell;\r\n                var position;\r\n                var task;\r\n                var styles = GanttView.styles;\r\n                var coordinates = this._taskCoordinates = {};\r\n                var size = this._calculateMilestoneWidth();\r\n                var milestoneWidth = Math.round(size.width);\r\n                var resourcesField = this.options.resourcesField;\r\n                var className = [\r\n                    styles.resource,\r\n                    styles.resourceAlt\r\n                ];\r\n                var calculatedSize = this.options.calculatedSize;\r\n                var resourcesPosition;\r\n                var resourcesMargin = this._calculateResourcesMargin();\r\n                var taskBorderWidth = this._calculateTaskBorderWidth();\r\n                var resourceStyle;\r\n                var addCoordinates = function (rowIndex) {\r\n                    var taskLeft;\r\n                    var taskRight;\r\n                    taskLeft = position.left;\r\n                    taskRight = taskLeft + position.width;\r\n                    if (task.isMilestone()) {\r\n                        taskLeft -= milestoneWidth / 2;\r\n                        taskRight = taskLeft + milestoneWidth;\r\n                    }\r\n                    coordinates[task.id] = {\r\n                        start: taskLeft,\r\n                        end: taskRight,\r\n                        rowIndex: rowIndex\r\n                    };\r\n                };\r\n                for (var i = 0, l = tasks.length; i < l; i++) {\r\n                    task = tasks[i];\r\n                    position = this._taskPosition(task);\r\n                    position.borderWidth = taskBorderWidth;\r\n                    row = kendoDomElement('tr', null);\r\n                    cell = kendoDomElement('td', null, [this._renderTask(tasks[i], position)]);\r\n                    if (task[resourcesField] && task[resourcesField].length) {\r\n                        if (isRtl) {\r\n                            resourcesPosition = this._tableWidth - position.left;\r\n                        } else {\r\n                            resourcesPosition = Math.max(position.width || size.clientWidth, 0) + position.left;\r\n                        }\r\n                        resourceStyle = { width: this._tableWidth - (resourcesPosition + resourcesMargin) + 'px' };\r\n                        resourceStyle[isRtl ? 'right' : 'left'] = resourcesPosition + 'px';\r\n                        if (calculatedSize) {\r\n                            resourceStyle.height = calculatedSize.cell + 'px';\r\n                        }\r\n                        cell.children.push(kendoDomElement('div', {\r\n                            className: styles.resourcesWrap,\r\n                            style: resourceStyle\r\n                        }, this._renderResources(task[resourcesField], className[i % 2])));\r\n                    }\r\n                    row.children.push(cell);\r\n                    rows.push(row);\r\n                    addCoordinates(i);\r\n                }\r\n                return this._createTable(1, rows, { className: GanttView.styles.tasksTable });\r\n            },\r\n            _createTable: function (colspan, rows, styles) {\r\n                var cols = [];\r\n                var colgroup;\r\n                var tbody;\r\n                for (var i = 0; i < colspan; i++) {\r\n                    cols.push(kendoDomElement('col'));\r\n                }\r\n                colgroup = kendoDomElement('colgroup', null, cols);\r\n                tbody = kendoDomElement('tbody', null, rows);\r\n                if (!styles.style) {\r\n                    styles.style = {};\r\n                }\r\n                styles.style.width = this._tableWidth + 'px';\r\n                return kendoDomElement('table', styles, [\r\n                    colgroup,\r\n                    tbody\r\n                ]);\r\n            },\r\n            _calculateTableWidth: function () {\r\n                var slots = this._timeSlots();\r\n                var maxSpan = 0;\r\n                var totalSpan = 0;\r\n                var currentSpan;\r\n                var tableWidth;\r\n                for (var i = 0, length = slots.length; i < length; i++) {\r\n                    currentSpan = slots[i].span;\r\n                    totalSpan += currentSpan;\r\n                    if (currentSpan > maxSpan) {\r\n                        maxSpan = currentSpan;\r\n                    }\r\n                }\r\n                tableWidth = Math.round(totalSpan * this.options.slotSize / maxSpan);\r\n                return tableWidth;\r\n            },\r\n            _calculateMilestoneWidth: function () {\r\n                var size;\r\n                var className = GanttView.styles.task + ' ' + GanttView.styles.taskMilestone;\r\n                var milestone = $('<div class=\\'' + className + '\\' style=\\'visibility: hidden; position: absolute\\'>');\r\n                var boundingClientRect;\r\n                this.content.append(milestone);\r\n                boundingClientRect = milestone[0].getBoundingClientRect();\r\n                size = {\r\n                    'width': boundingClientRect.right - boundingClientRect.left,\r\n                    'clientWidth': milestone[0].clientWidth\r\n                };\r\n                milestone.remove();\r\n                return size;\r\n            },\r\n            _calculateResourcesMargin: function () {\r\n                var margin;\r\n                var wrapper = $('<div class=\\'' + GanttView.styles.resourcesWrap + '\\' style=\\'visibility: hidden; position: absolute\\'>');\r\n                this.content.append(wrapper);\r\n                margin = parseInt(wrapper.css(isRtl ? 'margin-right' : 'margin-left'), 10);\r\n                wrapper.remove();\r\n                return margin;\r\n            },\r\n            _calculateTaskBorderWidth: function () {\r\n                var width;\r\n                var className = GanttView.styles.task + ' ' + GanttView.styles.taskSingle;\r\n                var task = $('<div class=\\'' + className + '\\' style=\\'visibility: hidden; position: absolute\\'>');\r\n                var computedStyle;\r\n                this.content.append(task);\r\n                computedStyle = kendo.getComputedStyles(task[0], ['border-left-width']);\r\n                width = parseFloat(computedStyle['border-left-width'], 10);\r\n                task.remove();\r\n                return width;\r\n            },\r\n            _renderTask: function (task, position) {\r\n                var taskWrapper;\r\n                var taskElement;\r\n                var editable = this.options.editable;\r\n                var progressHandleOffset;\r\n                var taskLeft = position.left;\r\n                var styles = GanttView.styles;\r\n                var wrapClassName = styles.taskWrap;\r\n                var calculatedSize = this.options.calculatedSize;\r\n                var dragHandleStyle = {};\r\n                var taskWrapAttr = {\r\n                    className: wrapClassName,\r\n                    style: { left: taskLeft + 'px' }\r\n                };\r\n                if (calculatedSize) {\r\n                    taskWrapAttr.style.height = calculatedSize.cell + 'px';\r\n                }\r\n                if (task.summary) {\r\n                    taskElement = this._renderSummary(task, position);\r\n                } else if (task.isMilestone()) {\r\n                    taskElement = this._renderMilestone(task, position);\r\n                    taskWrapAttr.className += ' ' + styles.taskMilestoneWrap;\r\n                } else {\r\n                    taskElement = this._renderSingleTask(task, position);\r\n                }\r\n                taskWrapper = kendoDomElement('div', taskWrapAttr, [taskElement]);\r\n                if (editable) {\r\n                    taskWrapper.children.push(kendoDomElement('div', { className: styles.taskDot + ' ' + styles.taskDotStart }));\r\n                    taskWrapper.children.push(kendoDomElement('div', { className: styles.taskDot + ' ' + styles.taskDotEnd }));\r\n                }\r\n                if (!task.summary && !task.isMilestone() && editable && this._taskTemplate === null) {\r\n                    progressHandleOffset = Math.round(position.width * task.percentComplete);\r\n                    dragHandleStyle[isRtl ? 'right' : 'left'] = progressHandleOffset + 'px';\r\n                    taskWrapper.children.push(kendoDomElement('div', {\r\n                        className: styles.taskDragHandle,\r\n                        style: dragHandleStyle\r\n                    }));\r\n                }\r\n                return taskWrapper;\r\n            },\r\n            _renderSingleTask: function (task, position) {\r\n                var styles = GanttView.styles;\r\n                var progressWidth = Math.round(position.width * task.percentComplete);\r\n                var taskChildren = [];\r\n                var taskContent;\r\n                if (this._taskTemplate !== null) {\r\n                    taskContent = kendoHtmlElement(this._taskTemplate(task));\r\n                } else {\r\n                    taskContent = kendoTextElement(task.title);\r\n                    taskChildren.push(kendoDomElement('div', {\r\n                        className: styles.taskComplete,\r\n                        style: { width: progressWidth + 'px' }\r\n                    }));\r\n                }\r\n                var content = kendoDomElement('div', { className: styles.taskContent }, [kendoDomElement('div', { className: styles.taskTemplate }, [taskContent])]);\r\n                taskChildren.push(content);\r\n                if (this.options.editable) {\r\n                    content.children.push(kendoDomElement('span', { className: styles.taskActions }, [kendoDomElement('a', {\r\n                            className: styles.link + ' ' + styles.taskDelete,\r\n                            href: '#'\r\n                        }, [kendoDomElement('span', { className: styles.icon + ' ' + styles.iconDelete })])]));\r\n                    content.children.push(kendoDomElement('span', { className: styles.taskResizeHandle + ' ' + styles.taskResizeHandleWest }));\r\n                    content.children.push(kendoDomElement('span', { className: styles.taskResizeHandle + ' ' + styles.taskResizeHandleEast }));\r\n                }\r\n                var element = kendoDomElement('div', {\r\n                    className: styles.task + ' ' + styles.taskSingle,\r\n                    'data-uid': task.uid,\r\n                    style: { width: Math.max(position.width - position.borderWidth * 2, 0) + 'px' }\r\n                }, taskChildren);\r\n                return element;\r\n            },\r\n            _renderMilestone: function (task) {\r\n                var styles = GanttView.styles;\r\n                var element = kendoDomElement('div', {\r\n                    className: styles.task + ' ' + styles.taskMilestone,\r\n                    'data-uid': task.uid\r\n                });\r\n                return element;\r\n            },\r\n            _renderSummary: function (task, position) {\r\n                var styles = GanttView.styles;\r\n                var progressWidth = Math.round(position.width * task.percentComplete);\r\n                var element = kendoDomElement('div', {\r\n                    className: styles.task + ' ' + styles.taskSummary,\r\n                    'data-uid': task.uid,\r\n                    style: { width: position.width + 'px' }\r\n                }, [kendoDomElement('div', {\r\n                        className: styles.taskSummaryProgress,\r\n                        style: { width: progressWidth + 'px' }\r\n                    }, [kendoDomElement('div', {\r\n                            className: styles.taskSummaryComplete,\r\n                            style: { width: position.width + 'px' }\r\n                        })])]);\r\n                return element;\r\n            },\r\n            _renderResources: function (resources, className) {\r\n                var children = [];\r\n                var resource;\r\n                for (var i = 0, length = resources.length; i < length; i++) {\r\n                    resource = resources[i];\r\n                    children.push(kendoDomElement('span', {\r\n                        className: className,\r\n                        style: { 'color': resource.get('color') }\r\n                    }, [kendoTextElement(resource.get('name'))]));\r\n                }\r\n                if (isRtl) {\r\n                    children.reverse();\r\n                }\r\n                return children;\r\n            },\r\n            _taskPosition: function (task) {\r\n                var round = Math.round;\r\n                var startLeft = round(this._offset(isRtl ? task.end : task.start));\r\n                var endLeft = round(this._offset(isRtl ? task.start : task.end));\r\n                return {\r\n                    left: startLeft,\r\n                    width: endLeft - startLeft\r\n                };\r\n            },\r\n            _offset: function (date) {\r\n                var slots = this._timeSlots();\r\n                var slot;\r\n                var startOffset;\r\n                var slotDuration;\r\n                var slotOffset = 0;\r\n                var startIndex;\r\n                if (!slots.length) {\r\n                    return 0;\r\n                }\r\n                startIndex = this._slotIndex('start', date);\r\n                slot = slots[startIndex];\r\n                if (slot.end < date) {\r\n                    slotOffset = slot.offsetWidth;\r\n                } else if (slot.start <= date) {\r\n                    startOffset = date - slot.start;\r\n                    slotDuration = slot.end - slot.start;\r\n                    slotOffset = startOffset / slotDuration * slot.offsetWidth;\r\n                }\r\n                if (isRtl) {\r\n                    slotOffset = slot.offsetWidth + 1 - slotOffset;\r\n                }\r\n                return slot.offsetLeft + slotOffset;\r\n            },\r\n            _slotIndex: function (field, value, reverse) {\r\n                var slots = this._timeSlots();\r\n                var startIdx = 0;\r\n                var endIdx = slots.length - 1;\r\n                var middle;\r\n                if (reverse) {\r\n                    slots = [].slice.call(slots).reverse();\r\n                }\r\n                do {\r\n                    middle = Math.ceil((endIdx + startIdx) / 2);\r\n                    if (slots[middle][field] < value) {\r\n                        startIdx = middle;\r\n                    } else {\r\n                        if (middle === endIdx) {\r\n                            middle--;\r\n                        }\r\n                        endIdx = middle;\r\n                    }\r\n                } while (startIdx !== endIdx);\r\n                if (reverse) {\r\n                    startIdx = slots.length - 1 - startIdx;\r\n                }\r\n                return startIdx;\r\n            },\r\n            _timeByPosition: function (x, snap, snapToEnd) {\r\n                var slot = this._slotByPosition(x);\r\n                if (snap) {\r\n                    return snapToEnd ? slot.end : slot.start;\r\n                }\r\n                var offsetLeft = x - $(DOT + GanttView.styles.tasksTable).offset().left;\r\n                var duration = slot.end - slot.start;\r\n                var slotOffset = offsetLeft - slot.offsetLeft;\r\n                if (isRtl) {\r\n                    slotOffset = slot.offsetWidth - slotOffset;\r\n                }\r\n                return new Date(slot.start.getTime() + duration * (slotOffset / slot.offsetWidth));\r\n            },\r\n            _slotByPosition: function (x) {\r\n                var offsetLeft = x - $(DOT + GanttView.styles.tasksTable).offset().left;\r\n                var slotIndex = this._slotIndex('offsetLeft', offsetLeft, isRtl);\r\n                return this._timeSlots()[slotIndex];\r\n            },\r\n            _renderDependencies: function (dependencies) {\r\n                var elements = [];\r\n                var tree = this._dependencyTree;\r\n                for (var i = 0, l = dependencies.length; i < l; i++) {\r\n                    elements.push.apply(elements, this._renderDependency(dependencies[i]));\r\n                }\r\n                tree.render(elements);\r\n            },\r\n            _renderDependency: function (dependency) {\r\n                var predecessor = this._taskCoordinates[dependency.predecessorId];\r\n                var successor = this._taskCoordinates[dependency.successorId];\r\n                var elements;\r\n                var method;\r\n                if (!predecessor || !successor) {\r\n                    return [];\r\n                }\r\n                method = '_render' + [\r\n                    'FF',\r\n                    'FS',\r\n                    'SF',\r\n                    'SS'\r\n                ][isRtl ? 3 - dependency.type : dependency.type];\r\n                elements = this[method](predecessor, successor);\r\n                for (var i = 0, length = elements.length; i < length; i++) {\r\n                    elements[i].attr['data-uid'] = dependency.uid;\r\n                }\r\n                return elements;\r\n            },\r\n            _renderFF: function (from, to) {\r\n                var lines = this._dependencyFF(from, to, false);\r\n                lines[lines.length - 1].children[0] = this._arrow(true);\r\n                return lines;\r\n            },\r\n            _renderSS: function (from, to) {\r\n                var lines = this._dependencyFF(to, from, true);\r\n                lines[0].children[0] = this._arrow(false);\r\n                return lines.reverse();\r\n            },\r\n            _renderFS: function (from, to) {\r\n                var lines = this._dependencyFS(from, to, false);\r\n                lines[lines.length - 1].children[0] = this._arrow(false);\r\n                return lines;\r\n            },\r\n            _renderSF: function (from, to) {\r\n                var lines = this._dependencyFS(to, from, true);\r\n                lines[0].children[0] = this._arrow(true);\r\n                return lines.reverse();\r\n            },\r\n            _dependencyFF: function (from, to, reverse) {\r\n                var that = this;\r\n                var lines = [];\r\n                var left = 0;\r\n                var top = 0;\r\n                var width = 0;\r\n                var height = 0;\r\n                var dir = reverse ? 'start' : 'end';\r\n                var delta;\r\n                var overlap = 2;\r\n                var arrowOverlap = 1;\r\n                var rowHeight = this._rowHeight;\r\n                var minLineWidth = 10;\r\n                var fromTop = from.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\r\n                var toTop = to.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\r\n                var styles = GanttView.styles;\r\n                var addHorizontal = function () {\r\n                    lines.push(that._line(styles.line + ' ' + styles.lineHorizontal, {\r\n                        left: left + 'px',\r\n                        top: top + 'px',\r\n                        width: width + 'px'\r\n                    }));\r\n                };\r\n                var addVertical = function () {\r\n                    lines.push(that._line(styles.line + ' ' + styles.lineVertical, {\r\n                        left: left + 'px',\r\n                        top: top + 'px',\r\n                        height: height + 'px'\r\n                    }));\r\n                };\r\n                left = from[dir];\r\n                top = fromTop;\r\n                width = minLineWidth;\r\n                delta = to[dir] - from[dir];\r\n                if (delta > 0 !== reverse) {\r\n                    width = Math.abs(delta) + minLineWidth;\r\n                }\r\n                if (reverse) {\r\n                    left -= width;\r\n                    width -= arrowOverlap;\r\n                    addHorizontal();\r\n                } else {\r\n                    addHorizontal();\r\n                    left += width - overlap;\r\n                }\r\n                if (toTop < top) {\r\n                    height = top - toTop;\r\n                    height += overlap;\r\n                    top = toTop;\r\n                    addVertical();\r\n                } else {\r\n                    height = toTop - top;\r\n                    height += overlap;\r\n                    addVertical();\r\n                    top += height - overlap;\r\n                }\r\n                width = Math.abs(left - to[dir]);\r\n                if (!reverse) {\r\n                    width -= arrowOverlap;\r\n                    left -= width;\r\n                }\r\n                addHorizontal();\r\n                return lines;\r\n            },\r\n            _dependencyFS: function (from, to, reverse) {\r\n                var that = this;\r\n                var lines = [];\r\n                var left = 0;\r\n                var top = 0;\r\n                var width = 0;\r\n                var height = 0;\r\n                var rowHeight = this._rowHeight;\r\n                var minLineHeight = Math.floor(rowHeight / 2);\r\n                var minLineWidth = 10;\r\n                var minDistance = 2 * minLineWidth;\r\n                var delta = to.start - from.end;\r\n                var overlap = 2;\r\n                var arrowOverlap = 1;\r\n                var fromTop = from.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\r\n                var toTop = to.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\r\n                var styles = GanttView.styles;\r\n                var addHorizontal = function () {\r\n                    lines.push(that._line(styles.line + ' ' + styles.lineHorizontal, {\r\n                        left: left + 'px',\r\n                        top: top + 'px',\r\n                        width: width + 'px'\r\n                    }));\r\n                };\r\n                var addVertical = function () {\r\n                    lines.push(that._line(styles.line + ' ' + styles.lineVertical, {\r\n                        left: left + 'px',\r\n                        top: top + 'px',\r\n                        height: height + 'px'\r\n                    }));\r\n                };\r\n                left = from.end;\r\n                top = fromTop;\r\n                width = minLineWidth;\r\n                if (reverse) {\r\n                    left += arrowOverlap;\r\n                    if (delta > minDistance) {\r\n                        width = delta - (minLineWidth - overlap);\r\n                    }\r\n                    width -= arrowOverlap;\r\n                }\r\n                addHorizontal();\r\n                left += width - overlap;\r\n                if (delta <= minDistance) {\r\n                    height = reverse ? Math.abs(toTop - fromTop) - minLineHeight : minLineHeight;\r\n                    if (toTop < fromTop) {\r\n                        top -= height;\r\n                        height += overlap;\r\n                        addVertical();\r\n                    } else {\r\n                        addVertical();\r\n                        top += height;\r\n                    }\r\n                    width = from.end - to.start + minDistance;\r\n                    if (width < minLineWidth) {\r\n                        width = minLineWidth;\r\n                    }\r\n                    left -= width - overlap;\r\n                    addHorizontal();\r\n                }\r\n                if (toTop < fromTop) {\r\n                    height = top - toTop;\r\n                    top = toTop;\r\n                    height += overlap;\r\n                    addVertical();\r\n                } else {\r\n                    height = toTop - top;\r\n                    addVertical();\r\n                    top += height;\r\n                }\r\n                width = to.start - left;\r\n                if (!reverse) {\r\n                    width -= arrowOverlap;\r\n                }\r\n                addHorizontal();\r\n                return lines;\r\n            },\r\n            _line: function (className, styles) {\r\n                return kendoDomElement('div', {\r\n                    className: className,\r\n                    style: styles\r\n                });\r\n            },\r\n            _arrow: function (direction) {\r\n                return kendoDomElement('span', { className: direction ? GanttView.styles.arrowWest : GanttView.styles.arrowEast });\r\n            },\r\n            _colgroup: function () {\r\n                var slots = this._timeSlots();\r\n                var count = slots.length;\r\n                var cols = [];\r\n                for (var i = 0; i < count; i++) {\r\n                    for (var j = 0, length = slots[i].span; j < length; j++) {\r\n                        cols.push(kendoDomElement('col'));\r\n                    }\r\n                }\r\n                return kendoDomElement('colgroup', null, cols);\r\n            },\r\n            _createDragHint: function (element) {\r\n                this._dragHint = element.clone().addClass(GanttView.styles.dragHint).css('cursor', 'move');\r\n                element.parent().append(this._dragHint);\r\n            },\r\n            _updateDragHint: function (start) {\r\n                var left = this._offset(start);\r\n                this._dragHint.css({ 'left': left });\r\n            },\r\n            _removeDragHint: function () {\r\n                this._dragHint.remove();\r\n                this._dragHint = null;\r\n            },\r\n            _createResizeHint: function (task) {\r\n                var styles = GanttView.styles;\r\n                var taskTop = this._taskCoordinates[task.id].rowIndex * this._rowHeight;\r\n                var tooltipHeight;\r\n                var tooltipTop;\r\n                var options = this.options;\r\n                var messages = options.messages;\r\n                this._resizeHint = $(RESIZE_HINT({ styles: styles })).css({\r\n                    'top': 0,\r\n                    'height': this._contentHeight\r\n                });\r\n                this.content.append(this._resizeHint);\r\n                this._resizeTooltip = $(RESIZE_TOOLTIP_TEMPLATE({\r\n                    styles: styles,\r\n                    start: task.start,\r\n                    end: task.end,\r\n                    messages: messages.views,\r\n                    format: options.resizeTooltipFormat\r\n                })).css({\r\n                    'top': 0,\r\n                    'left': 0\r\n                });\r\n                this.content.append(this._resizeTooltip);\r\n                this._resizeTooltipWidth = this._resizeTooltip.outerWidth();\r\n                tooltipHeight = this._resizeTooltip.outerHeight();\r\n                tooltipTop = taskTop - tooltipHeight;\r\n                if (tooltipTop < 0) {\r\n                    tooltipTop = taskTop + this._rowHeight;\r\n                }\r\n                this._resizeTooltipTop = tooltipTop;\r\n            },\r\n            _updateResizeHint: function (start, end, resizeStart) {\r\n                var left = this._offset(isRtl ? end : start);\r\n                var right = this._offset(isRtl ? start : end);\r\n                var width = right - left;\r\n                var tooltipLeft = resizeStart !== isRtl ? left : right;\r\n                var tablesWidth = this._tableWidth - kendo.support.scrollbar();\r\n                var tooltipWidth = this._resizeTooltipWidth;\r\n                var options = this.options;\r\n                var messages = options.messages;\r\n                var tableOffset = $(DOT + GanttView.styles.tasksTable).offset().left - $(DOT + GanttView.styles.tasksWrapper).offset().left;\r\n                if (isRtl) {\r\n                    left += tableOffset;\r\n                }\r\n                this._resizeHint.css({\r\n                    'left': left,\r\n                    'width': width\r\n                });\r\n                if (this._resizeTooltip) {\r\n                    this._resizeTooltip.remove();\r\n                }\r\n                tooltipLeft -= Math.round(tooltipWidth / 2);\r\n                if (tooltipLeft < 0) {\r\n                    tooltipLeft = 0;\r\n                } else if (tooltipLeft + tooltipWidth > tablesWidth) {\r\n                    tooltipLeft = tablesWidth - tooltipWidth;\r\n                }\r\n                if (isRtl) {\r\n                    tooltipLeft += tableOffset;\r\n                }\r\n                this._resizeTooltip = $(RESIZE_TOOLTIP_TEMPLATE({\r\n                    styles: GanttView.styles,\r\n                    start: start,\r\n                    end: end,\r\n                    messages: messages.views,\r\n                    format: options.resizeTooltipFormat\r\n                })).css({\r\n                    'top': this._resizeTooltipTop,\r\n                    'left': tooltipLeft,\r\n                    'min-width': tooltipWidth\r\n                }).appendTo(this.content);\r\n            },\r\n            _removeResizeHint: function () {\r\n                this._resizeHint.remove();\r\n                this._resizeHint = null;\r\n                this._resizeTooltip.remove();\r\n                this._resizeTooltip = null;\r\n            },\r\n            _updatePercentCompleteTooltip: function (top, left, text) {\r\n                this._removePercentCompleteTooltip();\r\n                var tooltip = this._percentCompleteResizeTooltip = $(PERCENT_RESIZE_TOOLTIP_TEMPLATE({\r\n                    styles: GanttView.styles,\r\n                    text: text\r\n                })).appendTo(this.element);\r\n                var tooltipMiddle = Math.round(tooltip.outerWidth() / 2);\r\n                var arrow = tooltip.find(DOT + GanttView.styles.callout);\r\n                var arrowHeight = Math.round(arrow.outerWidth() / 2);\r\n                tooltip.css({\r\n                    'top': top - (tooltip.outerHeight() + arrowHeight),\r\n                    'left': left - tooltipMiddle\r\n                });\r\n                arrow.css('left', tooltipMiddle - arrowHeight);\r\n            },\r\n            _removePercentCompleteTooltip: function () {\r\n                if (this._percentCompleteResizeTooltip) {\r\n                    this._percentCompleteResizeTooltip.remove();\r\n                }\r\n                this._percentCompleteResizeTooltip = null;\r\n            },\r\n            _updateDependencyDragHint: function (from, to, useVML) {\r\n                this._removeDependencyDragHint();\r\n                if (useVML) {\r\n                    this._creteVmlDependencyDragHint(from, to);\r\n                } else {\r\n                    this._creteDependencyDragHint(from, to);\r\n                }\r\n            },\r\n            _creteDependencyDragHint: function (from, to) {\r\n                var styles = GanttView.styles;\r\n                var deltaX = to.x - from.x;\r\n                var deltaY = to.y - from.y;\r\n                var width = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\r\n                var angle = Math.atan(deltaY / deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                $('<div class=\\'' + styles.line + ' ' + styles.lineHorizontal + ' ' + styles.dependencyHint + '\\'></div>').css({\r\n                    'top': from.y,\r\n                    'left': from.x,\r\n                    'width': width,\r\n                    'transform-origin': '0% 0',\r\n                    '-ms-transform-origin': '0% 0',\r\n                    '-webkit-transform-origin': '0% 0',\r\n                    'transform': 'rotate(' + angle + 'rad)',\r\n                    '-ms-transform': 'rotate(' + angle + 'rad)',\r\n                    '-webkit-transform': 'rotate(' + angle + 'rad)'\r\n                }).appendTo(this.content);\r\n            },\r\n            _creteVmlDependencyDragHint: function (from, to) {\r\n                var hint = $('<kvml:line class=\\'' + GanttView.styles.dependencyHint + '\\' style=\\'position:absolute; top: 0px; left: 0px;\\' strokecolor=\\'black\\' strokeweight=\\'2px\\' from=\\'' + from.x + 'px,' + from.y + 'px\\' to=\\'' + to.x + 'px,' + to.y + 'px\\'' + '></kvml:line>').appendTo(this.content);\r\n                hint[0].outerHTML = hint[0].outerHTML;\r\n            },\r\n            _removeDependencyDragHint: function () {\r\n                this.content.find(DOT + GanttView.styles.dependencyHint).remove();\r\n            },\r\n            _createTaskTooltip: function (task, element, mouseLeft) {\r\n                var styles = GanttView.styles;\r\n                var options = this.options;\r\n                var content = this.content;\r\n                var contentOffset = content.offset();\r\n                var contentWidth = content.width();\r\n                var contentScrollLeft = kendo.scrollLeft(content);\r\n                var row = $(element).parents('tr').first();\r\n                var rowOffset = row.offset();\r\n                var template = options.tooltip && options.tooltip.template ? kendo.template(options.tooltip.template) : TASK_TOOLTIP_TEMPLATE;\r\n                var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar()) : mouseLeft - (contentOffset.left - contentScrollLeft);\r\n                var top = rowOffset.top + row.outerHeight() - contentOffset.top + content.scrollTop();\r\n                var tooltip = this._taskTooltip = $('<div style=\"z-index: 100002;\" class=\"' + styles.tooltipWrapper + '\" >' + '<div class=\"' + styles.taskContent + '\"></div></div>');\r\n                var tooltipWidth;\r\n                tooltip.css({\r\n                    'left': left,\r\n                    'top': top\r\n                }).appendTo(content).find(DOT + styles.taskContent).append(template({\r\n                    styles: styles,\r\n                    task: task,\r\n                    messages: options.messages.views\r\n                }));\r\n                if (tooltip.outerHeight() < rowOffset.top - contentOffset.top) {\r\n                    tooltip.css('top', rowOffset.top - contentOffset.top - tooltip.outerHeight() + content.scrollTop());\r\n                }\r\n                tooltipWidth = tooltip.outerWidth();\r\n                if (tooltipWidth + left - contentScrollLeft > contentWidth) {\r\n                    left -= tooltipWidth;\r\n                    if (left < contentScrollLeft) {\r\n                        left = contentScrollLeft + contentWidth - (tooltipWidth + 17);\r\n                    }\r\n                    tooltip.css('left', left);\r\n                }\r\n            },\r\n            _removeTaskTooltip: function () {\r\n                if (this._taskTooltip) {\r\n                    this._taskTooltip.remove();\r\n                }\r\n                this._taskTooltip = null;\r\n            },\r\n            _scrollTo: function (element) {\r\n                var elementLeft = element.offset().left;\r\n                var elementWidth = element.width();\r\n                var elementRight = elementLeft + elementWidth;\r\n                var row = element.closest('tr');\r\n                var rowTop = row.offset().top;\r\n                var rowHeight = row.height();\r\n                var rowBottom = rowTop + rowHeight;\r\n                var content = this.content;\r\n                var contentOffset = content.offset();\r\n                var contentTop = contentOffset.top;\r\n                var contentHeight = content.height();\r\n                var contentBottom = contentTop + contentHeight;\r\n                var contentLeft = contentOffset.left;\r\n                var contentWidth = content.width();\r\n                var contentRight = contentLeft + contentWidth;\r\n                var scrollbarWidth = kendo.support.scrollbar();\r\n                if (rowTop < contentTop) {\r\n                    content.scrollTop(content.scrollTop() + (rowTop - contentTop));\r\n                } else if (rowBottom > contentBottom) {\r\n                    content.scrollTop(content.scrollTop() + (rowBottom + scrollbarWidth - contentBottom));\r\n                }\r\n                if (elementLeft < contentLeft && elementWidth > contentWidth && elementRight < contentRight || elementRight > contentRight && elementWidth < contentWidth) {\r\n                    content.scrollLeft(content.scrollLeft() + (elementRight + scrollbarWidth - contentRight));\r\n                } else if (elementRight > contentRight && elementWidth > contentWidth && elementLeft > contentLeft || elementLeft < contentLeft && elementWidth < contentWidth) {\r\n                    content.scrollLeft(content.scrollLeft() + (elementLeft - contentLeft));\r\n                }\r\n            },\r\n            _timeSlots: function () {\r\n                if (!this._slots || !this._slots.length) {\r\n                    return [];\r\n                }\r\n                return this._slots[this._slots.length - 1];\r\n            },\r\n            _headers: function (columnLevels) {\r\n                var rows = [];\r\n                var level;\r\n                var headers;\r\n                var column;\r\n                var headerText;\r\n                var styles = GanttView.styles;\r\n                for (var levelIndex = 0, levelCount = columnLevels.length; levelIndex < levelCount; levelIndex++) {\r\n                    level = columnLevels[levelIndex];\r\n                    headers = [];\r\n                    for (var columnIndex = 0, columnCount = level.length; columnIndex < columnCount; columnIndex++) {\r\n                        column = level[columnIndex];\r\n                        headerText = kendoTextElement(column.text);\r\n                        headers.push(kendoDomElement('th', {\r\n                            colspan: column.span,\r\n                            className: styles.header + (column.isNonWorking ? ' ' + styles.nonWorking : '')\r\n                        }, [headerText]));\r\n                    }\r\n                    rows.push(kendoDomElement('tr', null, headers));\r\n                }\r\n                return rows;\r\n            },\r\n            _hours: function (start, end) {\r\n                var slotEnd;\r\n                var slots = [];\r\n                var options = this.options;\r\n                var workDayStart = options.workDayStart.getHours();\r\n                var workDayEnd = options.workDayEnd.getHours();\r\n                var isWorkHour;\r\n                var hours;\r\n                var hourSpan = options.hourSpan;\r\n                start = new Date(start);\r\n                end = new Date(end);\r\n                while (start < end) {\r\n                    slotEnd = new Date(start);\r\n                    hours = slotEnd.getHours();\r\n                    isWorkHour = hours >= workDayStart && hours < workDayEnd;\r\n                    slotEnd.setHours(slotEnd.getHours() + hourSpan);\r\n                    if (hours == slotEnd.getHours()) {\r\n                        slotEnd.setHours(slotEnd.getHours() + 2 * hourSpan);\r\n                    }\r\n                    if (!options.showWorkHours || isWorkHour) {\r\n                        slots.push({\r\n                            start: start,\r\n                            end: slotEnd,\r\n                            isNonWorking: !isWorkHour,\r\n                            span: 1\r\n                        });\r\n                    }\r\n                    start = slotEnd;\r\n                }\r\n                return slots;\r\n            },\r\n            _days: function (start, end) {\r\n                var slotEnd;\r\n                var slots = [];\r\n                var isWorkDay;\r\n                start = new Date(start);\r\n                end = new Date(end);\r\n                while (start < end) {\r\n                    slotEnd = kendo.date.nextDay(start);\r\n                    isWorkDay = this._isWorkDay(start);\r\n                    if (!this.options.showWorkDays || isWorkDay) {\r\n                        slots.push({\r\n                            start: start,\r\n                            end: slotEnd,\r\n                            isNonWorking: !isWorkDay,\r\n                            span: 1\r\n                        });\r\n                    }\r\n                    start = slotEnd;\r\n                }\r\n                return slots;\r\n            },\r\n            _weeks: function (start, end) {\r\n                var slotEnd;\r\n                var slots = [];\r\n                var firstDay = this.calendarInfo().firstDay;\r\n                var daySlots;\r\n                var span;\r\n                start = new Date(start);\r\n                end = new Date(end);\r\n                while (start < end) {\r\n                    slotEnd = kendo.date.dayOfWeek(kendo.date.addDays(start, 1), firstDay, 1);\r\n                    if (slotEnd > end) {\r\n                        slotEnd = end;\r\n                    }\r\n                    daySlots = this._days(start, slotEnd);\r\n                    span = daySlots.length;\r\n                    if (span > 0) {\r\n                        slots.push({\r\n                            start: daySlots[0].start,\r\n                            end: daySlots[span - 1].end,\r\n                            span: span\r\n                        });\r\n                    }\r\n                    start = slotEnd;\r\n                }\r\n                return slots;\r\n            },\r\n            _months: function (start, end) {\r\n                var slotEnd;\r\n                var slots = [];\r\n                var daySlots;\r\n                var span;\r\n                start = new Date(start);\r\n                end = new Date(end);\r\n                while (start < end) {\r\n                    slotEnd = new Date(start);\r\n                    slotEnd.setMonth(slotEnd.getMonth() + 1);\r\n                    daySlots = this._days(start, slotEnd);\r\n                    span = daySlots.length;\r\n                    if (span > 0) {\r\n                        slots.push({\r\n                            start: daySlots[0].start,\r\n                            end: daySlots[span - 1].end,\r\n                            span: span\r\n                        });\r\n                    }\r\n                    start = slotEnd;\r\n                }\r\n                return slots;\r\n            },\r\n            _years: function (start, end) {\r\n                var slotEnd;\r\n                var slots = [];\r\n                start = new Date(start);\r\n                end = new Date(end);\r\n                while (start < end) {\r\n                    slotEnd = new Date(start);\r\n                    slotEnd.setFullYear(slotEnd.getFullYear() + 1);\r\n                    slots.push({\r\n                        start: start,\r\n                        end: slotEnd,\r\n                        span: 12\r\n                    });\r\n                    start = slotEnd;\r\n                }\r\n                return slots;\r\n            },\r\n            _slotHeaders: function (slots, template) {\r\n                var columns = [];\r\n                var slot;\r\n                for (var i = 0, l = slots.length; i < l; i++) {\r\n                    slot = slots[i];\r\n                    columns.push({\r\n                        text: template(slot),\r\n                        isNonWorking: !!slot.isNonWorking,\r\n                        span: slot.span\r\n                    });\r\n                }\r\n                return columns;\r\n            },\r\n            _isWorkDay: function (date) {\r\n                var day = date.getDay();\r\n                var workDays = this._workDays;\r\n                for (var i = 0, l = workDays.length; i < l; i++) {\r\n                    if (workDays[i] === day) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            calendarInfo: function () {\r\n                return kendo.getCulture().calendars.standard;\r\n            },\r\n            _renderCurrentTime: function () {\r\n                var currentTime = this._getCurrentTime();\r\n                var timeOffset = this._offset(currentTime);\r\n                var element = $('<div class=\\'k-current-time\\'></div>');\r\n                var viewStyles = GanttView.styles;\r\n                var tablesWrap = $(DOT + viewStyles.tasksWrapper);\r\n                var tasksTable = $(DOT + viewStyles.tasksTable);\r\n                var slot;\r\n                if (!this.content || !this._timeSlots().length) {\r\n                    return;\r\n                }\r\n                this.content.find('.k-current-time').remove();\r\n                slot = this._timeSlots()[this._slotIndex('start', currentTime)];\r\n                if (currentTime < slot.start || currentTime > slot.end) {\r\n                    return;\r\n                }\r\n                if (tablesWrap.length && tasksTable.length) {\r\n                    timeOffset += tasksTable.offset().left - tablesWrap.offset().left;\r\n                }\r\n                element.css({\r\n                    left: timeOffset + 'px',\r\n                    top: '0px',\r\n                    width: '1px',\r\n                    height: this._contentHeight + 'px'\r\n                }).appendTo(this.content);\r\n            },\r\n            _getCurrentTime: function () {\r\n                return new Date();\r\n            },\r\n            _currentTime: function () {\r\n                var markerOptions = this.options.currentTimeMarker;\r\n                if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\r\n                    this._renderCurrentTime();\r\n                    this._currentTimeUpdateTimer = setInterval(proxy(this._renderCurrentTime, this), markerOptions.updateInterval);\r\n                }\r\n            }\r\n        });\r\n        extend(true, GanttView, { styles: viewStyles });\r\n        kendo.ui.GanttDayView = GanttView.extend({\r\n            name: 'day',\r\n            options: {\r\n                timeHeaderTemplate: TIME_HEADER_TEMPLATE,\r\n                dayHeaderTemplate: DAY_HEADER_TEMPLATE,\r\n                resizeTooltipFormat: 'h:mm tt ddd, MMM d'\r\n            },\r\n            range: function (range) {\r\n                this.start = kendo.date.getDate(range.start);\r\n                this.end = kendo.date.getDate(range.end);\r\n                if (kendo.date.getMilliseconds(range.end) > 0 || this.end.getTime() === this.start.getTime()) {\r\n                    this.end = kendo.date.addDays(this.end, 1);\r\n                }\r\n            },\r\n            _createSlots: function () {\r\n                var daySlots;\r\n                var daySlot;\r\n                var hourSlots;\r\n                var hours;\r\n                var slots = [];\r\n                daySlots = this._days(this.start, this.end);\r\n                hourSlots = [];\r\n                for (var i = 0, l = daySlots.length; i < l; i++) {\r\n                    daySlot = daySlots[i];\r\n                    hours = this._hours(daySlot.start, daySlot.end);\r\n                    daySlot.span = hours.length;\r\n                    hourSlots.push.apply(hourSlots, hours);\r\n                }\r\n                slots.push(daySlots);\r\n                slots.push(hourSlots);\r\n                return slots;\r\n            },\r\n            _layout: function () {\r\n                var rows = [];\r\n                var options = this.options;\r\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.dayHeaderTemplate)));\r\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.timeHeaderTemplate)));\r\n                return rows;\r\n            }\r\n        });\r\n        kendo.ui.GanttWeekView = GanttView.extend({\r\n            name: 'week',\r\n            options: {\r\n                dayHeaderTemplate: DAY_HEADER_TEMPLATE,\r\n                weekHeaderTemplate: WEEK_HEADER_TEMPLATE,\r\n                resizeTooltipFormat: 'h:mm tt ddd, MMM d'\r\n            },\r\n            range: function (range) {\r\n                var calendarInfo = this.calendarInfo();\r\n                var firstDay = calendarInfo.firstDay;\r\n                var rangeEnd = range.end;\r\n                if (firstDay === rangeEnd.getDay()) {\r\n                    rangeEnd.setDate(rangeEnd.getDate() + 7);\r\n                }\r\n                this.start = kendo.date.getDate(kendo.date.dayOfWeek(range.start, firstDay, -1));\r\n                this.end = kendo.date.getDate(kendo.date.dayOfWeek(rangeEnd, firstDay, 1));\r\n            },\r\n            _createSlots: function () {\r\n                var slots = [];\r\n                slots.push(this._weeks(this.start, this.end));\r\n                slots.push(this._days(this.start, this.end));\r\n                return slots;\r\n            },\r\n            _layout: function () {\r\n                var rows = [];\r\n                var options = this.options;\r\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.weekHeaderTemplate)));\r\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.dayHeaderTemplate)));\r\n                return rows;\r\n            }\r\n        });\r\n        kendo.ui.GanttMonthView = GanttView.extend({\r\n            name: 'month',\r\n            options: {\r\n                weekHeaderTemplate: WEEK_HEADER_TEMPLATE,\r\n                monthHeaderTemplate: MONTH_HEADER_TEMPLATE,\r\n                resizeTooltipFormat: 'dddd, MMM d, yyyy'\r\n            },\r\n            range: function (range) {\r\n                this.start = kendo.date.firstDayOfMonth(range.start);\r\n                this.end = kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(range.end)), 1);\r\n            },\r\n            _createSlots: function () {\r\n                var slots = [];\r\n                slots.push(this._months(this.start, this.end));\r\n                slots.push(this._weeks(this.start, this.end));\r\n                return slots;\r\n            },\r\n            _layout: function () {\r\n                var rows = [];\r\n                var options = this.options;\r\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.monthHeaderTemplate)));\r\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.weekHeaderTemplate)));\r\n                return rows;\r\n            }\r\n        });\r\n        kendo.ui.GanttYearView = GanttView.extend({\r\n            name: 'year',\r\n            options: {\r\n                yearHeaderTemplate: YEAR_HEADER_TEMPLATE,\r\n                monthHeaderTemplate: MONTH_HEADER_TEMPLATE,\r\n                resizeTooltipFormat: 'dddd, MMM d, yyyy'\r\n            },\r\n            range: function (range) {\r\n                this.start = kendo.date.firstDayOfMonth(new Date(range.start.setMonth(0)));\r\n                this.end = kendo.date.firstDayOfMonth(new Date(range.end.setMonth(12)));\r\n            },\r\n            _createSlots: function () {\r\n                var slots = [];\r\n                var monthSlots = this._months(this.start, this.end);\r\n                $(monthSlots).each(function (index, slot) {\r\n                    slot.span = 1;\r\n                });\r\n                slots.push(this._years(this.start, this.end));\r\n                slots.push(monthSlots);\r\n                return slots;\r\n            },\r\n            _layout: function () {\r\n                var rows = [];\r\n                var options = this.options;\r\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.yearHeaderTemplate)));\r\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.monthHeaderTemplate)));\r\n                return rows;\r\n            }\r\n        });\r\n        var timelineStyles = {\r\n            wrapper: 'k-timeline k-grid k-widget',\r\n            gridHeader: 'k-grid-header',\r\n            gridHeaderWrap: 'k-grid-header-wrap',\r\n            gridContent: 'k-grid-content',\r\n            gridContentWrap: 'k-grid-content',\r\n            tasksWrapper: 'k-gantt-tables',\r\n            dependenciesWrapper: 'k-gantt-dependencies',\r\n            task: 'k-task',\r\n            line: 'k-line',\r\n            taskResizeHandle: 'k-resize-handle',\r\n            taskResizeHandleWest: 'k-resize-w',\r\n            taskDragHandle: 'k-task-draghandle',\r\n            taskComplete: 'k-task-complete',\r\n            taskDelete: 'k-task-delete',\r\n            taskWrapActive: 'k-task-wrap-active',\r\n            taskWrap: 'k-task-wrap',\r\n            taskDot: 'k-task-dot',\r\n            taskDotStart: 'k-task-start',\r\n            taskDotEnd: 'k-task-end',\r\n            hovered: 'k-state-hover',\r\n            selected: 'k-state-selected',\r\n            origin: 'k-origin'\r\n        };\r\n        var GanttTimeline = kendo.ui.GanttTimeline = Widget.extend({\r\n            init: function (element, options) {\r\n                Widget.fn.init.call(this, element, options);\r\n                if (!this.options.views || !this.options.views.length) {\r\n                    this.options.views = [\r\n                        'day',\r\n                        'week',\r\n                        'month'\r\n                    ];\r\n                }\r\n                isRtl = kendo.support.isRtl(element);\r\n                this._wrapper();\r\n                this._domTrees();\r\n                this._views();\r\n                this._selectable();\r\n                this._draggable();\r\n                this._resizable();\r\n                this._percentResizeDraggable();\r\n                this._createDependencyDraggable();\r\n                this._attachEvents();\r\n                this._tooltip();\r\n            },\r\n            options: {\r\n                name: 'GanttTimeline',\r\n                messages: {\r\n                    views: {\r\n                        day: 'Day',\r\n                        week: 'Week',\r\n                        month: 'Month',\r\n                        year: 'Year',\r\n                        start: 'Start',\r\n                        end: 'End'\r\n                    }\r\n                },\r\n                snap: true,\r\n                selectable: true,\r\n                editable: true\r\n            },\r\n            destroy: function () {\r\n                Widget.fn.destroy.call(this);\r\n                clearTimeout(this._tooltipTimeout);\r\n                if (this._currentTimeUpdateTimer) {\r\n                    clearInterval(this._currentTimeUpdateTimer);\r\n                }\r\n                this._unbindView(this._selectedView);\r\n                if (this._moveDraggable) {\r\n                    this._moveDraggable.destroy();\r\n                }\r\n                if (this._resizeDraggable) {\r\n                    this._resizeDraggable.destroy();\r\n                }\r\n                if (this._percentDraggable) {\r\n                    this._percentDraggable.destroy();\r\n                }\r\n                if (this._dependencyDraggable) {\r\n                    this._dependencyDraggable.destroy();\r\n                }\r\n                if (this.touch) {\r\n                    this.touch.destroy();\r\n                }\r\n                this._headerTree = null;\r\n                this._taskTree = null;\r\n                this._dependencyTree = null;\r\n                this.wrapper.off(NS);\r\n                kendo.destroy(this.wrapper);\r\n            },\r\n            _wrapper: function () {\r\n                var styles = GanttTimeline.styles;\r\n                var that = this;\r\n                var options = this.options;\r\n                var calculateSize = function () {\r\n                    var rowHeight = typeof options.rowHeight === STRING ? options.rowHeight : options.rowHeight + 'px';\r\n                    var table = $(kendo.format(SIZE_CALCULATION_TEMPLATE, rowHeight));\r\n                    var calculatedRowHeight;\r\n                    var calculatedCellHeight;\r\n                    var content = that.wrapper.find(DOT + styles.tasksWrapper);\r\n                    content.append(table);\r\n                    calculatedRowHeight = table.find('tr').outerHeight();\r\n                    calculatedCellHeight = table.find('td').height();\r\n                    table.remove();\r\n                    return {\r\n                        'row': calculatedRowHeight,\r\n                        'cell': calculatedCellHeight\r\n                    };\r\n                };\r\n                this.wrapper = this.element.addClass(styles.wrapper).append('<div class=\\'' + styles.gridHeader + '\\'><div class=\\'' + styles.gridHeaderWrap + '\\'></div></div>').append('<div class=\\'' + styles.gridContentWrap + '\\'><div class=\\'' + styles.tasksWrapper + '\\'></div><div class=\\'' + styles.dependenciesWrapper + '\\'></div></div>');\r\n                if (options.rowHeight) {\r\n                    this._calculatedSize = calculateSize();\r\n                }\r\n            },\r\n            _domTrees: function () {\r\n                var styles = GanttTimeline.styles;\r\n                var tree = kendo.dom.Tree;\r\n                var wrapper = this.wrapper;\r\n                this._headerTree = new tree(wrapper.find(DOT + styles.gridHeaderWrap)[0]);\r\n                this._taskTree = new tree(wrapper.find(DOT + styles.tasksWrapper)[0]);\r\n                this._dependencyTree = new tree(wrapper.find(DOT + styles.dependenciesWrapper)[0]);\r\n            },\r\n            _views: function () {\r\n                var views = this.options.views;\r\n                var view;\r\n                var isSettings;\r\n                var name;\r\n                var defaultView;\r\n                var selected;\r\n                this.views = {};\r\n                for (var i = 0, l = views.length; i < l; i++) {\r\n                    view = views[i];\r\n                    isSettings = isPlainObject(view);\r\n                    if (isSettings && view.selectable === false) {\r\n                        continue;\r\n                    }\r\n                    name = isSettings ? typeof view.type !== 'string' ? view.title : view.type : view;\r\n                    defaultView = defaultViews[name];\r\n                    if (defaultView) {\r\n                        if (isSettings) {\r\n                            view.type = defaultView.type;\r\n                        }\r\n                        defaultView.title = this.options.messages.views[name];\r\n                    }\r\n                    view = extend({ title: name }, defaultView, isSettings ? view : {});\r\n                    if (name) {\r\n                        this.views[name] = view;\r\n                        if (!selected || view.selected) {\r\n                            selected = name;\r\n                        }\r\n                    }\r\n                }\r\n                if (selected) {\r\n                    this._selectedViewName = selected;\r\n                }\r\n            },\r\n            view: function (name) {\r\n                if (name) {\r\n                    this._selectView(name);\r\n                    this.trigger('navigate', {\r\n                        view: name,\r\n                        action: 'changeView'\r\n                    });\r\n                }\r\n                return this._selectedView;\r\n            },\r\n            _selectView: function (name) {\r\n                if (name && this.views[name]) {\r\n                    if (this._selectedView) {\r\n                        this._unbindView(this._selectedView);\r\n                    }\r\n                    this._selectedView = this._initializeView(name);\r\n                    this._selectedViewName = name;\r\n                }\r\n            },\r\n            _viewByIndex: function (index) {\r\n                var view;\r\n                var views = this.views;\r\n                for (view in views) {\r\n                    if (!index) {\r\n                        return view;\r\n                    }\r\n                    index--;\r\n                }\r\n            },\r\n            _initializeView: function (name) {\r\n                var view = this.views[name];\r\n                if (view) {\r\n                    var type = view.type;\r\n                    if (typeof type === 'string') {\r\n                        type = kendo.getter(view.type)(window);\r\n                    }\r\n                    if (type) {\r\n                        view = new type(this.wrapper, trimOptions(extend(true, {\r\n                            headerTree: this._headerTree,\r\n                            taskTree: this._taskTree,\r\n                            dependencyTree: this._dependencyTree,\r\n                            calculatedSize: this._calculatedSize\r\n                        }, view, this.options)));\r\n                    } else {\r\n                        throw new Error('There is no such view');\r\n                    }\r\n                }\r\n                return view;\r\n            },\r\n            _unbindView: function (view) {\r\n                if (view) {\r\n                    view.destroy();\r\n                }\r\n            },\r\n            _range: function (tasks) {\r\n                var startOrder = {\r\n                    field: 'start',\r\n                    dir: 'asc'\r\n                };\r\n                var endOrder = {\r\n                    field: 'end',\r\n                    dir: 'desc'\r\n                };\r\n                if (!tasks || !tasks.length) {\r\n                    return {\r\n                        start: new Date(),\r\n                        end: new Date()\r\n                    };\r\n                }\r\n                var start = new Query(tasks).sort(startOrder).toArray()[0].start || new Date();\r\n                var end = new Query(tasks).sort(endOrder).toArray()[0].end || new Date();\r\n                return {\r\n                    start: new Date(start),\r\n                    end: new Date(end)\r\n                };\r\n            },\r\n            _render: function (tasks) {\r\n                var view = this.view();\r\n                var range = this._range(tasks);\r\n                this._tasks = tasks;\r\n                view.range(range);\r\n                view.renderLayout();\r\n                view.render(tasks);\r\n            },\r\n            _renderDependencies: function (dependencies) {\r\n                this.view()._renderDependencies(dependencies);\r\n            },\r\n            _taskByUid: function (uid) {\r\n                var tasks = this._tasks;\r\n                var length = tasks.length;\r\n                var task;\r\n                for (var i = 0; i < length; i++) {\r\n                    task = tasks[i];\r\n                    if (task.uid === uid) {\r\n                        return task;\r\n                    }\r\n                }\r\n            },\r\n            _draggable: function () {\r\n                var that = this;\r\n                var element;\r\n                var task;\r\n                var currentStart;\r\n                var startOffset;\r\n                var snap = this.options.snap;\r\n                var styles = GanttTimeline.styles;\r\n                var cleanUp = function () {\r\n                    that.view()._removeDragHint();\r\n                    if (element) {\r\n                        element.css('opacity', 1);\r\n                    }\r\n                    element = null;\r\n                    task = null;\r\n                    that.dragInProgress = false;\r\n                };\r\n                if (!this.options.editable) {\r\n                    return;\r\n                }\r\n                this._moveDraggable = new kendo.ui.Draggable(this.wrapper, {\r\n                    distance: 0,\r\n                    filter: DOT + styles.task,\r\n                    holdToDrag: kendo.support.mobileOS,\r\n                    ignore: DOT + styles.taskResizeHandle\r\n                });\r\n                this._moveDraggable.bind('dragstart', function (e) {\r\n                    var view = that.view();\r\n                    element = e.currentTarget.parent();\r\n                    task = that._taskByUid(e.currentTarget.attr('data-uid'));\r\n                    if (that.trigger('moveStart', { task: task })) {\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                    currentStart = task.start;\r\n                    startOffset = view._timeByPosition(e.x.location, snap) - currentStart;\r\n                    view._createDragHint(element);\r\n                    element.css('opacity', 0.5);\r\n                    clearTimeout(that._tooltipTimeout);\r\n                    that.dragInProgress = true;\r\n                }).bind('drag', kendo.throttle(function (e) {\r\n                    if (!that.dragInProgress) {\r\n                        return;\r\n                    }\r\n                    var view = that.view();\r\n                    var date = new Date(view._timeByPosition(e.x.location, snap) - startOffset);\r\n                    var updateHintDate = date;\r\n                    if (!that.trigger('move', {\r\n                            task: task,\r\n                            start: date\r\n                        })) {\r\n                        currentStart = date;\r\n                        if (isRtl) {\r\n                            updateHintDate = new Date(currentStart.getTime() + task.duration());\r\n                        }\r\n                        view._updateDragHint(updateHintDate);\r\n                    }\r\n                }, 15)).bind('dragend', function () {\r\n                    that.trigger('moveEnd', {\r\n                        task: task,\r\n                        start: currentStart\r\n                    });\r\n                    cleanUp();\r\n                }).bind('dragcancel', function () {\r\n                    cleanUp();\r\n                }).userEvents.bind('select', function () {\r\n                    blurActiveElement();\r\n                });\r\n            },\r\n            _resizable: function () {\r\n                var that = this;\r\n                var element;\r\n                var task;\r\n                var currentStart;\r\n                var currentEnd;\r\n                var resizeStart;\r\n                var snap = this.options.snap;\r\n                var styles = GanttTimeline.styles;\r\n                var cleanUp = function () {\r\n                    that.view()._removeResizeHint();\r\n                    element = null;\r\n                    task = null;\r\n                    that.dragInProgress = false;\r\n                };\r\n                if (!this.options.editable) {\r\n                    return;\r\n                }\r\n                this._resizeDraggable = new kendo.ui.Draggable(this.wrapper, {\r\n                    distance: 0,\r\n                    filter: DOT + styles.taskResizeHandle,\r\n                    holdToDrag: false\r\n                });\r\n                this._resizeDraggable.bind('dragstart', function (e) {\r\n                    resizeStart = e.currentTarget.hasClass(styles.taskResizeHandleWest);\r\n                    if (isRtl) {\r\n                        resizeStart = !resizeStart;\r\n                    }\r\n                    element = e.currentTarget.closest(DOT + styles.task);\r\n                    task = that._taskByUid(element.attr('data-uid'));\r\n                    if (that.trigger('resizeStart', { task: task })) {\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                    currentStart = task.start;\r\n                    currentEnd = task.end;\r\n                    that.view()._createResizeHint(task);\r\n                    clearTimeout(that._tooltipTimeout);\r\n                    that.dragInProgress = true;\r\n                }).bind('drag', kendo.throttle(function (e) {\r\n                    if (!that.dragInProgress) {\r\n                        return;\r\n                    }\r\n                    var view = that.view();\r\n                    var date = view._timeByPosition(e.x.location, snap, !resizeStart);\r\n                    if (resizeStart) {\r\n                        if (date < currentEnd) {\r\n                            currentStart = date;\r\n                        } else {\r\n                            currentStart = currentEnd;\r\n                        }\r\n                    } else {\r\n                        if (date > currentStart) {\r\n                            currentEnd = date;\r\n                        } else {\r\n                            currentEnd = currentStart;\r\n                        }\r\n                    }\r\n                    if (!that.trigger('resize', {\r\n                            task: task,\r\n                            start: currentStart,\r\n                            end: currentEnd\r\n                        })) {\r\n                        view._updateResizeHint(currentStart, currentEnd, resizeStart);\r\n                    }\r\n                }, 15)).bind('dragend', function () {\r\n                    that.trigger('resizeEnd', {\r\n                        task: task,\r\n                        resizeStart: resizeStart,\r\n                        start: currentStart,\r\n                        end: currentEnd\r\n                    });\r\n                    cleanUp();\r\n                }).bind('dragcancel', function () {\r\n                    cleanUp();\r\n                }).userEvents.bind('select', function () {\r\n                    blurActiveElement();\r\n                });\r\n            },\r\n            _percentResizeDraggable: function () {\r\n                var that = this;\r\n                var task;\r\n                var taskElement;\r\n                var taskElementOffset;\r\n                var timelineOffset;\r\n                var originalPercentWidth;\r\n                var maxPercentWidth;\r\n                var currentPercentComplete;\r\n                var tooltipTop;\r\n                var tooltipLeft;\r\n                var styles = GanttTimeline.styles;\r\n                var delta;\r\n                var cleanUp = function () {\r\n                    that.view()._removePercentCompleteTooltip();\r\n                    taskElement = null;\r\n                    task = null;\r\n                    that.dragInProgress = false;\r\n                };\r\n                var updateElement = function (width) {\r\n                    taskElement.find(DOT + styles.taskComplete).width(width).end().siblings(DOT + styles.taskDragHandle).css(isRtl ? 'right' : 'left', width);\r\n                };\r\n                if (!this.options.editable) {\r\n                    return;\r\n                }\r\n                this._percentDraggable = new kendo.ui.Draggable(this.wrapper, {\r\n                    distance: 0,\r\n                    filter: DOT + styles.taskDragHandle,\r\n                    holdToDrag: false\r\n                });\r\n                this._percentDraggable.bind('dragstart', function (e) {\r\n                    if (that.trigger('percentResizeStart')) {\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                    taskElement = e.currentTarget.siblings(DOT + styles.task);\r\n                    task = that._taskByUid(taskElement.attr('data-uid'));\r\n                    currentPercentComplete = task.percentComplete;\r\n                    taskElementOffset = taskElement.offset();\r\n                    timelineOffset = this.element.offset();\r\n                    originalPercentWidth = taskElement.find(DOT + styles.taskComplete).width();\r\n                    maxPercentWidth = taskElement.outerWidth();\r\n                    clearTimeout(that._tooltipTimeout);\r\n                    that.dragInProgress = true;\r\n                }).bind('drag', kendo.throttle(function (e) {\r\n                    if (!that.dragInProgress) {\r\n                        return;\r\n                    }\r\n                    delta = isRtl ? -e.x.initialDelta : e.x.initialDelta;\r\n                    var currentWidth = Math.max(0, Math.min(maxPercentWidth, originalPercentWidth + delta));\r\n                    currentPercentComplete = Math.round(currentWidth / maxPercentWidth * 100);\r\n                    updateElement(currentWidth);\r\n                    tooltipTop = taskElementOffset.top - timelineOffset.top;\r\n                    tooltipLeft = taskElementOffset.left + currentWidth - timelineOffset.left;\r\n                    if (isRtl) {\r\n                        tooltipLeft += maxPercentWidth - 2 * currentWidth;\r\n                    }\r\n                    that.view()._updatePercentCompleteTooltip(tooltipTop, tooltipLeft, currentPercentComplete);\r\n                }, 15)).bind('dragend', function () {\r\n                    that.trigger('percentResizeEnd', {\r\n                        task: task,\r\n                        percentComplete: currentPercentComplete / 100\r\n                    });\r\n                    cleanUp();\r\n                }).bind('dragcancel', function () {\r\n                    updateElement(originalPercentWidth);\r\n                    cleanUp();\r\n                }).userEvents.bind('select', function () {\r\n                    blurActiveElement();\r\n                });\r\n            },\r\n            _createDependencyDraggable: function () {\r\n                var that = this;\r\n                var originalHandle;\r\n                var hoveredHandle = $();\r\n                var hoveredTask = $();\r\n                var startX;\r\n                var startY;\r\n                var useVML = browser.msie && browser.version < 9;\r\n                var styles = GanttTimeline.styles;\r\n                var cleanUp = function () {\r\n                    originalHandle.css('display', '').removeClass(styles.hovered);\r\n                    originalHandle.parent().removeClass(styles.origin);\r\n                    originalHandle = null;\r\n                    toggleHandles(false);\r\n                    hoveredTask = $();\r\n                    hoveredHandle = $();\r\n                    that.view()._removeDependencyDragHint();\r\n                    that.dragInProgress = false;\r\n                };\r\n                var toggleHandles = function (value) {\r\n                    if (!hoveredTask.hasClass(styles.origin)) {\r\n                        hoveredTask.find(DOT + styles.taskDot).css('display', value ? 'block' : '');\r\n                        hoveredHandle.toggleClass(styles.hovered, value);\r\n                    }\r\n                };\r\n                if (!this.options.editable) {\r\n                    return;\r\n                }\r\n                if (useVML && document.namespaces) {\r\n                    document.namespaces.add('kvml', 'urn:schemas-microsoft-com:vml', '#default#VML');\r\n                }\r\n                this._dependencyDraggable = new kendo.ui.Draggable(this.wrapper, {\r\n                    distance: 0,\r\n                    filter: DOT + styles.taskDot,\r\n                    holdToDrag: false\r\n                });\r\n                this._dependencyDraggable.bind('dragstart', function (e) {\r\n                    if (that.trigger('dependencyDragStart')) {\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                    originalHandle = e.currentTarget.css('display', 'block').addClass(styles.hovered);\r\n                    originalHandle.parent().addClass(styles.origin);\r\n                    var elementOffset = originalHandle.offset();\r\n                    var tablesOffset = that.wrapper.find(DOT + styles.tasksWrapper).offset();\r\n                    startX = Math.round(elementOffset.left - tablesOffset.left + originalHandle.outerHeight() / 2);\r\n                    startY = Math.round(elementOffset.top - tablesOffset.top + originalHandle.outerWidth() / 2);\r\n                    clearTimeout(that._tooltipTimeout);\r\n                    that.dragInProgress = true;\r\n                }).bind('drag', kendo.throttle(function (e) {\r\n                    if (!that.dragInProgress) {\r\n                        return;\r\n                    }\r\n                    that.view()._removeDependencyDragHint();\r\n                    var target = $(kendo.elementUnderCursor(e));\r\n                    var tablesOffset = that.wrapper.find(DOT + styles.tasksWrapper).offset();\r\n                    var currentX = e.x.location - tablesOffset.left;\r\n                    var currentY = e.y.location - tablesOffset.top;\r\n                    that.view()._updateDependencyDragHint({\r\n                        x: startX,\r\n                        y: startY\r\n                    }, {\r\n                        x: currentX,\r\n                        y: currentY\r\n                    }, useVML);\r\n                    toggleHandles(false);\r\n                    hoveredHandle = target.hasClass(styles.taskDot) ? target : $();\r\n                    hoveredTask = target.closest(DOT + styles.taskWrap);\r\n                    toggleHandles(true);\r\n                }, 15)).bind('dragend', function () {\r\n                    if (hoveredHandle.length) {\r\n                        var fromStart = originalHandle.hasClass(styles.taskDotStart);\r\n                        var toStart = hoveredHandle.hasClass(styles.taskDotStart);\r\n                        var type = fromStart ? toStart ? 3 : 2 : toStart ? 1 : 0;\r\n                        var predecessor = that._taskByUid(originalHandle.siblings(DOT + styles.task).attr('data-uid'));\r\n                        var successor = that._taskByUid(hoveredHandle.siblings(DOT + styles.task).attr('data-uid'));\r\n                        if (predecessor !== successor) {\r\n                            that.trigger('dependencyDragEnd', {\r\n                                type: type,\r\n                                predecessor: predecessor,\r\n                                successor: successor\r\n                            });\r\n                        }\r\n                    }\r\n                    cleanUp();\r\n                }).bind('dragcancel', function () {\r\n                    cleanUp();\r\n                }).userEvents.bind('select', function () {\r\n                    blurActiveElement();\r\n                });\r\n            },\r\n            _selectable: function () {\r\n                var that = this;\r\n                var styles = GanttTimeline.styles;\r\n                if (this.options.selectable) {\r\n                    this.wrapper.on(CLICK + NS, DOT + styles.task, function (e) {\r\n                        e.stopPropagation();\r\n                        if (!e.ctrlKey) {\r\n                            that.trigger('select', { uid: $(this).attr('data-uid') });\r\n                        } else {\r\n                            that.trigger('clear');\r\n                        }\r\n                    }).on(CLICK + NS, DOT + styles.taskWrap, function (e) {\r\n                        e.stopPropagation();\r\n                        $(this).css('z-index', '0');\r\n                        var target = $(document.elementFromPoint(e.clientX, e.clientY));\r\n                        if (target.hasClass(styles.line)) {\r\n                            target.click();\r\n                        }\r\n                        $(this).css('z-index', '');\r\n                    }).on(CLICK + NS, DOT + styles.tasksWrapper, function () {\r\n                        if (that.selectDependency().length > 0) {\r\n                            that.clearSelection();\r\n                        } else {\r\n                            that.trigger('clear');\r\n                        }\r\n                    }).on(CLICK + NS, DOT + styles.line, function (e) {\r\n                        e.stopPropagation();\r\n                        that.selectDependency(this);\r\n                    });\r\n                }\r\n            },\r\n            select: function (value) {\r\n                var element = this.wrapper.find(value);\r\n                var styles = GanttTimeline.styles;\r\n                if (element.length) {\r\n                    this.clearSelection();\r\n                    element.addClass(styles.selected);\r\n                    if (kendo.support.mobileOS) {\r\n                        element.parent().addClass(styles.taskWrapActive);\r\n                    }\r\n                    return;\r\n                }\r\n                return this.wrapper.find(DOT + styles.task + DOT + styles.selected);\r\n            },\r\n            selectDependency: function (value) {\r\n                var element = this.wrapper.find(value);\r\n                var uid;\r\n                var styles = GanttTimeline.styles;\r\n                if (element.length) {\r\n                    this.clearSelection();\r\n                    this.trigger('clear');\r\n                    uid = $(element).attr('data-uid');\r\n                    this.wrapper.find(DOT + styles.line + '[data-uid=\\'' + uid + '\\']').addClass(styles.selected);\r\n                    return;\r\n                }\r\n                return this.wrapper.find(DOT + styles.line + DOT + styles.selected);\r\n            },\r\n            clearSelection: function () {\r\n                var styles = GanttTimeline.styles;\r\n                this.wrapper.find(DOT + styles.selected).removeClass(styles.selected);\r\n                if (kendo.support.mobileOS) {\r\n                    this.wrapper.find(DOT + styles.taskWrapActive).removeClass(styles.taskWrapActive);\r\n                }\r\n            },\r\n            _attachEvents: function () {\r\n                var that = this;\r\n                var styles = GanttTimeline.styles;\r\n                if (this.options.editable) {\r\n                    this._tabindex();\r\n                    this.wrapper.on(CLICK + NS, DOT + styles.taskDelete, function (e) {\r\n                        that.trigger('removeTask', { uid: $(this).closest(DOT + styles.task).attr('data-uid') });\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }).on(KEYDOWN + NS, function (e) {\r\n                        var selectedDependency;\r\n                        if (e.keyCode === keys.DELETE) {\r\n                            selectedDependency = that.selectDependency();\r\n                            if (selectedDependency.length) {\r\n                                that.trigger('removeDependency', { uid: selectedDependency.attr('data-uid') });\r\n                                that.clearSelection();\r\n                            }\r\n                        }\r\n                    });\r\n                    if (!kendo.support.mobileOS) {\r\n                        this.wrapper.on(DBLCLICK + NS, DOT + styles.task, function (e) {\r\n                            that.trigger('editTask', { uid: $(this).attr('data-uid') });\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                        });\r\n                    } else {\r\n                        this.touch = this.wrapper.kendoTouch({\r\n                            filter: DOT + styles.task,\r\n                            doubletap: function (e) {\r\n                                that.trigger('editTask', { uid: $(e.touch.currentTarget).attr('data-uid') });\r\n                            }\r\n                        }).data('kendoTouch');\r\n                    }\r\n                }\r\n            },\r\n            _tooltip: function () {\r\n                var that = this;\r\n                var tooltipOptions = this.options.tooltip;\r\n                var styles = GanttTimeline.styles;\r\n                var currentMousePosition;\r\n                var mouseMoveHandler = function (e) {\r\n                    currentMousePosition = e.clientX;\r\n                };\r\n                if (tooltipOptions && tooltipOptions.visible === false) {\r\n                    return;\r\n                }\r\n                if (!kendo.support.mobileOS) {\r\n                    this.wrapper.on(MOUSEENTER + NS, DOT + styles.task, function () {\r\n                        var element = this;\r\n                        var task = that._taskByUid($(this).attr('data-uid'));\r\n                        if (that.dragInProgress) {\r\n                            return;\r\n                        }\r\n                        that._tooltipTimeout = setTimeout(function () {\r\n                            that.view()._createTaskTooltip(task, element, currentMousePosition);\r\n                        }, 800);\r\n                        $(this).on(MOUSEMOVE, mouseMoveHandler);\r\n                    }).on(MOUSELEAVE + NS, DOT + styles.task, function () {\r\n                        clearTimeout(that._tooltipTimeout);\r\n                        that.view()._removeTaskTooltip();\r\n                        $(this).off(MOUSEMOVE, mouseMoveHandler);\r\n                    });\r\n                } else {\r\n                    this.wrapper.on(CLICK + NS, DOT + styles.taskDelete, function (e) {\r\n                        e.stopPropagation();\r\n                        that.view()._removeTaskTooltip();\r\n                    }).on(MOUSELEAVE + NS, DOT + styles.task, function (e) {\r\n                        var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\r\n                        if (parents.length === 0) {\r\n                            that.view()._removeTaskTooltip();\r\n                        }\r\n                    });\r\n                    if (this.touch) {\r\n                        this.touch.bind('tap', function (e) {\r\n                            var element = e.touch.target;\r\n                            var task = that._taskByUid($(element).attr('data-uid'));\r\n                            var currentPosition = e.touch.x.client;\r\n                            if (that.view()._taskTooltip) {\r\n                                that.view()._removeTaskTooltip();\r\n                            }\r\n                            that.view()._createTaskTooltip(task, element, currentPosition);\r\n                        }).bind('doubletap', function () {\r\n                            that.view()._removeTaskTooltip();\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        extend(true, GanttTimeline, { styles: timelineStyles });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.gantt', [\r\n        'kendo.data',\r\n        'kendo.popup',\r\n        'kendo.window',\r\n        'kendo.resizable',\r\n        'kendo.gantt.list',\r\n        'kendo.gantt.timeline',\r\n        'kendo.grid',\r\n        'kendo.pdf'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'gantt',\r\n        name: 'Gantt',\r\n        category: 'web',\r\n        description: 'The Gantt component.',\r\n        depends: [\r\n            'data',\r\n            'popup',\r\n            'resizable',\r\n            'window',\r\n            'gantt.list',\r\n            'gantt.timeline',\r\n            'grid'\r\n        ]\r\n    };\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo;\r\n        var supportsMedia = 'matchMedia' in window;\r\n        var browser = kendo.support.browser;\r\n        var mobileOS = kendo.support.mobileOS;\r\n        var Observable = kendo.Observable;\r\n        var Widget = kendo.ui.Widget;\r\n        var DataSource = kendo.data.DataSource;\r\n        var ObservableObject = kendo.data.ObservableObject;\r\n        var ObservableArray = kendo.data.ObservableArray;\r\n        var Query = kendo.data.Query;\r\n        var isArray = $.isArray;\r\n        var inArray = $.inArray;\r\n        var isFunction = kendo.isFunction;\r\n        var proxy = $.proxy;\r\n        var extend = $.extend;\r\n        var isPlainObject = $.isPlainObject;\r\n        var map = $.map;\r\n        var keys = kendo.keys;\r\n        var defaultIndicatorWidth = 3;\r\n        var NS = '.kendoGantt';\r\n        var PERCENTAGE_FORMAT = 'p0';\r\n        var TABINDEX = 'tabIndex';\r\n        var CLICK = 'click';\r\n        var WIDTH = 'width';\r\n        var STRING = 'string';\r\n        var DIRECTIONS = {\r\n            'down': {\r\n                origin: 'bottom left',\r\n                position: 'top left'\r\n            },\r\n            'up': {\r\n                origin: 'top left',\r\n                position: 'bottom left'\r\n            }\r\n        };\r\n        var ARIA_DESCENDANT = 'aria-activedescendant';\r\n        var ACTIVE_CELL = 'gantt_active_cell';\r\n        var ACTIVE_OPTION = 'action-option-focused';\r\n        var DOT = '.';\r\n        var TASK_DELETE_CONFIRM = 'Are you sure you want to delete this task?';\r\n        var DEPENDENCY_DELETE_CONFIRM = 'Are you sure you want to delete this dependency?';\r\n        var TOGGLE_BUTTON_TEMPLATE = kendo.template('<button class=\"#=styles.buttonToggle#\"><span class=\"#=styles.iconToggle#\">&nbps;</span></button>');\r\n        var BUTTON_TEMPLATE = '<button class=\"#=styles.button# #=className#\" ' + '#if (action) {#' + 'data-action=\"#=action#\"' + '#}#' + '><span class=\"#=iconClass#\"></span><span>#=text#</span></button>';\r\n        var COMMAND_BUTTON_TEMPLATE = '<a class=\"#=className#\" #=attr# href=\"\\\\#\">#=text#</a>';\r\n        var VIEWBUTTONTEMPLATE = kendo.template('<li class=\"#=styles.currentView# #=styles.viewButtonDefault#\"><a href=\"\\\\#\" class=\"#=styles.link#\">&nbps;</a></li>');\r\n        var HEADER_VIEWS_TEMPLATE = kendo.template('<ul class=\"#=styles.viewsWrapper#\">' + '#for(var view in views){#' + '<li class=\"#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\"><a href=\"\\\\#\" class=\"#=styles.link#\">#=views[view].title#</a></li>' + '#}#' + '</ul>');\r\n        var TASK_DROPDOWN_TEMPLATE = kendo.template('<div class=\"#=styles.popupWrapper#\">' + '<ul class=\"#=styles.popupList#\" role=\"listbox\">' + '#for(var i = 0, l = actions.length; i < l; i++){#' + '<li class=\"#=styles.item#\" data-action=\"#=actions[i].data#\" role=\"option\">#=actions[i].text#</span>' + '#}#' + '</ul>' + '</div>');\r\n        var DATERANGEEDITOR = function (container, options) {\r\n            var attr = { name: options.field };\r\n            var validationRules = options.model.fields[options.field].validation;\r\n            if (validationRules && isPlainObject(validationRules) && validationRules.message) {\r\n                attr[kendo.attr('dateCompare-msg')] = validationRules.message;\r\n            }\r\n            $('<input type=\"text\" required ' + kendo.attr('type') + '=\"date\" ' + kendo.attr('role') + '=\"datetimepicker\" ' + kendo.attr('bind') + '=\"value:' + options.field + '\" ' + kendo.attr('validate') + '=\\'true\\' />').attr(attr).appendTo(container);\r\n            $('<span ' + kendo.attr('for') + '=\"' + options.field + '\" class=\"k-invalid-msg\"/>').hide().appendTo(container);\r\n        };\r\n        var RESOURCESEDITOR = function (container, options) {\r\n            $('<a href=\"#\" class=\"' + options.styles.button + '\">' + options.messages.assignButton + '</a>').click(options.click).appendTo(container);\r\n        };\r\n        var ganttStyles = {\r\n            wrapper: 'k-widget k-gantt',\r\n            rowHeight: 'k-gantt-rowheight',\r\n            listWrapper: 'k-gantt-layout k-gantt-treelist',\r\n            list: 'k-gantt-treelist',\r\n            timelineWrapper: 'k-gantt-layout k-gantt-timeline',\r\n            timeline: 'k-gantt-timeline',\r\n            splitBarWrapper: 'k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout',\r\n            splitBar: 'k-splitbar',\r\n            splitBarHover: 'k-splitbar-horizontal-hover',\r\n            popupWrapper: 'k-list-container',\r\n            popupList: 'k-list k-reset',\r\n            resizeHandle: 'k-resize-handle',\r\n            icon: 'k-icon',\r\n            item: 'k-item',\r\n            line: 'k-line',\r\n            buttonDelete: 'k-gantt-delete',\r\n            buttonCancel: 'k-gantt-cancel',\r\n            buttonSave: 'k-gantt-update',\r\n            buttonToggle: 'k-gantt-toggle',\r\n            primary: 'k-primary',\r\n            hovered: 'k-state-hover',\r\n            selected: 'k-state-selected',\r\n            focused: 'k-state-focused',\r\n            gridHeader: 'k-grid-header',\r\n            gridHeaderWrap: 'k-grid-header-wrap',\r\n            gridContent: 'k-grid-content',\r\n            popup: {\r\n                form: 'k-popup-edit-form',\r\n                editForm: 'k-gantt-edit-form',\r\n                formContainer: 'k-edit-form-container',\r\n                resourcesFormContainer: 'k-resources-form-container',\r\n                message: 'k-popup-message',\r\n                buttonsContainer: 'k-edit-buttons k-state-default',\r\n                button: 'k-button',\r\n                editField: 'k-edit-field',\r\n                editLabel: 'k-edit-label',\r\n                resourcesField: 'k-gantt-resources'\r\n            },\r\n            toolbar: {\r\n                headerWrapper: 'k-floatwrap k-header k-gantt-toolbar',\r\n                footerWrapper: 'k-floatwrap k-header k-gantt-toolbar',\r\n                toolbar: 'k-gantt-toolbar',\r\n                expanded: 'k-state-expanded',\r\n                views: 'k-gantt-views',\r\n                viewsWrapper: 'k-reset k-header k-gantt-views',\r\n                actions: 'k-gantt-actions',\r\n                button: 'k-button k-button-icontext',\r\n                buttonToggle: 'k-button k-button-icon k-gantt-toggle',\r\n                iconPlus: 'k-icon k-i-plus',\r\n                iconPdf: 'k-icon k-i-pdf',\r\n                iconToggle: 'k-icon k-i-gantt-toggle',\r\n                viewButtonDefault: 'k-state-default',\r\n                viewButton: 'k-view',\r\n                currentView: 'k-current-view',\r\n                link: 'k-link',\r\n                pdfButton: 'k-gantt-pdf',\r\n                appendButton: 'k-gantt-create'\r\n            }\r\n        };\r\n        function selector(uid) {\r\n            return '[' + kendo.attr('uid') + (uid ? '=\\'' + uid + '\\']' : ']');\r\n        }\r\n        function trimOptions(options) {\r\n            delete options.name;\r\n            delete options.prefix;\r\n            delete options.remove;\r\n            delete options.edit;\r\n            delete options.add;\r\n            delete options.navigate;\r\n            return options;\r\n        }\r\n        function dateCompareValidator(input) {\r\n            if (input.filter('[name=end], [name=start]').length) {\r\n                var field = input.attr('name');\r\n                var picker = kendo.widgetInstance(input, kendo.ui);\r\n                var dates = {};\r\n                var container = input;\r\n                var editable;\r\n                var model;\r\n                while (container !== window && !editable) {\r\n                    container = container.parent();\r\n                    editable = container.data('kendoEditable');\r\n                }\r\n                model = editable ? editable.options.model : null;\r\n                if (!model) {\r\n                    return true;\r\n                }\r\n                dates.start = model.start;\r\n                dates.end = model.end;\r\n                dates[field] = picker ? picker.value() : kendo.parseDate(input.value());\r\n                return dates.start <= dates.end;\r\n            }\r\n            return true;\r\n        }\r\n        function focusTable(table, direct) {\r\n            var wrapper = table.parents('[' + kendo.attr('role') + '=\"gantt\"]');\r\n            var scrollPositions = [];\r\n            var parents = scrollableParents(wrapper);\r\n            table.attr(TABINDEX, 0);\r\n            if (direct) {\r\n                parents.each(function (index, parent) {\r\n                    scrollPositions[index] = $(parent).scrollTop();\r\n                });\r\n            }\r\n            try {\r\n                table[0].setActive();\r\n            } catch (e) {\r\n                table[0].focus();\r\n            }\r\n            if (direct) {\r\n                parents.each(function (index, parent) {\r\n                    $(parent).scrollTop(scrollPositions[index]);\r\n                });\r\n            }\r\n        }\r\n        function scrollableParents(element) {\r\n            return $(element).parentsUntil('body').filter(function (index, element) {\r\n                var computedStyle = kendo.getComputedStyles(element, ['overflow']);\r\n                return computedStyle.overflow != 'visible';\r\n            }).add(window);\r\n        }\r\n        var defaultCommands;\r\n        var TaskDropDown = Observable.extend({\r\n            init: function (element, options) {\r\n                Observable.fn.init.call(this);\r\n                this.element = element;\r\n                this.options = extend(true, {}, this.options, options);\r\n                this._popup();\r\n            },\r\n            options: {\r\n                direction: 'down',\r\n                navigatable: false\r\n            },\r\n            _current: function (method) {\r\n                var ganttStyles = Gantt.styles;\r\n                var current = this.list.find(DOT + ganttStyles.focused);\r\n                var sibling = current[method]();\r\n                if (sibling.length) {\r\n                    current.removeClass(ganttStyles.focused).removeAttr('id');\r\n                    sibling.addClass(ganttStyles.focused).attr('id', ACTIVE_OPTION);\r\n                    this.list.find('ul').removeAttr(ARIA_DESCENDANT).attr(ARIA_DESCENDANT, ACTIVE_OPTION);\r\n                }\r\n            },\r\n            _popup: function () {\r\n                var that = this;\r\n                var ganttStyles = Gantt.styles;\r\n                var itemSelector = 'li' + DOT + ganttStyles.item;\r\n                var appendButtonSelector = DOT + ganttStyles.toolbar.appendButton;\r\n                var actions = this.options.messages.actions;\r\n                var navigatable = this.options.navigatable;\r\n                this.list = $(TASK_DROPDOWN_TEMPLATE({\r\n                    styles: ganttStyles,\r\n                    actions: [\r\n                        {\r\n                            data: 'add',\r\n                            text: actions.addChild\r\n                        },\r\n                        {\r\n                            data: 'insert-before',\r\n                            text: actions.insertBefore\r\n                        },\r\n                        {\r\n                            data: 'insert-after',\r\n                            text: actions.insertAfter\r\n                        }\r\n                    ]\r\n                }));\r\n                this.element.append(this.list);\r\n                this.popup = new kendo.ui.Popup(this.list, extend({\r\n                    anchor: this.element.find(appendButtonSelector),\r\n                    open: function () {\r\n                        that._adjustListWidth();\r\n                    },\r\n                    animation: this.options.animation\r\n                }, DIRECTIONS[this.options.direction]));\r\n                this.element.on(CLICK + NS, appendButtonSelector, function (e) {\r\n                    var target = $(this);\r\n                    var action = target.attr(kendo.attr('action'));\r\n                    e.preventDefault();\r\n                    if (action) {\r\n                        that.trigger('command', { type: action });\r\n                    } else {\r\n                        that.popup.open();\r\n                        if (navigatable) {\r\n                            that.list.find('li:first').addClass(ganttStyles.focused).attr('id', ACTIVE_OPTION).end().find('ul').attr({\r\n                                TABINDEX: 0,\r\n                                'aria-activedescendant': ACTIVE_OPTION\r\n                            }).focus();\r\n                        }\r\n                    }\r\n                });\r\n                this.list.find(itemSelector).hover(function () {\r\n                    $(this).addClass(ganttStyles.hovered);\r\n                }, function () {\r\n                    $(this).removeClass(ganttStyles.hovered);\r\n                }).end().on(CLICK + NS, itemSelector, function () {\r\n                    that.trigger('command', { type: $(this).attr(kendo.attr('action')) });\r\n                    that.popup.close();\r\n                });\r\n                if (navigatable) {\r\n                    this.popup.bind('close', function () {\r\n                        that.list.find(itemSelector).removeClass(ganttStyles.focused).end().find('ul').attr(TABINDEX, 0);\r\n                        that.element.parents('[' + kendo.attr('role') + '=\"gantt\"]').find(DOT + ganttStyles.gridContent + ' > table:first').focus();\r\n                    });\r\n                    this.list.find('ul').on('keydown' + NS, function (e) {\r\n                        var key = e.keyCode;\r\n                        switch (key) {\r\n                        case keys.UP:\r\n                            e.preventDefault();\r\n                            that._current('prev');\r\n                            break;\r\n                        case keys.DOWN:\r\n                            e.preventDefault();\r\n                            that._current('next');\r\n                            break;\r\n                        case keys.ENTER:\r\n                            that.list.find(DOT + ganttStyles.focused).click();\r\n                            break;\r\n                        case keys.ESC:\r\n                            e.preventDefault();\r\n                            that.popup.close();\r\n                            break;\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            _adjustListWidth: function () {\r\n                var list = this.list;\r\n                var ganttStyles = Gantt.styles;\r\n                var width = list[0].style.width;\r\n                var wrapper = this.element.find(DOT + ganttStyles.toolbar.appendButton);\r\n                var outerWidth = list.outerWidth();\r\n                var computedStyle;\r\n                var computedWidth;\r\n                if (!list.data(WIDTH) && width) {\r\n                    return;\r\n                }\r\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\r\n                computedWidth = computedStyle ? parseFloat(computedStyle.width) : wrapper.outerWidth();\r\n                if (computedStyle && (browser.mozilla || browser.msie)) {\r\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\r\n                }\r\n                if (list.css('box-sizing') !== 'border-box') {\r\n                    width = computedWidth - (list.outerWidth() - list.width());\r\n                } else {\r\n                    width = computedWidth;\r\n                }\r\n                if (outerWidth > width) {\r\n                    width = outerWidth;\r\n                }\r\n                list.css({\r\n                    fontFamily: wrapper.css('font-family'),\r\n                    width: width\r\n                }).data(WIDTH, width);\r\n            },\r\n            destroy: function () {\r\n                clearTimeout(this._focusTimeout);\r\n                this.popup.destroy();\r\n                this.element.off(NS);\r\n                this.list.off(NS);\r\n                this.unbind();\r\n            }\r\n        });\r\n        var createDataSource = function (type, name) {\r\n            return function (options) {\r\n                options = isArray(options) ? { data: options } : options;\r\n                var dataSource = options || {};\r\n                var data = dataSource.data;\r\n                dataSource.data = data;\r\n                if (!(dataSource instanceof type) && dataSource instanceof DataSource) {\r\n                    throw new Error('Incorrect DataSource type. Only ' + name + ' instances are supported');\r\n                }\r\n                return dataSource instanceof type ? dataSource : new type(dataSource);\r\n            };\r\n        };\r\n        var GanttDependency = kendo.data.Model.define({\r\n            id: 'id',\r\n            fields: {\r\n                id: { type: 'number' },\r\n                predecessorId: { type: 'number' },\r\n                successorId: { type: 'number' },\r\n                type: { type: 'number' }\r\n            }\r\n        });\r\n        var GanttDependencyDataSource = DataSource.extend({\r\n            init: function (options) {\r\n                DataSource.fn.init.call(this, extend(true, {}, {\r\n                    schema: {\r\n                        modelBase: GanttDependency,\r\n                        model: GanttDependency\r\n                    }\r\n                }, options));\r\n            },\r\n            successors: function (id) {\r\n                return this._dependencies('predecessorId', id);\r\n            },\r\n            predecessors: function (id) {\r\n                return this._dependencies('successorId', id);\r\n            },\r\n            dependencies: function (id) {\r\n                var predecessors = this.predecessors(id);\r\n                var successors = this.successors(id);\r\n                predecessors.push.apply(predecessors, successors);\r\n                return predecessors;\r\n            },\r\n            _dependencies: function (field, id) {\r\n                var data = this.view();\r\n                var filter = {\r\n                    field: field,\r\n                    operator: 'eq',\r\n                    value: id\r\n                };\r\n                data = new Query(data).filter(filter).toArray();\r\n                return data;\r\n            }\r\n        });\r\n        GanttDependencyDataSource.create = createDataSource(GanttDependencyDataSource, 'GanttDependencyDataSource');\r\n        var GanttTask = kendo.data.Model.define({\r\n            duration: function () {\r\n                var end = this.end;\r\n                var start = this.start;\r\n                return end - start;\r\n            },\r\n            isMilestone: function () {\r\n                return this.duration() === 0;\r\n            },\r\n            _offset: function (value) {\r\n                var field = [\r\n                    'start',\r\n                    'end'\r\n                ];\r\n                var newValue;\r\n                for (var i = 0; i < field.length; i++) {\r\n                    newValue = new Date(this.get(field[i]).getTime() + value);\r\n                    this.set(field[i], newValue);\r\n                }\r\n            },\r\n            id: 'id',\r\n            fields: {\r\n                id: { type: 'number' },\r\n                parentId: {\r\n                    type: 'number',\r\n                    defaultValue: null,\r\n                    validation: { required: true }\r\n                },\r\n                orderId: {\r\n                    type: 'number',\r\n                    validation: { required: true }\r\n                },\r\n                title: {\r\n                    type: 'string',\r\n                    defaultValue: 'New task'\r\n                },\r\n                start: {\r\n                    type: 'date',\r\n                    validation: { required: true }\r\n                },\r\n                end: {\r\n                    type: 'date',\r\n                    validation: {\r\n                        required: true,\r\n                        dateCompare: dateCompareValidator,\r\n                        message: 'End date should be after or equal to the start date'\r\n                    }\r\n                },\r\n                percentComplete: {\r\n                    type: 'number',\r\n                    validation: {\r\n                        required: true,\r\n                        min: 0,\r\n                        max: 1,\r\n                        step: 0.01\r\n                    }\r\n                },\r\n                summary: { type: 'boolean' },\r\n                expanded: {\r\n                    type: 'boolean',\r\n                    defaultValue: true\r\n                }\r\n            }\r\n        });\r\n        var GanttDataSource = DataSource.extend({\r\n            init: function (options) {\r\n                DataSource.fn.init.call(this, extend(true, {}, {\r\n                    schema: {\r\n                        modelBase: GanttTask,\r\n                        model: GanttTask\r\n                    }\r\n                }, options));\r\n            },\r\n            remove: function (task) {\r\n                var parentId = task.get('parentId');\r\n                var children = this.taskAllChildren(task);\r\n                this._removeItems(children);\r\n                task = DataSource.fn.remove.call(this, task);\r\n                this._childRemoved(parentId, task.get('orderId'));\r\n                return task;\r\n            },\r\n            add: function (task) {\r\n                if (!task) {\r\n                    return;\r\n                }\r\n                task = this._toGanttTask(task);\r\n                return this.insert(this.taskSiblings(task).length, task);\r\n            },\r\n            insert: function (index, task) {\r\n                if (!task) {\r\n                    return;\r\n                }\r\n                task = this._toGanttTask(task);\r\n                task.set('orderId', index);\r\n                task = DataSource.fn.insert.call(this, index, task);\r\n                this._reorderSiblings(task, this.taskSiblings(task).length - 1);\r\n                this._resolveSummaryFields(this.taskParent(task));\r\n                return task;\r\n            },\r\n            taskChildren: function (task) {\r\n                var data = this.view();\r\n                var filter = {\r\n                    field: 'parentId',\r\n                    operator: 'eq',\r\n                    value: null\r\n                };\r\n                var order = this._sort && this._sort.length ? this._sort : {\r\n                    field: 'orderId',\r\n                    dir: 'asc'\r\n                };\r\n                var taskId;\r\n                if (!!task) {\r\n                    taskId = task.get('id');\r\n                    if (taskId === undefined || taskId === null || taskId === '') {\r\n                        return [];\r\n                    }\r\n                    filter.value = taskId;\r\n                }\r\n                data = new Query(data).filter(filter).sort(order).toArray();\r\n                return data;\r\n            },\r\n            taskAllChildren: function (task) {\r\n                var data = [];\r\n                var that = this;\r\n                var callback = function (task) {\r\n                    var tasks = that.taskChildren(task);\r\n                    data.push.apply(data, tasks);\r\n                    map(tasks, callback);\r\n                };\r\n                if (!!task) {\r\n                    callback(task);\r\n                } else {\r\n                    data = this.view();\r\n                }\r\n                return data;\r\n            },\r\n            taskSiblings: function (task) {\r\n                if (!task) {\r\n                    return null;\r\n                }\r\n                var parent = this.taskParent(task);\r\n                return this.taskChildren(parent);\r\n            },\r\n            taskParent: function (task) {\r\n                if (!task || task.get('parentId') === null) {\r\n                    return null;\r\n                }\r\n                return this.get(task.parentId);\r\n            },\r\n            taskLevel: function (task) {\r\n                var level = 0;\r\n                var parent = this.taskParent(task);\r\n                while (parent !== null) {\r\n                    level += 1;\r\n                    parent = this.taskParent(parent);\r\n                }\r\n                return level;\r\n            },\r\n            taskTree: function (task) {\r\n                var data = [];\r\n                var current;\r\n                var tasks = this.taskChildren(task);\r\n                for (var i = 0, l = tasks.length; i < l; i++) {\r\n                    current = tasks[i];\r\n                    data.push(current);\r\n                    if (current.get('expanded')) {\r\n                        var children = this.taskTree(current);\r\n                        data.push.apply(data, children);\r\n                    }\r\n                }\r\n                return data;\r\n            },\r\n            update: function (task, taskInfo) {\r\n                var that = this;\r\n                var oldValue;\r\n                var offsetChildren = function (parentTask, offset) {\r\n                    var children = that.taskAllChildren(parentTask);\r\n                    for (var i = 0, l = children.length; i < l; i++) {\r\n                        children[i]._offset(offset);\r\n                    }\r\n                };\r\n                var modelChangeHandler = function (e) {\r\n                    var field = e.field;\r\n                    var model = e.sender;\r\n                    switch (field) {\r\n                    case 'start':\r\n                        that._resolveSummaryStart(that.taskParent(model));\r\n                        offsetChildren(model, model.get(field).getTime() - oldValue.getTime());\r\n                        break;\r\n                    case 'end':\r\n                        that._resolveSummaryEnd(that.taskParent(model));\r\n                        break;\r\n                    case 'percentComplete':\r\n                        that._resolveSummaryPercentComplete(that.taskParent(model));\r\n                        break;\r\n                    case 'orderId':\r\n                        that._reorderSiblings(model, oldValue);\r\n                        break;\r\n                    }\r\n                };\r\n                if (taskInfo.parentId !== undefined) {\r\n                    oldValue = task.get('parentId');\r\n                    if (oldValue !== taskInfo.parentId) {\r\n                        task.set('parentId', taskInfo.parentId);\r\n                        that._childRemoved(oldValue, task.get('orderId'));\r\n                        task.set('orderId', that.taskSiblings(task).length - 1);\r\n                        that._resolveSummaryFields(that.taskParent(task));\r\n                    }\r\n                    delete taskInfo.parentId;\r\n                }\r\n                task.bind('change', modelChangeHandler);\r\n                for (var field in taskInfo) {\r\n                    oldValue = task.get(field);\r\n                    task.set(field, taskInfo[field]);\r\n                }\r\n                task.unbind('change', modelChangeHandler);\r\n            },\r\n            _resolveSummaryFields: function (summary) {\r\n                if (!summary) {\r\n                    return;\r\n                }\r\n                this._updateSummary(summary);\r\n                if (!this.taskChildren(summary).length) {\r\n                    return;\r\n                }\r\n                this._resolveSummaryStart(summary);\r\n                this._resolveSummaryEnd(summary);\r\n                this._resolveSummaryPercentComplete(summary);\r\n            },\r\n            _resolveSummaryStart: function (summary) {\r\n                var that = this;\r\n                var getSummaryStart = function (parentTask) {\r\n                    var children = that.taskChildren(parentTask);\r\n                    var min = children[0].start.getTime();\r\n                    var currentMin;\r\n                    for (var i = 1, l = children.length; i < l; i++) {\r\n                        currentMin = children[i].start.getTime();\r\n                        if (currentMin < min) {\r\n                            min = currentMin;\r\n                        }\r\n                    }\r\n                    return new Date(min);\r\n                };\r\n                this._updateSummaryRecursive(summary, 'start', getSummaryStart);\r\n            },\r\n            _resolveSummaryEnd: function (summary) {\r\n                var that = this;\r\n                var getSummaryEnd = function (parentTask) {\r\n                    var children = that.taskChildren(parentTask);\r\n                    var max = children[0].end.getTime();\r\n                    var currentMax;\r\n                    for (var i = 1, l = children.length; i < l; i++) {\r\n                        currentMax = children[i].end.getTime();\r\n                        if (currentMax > max) {\r\n                            max = currentMax;\r\n                        }\r\n                    }\r\n                    return new Date(max);\r\n                };\r\n                this._updateSummaryRecursive(summary, 'end', getSummaryEnd);\r\n            },\r\n            _resolveSummaryPercentComplete: function (summary) {\r\n                var that = this;\r\n                var getSummaryPercentComplete = function (parentTask) {\r\n                    var children = that.taskChildren(parentTask);\r\n                    var percentComplete = new Query(children).aggregate([{\r\n                            field: 'percentComplete',\r\n                            aggregate: 'average'\r\n                        }]);\r\n                    return percentComplete.percentComplete.average;\r\n                };\r\n                this._updateSummaryRecursive(summary, 'percentComplete', getSummaryPercentComplete);\r\n            },\r\n            _updateSummaryRecursive: function (summary, field, callback) {\r\n                if (!summary) {\r\n                    return;\r\n                }\r\n                var value = callback(summary);\r\n                summary.set(field, value);\r\n                var parent = this.taskParent(summary);\r\n                if (parent) {\r\n                    this._updateSummaryRecursive(parent, field, callback);\r\n                }\r\n            },\r\n            _childRemoved: function (parentId, index) {\r\n                var parent = parentId === null ? null : this.get(parentId);\r\n                var children = this.taskChildren(parent);\r\n                for (var i = index, l = children.length; i < l; i++) {\r\n                    children[i].set('orderId', i);\r\n                }\r\n                this._resolveSummaryFields(parent);\r\n            },\r\n            _reorderSiblings: function (task, oldOrderId) {\r\n                var orderId = task.get('orderId');\r\n                var direction = orderId > oldOrderId;\r\n                var startIndex = direction ? oldOrderId : orderId;\r\n                var endIndex = direction ? orderId : oldOrderId;\r\n                var newIndex = direction ? startIndex : startIndex + 1;\r\n                var siblings = this.taskSiblings(task);\r\n                endIndex = Math.min(endIndex, siblings.length - 1);\r\n                for (var i = startIndex; i <= endIndex; i++) {\r\n                    if (siblings[i] === task) {\r\n                        continue;\r\n                    }\r\n                    siblings[i].set('orderId', newIndex);\r\n                    newIndex += 1;\r\n                }\r\n            },\r\n            _updateSummary: function (task) {\r\n                if (task !== null) {\r\n                    var childCount = this.taskChildren(task).length;\r\n                    task.set('summary', childCount > 0);\r\n                }\r\n            },\r\n            _toGanttTask: function (task) {\r\n                if (!(task instanceof GanttTask)) {\r\n                    var taskInfo = task;\r\n                    task = this._createNewModel();\r\n                    task.accept(taskInfo);\r\n                }\r\n                return task;\r\n            }\r\n        });\r\n        GanttDataSource.create = createDataSource(GanttDataSource, 'GanttDataSource');\r\n        extend(true, kendo.data, {\r\n            GanttDataSource: GanttDataSource,\r\n            GanttTask: GanttTask,\r\n            GanttDependencyDataSource: GanttDependencyDataSource,\r\n            GanttDependency: GanttDependency\r\n        });\r\n        var editors = {\r\n            desktop: {\r\n                dateRange: DATERANGEEDITOR,\r\n                resources: RESOURCESEDITOR\r\n            }\r\n        };\r\n        var Editor = kendo.Observable.extend({\r\n            init: function (element, options) {\r\n                kendo.Observable.fn.init.call(this);\r\n                this.element = element;\r\n                this.options = extend(true, {}, this.options, options);\r\n                this.createButton = this.options.createButton;\r\n            },\r\n            fields: function (editors, model) {\r\n                var that = this;\r\n                var options = this.options;\r\n                var messages = options.messages.editor;\r\n                var resources = options.resources;\r\n                var fields;\r\n                var click = function (e) {\r\n                    e.preventDefault();\r\n                    resources.editor(that.container.find(DOT + Gantt.styles.popup.resourcesField), model);\r\n                };\r\n                if (options.editable.template) {\r\n                    fields = $.map(model.fields, function (value, key) {\r\n                        return { field: key };\r\n                    });\r\n                } else {\r\n                    fields = [\r\n                        {\r\n                            field: 'title',\r\n                            title: messages.title\r\n                        },\r\n                        {\r\n                            field: 'start',\r\n                            title: messages.start,\r\n                            editor: editors.dateRange\r\n                        },\r\n                        {\r\n                            field: 'end',\r\n                            title: messages.end,\r\n                            editor: editors.dateRange\r\n                        },\r\n                        {\r\n                            field: 'percentComplete',\r\n                            title: messages.percentComplete,\r\n                            format: PERCENTAGE_FORMAT\r\n                        }\r\n                    ];\r\n                    if (model.get(resources.field)) {\r\n                        fields.push({\r\n                            field: resources.field,\r\n                            title: messages.resources,\r\n                            messages: messages,\r\n                            editor: editors.resources,\r\n                            click: click,\r\n                            styles: Gantt.styles.popup\r\n                        });\r\n                    }\r\n                }\r\n                return fields;\r\n            },\r\n            _buildEditTemplate: function (model, fields, editableFields) {\r\n                var resources = this.options.resources;\r\n                var template = this.options.editable.template;\r\n                var settings = extend({}, kendo.Template, this.options.templateSettings);\r\n                var paramName = settings.paramName;\r\n                var popupStyles = Gantt.styles.popup;\r\n                var html = '';\r\n                if (template) {\r\n                    if (typeof template === STRING) {\r\n                        template = window.unescape(template);\r\n                    }\r\n                    html += kendo.template(template, settings)(model);\r\n                } else {\r\n                    for (var i = 0, length = fields.length; i < length; i++) {\r\n                        var field = fields[i];\r\n                        html += '<div class=\"' + popupStyles.editLabel + '\"><label for=\"' + field.field + '\">' + (field.title || field.field || '') + '</label></div>';\r\n                        if (field.field === resources.field) {\r\n                            html += '<div class=\"' + popupStyles.resourcesField + '\" style=\"display:none\"></div>';\r\n                        }\r\n                        if (!model.editable || model.editable(field.field)) {\r\n                            editableFields.push(field);\r\n                            html += '<div ' + kendo.attr('container-for') + '=\"' + field.field + '\" class=\"' + popupStyles.editField + '\"></div>';\r\n                        } else {\r\n                            var tmpl = '#:';\r\n                            if (field.field) {\r\n                                field = kendo.expr(field.field, paramName);\r\n                                tmpl += field + '==null?\\'\\':' + field;\r\n                            } else {\r\n                                tmpl += '\\'\\'';\r\n                            }\r\n                            tmpl += '#';\r\n                            tmpl = kendo.template(tmpl, settings);\r\n                            html += '<div class=\"' + popupStyles.editField + '\">' + tmpl(model) + '</div>';\r\n                        }\r\n                    }\r\n                }\r\n                return html;\r\n            }\r\n        });\r\n        var PopupEditor = Editor.extend({\r\n            destroy: function () {\r\n                this.close();\r\n                this.unbind();\r\n            },\r\n            editTask: function (task) {\r\n                this.editable = this._createPopupEditor(task);\r\n            },\r\n            close: function () {\r\n                var that = this;\r\n                var destroy = function () {\r\n                    if (that.editable) {\r\n                        that.editable.destroy();\r\n                        that.editable = null;\r\n                        that.container = null;\r\n                    }\r\n                    if (that.popup) {\r\n                        that.popup.destroy();\r\n                        that.popup = null;\r\n                    }\r\n                };\r\n                if (this.editable && this.container.is(':visible')) {\r\n                    that.trigger('close', { window: that.container });\r\n                    this.container.data('kendoWindow').bind('deactivate', destroy).close();\r\n                } else {\r\n                    destroy();\r\n                }\r\n            },\r\n            showDialog: function (options) {\r\n                var buttons = options.buttons;\r\n                var popupStyles = Gantt.styles.popup;\r\n                var html = kendo.format('<div class=\"{0}\"><div class=\"{1}\"><p class=\"{2}\">{3}</p><div class=\"{4}\">', popupStyles.form, popupStyles.formContainer, popupStyles.message, options.text, popupStyles.buttonsContainer);\r\n                for (var i = 0, length = buttons.length; i < length; i++) {\r\n                    html += this.createButton(buttons[i]);\r\n                }\r\n                html += '</div></div></div>';\r\n                var wrapper = this.element;\r\n                if (this.popup) {\r\n                    this.popup.destroy();\r\n                }\r\n                var popup = this.popup = $(html).appendTo(wrapper).eq(0).on('click', DOT + popupStyles.button, function (e) {\r\n                    e.preventDefault();\r\n                    popup.close();\r\n                    var buttonIndex = $(e.currentTarget).index();\r\n                    buttons[buttonIndex].click();\r\n                }).kendoWindow({\r\n                    modal: true,\r\n                    resizable: false,\r\n                    draggable: false,\r\n                    title: options.title,\r\n                    visible: false,\r\n                    deactivate: function () {\r\n                        this.destroy();\r\n                        wrapper.focus();\r\n                    }\r\n                }).getKendoWindow();\r\n                popup.center().open();\r\n            },\r\n            _createPopupEditor: function (task) {\r\n                var that = this;\r\n                var options = {};\r\n                var messages = this.options.messages;\r\n                var ganttStyles = Gantt.styles;\r\n                var popupStyles = ganttStyles.popup;\r\n                var html = kendo.format('<div {0}=\"{1}\" class=\"{2} {3}\"><div class=\"{4}\">', kendo.attr('uid'), task.uid, popupStyles.form, popupStyles.editForm, popupStyles.formContainer);\r\n                var fields = this.fields(editors.desktop, task);\r\n                var editableFields = [];\r\n                html += this._buildEditTemplate(task, fields, editableFields);\r\n                html += '<div class=\"' + popupStyles.buttonsContainer + '\">';\r\n                html += this.createButton({\r\n                    name: 'update',\r\n                    text: messages.save,\r\n                    className: Gantt.styles.primary\r\n                });\r\n                html += this.createButton({\r\n                    name: 'cancel',\r\n                    text: messages.cancel\r\n                });\r\n                html += this.createButton({\r\n                    name: 'delete',\r\n                    text: messages.destroy\r\n                });\r\n                html += '</div></div></div>';\r\n                var container = this.container = $(html).appendTo(this.element).eq(0).kendoWindow(extend({\r\n                    modal: true,\r\n                    resizable: false,\r\n                    draggable: true,\r\n                    title: messages.editor.editorTitle,\r\n                    visible: false,\r\n                    close: function (e) {\r\n                        if (e.userTriggered) {\r\n                            if (that.trigger('cancel', {\r\n                                    container: container,\r\n                                    model: task\r\n                                })) {\r\n                                e.preventDefault();\r\n                            }\r\n                        }\r\n                    }\r\n                }, options));\r\n                var editableWidget = container.kendoEditable({\r\n                    fields: editableFields,\r\n                    model: task,\r\n                    clearContainer: false,\r\n                    validateOnBlur: true,\r\n                    target: that.options.target\r\n                }).data('kendoEditable');\r\n                kendo.cycleForm(container);\r\n                if (!this.trigger('edit', {\r\n                        container: container,\r\n                        model: task\r\n                    })) {\r\n                    container.data('kendoWindow').center().open();\r\n                    container.on(CLICK + NS, DOT + ganttStyles.buttonCancel, function (e) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        that.trigger('cancel', {\r\n                            container: container,\r\n                            model: task\r\n                        });\r\n                    });\r\n                    container.on(CLICK + NS, DOT + ganttStyles.buttonSave, function (e) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        var fields = that.fields(editors.desktop, task);\r\n                        var updateInfo = {};\r\n                        var field;\r\n                        for (var i = 0, length = fields.length; i < length; i++) {\r\n                            field = fields[i].field;\r\n                            updateInfo[field] = task.get(field);\r\n                        }\r\n                        that.trigger('save', {\r\n                            container: container,\r\n                            model: task,\r\n                            updateInfo: updateInfo\r\n                        });\r\n                    });\r\n                    container.on(CLICK + NS, DOT + ganttStyles.buttonDelete, function (e) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        that.trigger('remove', {\r\n                            container: container,\r\n                            model: task\r\n                        });\r\n                    });\r\n                } else {\r\n                    that.trigger('cancel', {\r\n                        container: container,\r\n                        model: task\r\n                    });\r\n                }\r\n                return editableWidget;\r\n            }\r\n        });\r\n        var ResourceEditor = Widget.extend({\r\n            init: function (element, options) {\r\n                Widget.fn.init.call(this, element, options);\r\n                this.wrapper = this.element;\r\n                this.model = this.options.model;\r\n                this.resourcesField = this.options.resourcesField;\r\n                this.createButton = this.options.createButton;\r\n                this._initContainer();\r\n                this._attachHandlers();\r\n            },\r\n            events: ['save'],\r\n            open: function () {\r\n                this.window.center().open();\r\n                this.grid.resize(true);\r\n            },\r\n            close: function () {\r\n                this.window.bind('deactivate', proxy(this.destroy, this)).close();\r\n            },\r\n            destroy: function () {\r\n                this._dettachHandlers();\r\n                this.grid.destroy();\r\n                this.grid = null;\r\n                this.window.destroy();\r\n                this.window = null;\r\n                Widget.fn.destroy.call(this);\r\n                kendo.destroy(this.wrapper);\r\n                this.element = this.wrapper = null;\r\n            },\r\n            _attachHandlers: function () {\r\n                var ganttStyles = Gantt.styles;\r\n                var grid = this.grid;\r\n                var closeHandler = this._cancelProxy = proxy(this._cancel, this);\r\n                this.container.on(CLICK + NS, DOT + ganttStyles.buttonCancel, this._cancelProxy);\r\n                this._saveProxy = proxy(this._save, this);\r\n                this.container.on(CLICK + NS, DOT + ganttStyles.buttonSave, this._saveProxy);\r\n                this.window.bind('close', function (e) {\r\n                    if (e.userTriggered) {\r\n                        closeHandler(e);\r\n                    }\r\n                });\r\n                grid.wrapper.on(CLICK + NS, 'input[type=\\'checkbox\\']', function () {\r\n                    var element = $(this);\r\n                    var row = $(element).closest('tr');\r\n                    var model = grid.dataSource.getByUid(row.attr(kendo.attr('uid')));\r\n                    var value = $(element).is(':checked') ? 1 : '';\r\n                    model.set('value', value);\r\n                });\r\n            },\r\n            _dettachHandlers: function () {\r\n                this._cancelProxy = null;\r\n                this._saveProxy = null;\r\n                this.container.off(NS);\r\n                this.grid.wrapper.off();\r\n            },\r\n            _cancel: function (e) {\r\n                e.preventDefault();\r\n                this.close();\r\n            },\r\n            _save: function (e) {\r\n                e.preventDefault();\r\n                this._updateModel();\r\n                if (!this.wrapper.is(DOT + Gantt.styles.popup.resourcesField)) {\r\n                    this.trigger('save', {\r\n                        container: this.wrapper,\r\n                        model: this.model\r\n                    });\r\n                }\r\n                this.close();\r\n            },\r\n            _initContainer: function () {\r\n                var popupStyles = Gantt.styles.popup;\r\n                var dom = kendo.format('<div class=\"{0} {1}\"><div class=\"{2} {3}\"/></div>\"', popupStyles.form, popupStyles.editForm, popupStyles.formContainer, popupStyles.resourcesFormContainer);\r\n                dom = $(dom);\r\n                this.container = dom.find(DOT + popupStyles.resourcesFormContainer);\r\n                this.window = dom.kendoWindow({\r\n                    modal: true,\r\n                    resizable: false,\r\n                    draggable: true,\r\n                    visible: false,\r\n                    title: this.options.messages.resourcesEditorTitle\r\n                }).data('kendoWindow');\r\n                this._resourceGrid();\r\n                this._createButtons();\r\n            },\r\n            _resourceGrid: function () {\r\n                var that = this;\r\n                var messages = this.options.messages;\r\n                var element = $('<div id=\"resources-grid\"/>').appendTo(this.container);\r\n                this.grid = new kendo.ui.Grid(element, {\r\n                    columns: [\r\n                        {\r\n                            field: 'name',\r\n                            title: messages.resourcesHeader,\r\n                            template: '<label><input type=\\'checkbox\\' value=\\'#=name#\\'' + '# if (value > 0 && value !== null) {#' + 'checked=\\'checked\\'' + '# } #' + '/>#=name#</labe>'\r\n                        },\r\n                        {\r\n                            field: 'value',\r\n                            title: messages.unitsHeader,\r\n                            template: function (dataItem) {\r\n                                var valueFormat = dataItem.format;\r\n                                var value = dataItem.value !== null ? dataItem.value : '';\r\n                                return valueFormat ? kendo.toString(value, valueFormat) : value;\r\n                            }\r\n                        }\r\n                    ],\r\n                    height: 280,\r\n                    sortable: true,\r\n                    editable: true,\r\n                    filterable: true,\r\n                    dataSource: {\r\n                        data: that.options.data,\r\n                        schema: {\r\n                            model: {\r\n                                id: 'id',\r\n                                fields: {\r\n                                    id: { from: 'id' },\r\n                                    name: {\r\n                                        from: 'name',\r\n                                        type: 'string',\r\n                                        editable: false\r\n                                    },\r\n                                    value: {\r\n                                        from: 'value',\r\n                                        type: 'number',\r\n                                        defaultValue: ''\r\n                                    },\r\n                                    format: {\r\n                                        from: 'format',\r\n                                        type: 'string'\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    save: function (e) {\r\n                        var value = !!e.values.value;\r\n                        e.container.parent().find('input[type=\\'checkbox\\']').prop('checked', value);\r\n                    }\r\n                });\r\n            },\r\n            _createButtons: function () {\r\n                var buttons = this.options.buttons;\r\n                var html = '<div class=\"' + Gantt.styles.popup.buttonsContainer + '\">';\r\n                for (var i = 0, length = buttons.length; i < length; i++) {\r\n                    html += this.createButton(buttons[i]);\r\n                }\r\n                html += '</div>';\r\n                this.container.append(html);\r\n            },\r\n            _updateModel: function () {\r\n                var resources = [];\r\n                var value;\r\n                var data = this.grid.dataSource.data();\r\n                for (var i = 0, length = data.length; i < length; i++) {\r\n                    value = data[i].get('value');\r\n                    if (value !== null && value > 0) {\r\n                        resources.push(data[i]);\r\n                    }\r\n                }\r\n                this.model[this.resourcesField] = resources;\r\n            }\r\n        });\r\n        var Gantt = Widget.extend({\r\n            init: function (element, options, events) {\r\n                if (isArray(options)) {\r\n                    options = { dataSource: options };\r\n                }\r\n                defaultCommands = {\r\n                    append: {\r\n                        text: 'Add Task',\r\n                        action: 'add',\r\n                        className: Gantt.styles.toolbar.appendButton,\r\n                        iconClass: Gantt.styles.toolbar.iconPlus\r\n                    },\r\n                    pdf: {\r\n                        text: 'Export to PDF',\r\n                        className: Gantt.styles.toolbar.pdfButton,\r\n                        iconClass: Gantt.styles.toolbar.iconPdf\r\n                    }\r\n                };\r\n                Widget.fn.init.call(this, element, options);\r\n                if (events) {\r\n                    this._events = events;\r\n                }\r\n                this._wrapper();\r\n                this._resources();\r\n                if (!this.options.views || !this.options.views.length) {\r\n                    this.options.views = [\r\n                        'day',\r\n                        'week',\r\n                        'month'\r\n                    ];\r\n                }\r\n                this._timeline();\r\n                this._toolbar();\r\n                this._footer();\r\n                this._adjustDimensions();\r\n                this._preventRefresh = true;\r\n                this.view(this.timeline._selectedViewName);\r\n                this._preventRefresh = false;\r\n                this._dataSource();\r\n                this._assignments();\r\n                this._dropDowns();\r\n                this._list();\r\n                this._dependencies();\r\n                this._resizable();\r\n                this._scrollable();\r\n                this._dataBind();\r\n                this._attachEvents();\r\n                this._createEditor();\r\n                kendo.notify(this);\r\n            },\r\n            events: [\r\n                'dataBinding',\r\n                'dataBound',\r\n                'add',\r\n                'edit',\r\n                'remove',\r\n                'cancel',\r\n                'save',\r\n                'change',\r\n                'navigate',\r\n                'moveStart',\r\n                'move',\r\n                'moveEnd',\r\n                'resizeStart',\r\n                'resize',\r\n                'resizeEnd',\r\n                'columnResize'\r\n            ],\r\n            options: {\r\n                name: 'Gantt',\r\n                autoBind: true,\r\n                navigatable: false,\r\n                selectable: true,\r\n                editable: true,\r\n                resizable: false,\r\n                columnResizeHandleWidth: defaultIndicatorWidth,\r\n                columns: [],\r\n                views: [],\r\n                dataSource: {},\r\n                dependencies: {},\r\n                resources: {},\r\n                assignments: {},\r\n                taskTemplate: null,\r\n                messages: {\r\n                    save: 'Save',\r\n                    cancel: 'Cancel',\r\n                    destroy: 'Delete',\r\n                    deleteTaskConfirmation: TASK_DELETE_CONFIRM,\r\n                    deleteDependencyConfirmation: DEPENDENCY_DELETE_CONFIRM,\r\n                    deleteTaskWindowTitle: 'Delete task',\r\n                    deleteDependencyWindowTitle: 'Delete dependency',\r\n                    views: {\r\n                        day: 'Day',\r\n                        week: 'Week',\r\n                        month: 'Month',\r\n                        year: 'Year',\r\n                        start: 'Start',\r\n                        end: 'End'\r\n                    },\r\n                    actions: {\r\n                        append: 'Add Task',\r\n                        addChild: 'Add Child',\r\n                        insertBefore: 'Add Above',\r\n                        insertAfter: 'Add Below',\r\n                        pdf: 'Export to PDF'\r\n                    },\r\n                    editor: {\r\n                        editorTitle: 'Task',\r\n                        resourcesEditorTitle: 'Resources',\r\n                        title: 'Title',\r\n                        start: 'Start',\r\n                        end: 'End',\r\n                        percentComplete: 'Complete',\r\n                        resources: 'Resources',\r\n                        assignButton: 'Assign',\r\n                        resourcesHeader: 'Resources',\r\n                        unitsHeader: 'Units'\r\n                    }\r\n                },\r\n                showWorkHours: true,\r\n                showWorkDays: true,\r\n                toolbar: null,\r\n                workDayStart: new Date(1980, 1, 1, 8, 0, 0),\r\n                workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\r\n                workWeekStart: 1,\r\n                workWeekEnd: 5,\r\n                hourSpan: 1,\r\n                snap: true,\r\n                height: 600,\r\n                listWidth: '30%',\r\n                rowHeight: null\r\n            },\r\n            select: function (value) {\r\n                var list = this.list;\r\n                if (!value) {\r\n                    return list.select();\r\n                }\r\n                list.select(value);\r\n                return;\r\n            },\r\n            clearSelection: function () {\r\n                this.list.clearSelection();\r\n            },\r\n            destroy: function () {\r\n                Widget.fn.destroy.call(this);\r\n                if (this.dataSource) {\r\n                    this.dataSource.unbind('change', this._refreshHandler);\r\n                    this.dataSource.unbind('progress', this._progressHandler);\r\n                    this.dataSource.unbind('error', this._errorHandler);\r\n                }\r\n                if (this.dependencies) {\r\n                    this.dependencies.unbind('change', this._dependencyRefreshHandler);\r\n                    this.dependencies.unbind('error', this._dependencyErrorHandler);\r\n                }\r\n                if (this.timeline) {\r\n                    this.timeline.unbind();\r\n                    this.timeline.destroy();\r\n                }\r\n                if (this.list) {\r\n                    this.list.unbind();\r\n                    this.list.destroy();\r\n                }\r\n                if (this.footerDropDown) {\r\n                    this.footerDropDown.destroy();\r\n                }\r\n                if (this.headerDropDown) {\r\n                    this.headerDropDown.destroy();\r\n                }\r\n                if (this._editor) {\r\n                    this._editor.destroy();\r\n                }\r\n                if (this._resizeDraggable) {\r\n                    this._resizeDraggable.destroy();\r\n                }\r\n                this.toolbar.off(NS);\r\n                if (supportsMedia) {\r\n                    this._mediaQuery.removeListener(this._mediaQueryHandler);\r\n                    this._mediaQuery = null;\r\n                }\r\n                $(window).off('resize' + NS, this._resizeHandler);\r\n                $(this.wrapper).off(NS);\r\n                this.toolbar = null;\r\n                this.footer = null;\r\n            },\r\n            setOptions: function (options) {\r\n                var newOptions = kendo.deepExtend({}, this.options, options);\r\n                var events = this._events;\r\n                if (!options.views) {\r\n                    var selectedView = this.view().name;\r\n                    newOptions.views = $.map(this.options.views, function (view) {\r\n                        var isSettings = isPlainObject(view);\r\n                        var name = isSettings ? typeof view.type !== 'string' ? view.title : view.type : view;\r\n                        if (selectedView === name) {\r\n                            if (isSettings) {\r\n                                view.selected = true;\r\n                            } else {\r\n                                view = {\r\n                                    type: name,\r\n                                    selected: true\r\n                                };\r\n                            }\r\n                        } else if (isSettings) {\r\n                            view.selected = false;\r\n                        }\r\n                        return view;\r\n                    });\r\n                }\r\n                if (!options.dataSource) {\r\n                    newOptions.dataSource = this.dataSource;\r\n                }\r\n                if (!options.dependencies) {\r\n                    newOptions.dependencies = this.dependencies;\r\n                }\r\n                if (!options.resources) {\r\n                    newOptions.resources = this.resources;\r\n                }\r\n                if (!options.assignments) {\r\n                    newOptions.assignments = this.assignments;\r\n                }\r\n                this.destroy();\r\n                this.element.empty();\r\n                this.options = null;\r\n                this.init(this.element, newOptions, events);\r\n                Widget.fn._setEvents.call(this, newOptions);\r\n            },\r\n            _attachEvents: function () {\r\n                this._resizeHandler = proxy(this.resize, this, false);\r\n                $(window).on('resize' + NS, this._resizeHandler);\r\n            },\r\n            _wrapper: function () {\r\n                var ganttStyles = Gantt.styles;\r\n                var splitBarHandleClassName = [\r\n                    ganttStyles.icon,\r\n                    ganttStyles.resizeHandle\r\n                ].join(' ');\r\n                var options = this.options;\r\n                var height = options.height;\r\n                var width = options.width;\r\n                this.wrapper = this.element.addClass(ganttStyles.wrapper).append('<div class=\\'' + ganttStyles.listWrapper + '\\'><div></div></div>').append('<div class=\\'' + ganttStyles.splitBarWrapper + '\\'><div class=\\'' + splitBarHandleClassName + '\\'></div></div>').append('<div class=\\'' + ganttStyles.timelineWrapper + '\\'><div></div></div>');\r\n                this.wrapper.find(DOT + ganttStyles.list).width(options.listWidth);\r\n                if (height) {\r\n                    this.wrapper.height(height);\r\n                }\r\n                if (width) {\r\n                    this.wrapper.width(width);\r\n                }\r\n                if (options.rowHeight) {\r\n                    this.wrapper.addClass(ganttStyles.rowHeight);\r\n                }\r\n            },\r\n            _toolbar: function () {\r\n                var that = this;\r\n                var ganttStyles = Gantt.styles;\r\n                var viewsSelector = DOT + ganttStyles.toolbar.views + ' > li';\r\n                var pdfSelector = DOT + ganttStyles.toolbar.pdfButton;\r\n                var toggleSelector = DOT + ganttStyles.buttonToggle;\r\n                var contentSelector = DOT + ganttStyles.gridContent;\r\n                var treelist = $(DOT + ganttStyles.list);\r\n                var timeline = $(DOT + ganttStyles.timeline);\r\n                var hoveredClassName = ganttStyles.hovered;\r\n                var actions = this.options.toolbar;\r\n                var actionsWrap = $('<div class=\\'' + ganttStyles.toolbar.actions + '\\'>');\r\n                var toolbar;\r\n                var views;\r\n                var toggleButton;\r\n                var handler = function (e) {\r\n                    if (e.matches) {\r\n                        treelist.css({\r\n                            'display': 'none',\r\n                            'max-width': 0\r\n                        });\r\n                    } else {\r\n                        treelist.css({\r\n                            'display': 'inline-block',\r\n                            'width': '30%',\r\n                            'max-width': 'none'\r\n                        });\r\n                        timeline.css('display', 'inline-block');\r\n                        that.refresh();\r\n                        timeline.find(contentSelector).scrollTop(that.scrollTop);\r\n                    }\r\n                    that._resize();\r\n                };\r\n                if (!isFunction(actions)) {\r\n                    actions = typeof actions === STRING ? actions : this._actions(actions);\r\n                    actions = proxy(kendo.template(actions), this);\r\n                }\r\n                toggleButton = $(TOGGLE_BUTTON_TEMPLATE({ styles: ganttStyles.toolbar }));\r\n                views = $(HEADER_VIEWS_TEMPLATE({\r\n                    ns: kendo.ns,\r\n                    views: this.timeline.views,\r\n                    styles: ganttStyles.toolbar\r\n                }));\r\n                actionsWrap.append(actions({}));\r\n                toolbar = $('<div class=\\'' + ganttStyles.toolbar.headerWrapper + '\\'>').append(toggleButton).append(views).append(actionsWrap);\r\n                if (views.find('li').length > 1) {\r\n                    views.prepend(VIEWBUTTONTEMPLATE({ styles: ganttStyles.toolbar }));\r\n                }\r\n                this.wrapper.prepend(toolbar);\r\n                this.toolbar = toolbar;\r\n                if (supportsMedia) {\r\n                    this._mediaQueryHandler = proxy(handler, this);\r\n                    this._mediaQuery = window.matchMedia('(max-width: 480px)');\r\n                    this._mediaQuery.addListener(this._mediaQueryHandler);\r\n                }\r\n                toolbar.on(CLICK + NS, viewsSelector, function (e) {\r\n                    e.preventDefault();\r\n                    var list = that.list;\r\n                    var name = $(this).attr(kendo.attr('name'));\r\n                    var currentView = views.find(DOT + ganttStyles.toolbar.currentView);\r\n                    if (currentView.is(':visible')) {\r\n                        currentView.parent().toggleClass(ganttStyles.toolbar.expanded);\r\n                    }\r\n                    if (list.editable && list.editable.trigger('validate')) {\r\n                        return;\r\n                    }\r\n                    if (!that.trigger('navigate', { view: name })) {\r\n                        that.view(name);\r\n                    }\r\n                }).on(CLICK + NS, pdfSelector, function (e) {\r\n                    e.preventDefault();\r\n                    that.saveAsPDF();\r\n                }).on(CLICK + NS, toggleSelector, function (e) {\r\n                    e.preventDefault();\r\n                    if (treelist.is(':visible')) {\r\n                        treelist.css({\r\n                            'display': 'none',\r\n                            'width': '0'\r\n                        });\r\n                        timeline.css({\r\n                            'display': 'inline-block',\r\n                            'width': '100%'\r\n                        });\r\n                        that.refresh();\r\n                        timeline.find(contentSelector).scrollTop(that.scrollTop);\r\n                    } else {\r\n                        timeline.css({\r\n                            'display': 'none',\r\n                            'width': 0\r\n                        });\r\n                        treelist.css({\r\n                            'display': 'inline-block',\r\n                            'width': '100%',\r\n                            'max-width': 'none'\r\n                        }).find(contentSelector).scrollTop(that.scrollTop);\r\n                    }\r\n                    that._resize();\r\n                });\r\n                this.wrapper.find(DOT + ganttStyles.toolbar.toolbar + ' li').hover(function () {\r\n                    $(this).addClass(hoveredClassName);\r\n                }, function () {\r\n                    $(this).removeClass(hoveredClassName);\r\n                });\r\n            },\r\n            _actions: function () {\r\n                var options = this.options;\r\n                var actions = options.toolbar;\r\n                var html = '';\r\n                if (!isArray(actions)) {\r\n                    if (options.editable) {\r\n                        actions = ['append'];\r\n                    } else {\r\n                        return html;\r\n                    }\r\n                }\r\n                for (var i = 0, length = actions.length; i < length; i++) {\r\n                    html += this._createButton(actions[i]);\r\n                }\r\n                return html;\r\n            },\r\n            _footer: function () {\r\n                if (!this.options.editable) {\r\n                    return;\r\n                }\r\n                var ganttStyles = Gantt.styles.toolbar;\r\n                var messages = this.options.messages.actions;\r\n                var button = $(kendo.template(BUTTON_TEMPLATE)(extend(true, { styles: ganttStyles }, defaultCommands.append, { text: messages.append })));\r\n                var actionsWrap = $('<div class=\\'' + ganttStyles.actions + '\\'>').append(button);\r\n                var footer = $('<div class=\\'' + ganttStyles.footerWrapper + '\\'>').append(actionsWrap);\r\n                this.wrapper.append(footer);\r\n                this.footer = footer;\r\n            },\r\n            _createButton: function (command) {\r\n                var template = command.template || BUTTON_TEMPLATE;\r\n                var messages = this.options.messages.actions;\r\n                var commandName = typeof command === STRING ? command : command.name || command.text;\r\n                var className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-gantt-' + (commandName || '').replace(/\\s/g, '');\r\n                var options = {\r\n                    iconClass: '',\r\n                    action: '',\r\n                    text: commandName,\r\n                    className: className,\r\n                    styles: Gantt.styles.toolbar\r\n                };\r\n                if (!commandName && !(isPlainObject(command) && command.template)) {\r\n                    throw new Error('Custom commands should have name specified');\r\n                }\r\n                options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\r\n                if (isPlainObject(command)) {\r\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\r\n                        command.className += ' ' + options.className;\r\n                    }\r\n                    options = extend(true, options, command);\r\n                }\r\n                return kendo.template(template)(options);\r\n            },\r\n            _adjustDimensions: function () {\r\n                var element = this.element;\r\n                var ganttStyles = Gantt.styles;\r\n                var listSelector = DOT + ganttStyles.list;\r\n                var timelineSelector = DOT + ganttStyles.timeline;\r\n                var splitBarSelector = DOT + ganttStyles.splitBar;\r\n                var toolbarHeight = this.toolbar.outerHeight();\r\n                var footerHeight = this.footer ? this.footer.outerHeight() : 0;\r\n                var totalHeight = element.height();\r\n                var totalWidth = element.width();\r\n                var splitBarWidth = element.find(splitBarSelector).outerWidth();\r\n                var treeListWidth = element.find(listSelector).outerWidth();\r\n                element.children([\r\n                    listSelector,\r\n                    timelineSelector,\r\n                    splitBarSelector\r\n                ].join(',')).height(totalHeight - (toolbarHeight + footerHeight)).end().children(timelineSelector).width(totalWidth - (splitBarWidth + treeListWidth));\r\n                if (totalWidth < treeListWidth + splitBarWidth) {\r\n                    element.find(listSelector).width(totalWidth - splitBarWidth);\r\n                }\r\n            },\r\n            _scrollTo: function (value) {\r\n                var view = this.timeline.view();\r\n                var list = this.list;\r\n                var attr = kendo.attr('uid');\r\n                var id = typeof value === 'string' ? value : value.closest('tr' + selector()).attr(attr);\r\n                var action;\r\n                var scrollTarget;\r\n                var scrollIntoView = function () {\r\n                    if (scrollTarget.length !== 0) {\r\n                        action();\r\n                    }\r\n                };\r\n                if (view.content.is(':visible')) {\r\n                    scrollTarget = view.content.find(selector(id));\r\n                    action = function () {\r\n                        view._scrollTo(scrollTarget);\r\n                    };\r\n                } else {\r\n                    scrollTarget = list.content.find(selector(id));\r\n                    action = function () {\r\n                        scrollTarget.get(0).scrollIntoView();\r\n                    };\r\n                }\r\n                scrollIntoView();\r\n            },\r\n            _dropDowns: function () {\r\n                var that = this;\r\n                var actionsSelector = DOT + Gantt.styles.toolbar.actions;\r\n                var actionMessages = this.options.messages.actions;\r\n                var timeline = this.timeline;\r\n                var handler = function (e) {\r\n                    var type = e.type;\r\n                    var orderId;\r\n                    var dataSource = that.dataSource;\r\n                    var task = dataSource._createNewModel();\r\n                    var selected = that.dataItem(that.select());\r\n                    var parent = dataSource.taskParent(selected);\r\n                    var firstSlot = timeline.view()._timeSlots()[0];\r\n                    var target = type === 'add' ? selected : parent;\r\n                    var editable = that.list.editable;\r\n                    if (editable && editable.trigger('validate')) {\r\n                        return;\r\n                    }\r\n                    task.set('title', 'New task');\r\n                    if (target) {\r\n                        task.set('parentId', target.get('id'));\r\n                        task.set('start', target.get('start'));\r\n                        task.set('end', target.get('end'));\r\n                    } else {\r\n                        task.set('start', firstSlot.start);\r\n                        task.set('end', firstSlot.end);\r\n                    }\r\n                    if (type !== 'add') {\r\n                        orderId = selected.get('orderId');\r\n                        orderId = type === 'insert-before' ? orderId : orderId + 1;\r\n                    }\r\n                    that._createTask(task, orderId);\r\n                };\r\n                if (!this.options.editable) {\r\n                    return;\r\n                }\r\n                this.footerDropDown = new TaskDropDown(this.footer.children(actionsSelector).eq(0), {\r\n                    messages: { actions: actionMessages },\r\n                    direction: 'up',\r\n                    animation: { open: { effects: 'slideIn:up' } },\r\n                    navigatable: that.options.navigatable\r\n                });\r\n                this.headerDropDown = new TaskDropDown(this.toolbar.children(actionsSelector).eq(0), {\r\n                    messages: { actions: actionMessages },\r\n                    navigatable: that.options.navigatable\r\n                });\r\n                this.footerDropDown.bind('command', handler);\r\n                this.headerDropDown.bind('command', handler);\r\n            },\r\n            _list: function () {\r\n                var that = this;\r\n                var navigatable = that.options.navigatable;\r\n                var ganttStyles = Gantt.styles;\r\n                var listWrapper = this.wrapper.find(DOT + ganttStyles.list);\r\n                var element = listWrapper.find('> div');\r\n                var toggleButtons = this.wrapper.find(DOT + ganttStyles.toolbar.actions + ' > button');\r\n                var options = {\r\n                    columns: this.options.columns || [],\r\n                    dataSource: this.dataSource,\r\n                    selectable: this.options.selectable,\r\n                    editable: this.options.editable,\r\n                    resizable: this.options.resizable,\r\n                    columnResizeHandleWidth: this.options.columnResizeHandleWidth,\r\n                    listWidth: listWrapper.outerWidth(),\r\n                    resourcesField: this.resources.field,\r\n                    rowHeight: this.options.rowHeight\r\n                };\r\n                var columns = options.columns;\r\n                var column;\r\n                var restoreFocus = function () {\r\n                    if (navigatable) {\r\n                        that._current(that._cachedCurrent);\r\n                        focusTable(that.list.content.find('table'), true);\r\n                    }\r\n                    delete that._cachedCurrent;\r\n                };\r\n                for (var i = 0; i < columns.length; i++) {\r\n                    column = columns[i];\r\n                    if (column.field === this.resources.field && typeof column.editor !== 'function') {\r\n                        column.editor = proxy(this._createResourceEditor, this);\r\n                    }\r\n                }\r\n                this.list = new kendo.ui.GanttList(element, options);\r\n                this.list.bind('render', function () {\r\n                    that._navigatable();\r\n                }, true).bind('edit', function (e) {\r\n                    that._cachedCurrent = e.cell;\r\n                    if (that.trigger('edit', {\r\n                            task: e.model,\r\n                            container: e.cell\r\n                        })) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).bind('cancel', function (e) {\r\n                    if (that.trigger('cancel', {\r\n                            task: e.model,\r\n                            container: e.cell\r\n                        })) {\r\n                        e.preventDefault();\r\n                    }\r\n                    restoreFocus();\r\n                }).bind('update', function (e) {\r\n                    that._updateTask(e.task, e.updateInfo);\r\n                    restoreFocus();\r\n                }).bind('change', function () {\r\n                    that.trigger('change');\r\n                    var selection = that.list.select();\r\n                    if (selection.length) {\r\n                        toggleButtons.removeAttr('data-action', 'add');\r\n                        that.timeline.select('[data-uid=\\'' + selection.attr('data-uid') + '\\']');\r\n                    } else {\r\n                        toggleButtons.attr('data-action', 'add');\r\n                        that.timeline.clearSelection();\r\n                    }\r\n                }).bind('columnResize', function (e) {\r\n                    that.trigger('columnResize', {\r\n                        column: e.column,\r\n                        oldWidth: e.oldWidth,\r\n                        newWidth: e.newWidth\r\n                    });\r\n                });\r\n            },\r\n            _timeline: function () {\r\n                var that = this;\r\n                var ganttStyles = Gantt.styles;\r\n                var options = trimOptions(extend(true, { resourcesField: this.resources.field }, this.options));\r\n                var element = this.wrapper.find(DOT + ganttStyles.timeline + ' > div');\r\n                var currentViewSelector = DOT + ganttStyles.toolbar.currentView + ' > ' + DOT + ganttStyles.toolbar.link;\r\n                this.timeline = new kendo.ui.GanttTimeline(element, options);\r\n                this.timeline.bind('navigate', function (e) {\r\n                    var viewName = e.view.replace(/\\./g, '\\\\.').toLowerCase();\r\n                    var text = that.toolbar.find(DOT + ganttStyles.toolbar.views + ' > li').removeClass(ganttStyles.selected).end().find(DOT + ganttStyles.toolbar.viewButton + '-' + viewName).addClass(ganttStyles.selected).find(DOT + ganttStyles.toolbar.link).text();\r\n                    that.toolbar.find(currentViewSelector).text(text);\r\n                    that.refresh();\r\n                }).bind('moveStart', function (e) {\r\n                    var editable = that.list.editable;\r\n                    if (editable && editable.trigger('validate')) {\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                    if (that.trigger('moveStart', { task: e.task })) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).bind('move', function (e) {\r\n                    var task = e.task;\r\n                    var start = e.start;\r\n                    var end = new Date(start.getTime() + task.duration());\r\n                    if (that.trigger('move', {\r\n                            task: task,\r\n                            start: start,\r\n                            end: end\r\n                        })) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).bind('moveEnd', function (e) {\r\n                    var task = e.task;\r\n                    var start = e.start;\r\n                    var end = new Date(start.getTime() + task.duration());\r\n                    if (!that.trigger('moveEnd', {\r\n                            task: task,\r\n                            start: start,\r\n                            end: end\r\n                        })) {\r\n                        that._updateTask(that.dataSource.getByUid(task.uid), {\r\n                            start: start,\r\n                            end: end\r\n                        });\r\n                    }\r\n                }).bind('resizeStart', function (e) {\r\n                    var editable = that.list.editable;\r\n                    if (editable && editable.trigger('validate')) {\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                    if (that.trigger('resizeStart', { task: e.task })) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).bind('resize', function (e) {\r\n                    if (that.trigger('resize', {\r\n                            task: e.task,\r\n                            start: e.start,\r\n                            end: e.end\r\n                        })) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).bind('resizeEnd', function (e) {\r\n                    var task = e.task;\r\n                    var updateInfo = {};\r\n                    if (e.resizeStart) {\r\n                        updateInfo.start = e.start;\r\n                    } else {\r\n                        updateInfo.end = e.end;\r\n                    }\r\n                    if (!that.trigger('resizeEnd', {\r\n                            task: task,\r\n                            start: e.start,\r\n                            end: e.end\r\n                        })) {\r\n                        that._updateTask(that.dataSource.getByUid(task.uid), updateInfo);\r\n                    }\r\n                }).bind('percentResizeStart', function (e) {\r\n                    var editable = that.list.editable;\r\n                    if (editable && editable.trigger('validate')) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).bind('percentResizeEnd', function (e) {\r\n                    that._updateTask(that.dataSource.getByUid(e.task.uid), { percentComplete: e.percentComplete });\r\n                }).bind('dependencyDragStart', function (e) {\r\n                    var editable = that.list.editable;\r\n                    if (editable && editable.trigger('validate')) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).bind('dependencyDragEnd', function (e) {\r\n                    var dependency = that.dependencies._createNewModel({\r\n                        type: e.type,\r\n                        predecessorId: e.predecessor.id,\r\n                        successorId: e.successor.id\r\n                    });\r\n                    that._createDependency(dependency);\r\n                }).bind('select', function (e) {\r\n                    var editable = that.list.editable;\r\n                    if (editable) {\r\n                        editable.trigger('validate');\r\n                    }\r\n                    that.select('[data-uid=\\'' + e.uid + '\\']');\r\n                }).bind('editTask', function (e) {\r\n                    var editable = that.list.editable;\r\n                    if (editable && editable.trigger('validate')) {\r\n                        return;\r\n                    }\r\n                    that.editTask(e.uid);\r\n                }).bind('clear', function () {\r\n                    that.clearSelection();\r\n                }).bind('removeTask', function (e) {\r\n                    var editable = that.list.editable;\r\n                    if (editable && editable.trigger('validate')) {\r\n                        return;\r\n                    }\r\n                    that.removeTask(that.dataSource.getByUid(e.uid));\r\n                }).bind('removeDependency', function (e) {\r\n                    var editable = that.list.editable;\r\n                    if (editable && editable.trigger('validate')) {\r\n                        return;\r\n                    }\r\n                    that.removeDependency(that.dependencies.getByUid(e.uid));\r\n                });\r\n            },\r\n            _dataSource: function () {\r\n                var options = this.options;\r\n                var dataSource = options.dataSource;\r\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\r\n                if (this.dataSource && this._refreshHandler) {\r\n                    this.dataSource.unbind('change', this._refreshHandler).unbind('progress', this._progressHandler).unbind('error', this._errorHandler);\r\n                } else {\r\n                    this._refreshHandler = proxy(this.refresh, this);\r\n                    this._progressHandler = proxy(this._requestStart, this);\r\n                    this._errorHandler = proxy(this._error, this);\r\n                }\r\n                this.dataSource = kendo.data.GanttDataSource.create(dataSource).bind('change', this._refreshHandler).bind('progress', this._progressHandler).bind('error', this._errorHandler);\r\n            },\r\n            _dependencies: function () {\r\n                var dependencies = this.options.dependencies || {};\r\n                var dataSource = isArray(dependencies) ? { data: dependencies } : dependencies;\r\n                if (this.dependencies && this._dependencyRefreshHandler) {\r\n                    this.dependencies.unbind('change', this._dependencyRefreshHandler).unbind('error', this._dependencyErrorHandler);\r\n                } else {\r\n                    this._dependencyRefreshHandler = proxy(this.refreshDependencies, this);\r\n                    this._dependencyErrorHandler = proxy(this._error, this);\r\n                }\r\n                this.dependencies = kendo.data.GanttDependencyDataSource.create(dataSource).bind('change', this._dependencyRefreshHandler).bind('error', this._dependencyErrorHandler);\r\n            },\r\n            _resources: function () {\r\n                var resources = this.options.resources;\r\n                var dataSource = resources.dataSource || {};\r\n                this.resources = {\r\n                    field: 'resources',\r\n                    dataTextField: 'name',\r\n                    dataColorField: 'color',\r\n                    dataFormatField: 'format'\r\n                };\r\n                extend(this.resources, resources);\r\n                this.resources.dataSource = kendo.data.DataSource.create(dataSource);\r\n            },\r\n            _assignments: function () {\r\n                var assignments = this.options.assignments;\r\n                var dataSource = assignments.dataSource || {};\r\n                if (this.assignments) {\r\n                    this.assignments.dataSource.unbind('change', this._assignmentsRefreshHandler);\r\n                } else {\r\n                    this._assignmentsRefreshHandler = proxy(this.refresh, this);\r\n                }\r\n                this.assignments = {\r\n                    dataTaskIdField: 'taskId',\r\n                    dataResourceIdField: 'resourceId',\r\n                    dataValueField: 'value'\r\n                };\r\n                extend(this.assignments, assignments);\r\n                this.assignments.dataSource = kendo.data.DataSource.create(dataSource);\r\n                this.assignments.dataSource.bind('change', this._assignmentsRefreshHandler);\r\n            },\r\n            _createEditor: function () {\r\n                var that = this;\r\n                var editor = this._editor = new PopupEditor(this.wrapper, extend({}, this.options, {\r\n                    target: this,\r\n                    resources: {\r\n                        field: this.resources.field,\r\n                        editor: proxy(this._createResourceEditor, this)\r\n                    },\r\n                    createButton: proxy(this._createPopupButton, this)\r\n                }));\r\n                editor.bind('cancel', function (e) {\r\n                    var task = that.dataSource.getByUid(e.model.uid);\r\n                    if (that.trigger('cancel', {\r\n                            container: e.container,\r\n                            task: task\r\n                        })) {\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                    that.cancelTask();\r\n                }).bind('edit', function (e) {\r\n                    var task = that.dataSource.getByUid(e.model.uid);\r\n                    if (that.trigger('edit', {\r\n                            container: e.container,\r\n                            task: task\r\n                        })) {\r\n                        e.preventDefault();\r\n                    }\r\n                }).bind('save', function (e) {\r\n                    var task = that.dataSource.getByUid(e.model.uid);\r\n                    that.saveTask(task, e.updateInfo);\r\n                }).bind('remove', function (e) {\r\n                    that.removeTask(e.model.uid);\r\n                }).bind('close', that._onDialogClose);\r\n            },\r\n            _onDialogClose: function () {\r\n            },\r\n            _createResourceEditor: function (container, options) {\r\n                var that = this;\r\n                var model = options instanceof ObservableObject ? options : options.model;\r\n                var id = model.get('id');\r\n                var messages = this.options.messages;\r\n                var resourcesField = that.resources.field;\r\n                var editor = this._resourceEditor = new ResourceEditor(container, {\r\n                    resourcesField: resourcesField,\r\n                    data: this._wrapResourceData(id),\r\n                    model: model,\r\n                    messages: extend({}, messages.editor),\r\n                    buttons: [\r\n                        {\r\n                            name: 'update',\r\n                            text: messages.save,\r\n                            className: Gantt.styles.primary\r\n                        },\r\n                        {\r\n                            name: 'cancel',\r\n                            text: messages.cancel\r\n                        }\r\n                    ],\r\n                    createButton: proxy(this._createPopupButton, this),\r\n                    save: function (e) {\r\n                        that._updateAssignments(e.model.get('id'), e.model.get(resourcesField));\r\n                    }\r\n                });\r\n                editor.open();\r\n            },\r\n            _createPopupButton: function (command) {\r\n                var commandName = command.name || command.text;\r\n                var options = {\r\n                    className: Gantt.styles.popup.button + ' k-gantt-' + (commandName || '').replace(/\\s/g, ''),\r\n                    text: commandName,\r\n                    attr: ''\r\n                };\r\n                if (!commandName && !(isPlainObject(command) && command.template)) {\r\n                    throw new Error('Custom commands should have name specified');\r\n                }\r\n                if (isPlainObject(command)) {\r\n                    if (command.className) {\r\n                        command.className += ' ' + options.className;\r\n                    }\r\n                    options = extend(true, options, command);\r\n                }\r\n                return kendo.template(COMMAND_BUTTON_TEMPLATE)(options);\r\n            },\r\n            view: function (type) {\r\n                return this.timeline.view(type);\r\n            },\r\n            dataItem: function (value) {\r\n                if (!value) {\r\n                    return null;\r\n                }\r\n                var list = this.list;\r\n                var element = list.content.find(value);\r\n                return list._modelFromElement(element);\r\n            },\r\n            setDataSource: function (dataSource) {\r\n                this.options.dataSource = dataSource;\r\n                this._dataSource();\r\n                this.list._setDataSource(this.dataSource);\r\n                if (this.options.autoBind) {\r\n                    dataSource.fetch();\r\n                }\r\n            },\r\n            setDependenciesDataSource: function (dependencies) {\r\n                this.options.dependencies = dependencies;\r\n                this._dependencies();\r\n                if (this.options.autoBind) {\r\n                    dependencies.fetch();\r\n                }\r\n            },\r\n            items: function () {\r\n                return this.wrapper.children('.k-task');\r\n            },\r\n            _updateAssignments: function (id, resources) {\r\n                var dataSource = this.assignments.dataSource;\r\n                var taskId = this.assignments.dataTaskIdField;\r\n                var resourceId = this.assignments.dataResourceIdField;\r\n                var hasMatch = false;\r\n                var assignments = new Query(dataSource.view()).filter({\r\n                    field: taskId,\r\n                    operator: 'eq',\r\n                    value: id\r\n                }).toArray();\r\n                var assignment;\r\n                var resource;\r\n                var value;\r\n                while (assignments.length) {\r\n                    assignment = assignments[0];\r\n                    for (var i = 0, length = resources.length; i < length; i++) {\r\n                        resource = resources[i];\r\n                        if (assignment.get(resourceId) === resource.get('id')) {\r\n                            value = resources[i].get('value');\r\n                            this._updateAssignment(assignment, value);\r\n                            resources.splice(i, 1);\r\n                            hasMatch = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!hasMatch) {\r\n                        this._removeAssignment(assignment);\r\n                    }\r\n                    hasMatch = false;\r\n                    assignments.shift();\r\n                }\r\n                for (var j = 0, newLength = resources.length; j < newLength; j++) {\r\n                    resource = resources[j];\r\n                    this._createAssignment(resource, id);\r\n                }\r\n                dataSource.sync();\r\n            },\r\n            cancelTask: function () {\r\n                var editor = this._editor;\r\n                var container = editor.container;\r\n                if (container) {\r\n                    editor.close();\r\n                }\r\n            },\r\n            editTask: function (uid) {\r\n                var task = typeof uid === 'string' ? this.dataSource.getByUid(uid) : uid;\r\n                if (!task) {\r\n                    return;\r\n                }\r\n                var taskCopy = this.dataSource._createNewModel(task.toJSON());\r\n                taskCopy.uid = task.uid;\r\n                this.cancelTask();\r\n                this._editTask(taskCopy);\r\n            },\r\n            _editTask: function (task) {\r\n                this._editor.editTask(task);\r\n            },\r\n            saveTask: function (task, updateInfo) {\r\n                var editor = this._editor;\r\n                var container = editor.container;\r\n                var editable = editor.editable;\r\n                if (container && editable && editable.end()) {\r\n                    this._updateTask(task, updateInfo);\r\n                }\r\n            },\r\n            _updateTask: function (task, updateInfo) {\r\n                var resourcesField = this.resources.field;\r\n                if (!this.trigger('save', {\r\n                        task: task,\r\n                        values: updateInfo\r\n                    })) {\r\n                    this._preventRefresh = true;\r\n                    this.dataSource.update(task, updateInfo);\r\n                    if (updateInfo[resourcesField]) {\r\n                        this._updateAssignments(task.get('id'), updateInfo[resourcesField]);\r\n                    }\r\n                    this._syncDataSource();\r\n                }\r\n            },\r\n            _updateAssignment: function (assignment, value) {\r\n                var resourceValueField = this.assignments.dataValueField;\r\n                assignment.set(resourceValueField, value);\r\n            },\r\n            removeTask: function (uid) {\r\n                var that = this;\r\n                var task = typeof uid === 'string' ? this.dataSource.getByUid(uid) : uid;\r\n                if (!task) {\r\n                    return;\r\n                }\r\n                this._taskConfirm(function (cancel) {\r\n                    if (!cancel) {\r\n                        that._removeTask(task);\r\n                    }\r\n                }, task);\r\n            },\r\n            _createTask: function (task, index) {\r\n                if (!this.trigger('add', {\r\n                        task: task,\r\n                        dependency: null\r\n                    })) {\r\n                    var dataSource = this.dataSource;\r\n                    this._preventRefresh = true;\r\n                    if (index === undefined) {\r\n                        dataSource.add(task);\r\n                    } else {\r\n                        dataSource.insert(index, task);\r\n                    }\r\n                    this._scrollToUid = task.uid;\r\n                    this._syncDataSource();\r\n                }\r\n            },\r\n            _createDependency: function (dependency) {\r\n                if (!this.trigger('add', {\r\n                        task: null,\r\n                        dependency: dependency\r\n                    })) {\r\n                    this._preventDependencyRefresh = true;\r\n                    this.dependencies.add(dependency);\r\n                    this._preventDependencyRefresh = false;\r\n                    this.dependencies.sync();\r\n                }\r\n            },\r\n            _createAssignment: function (resource, id) {\r\n                var assignments = this.assignments;\r\n                var dataSource = assignments.dataSource;\r\n                var taskId = assignments.dataTaskIdField;\r\n                var resourceId = assignments.dataResourceIdField;\r\n                var resourceValue = assignments.dataValueField;\r\n                var assignment = dataSource._createNewModel();\r\n                assignment[taskId] = id;\r\n                assignment[resourceId] = resource.get('id');\r\n                assignment[resourceValue] = resource.get('value');\r\n                dataSource.add(assignment);\r\n            },\r\n            removeDependency: function (uid) {\r\n                var that = this;\r\n                var dependency = typeof uid === 'string' ? this.dependencies.getByUid(uid) : uid;\r\n                if (!dependency) {\r\n                    return;\r\n                }\r\n                this._dependencyConfirm(function (cancel) {\r\n                    if (!cancel) {\r\n                        that._removeDependency(dependency);\r\n                    }\r\n                }, dependency);\r\n            },\r\n            _removeTaskDependencies: function (task, dependencies) {\r\n                this._preventDependencyRefresh = true;\r\n                for (var i = 0, length = dependencies.length; i < length; i++) {\r\n                    this.dependencies.remove(dependencies[i]);\r\n                }\r\n                this._preventDependencyRefresh = false;\r\n                this.dependencies.sync();\r\n            },\r\n            _removeTaskAssignments: function (task) {\r\n                var dataSource = this.assignments.dataSource;\r\n                var assignments = dataSource.view();\r\n                var filter = {\r\n                    field: this.assignments.dataTaskIdField,\r\n                    operator: 'eq',\r\n                    value: task.get('id')\r\n                };\r\n                assignments = new Query(assignments).filter(filter).toArray();\r\n                this._preventRefresh = true;\r\n                for (var i = 0, length = assignments.length; i < length; i++) {\r\n                    dataSource.remove(assignments[i]);\r\n                }\r\n                this._preventRefresh = false;\r\n                dataSource.sync();\r\n            },\r\n            _removeTask: function (task) {\r\n                var dependencies = this.dependencies.dependencies(task.id);\r\n                if (!this.trigger('remove', {\r\n                        task: task,\r\n                        dependencies: dependencies\r\n                    })) {\r\n                    this._removeTaskDependencies(task, dependencies);\r\n                    this._removeTaskAssignments(task);\r\n                    this._preventRefresh = true;\r\n                    if (this.dataSource.remove(task)) {\r\n                        this._syncDataSource();\r\n                    }\r\n                    this._preventRefresh = false;\r\n                }\r\n            },\r\n            _removeDependency: function (dependency) {\r\n                if (!this.trigger('remove', {\r\n                        task: null,\r\n                        dependencies: [dependency]\r\n                    })) {\r\n                    if (this.dependencies.remove(dependency)) {\r\n                        this.dependencies.sync();\r\n                    }\r\n                }\r\n            },\r\n            _removeAssignment: function (assignment) {\r\n                this.assignments.dataSource.remove(assignment);\r\n            },\r\n            _taskConfirm: function (callback, task) {\r\n                var messages = this.options.messages;\r\n                this._confirm(callback, {\r\n                    model: task,\r\n                    text: messages.deleteTaskConfirmation,\r\n                    title: messages.deleteTaskWindowTitle\r\n                });\r\n            },\r\n            _dependencyConfirm: function (callback, dependency) {\r\n                var messages = this.options.messages;\r\n                this._confirm(callback, {\r\n                    model: dependency,\r\n                    text: messages.deleteDependencyConfirmation,\r\n                    title: messages.deleteDependencyWindowTitle\r\n                });\r\n            },\r\n            _confirm: function (callback, options) {\r\n                var editable = this.options.editable;\r\n                var messages;\r\n                var buttons;\r\n                if (editable === true || editable.confirmation !== false) {\r\n                    messages = this.options.messages;\r\n                    buttons = [\r\n                        {\r\n                            name: 'delete',\r\n                            text: messages.destroy,\r\n                            className: Gantt.styles.primary,\r\n                            click: function () {\r\n                                callback();\r\n                            }\r\n                        },\r\n                        {\r\n                            name: 'cancel',\r\n                            text: messages.cancel,\r\n                            click: function () {\r\n                                callback(true);\r\n                            }\r\n                        }\r\n                    ];\r\n                    this.showDialog(extend(true, {}, options, { buttons: buttons }));\r\n                } else {\r\n                    callback();\r\n                }\r\n            },\r\n            showDialog: function (options) {\r\n                this._editor.showDialog(options);\r\n            },\r\n            refresh: function () {\r\n                if (this._preventRefresh || this.list.editable) {\r\n                    return;\r\n                }\r\n                this._progress(false);\r\n                var dataSource = this.dataSource;\r\n                var taskTree = dataSource.taskTree();\r\n                var scrollToUid = this._scrollToUid;\r\n                var current;\r\n                var cachedUid;\r\n                var cachedIndex = -1;\r\n                if (this.current) {\r\n                    cachedUid = this.current.closest('tr').attr(kendo.attr('uid'));\r\n                    cachedIndex = this.current.index();\r\n                }\r\n                if (this.trigger('dataBinding')) {\r\n                    return;\r\n                }\r\n                if (this.resources.dataSource.data().length !== 0) {\r\n                    this._assignResources(taskTree);\r\n                }\r\n                if (this._editor) {\r\n                    this._editor.close();\r\n                }\r\n                this.clearSelection();\r\n                this.list._render(taskTree);\r\n                this.timeline._render(taskTree);\r\n                this.timeline._renderDependencies(this.dependencies.view());\r\n                if (scrollToUid) {\r\n                    this._scrollTo(scrollToUid);\r\n                    this.select(selector(scrollToUid));\r\n                }\r\n                if ((scrollToUid || cachedUid) && cachedIndex >= 0) {\r\n                    current = this.list.content.find('tr' + selector(scrollToUid || cachedUid) + ' > td:eq(' + cachedIndex + ')');\r\n                    this._current(current);\r\n                }\r\n                this._scrollToUid = null;\r\n                this.trigger('dataBound');\r\n            },\r\n            refreshDependencies: function () {\r\n                if (this._preventDependencyRefresh) {\r\n                    return;\r\n                }\r\n                if (this.trigger('dataBinding')) {\r\n                    return;\r\n                }\r\n                this.timeline._renderDependencies(this.dependencies.view());\r\n                this.trigger('dataBound');\r\n            },\r\n            _assignResources: function (taskTree) {\r\n                var resources = this.resources;\r\n                var assignments = this.assignments;\r\n                var groupAssigments = function () {\r\n                    var data = assignments.dataSource.view();\r\n                    var group = { field: assignments.dataTaskIdField };\r\n                    data = new Query(data).group(group).toArray();\r\n                    return data;\r\n                };\r\n                var assigments = groupAssigments();\r\n                var applyTaskResource = function (task, action) {\r\n                    var taskId = task.get('id');\r\n                    kendo.setter(resources.field)(task, new ObservableArray([]));\r\n                    for (var i = 0, length = assigments.length; i < length; i++) {\r\n                        if (assigments[i].value === taskId) {\r\n                            action(task, assigments[i].items);\r\n                        }\r\n                    }\r\n                };\r\n                var wrapTask = function (task, items) {\r\n                    for (var j = 0, length = items.length; j < length; j++) {\r\n                        var item = items[j];\r\n                        var resource = resources.dataSource.get(item.get(assignments.dataResourceIdField));\r\n                        var resourceValue = item.get(assignments.dataValueField);\r\n                        var resourcedId = item.get(assignments.dataResourceIdField);\r\n                        var valueFormat = resource.get(resources.dataFormatField) || PERCENTAGE_FORMAT;\r\n                        var formatedValue = kendo.toString(resourceValue, valueFormat);\r\n                        task[resources.field].push(new ObservableObject({\r\n                            id: resourcedId,\r\n                            name: resource.get(resources.dataTextField),\r\n                            color: resource.get(resources.dataColorField),\r\n                            value: resourceValue,\r\n                            formatedValue: formatedValue\r\n                        }));\r\n                    }\r\n                };\r\n                for (var i = 0, length = taskTree.length; i < length; i++) {\r\n                    applyTaskResource(taskTree[i], wrapTask);\r\n                }\r\n            },\r\n            _wrapResourceData: function (id) {\r\n                var that = this;\r\n                var result = [];\r\n                var resource;\r\n                var resources = this.resources.dataSource.view();\r\n                var assignments = this.assignments.dataSource.view();\r\n                var taskAssignments = new Query(assignments).filter({\r\n                    field: that.assignments.dataTaskIdField,\r\n                    operator: 'eq',\r\n                    value: id\r\n                }).toArray();\r\n                var valuePerResource = function (id) {\r\n                    var resourceValue = null;\r\n                    new Query(taskAssignments).filter({\r\n                        field: that.assignments.dataResourceIdField,\r\n                        operator: 'eq',\r\n                        value: id\r\n                    }).select(function (assignment) {\r\n                        resourceValue += assignment.get(that.assignments.dataValueField);\r\n                    });\r\n                    return resourceValue;\r\n                };\r\n                for (var i = 0, length = resources.length; i < length; i++) {\r\n                    resource = resources[i];\r\n                    result.push({\r\n                        id: resource.get('id'),\r\n                        name: resource.get(that.resources.dataTextField),\r\n                        format: resource.get(that.resources.dataFormatField) || PERCENTAGE_FORMAT,\r\n                        value: valuePerResource(resource.id)\r\n                    });\r\n                }\r\n                return result;\r\n            },\r\n            _syncDataSource: function () {\r\n                this._preventRefresh = false;\r\n                this._requestStart();\r\n                this.dataSource.sync();\r\n            },\r\n            _requestStart: function () {\r\n                this._progress(true);\r\n            },\r\n            _error: function () {\r\n                this._progress(false);\r\n            },\r\n            _progress: function (toggle) {\r\n                kendo.ui.progress(this.element, toggle);\r\n            },\r\n            _resizable: function () {\r\n                var that = this;\r\n                var wrapper = this.wrapper;\r\n                var ganttStyles = Gantt.styles;\r\n                var contentSelector = DOT + ganttStyles.gridContent;\r\n                var treeListWrapper = wrapper.find(DOT + ganttStyles.list);\r\n                var timelineWrapper = wrapper.find(DOT + ganttStyles.timeline);\r\n                var treeListWidth;\r\n                var timelineWidth;\r\n                var timelineScroll;\r\n                this._resizeDraggable = wrapper.find(DOT + ganttStyles.splitBar).height(treeListWrapper.height()).hover(function () {\r\n                    $(this).addClass(ganttStyles.splitBarHover);\r\n                }, function () {\r\n                    $(this).removeClass(ganttStyles.splitBarHover);\r\n                }).end().kendoResizable({\r\n                    orientation: 'horizontal',\r\n                    handle: DOT + ganttStyles.splitBar,\r\n                    'start': function () {\r\n                        treeListWidth = treeListWrapper.width();\r\n                        timelineWidth = timelineWrapper.width();\r\n                        timelineScroll = timelineWrapper.find(contentSelector).scrollLeft();\r\n                    },\r\n                    'resize': function (e) {\r\n                        var delta = e.x.initialDelta;\r\n                        if (kendo.support.isRtl(wrapper)) {\r\n                            delta *= -1;\r\n                        }\r\n                        if (treeListWidth + delta < 0 || timelineWidth - delta < 0) {\r\n                            return;\r\n                        }\r\n                        treeListWrapper.width(treeListWidth + delta);\r\n                        timelineWrapper.width(timelineWidth - delta);\r\n                        timelineWrapper.find(contentSelector).scrollLeft(timelineScroll + delta);\r\n                        that.timeline.view()._renderCurrentTime();\r\n                    }\r\n                }).data('kendoResizable');\r\n            },\r\n            _scrollable: function () {\r\n                var that = this;\r\n                var ganttStyles = Gantt.styles;\r\n                var contentSelector = DOT + ganttStyles.gridContent;\r\n                var headerSelector = DOT + ganttStyles.gridHeaderWrap;\r\n                var timelineHeader = this.timeline.element.find(headerSelector);\r\n                var timelineContent = this.timeline.element.find(contentSelector);\r\n                var treeListHeader = this.list.element.find(headerSelector);\r\n                var treeListContent = this.list.element.find(contentSelector);\r\n                if (mobileOS) {\r\n                    treeListContent.css('overflow-y', 'auto');\r\n                }\r\n                timelineContent.on('scroll', function () {\r\n                    that.scrollTop = this.scrollTop;\r\n                    timelineHeader.scrollLeft(this.scrollLeft);\r\n                    treeListContent.scrollTop(this.scrollTop);\r\n                });\r\n                treeListContent.on('scroll', function () {\r\n                    treeListHeader.scrollLeft(this.scrollLeft);\r\n                }).on('DOMMouseScroll' + NS + ' mousewheel' + NS, function (e) {\r\n                    var scrollTop = timelineContent.scrollTop();\r\n                    var delta = kendo.wheelDeltaY(e);\r\n                    if (delta) {\r\n                        e.preventDefault();\r\n                        $(e.currentTarget).one('wheel' + NS, false);\r\n                        timelineContent.scrollTop(scrollTop + -delta);\r\n                    }\r\n                });\r\n            },\r\n            _navigatable: function () {\r\n                var that = this;\r\n                var navigatable = this.options.navigatable;\r\n                var editable = this.options.editable;\r\n                var headerTable = this.list.header.find('table');\r\n                var contentTable = this.list.content.find('table');\r\n                var ganttStyles = Gantt.styles;\r\n                var isRtl = kendo.support.isRtl(this.wrapper);\r\n                var timelineContent = this.timeline.element.find(DOT + ganttStyles.gridContent);\r\n                var tables = headerTable.add(contentTable);\r\n                var attr = selector();\r\n                var cellIndex;\r\n                var expandState = {\r\n                    collapse: false,\r\n                    expand: true\r\n                };\r\n                var scroll = function (reverse) {\r\n                    var width = that.timeline.view()._timeSlots()[0].offsetWidth;\r\n                    timelineContent.scrollLeft(timelineContent.scrollLeft() + (reverse ? -width : width));\r\n                };\r\n                var moveVertical = function (method) {\r\n                    var parent = that.current.parent('tr' + selector());\r\n                    var index = that.current.index();\r\n                    var subling = parent[method]();\r\n                    if (that.select().length !== 0) {\r\n                        that.clearSelection();\r\n                    }\r\n                    if (subling.length !== 0) {\r\n                        that._current(subling.children('td:eq(' + index + ')'));\r\n                        that._scrollTo(that.current);\r\n                    } else {\r\n                        if (that.current.is('td') && method == 'prev') {\r\n                            focusTable(headerTable);\r\n                        } else if (that.current.is('th') && method == 'next') {\r\n                            focusTable(contentTable);\r\n                        }\r\n                    }\r\n                };\r\n                var moveHorizontal = function (method) {\r\n                    var subling = that.current[method]();\r\n                    if (subling.length !== 0) {\r\n                        that._current(subling);\r\n                        cellIndex = that.current.index();\r\n                    }\r\n                };\r\n                var toggleExpandedState = function (value) {\r\n                    var model = that.dataItem(that.current);\r\n                    if (model.summary && model.expanded !== value) {\r\n                        model.set('expanded', value);\r\n                    }\r\n                };\r\n                var deleteAction = function () {\r\n                    if (!that.options.editable || that.list.editable) {\r\n                        return;\r\n                    }\r\n                    var selectedTask = that.select();\r\n                    var uid = kendo.attr('uid');\r\n                    if (selectedTask.length) {\r\n                        that.removeTask(selectedTask.attr(uid));\r\n                    }\r\n                };\r\n                $(this.wrapper).on('mousedown' + NS, 'tr' + attr + ', div' + attr + ':not(' + DOT + ganttStyles.line + ')', function (e) {\r\n                    var currentTarget = $(e.currentTarget);\r\n                    var isInput = $(e.target).is(':button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap');\r\n                    var current;\r\n                    if (e.ctrlKey) {\r\n                        return;\r\n                    }\r\n                    if (navigatable) {\r\n                        if (currentTarget.is('tr')) {\r\n                            current = $(e.target).closest('td');\r\n                        } else {\r\n                            current = that.list.content.find('tr' + selector(currentTarget.attr(kendo.attr('uid'))) + ' > td:first');\r\n                        }\r\n                        that._current(current);\r\n                    }\r\n                    if ((navigatable || editable) && !isInput) {\r\n                        that._focusTimeout = setTimeout(function () {\r\n                            focusTable(that.list.content.find('table'), true);\r\n                        }, 2);\r\n                    }\r\n                });\r\n                if (navigatable !== true) {\r\n                    contentTable.on('keydown' + NS, function (e) {\r\n                        if (e.keyCode == keys.DELETE) {\r\n                            deleteAction();\r\n                        }\r\n                    });\r\n                    return;\r\n                }\r\n                tables.on('focus' + NS, function () {\r\n                    var selector = this === contentTable.get(0) ? 'td' : 'th';\r\n                    var selection = that.select();\r\n                    var current = that.current || $(selection.length ? selection : this).find(selector + ':eq(' + (cellIndex || 0) + ')');\r\n                    that._current(current);\r\n                }).on('blur' + NS, function () {\r\n                    that._current();\r\n                    if (this == headerTable) {\r\n                        $(this).attr(TABINDEX, -1);\r\n                    }\r\n                }).on('keydown' + NS, function (e) {\r\n                    var key = e.keyCode;\r\n                    var isCell;\r\n                    if (!that.current) {\r\n                        return;\r\n                    }\r\n                    isCell = that.current.is('td');\r\n                    switch (key) {\r\n                    case keys.RIGHT:\r\n                        e.preventDefault();\r\n                        if (e.altKey) {\r\n                            scroll();\r\n                        } else if (e.ctrlKey) {\r\n                            toggleExpandedState(isRtl ? expandState.collapse : expandState.expand);\r\n                        } else {\r\n                            moveHorizontal(isRtl ? 'prev' : 'next');\r\n                        }\r\n                        break;\r\n                    case keys.LEFT:\r\n                        e.preventDefault();\r\n                        if (e.altKey) {\r\n                            scroll(true);\r\n                        } else if (e.ctrlKey) {\r\n                            toggleExpandedState(isRtl ? expandState.expand : expandState.collapse);\r\n                        } else {\r\n                            moveHorizontal(isRtl ? 'next' : 'prev');\r\n                        }\r\n                        break;\r\n                    case keys.UP:\r\n                        e.preventDefault();\r\n                        moveVertical('prev');\r\n                        break;\r\n                    case keys.DOWN:\r\n                        e.preventDefault();\r\n                        moveVertical('next');\r\n                        break;\r\n                    case keys.SPACEBAR:\r\n                        e.preventDefault();\r\n                        if (isCell) {\r\n                            that.select(that.current.closest('tr'));\r\n                        }\r\n                        break;\r\n                    case keys.ENTER:\r\n                        e.preventDefault();\r\n                        if (isCell) {\r\n                            if (that.options.editable) {\r\n                                that._cachedCurrent = that.current;\r\n                                that.list._startEditHandler(that.current);\r\n                                $(this).one('keyup', function (e) {\r\n                                    e.stopPropagation();\r\n                                });\r\n                            }\r\n                        } else {\r\n                            that.current.children('a.k-link').click();\r\n                        }\r\n                        break;\r\n                    case keys.ESC:\r\n                        e.stopPropagation();\r\n                        break;\r\n                    case keys.DELETE:\r\n                        if (isCell) {\r\n                            deleteAction();\r\n                        }\r\n                        break;\r\n                    default:\r\n                        if (key >= 49 && key <= 57) {\r\n                            that.view(that.timeline._viewByIndex(key - 49));\r\n                        }\r\n                        break;\r\n                    }\r\n                });\r\n            },\r\n            _current: function (element) {\r\n                var ganttStyles = Gantt.styles;\r\n                var activeElement;\r\n                if (this.current && this.current.length) {\r\n                    this.current.removeClass(ganttStyles.focused).removeAttr('id');\r\n                }\r\n                if (element && element.length) {\r\n                    this.current = element.addClass(ganttStyles.focused).attr('id', ACTIVE_CELL);\r\n                    activeElement = $(kendo._activeElement());\r\n                    if (activeElement.is('table') && this.wrapper.find(activeElement).length > 0) {\r\n                        activeElement.removeAttr(ARIA_DESCENDANT).attr(ARIA_DESCENDANT, ACTIVE_CELL);\r\n                    }\r\n                } else {\r\n                    this.current = null;\r\n                }\r\n            },\r\n            _dataBind: function () {\r\n                var that = this;\r\n                if (that.options.autoBind) {\r\n                    this._preventRefresh = true;\r\n                    this._preventDependencyRefresh = true;\r\n                    var promises = $.map([\r\n                        this.dataSource,\r\n                        this.dependencies,\r\n                        this.resources.dataSource,\r\n                        this.assignments.dataSource\r\n                    ], function (dataSource) {\r\n                        return dataSource.fetch();\r\n                    });\r\n                    $.when.apply(null, promises).done(function () {\r\n                        that._preventRefresh = false;\r\n                        that._preventDependencyRefresh = false;\r\n                        that.refresh();\r\n                    });\r\n                }\r\n            },\r\n            _resize: function () {\r\n                this._adjustDimensions();\r\n                this.timeline.view()._adjustHeight();\r\n                this.timeline.view()._renderCurrentTime();\r\n                this.list._adjustHeight();\r\n            }\r\n        });\r\n        if (kendo.PDFMixin) {\r\n            kendo.PDFMixin.extend(Gantt.fn);\r\n            Gantt.fn._drawPDF = function () {\r\n                var ganttStyles = Gantt.styles;\r\n                var listClass = '.' + ganttStyles.list;\r\n                var listWidth = this.wrapper.find(listClass).width();\r\n                var content = this.wrapper.clone();\r\n                content.find(listClass).css('width', listWidth);\r\n                return this._drawPDFShadow({ content: content }, { avoidLinks: this.options.pdf.avoidLinks });\r\n            };\r\n        }\r\n        kendo.ui.plugin(Gantt);\r\n        extend(true, Gantt, { styles: ganttStyles });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));"],"sourceRoot":"/source/"}